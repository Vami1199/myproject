{"inframe":false,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"initScript":"//---------------------获取当前模块语言对应的.json文件，放到request中----------------\ncom.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,\"xip/wf/entity/json/wf_entity\");","loginRequired":"false","serverScript":"// TODO: 默认业务状态\nvar bizArray = [{\n  'ENUM_ID' : java.util.UUID.randomUUID(),\n  'V_STATUS_CATEGORY' : 'A',\n  'V_STATUS_DESC' : '起草'\n},{\n  'ENUM_ID' : java.util.UUID.randomUUID(),\n  'V_STATUS_CATEGORY' : 'D',\n  'V_STATUS_DESC' : '驳回'\n},{\n  'ENUM_ID' : java.util.UUID.randomUUID(),\n  'V_STATUS_CATEGORY' : 'E',\n  'V_STATUS_DESC' : '审批通过'\n},{\n  'ENUM_ID' : java.util.UUID.randomUUID(),\n  'V_STATUS_CATEGORY' : 'R',\n  'V_STATUS_DESC' : '撤回'\n},{\n  'ENUM_ID' : java.util.UUID.randomUUID(),\n  'V_STATUS_CATEGORY' : 'C',\n  'V_STATUS_DESC' : '运行中'\n}] ;\n\nrequest.setAttribute(\"lineArray\", Wb.encode(bizArray)) ;","itemId":"module"},"children":[{"configs":{"errorText":"[\"{#wf_entity_e_entityCode_cz#}\"]","sql":"  select 1 from xip_wf_entities t where t.entity_code = {?e_entityCode?} ","itemId":"checkExist"},"children":[],"expanded":false,"type":"query"},{"configs":{"errorText":"[\"{#wf_entity_e_entityName_cz#}\"]","sql":"select 1 from xip_wf_entities t where t.app_id = {?e_appId?} and t.entity_name = {?e_entityName?}","itemId":"checkExist1"},"children":[],"expanded":false,"type":"query"},{"configs":{"sql":"insert into xip_wf_entities\n  (app_id,\n   entity_id,\n   entity_code,\n   entity_name,\n   entity_desc,\n   attribute1,\n   attribute2,\n   attribute3,\n   attribute4,\n   attribute5,\n   auth_user_cls,\n   creation_date,\n   created_by,\n   LAST_UPDATE_DATE,\n   LAST_UPDATED_BY \n)\nvalues\n  ({?e_appId?},\n   {?entityId?},\n   {?e_entityCode?},\n   {?e_entityName?},\n   {?e_entityDesc?},\n   {?e_cbxFuncType?},\n   {?e_cbxFuncName?},\n   '',\n   '',\n   'Y',\n   {?e_authUserCls?} ,\n   {?timestamp.sys.date?},\n   {?XIP.userId?},\n   {?timestamp.sys.date?},\n   {?XIP.userId?}\n  )","transaction":"start","itemId":"saveEntity"},"children":[],"expanded":false,"type":"query"},{"configs":{"sql":"INSERT INTO XIP_WF_BIZ_STATUS_ENUM\n  (ENUM_ID,\n   ENTITY_ID,\n   STATUS_CATEGORY,\n   STATUS_DESC,\n   ENABLE_FLAG,\n   ATTRIBUTE1,\n   CREATION_DATE,\n   CREATED_BY)\nVALUES\n  ({?ENUM_ID?},\n   {?entityId?},\n   {?V_STATUS_CATEGORY?},\n   {?V_STATUS_DESC?},\n   'Y',\n   'S',\n   {?timestamp.sys.date?},\n   {?XIP.userId?})\n","batchUpdate":"true","arrayName":"lineArray","itemId":"save-biz-status"},"children":[],"expanded":false,"type":"query"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}