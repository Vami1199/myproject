{"inframe":false,"title":"保存节点审批队列","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"// TODO: 主键ID\nvar queueId = java.util.UUID.randomUUID().toString() ;\nrequest.setAttribute('queueId', queueId) ;\n\n// TODO: 序列号\nvar orderby = request.getParameter('orderby') ;\nrequest.setAttribute('orderby', orderby) ;\n\n// 判断序号是否重复\napp.run('SELECT 1 FROM XIP_WF_INS_ACT_QUEUE T WHERE T.INSTANCE_CODE = {?INSTANCE_CODE?} AND T.ACT_CODE = {?ACT_CODE?} AND T.ORDERBY = {?orderby?}', {\n  errorText: '审批序列号 \"' +orderby + '\" 已经存在。'\n});","itemId":"module"},"children":[{"configs":{"oracle":"insert into xip_wf_ins_act_queue\n  (queue_id,\n   instance_code,\n   act_code,\n   orderby,\n   node_name,\n   task_title,\n   approver,\n   approve_status,\n   creation_date,\n   created_by)\nvalues\n  ({?queueId?},\n   {?INSTANCE_CODE?},\n   {?ACT_CODE?},\n   {?orderby?},\n   {?NODE_NAME?},\n   {?TASK_TITLE?},\n   {?APPROVER?},\n   'open',\n   sysdate,\n   {?XIP.userId?})\n","itemId":"sqlswitcher1","mysql":"insert into xip_wf_ins_act_queue\n  (queue_id,\n   instance_code,\n   act_code,\n   orderby,\n   node_name,\n   task_title,\n   approver,\n   approve_status,\n   creation_date,\n   created_by)\nvalues\n  ({?queueId?},\n   {?INSTANCE_CODE?},\n   {?ACT_CODE?},\n   {?orderby?},\n   {?NODE_NAME?},\n   {?TASK_TITLE?},\n   {?APPROVER?},\n   'open',\n   CURDATE(),\n   {?XIP.userId?})\n"},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"sql":"{#sqlswitcher1#}","itemId":"dataprovider1"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":"save_icon"}