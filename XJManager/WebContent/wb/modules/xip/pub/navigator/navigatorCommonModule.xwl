{"inframe":false,"title":"导航公用","hidden":false,"roles":{"default":1},"children":[{"configs":{"itemId":"module"},"children":[{"configs":{"headerHtml":"<script>\n  function hideMenus(){ \n    try{\n      var tbar = personalToolBar;\n      var items = tbar.items.items;\n      for(var i=0;i<= items.length;i++){\n        var item = items[i];\n        if(item &&item.hideMenu){\n          item.hideMenu();\n        }\n      }\n    }catch(e){\n    }\n\n    try{\n      var tbar = Ext.getCmp('top_tbar');\n      var items = tbar.items.items;\n      for(var i=0;i<= items.length;i++){\n        var item = items[i];\n        if(item &&item.hideMenu){\n          item.hideMenu();\n        }\n      }\n    }catch(e){\n    }\n  };\n\n  function mouseOverEvent(obj,e){\n    if(!obj.menu.isVisible()){\n      obj.showMenu();\n    }};\n\n  function createNewUrl(node){\n    var newUrl;\n    if(node.in_xip!='Y'){\n      newUrl = node.url+'&userId='+'{#XIP.userId#}'+'&roleId='+'{#XIP.roleId#}'+'&funId='+node.fun_id+'&appId='+node.app_id+\n      '&userName='+'{#XIP.userName#}'+'&roleCode='+'{#XIP.roleCode#}'+'&funCode='+node.fun_code+'&appCode='+node.app_code;\n      \n      return newUrl;\n    }\n    if(node.in_xip == 'Y'){\n      if(Ext.String.startsWith(node.url, 'm?xwl=')){\n        newUrl = '{#contextPath#}'+ '/' + node.url;\n      }else{\n        newUrl = '{#contextPath#}'+ node.url;\n      }\n      \n    }else{\n      newUrl = node.url;\n    }\n    if(node.url.indexOf('?')>0){\n      newUrl = newUrl+'&';\n    }else{\n      newUrl = newUrl+'?';\n    }\n    newUrl = newUrl+'userId='+'{#XIP.userId#}'+'&roleId='+'{#XIP.roleId#}'+'&funId='+node.fun_id+'&appId='+node.app_id+\n      '&userName='+'{#XIP.userName#}'+'&roleCode='+'{#XIP.roleCode#}'+'&funCode='+node.fun_code+'&appCode='+node.app_code;\n    return newUrl;\n  };\n\n  function getState(funId){\n    var fun_id = funId;\n    if(document.readyState!='complete'){\n      Ext.Ajax.request({\n        url : '{#contextPath#}' +'/frameAction.do?method=getButtonAuthorityList',\n        params:{\n          funId:e.fun_id\n        },\n        method: 'POST',\n        success: function(response,options){\n          var temp = response.responseText;\n          var obj = Ext.JSON.decode(temp);\n          if(obj.length==0)return;\n          var win = document.getElementById(fun_id).contentWindow;\n          for(var i=0;i<obj.length;i++){\n            var btn_code = obj[i].btnCode;\n            var btElement = win.document.getElementById(btn_code);\n            if(btElement){\n              btElement.disabled=true;\n            }\n          } \n        },\n        failure: function(response,options){\n          Ext.Msg.alert('错误','失败，服务器没有响应');\n        }\n      });\n    };\n  }\n\n  function insertFunUsedLog(funTreeId,appId,roleId){\n    Ext.Ajax.request({\n      url : '{#contextPath#}/main?xwl=23X03SSA2I85',\n      params:{\n        fun_tree_id:funTreeId,\n        app_id:appId,\n        role_id:roleId\n      },\n      method: 'POST',\n      async : true,\n      success: function(response,options){\n      },\n      failure: function(response,options){\n      }\n    });\n  }\n\n  function funcMenuClick4Page(funcMenuObj, componentobj){\n    var showStyle = funcMenuObj.show_style;\n\n    var url = createNewUrl(funcMenuObj);\n\n    if(showStyle=='WIN'){\n      showExtWindow({\n        title:funcMenuObj.text,\n        url:createNewUrl(funcMenuObj),\n        isMax:true\n      });\n      return;\n    }\n\n    if(showStyle=='BRO'){\n      var url = createNewUrl(funcMenuObj);\n      window.open(url,funcMenuObj.text);\n      return;\n    }\n    \n    if(funcMenuObj.inframe){\n      Xip.open({url:url, title:funcMenuObj.text, container:componentobj, reload:true, inframe:funcMenuObj.inframe});\n    }else{\n      Xip.open({url:url, title:funcMenuObj.text, container:componentobj, reload:true});\n    }\n  }\n\n<\/script>","itemId":"clientscript"},"children":[],"expanded":false,"type":"clientscript"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}