{"inframe":false,"title":"添加自定义组件","hidden":true,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","serverScript":"var _uuid = java.util.UUID.randomUUID().toString();\nrequest.setAttribute('DEFINE_UNIT_ID',_uuid);\n\n//---------------------获取当前模块语言对应的.json文件，放到request中----------------\ncom.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,\"xip/pub/navigator/portalNavigator/data/portal\");","itemId":"module"},"children":[{"configs":{"errorText":"{#xip_pub_navigator_portal_data_comp_name#}【{#DEIFNE_UNIT_NAME#}】 {#xip_pub_navigator_portal_data_is_exist#}","sql":"select 1 from xip_portal_define_unit t WHERE DEIFNE_UNIT_NAME ={?DEIFNE_UNIT_NAME?}","itemId":"checkExist"},"children":[],"expanded":false,"type":"query"},{"configs":{"errorText":"{#xip_pub_navigator_portal_data_comp_name#}【{#DEIFNE_UNIT_NAME#}】 {#xip_pub_navigator_portal_data_is_exist#}","sql":"select 1 from xip_portal_language t WHERE LANG_VAL = {?DEIFNE_UNIT_NAME?} and PORTAL_TYPE = 'UNIT' and LANG_CODE = '{#sys.useLang#}'","itemId":"checkExistLang"},"children":[],"expanded":false,"type":"query"},{"configs":{"sql":"insert into xip_portal_define_unit(\n    DEIFNE_UNIT_ID,    \n    DEIFNE_UNIT_NAME,  \n    DEIFNE_UNIT_DESC,  \n    DEIFNE_UNIT_CONFIG,\n    DEIFNE_UNIT_TYPE,  \n    DEIFNE_UNIT_HEIGHT,\n    DEFINE_UNIT_ENABLE,\n    DEFINE_UNIT_ORDER\n   )\nvalues(\n   {?DEFINE_UNIT_ID?},\n   {?DEIFNE_UNIT_NAME?},\n   {?DEIFNE_UNIT_DESC?},\n   {?DEIFNE_UNIT_CONFIG?},\n   {?DEIFNE_UNIT_TYPE?},\n   {?DEIFNE_UNIT_HEIGHT?},\n   {?DEFINE_UNIT_ENABLE?},\n    (select max(t.DEFINE_UNIT_ORDER)+1 from xip_portal_define_unit t)\n   \n)","transaction":"start","itemId":"insertDefineUnit"},"children":[],"expanded":false,"type":"query"},{"configs":{"sql":"insert into xip_portal_language(\n    PORTAL_ID,  \n    LANG_CODE,\n    LANG_VAL,\n    PORTAL_TYPE,\n    LANG_DESC\n   )\nvalues(\n   {?DEIFNE_UNIT_ID?},\n   '{#sys.useLang#}',\n   {?DEIFNE_UNIT_NAME?},\n   'UNIT',\n   {?DEIFNE_UNIT_DESC?}\n)","itemId":"insertDefineUnitLang"},"children":[],"expanded":false,"type":"query"},{"configs":{"script":"app.send({'primaryKey':request.getAttribute('DEFINE_UNIT_ID')});","itemId":"responseScript"},"children":[],"expanded":false,"type":"serverscript"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}