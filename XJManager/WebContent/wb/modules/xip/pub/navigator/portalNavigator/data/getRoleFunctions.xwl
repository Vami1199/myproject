{"inframe":false,"title":"获取角色可用的功能","hidden":true,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","itemId":"module"},"children":[{"configs":{"oracle":"SELECT \n  t.FUN_TREE_NAME AS \"urlName_bak\",\n  case when p.FUN_TREE_ID is null  \n            then case when l.FUN_LANG_VAL is null  \n                      then p.name\n                      else l.FUN_LANG_VAL\n                      end\n            else case when l.FUN_LANG_VAL is null \n                      then case when (select fl.FUN_LANG_VAL from xip_pub_fun_language fl where fl.FUN_CODE = p.MNU_TREE_CODE and fl.FUN_LANG = '{#sys.useLang#}') is null\n                                then (select f.FUN_TREE_NAME from xip_pub_fun_tree f where f.FUN_TREE_CODE = p.MNU_TREE_CODE)\n                                else (select fl.FUN_LANG_VAL from xip_pub_fun_language fl where fl.FUN_CODE = p.MNU_TREE_CODE and fl.FUN_LANG = '{#sys.useLang#}')\n                                end \n                      else l.FUN_LANG_VAL\n                      end\n            end \"urlName\",\n  t.URL AS \"urlId\",\n  t.fun_tree_id AS \"funcId\"\nFROM\n  xip_pub_fun_tree t,\n  xip_pub_mnu_tree p\n   \nleft join xip_pub_menugroup_language l on l.mnu_id = p.mnu_id and l.MNU_GROUP_ID = p.MNU_GROUP_ID and l.FUN_LANG = '{#sys.useLang#}'\nWHERE p.FUN_TREE_ID = t.FUN_TREE_ID \n  AND p.MNU_GROUP_ID = (SELECT MNU_GROUP_ID FROM xip_pub_role WHERE ROLE_ID={?XIP.roleId?})\n  AND t.NODE_TYPE = 'F'  ","itemId":"sqlswitcher","mysql":"SELECT \n  t.FUN_TREE_NAME AS \"urlName_bak\",\n  case when p.FUN_TREE_ID is null or p.FUN_TREE_ID = '' \n            then case when l.FUN_LANG_VAL is null or l.FUN_LANG_VAL = '' \n                      then p.name\n                      else l.FUN_LANG_VAL\n                      end\n            else case when l.FUN_LANG_VAL is null or l.FUN_LANG_VAL = '' \n                      then case when IFNULL((select fl.FUN_LANG_VAL from xip_pub_fun_language fl where fl.FUN_CODE = p.MNU_TREE_CODE and fl.FUN_LANG = '{#sys.useLang#}'), '') = ''\n                                then p.name\n                                else (select fl.FUN_LANG_VAL from xip_pub_fun_language fl where fl.FUN_CODE = p.MNU_TREE_CODE and fl.FUN_LANG = '{#sys.useLang#}')\n                                end \n                      else l.FUN_LANG_VAL\n                      end\n            end \"urlName\",\n  t.URL AS \"urlId\",\n  t.fun_tree_id AS \"funcId\"\nFROM\n  xip_pub_fun_tree t,\n  xip_pub_mnu_tree p\n   \nleft join xip_pub_menugroup_language l on l.mnu_id = p.mnu_id and l.MNU_GROUP_ID = p.MNU_GROUP_ID and l.FUN_LANG = '{#sys.useLang#}'\nWHERE p.FUN_TREE_ID = t.FUN_TREE_ID \n  AND p.MNU_GROUP_ID = (SELECT MNU_GROUP_ID FROM xip_pub_role WHERE ROLE_ID={?XIP.roleId?})\n  AND t.NODE_TYPE = 'F'  "},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"sql":"{#sqlswitcher#}","itemId":"getUserValiablerFun"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}