{"inframe":false,"title":"收藏夹","hidden":false,"roles":{"default":1},"children":[{"configs":{"importModules":"[\"m?xwl=xip/pub/navigator/navigatorCommonModule\"]","initScript":"var contextPath = request.getContextPath();\nvar userId = request.getParameter(\"userId\");\nvar userName = request.getParameter(\"userName\");\nvar roleId = request.getParameter(\"roleId\");\nvar roleCode = request.getParameter(\"roleCode\");\nvar authModel = request.getSession().getAttribute(\"XzSessionVars\").get('AUTH_MODAL');\n\nrequest.setAttribute(\"userId\",userId);\nrequest.setAttribute(\"userName\",userName);\nrequest.setAttribute(\"roleId\",roleId);\nrequest.setAttribute(\"roleCode\",roleCode);\nrequest.setAttribute(\"contextPath\",contextPath);\nrequest.setAttribute(\"authModel\",authModel);\n\n//---------------------获取当前模块语言对应的.json文件，放到request中----------------\ncom.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,\"xip/pub/favorite/favorite\");","head":"<style type=\"text/css\">\n#dataview .x-panel-body{\n    background: white;\n    font: 11px Arial, Helvetica, sans-serif;\n}\n#dataview .thumb{\n    background: #FFF;\n    text-align:center;\n    padding: 3px;\n    padding-bottom: 0;\n}\n\n.x-quirks #dataview .thumb {\n    padding-bottom: 3px;\n}\n\n#dataview .thumb img{\n    height: 55px;\n    width: 55px;\n}\n#dataview .thumb-wrap{\n    float: left;\n    margin: 4px;\n    margin-right: 0;\n    padding: 5px;\n}\n#dataview .thumb-wrap span {    \n    display: block;\n    overflow: hidden;\n    text-align: center;\n    width: 86px; /* for ie to ensure that the text is centered */\n}\n#dataview .x-item-selected{\n    // background: #eff5fb url(webbuilder/images/ok.gif) no-repeat right bottom;\n    border:1px solid #99bbe8;\n    padding: 4px;\n}\n#dataview .x-item-selected .thumb{\n    background:transparent;\n}\n\n.x-view-selector {\n    position:absolute;\n    left:0;\n    top:0;\n    width:0;\n    border:1px dotted;\n    opacity: .5;\n    -moz-opacity: .5;\n    filter:alpha(opacity=50);\n    zoom:1;\n    background-color:#c3daf9;\n    border-color:#3399bb;\n}.ext-strict .ext-ie .x-tree .x-panel-bwrap{\n    position:relative;\n    overflow:hidden;\n}\n<\/style>","itemId":"module"},"children":[{"configs":{"layout":"fit","itemId":"viewport"},"children":[{"configs":{"bodyStyle":"background-color:#FFFFFF","frame":"false","layout":"border","border":"false","itemId":"dataViewPanel"},"children":[{"configs":{"region":"center","itemSelector":"div.thumb-wrap","tagConfigs":"id:'dataview'","autoScroll":"false","tpl":"<tpl for=\".\">\n  <div class=\"thumb-wrap\" id=\"{USER_SHORTCUTS_ID}\">\n    <div class=\"thumb\">\n       <img src=\"{CTX}/xip/icon/<tpl if=\"LARGE_ICON!=''&&LARGE_ICON!=null\">{LARGE_ICON}<\/tpl><tpl if=\"LARGE_ICON===''||LARGE_ICON===null\">commonDesk.png<\/tpl>\" title=\"{MENUNAME}\">\n    <\/div>\n    <span class=\"x-editable\">{MENUNAME}<\/span>\n  <\/div>\n<\/tpl>\n<div class=\"x-clear\"><\/div>","padding":"8","itemId":"dataview"},"events":{"itemdblclick":"var currecord = app.dataview.getStore().getAt(index);\n\nvar jsonData = {\n  fun_id:currecord.data.FUNID,\n  fun_code:currecord.data.FUNCODE,\n  text:currecord.data.MENUNAME,\n  in_xip:currecord.data.IN_XIP,\n  url:currecord.data.URL,\n  app_id:currecord.data.APPID,\n  app_code:currecord.data.APPCODE,\n  show_style:currecord.data.SHOW_STYLE,\n  inframe:true\n};\n\nfuncMenuClick4Page(jsonData, window.parent.app.funTabPanel);"},"children":[{"configs":{"autoLoad":"true","itemId":"store","url":"m?xwl=xip/pub/favorite/data/getFavorites"},"children":[],"expanded":false,"type":"store"}],"expanded":true,"type":"dataview"},{"configs":{"region":"east","layout":"column","border":"false","itemId":"btnPanel"},"children":[{"configs":{"tagConfigs":"columnWidth:.5","border":"false","itemId":"delPanel"},"children":[{"configs":{"itemId":"delBtn","iconCls":"delete_icon","tooltip":"{#delFavor#}"},"events":{"click":"var rows = app.dataview.getSelectionModel().getSelection();\nif(rows.length===0){\n  Ext.Msg.alert('{#alert#}', '{#selRecord#}');\n  return;\n}\nExt.Msg.confirm('{#alert#}','{#confirm#}',function(a){\n  if(a=='yes'){\n    var _tmpStr = '';\n    Ext.each(rows,function(a){\n      _tmpStr += '\\''+a.data.USER_SHORTCUTS_ID+'\\',';\n      \n    });\n    _tmpStr  = _tmpStr.substring(0,_tmpStr.length-1);  \n    \n    Ext.Msg.wait('{#deleting#}');\n    Ext.Ajax.request({\n      url : '{#contextPath#}' +'/m?xwl=xip/pub/favorite/data/deleteFavorite',\n      method: 'POST',\n      params:{ID:_tmpStr},\n      success: function(response,options){\n        Ext.Msg.hide();\n        Ext.Msg.alert('{#alert#}','{#delSuc#}');\n        Wb.reload(app.dataview.getStore());\n      },\n      failure: function(response,options){\n        Ext.Msg.hide();\n        Ext.Msg.alert('{#alert#}','{#error#}');\n      }\n    });\n    \n  }\n});"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"panel"},{"configs":{"tagConfigs":"columnWidth:.5","border":"false","itemId":"refreshPanel"},"children":[{"configs":{"itemId":"refreshBtn","iconCls":"refresh_icon","tooltip":"{#freFavor#}"},"events":{"click":"Wb.reload(app.dataview.getStore());"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"viewport"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}