{"inframe":false,"title":"保存主题","hidden":false,"roles":{"dev":1},"children":[{"configs":{"itemId":"module"},"children":[{"configs":{"sql":"delete \n  from xip_pub_param_vals\n where PARAM_ID = (select PARAM_ID from xip_pub_params where PARAM_CODE = 'TOUCH_PERSONAL_SET')\n   and VAL_LEVEL = 'U'\n   and TARGET_ID = {?XIP.userId?}\n","transaction":"start","itemId":"delPersonalSet"},"children":[],"expanded":false,"type":"query"},{"configs":{"sql":"insert into xip_pub_param_vals(\n  PARAM_VAL_ID,\n  PARAM_ID,\n  VAL_LEVEL,\n  TARGET_ID,\n  VAL,\n  ENABLE_FLAG,\n  CREATION_DATE,\n  CREATED_BY,\n  LAST_UPDATE_DATE,\n  LAST_UPDATED_BY  \n)\n   values(\n     {?valId?},\n     (select PARAM_ID from xip_pub_params where PARAM_CODE = 'TOUCH_PERSONAL_SET'),\n     'U',\n     {?XIP.userId?},\n     {?val?},\n     'Y',\n     {?timestamp.sys.date?},\n     {?XIP.userId?},\n     {?timestamp.sys.date?},\n     {?XIP.userId?}\n   )","itemId":"saveUserSkin"},"children":[],"expanded":false,"type":"query"},{"configs":{"script":"var theme = request.getParameter(\"theme\");\nvar session = request.getSession(false);\nif (session!==null){\n  if(theme!==null && !\"\".equals(theme)){\n  session.setAttribute(\"sys.touchTheme\", theme);\n  }\n}","itemId":"serverscript"},"children":[],"expanded":false,"type":"serverscript"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}