{"inframe":true,"title":"","hidden":false,"roles":{"default":1},"children":[{"configs":{"initScript":"var insCode =request.getParameter(\"instCode\");\nrequest.setAttribute(\"insCode\",insCode);","itemId":"module"},"children":[{"configs":{"itemId":"viewport1"},"children":[{"configs":{"itemTpl":"<table border=\"0\"  width=\"100%\"><tr><td width=\"60%\">{ACTNAME}<\/td><td width=\"40%\">{EXECUTEUSERNAME}<\/td><\/tr><tr><td colspan=\"2\">{APPROVECOMMNET}<\/td><\/tr><\/table>","itemId":"approveList"},"events":{"activate":"Ext.Ajax.request({\n  url: 'workItemAction.do?method=isArchedInstance',\n  params: {\n    'insCode': '{#insCode#}'\n  },\n  method: 'post',\n  timeout: 3600000,\n  async: false,\n  success: function(response, options) {\n    var resp = Ext.JSON.decode(response.responseText);\n    var newUrl = '';\n    if (resp.flag == \"0\") {\n      // 已归档\n      newUrl = 'm?xwl=xip/wf/history/data/getArchiveHistorys';\n    } else {\n      // 未归档\n      newUrl = 'm?xwl=xip/wf/history/data/getApproveHistorys';\n    }\n    app.approveList.getStore().url = newUrl;\n    //app.approveList.getStore().load();\n  },\n  failure: function(reponse, options) {\n    app.approveList.getStore().url = 'm?xwl=xip/wf/history/data/getApproveHistorys';\n  }\n});\napp.approveList.getStore().load();"},"children":[{"configs":{"normalName":"store","autoLoad":"false","itemId":"store","url":"m?xwl=xip/wf/history/data/getApproveHistorys"},"events":{"beforeload":"store.getProxy().setExtraParams({\n  \"varType\": 'ins',\n  \"insCode\": '{#insCode#}',\n  \"taskId\": ''\n});"},"children":[],"expanded":false,"type":"tstore"}],"expanded":true,"type":"tlist"}],"expanded":true,"type":"tviewport"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}