{"inframe":false,"title":"获取角色","hidden":false,"roles":{"default":1},"children":[{"configs":{"loginRequired":"false","itemId":"module"},"children":[{"configs":{"oracle":"select *\nfrom(\nSELECT \n  ur.USER_ROLE_ID,\n  ur.USER_ID,\n  ur.ROLE_ID,\n  ur.ISDEFAUT,\n  ur.ORDERBY,\n  r.ROLE_CODE,\n  r.ROLE_NAME,\n  r.MNU_GROUP_ID\nFROM\n  xip_pub_user_roles ur,\n  xip_pub_role r \nWHERE ur.enable_flag = 'Y' \n  AND ur.user_id = {?XIP.userId?} \n  AND ur.role_id = r.role_id \nUNION\nSELECT \n  '' USER_ROLE_ID,\n  {?userId?} USER_ID,\n  r.role_id ROLE_ID,\n  'N' ISDEFAUT,\n  '20' ORDERBY,\n  r.role_code ROLE_CODE,\n  r.role_name ROLE_NAME ,\n  r.MNU_GROUP_ID\nFROM\n  xip_pub_role r \nWHERE r.ATTRIBUTE1 = 'S' \n  AND \n  (SELECT \n    u.user_type \n  FROM\n    xip_pub_users u \n  WHERE u.user_id = {?XIP.userId?}) = 'S' ) a\nwhere exists(\n\t\tSELECT\n\t\t\t1\n\t\tFROM\n\t\t\txip_pub_mnu_group mg,\n\t\t\txip_pub_mnu_tree mt,\n\t\t\txip_pub_fun_tree ft\n\t\tWHERE mg.MNU_GROUP_ID = mt.MNU_GROUP_ID\n      and mt.FUN_TREE_ID = ft.FUN_TREE_ID\n      and ft.MOB_URL is not null \n      and mg.MNU_GROUP_ID = a.MNU_GROUP_ID\n\t)","itemId":"roleSwitcher","mysql":"select *\nfrom(\nSELECT \n  ur.USER_ROLE_ID,\n  ur.USER_ID,\n  ur.ROLE_ID,\n  ur.ISDEFAUT,\n  ur.ORDERBY,\n  r.ROLE_CODE,\n  r.ROLE_NAME,\n  r.MNU_GROUP_ID\nFROM\n  xip_pub_user_roles ur,\n  xip_pub_role r \nWHERE ur.enable_flag = 'Y' \n  AND ur.user_id = {?XIP.userId?} \n  AND ur.role_id = r.role_id \nUNION\nSELECT \n  '' USER_ROLE_ID,\n  {?userId?} USER_ID,\n  r.role_id ROLE_ID,\n  'N' ISDEFAUT,\n  '20' ORDERBY,\n  r.role_code ROLE_CODE,\n  r.role_name ROLE_NAME ,\n  r.MNU_GROUP_ID\nFROM\n  xip_pub_role r \nWHERE r.ATTRIBUTE1 = 'S' \n  AND \n  (SELECT \n    u.user_type \n  FROM\n    xip_pub_users u \n  WHERE u.user_id = {?XIP.userId?}) = 'S' ) a\nwhere exists(\n\t\tSELECT\n\t\t\t1\n\t\tFROM\n\t\t\txip_pub_mnu_group mg,\n\t\t\txip_pub_mnu_tree mt,\n\t\t\txip_pub_fun_tree ft\n\t\tWHERE mg.MNU_GROUP_ID = mt.MNU_GROUP_ID\n      and mt.FUN_TREE_ID = ft.FUN_TREE_ID\n      and ft.MOB_URL is not null \n      and ft.MOB_URL <>''\n      and mg.MNU_GROUP_ID = a.MNU_GROUP_ID\n\t)"},"children":[],"expanded":false,"type":"sqlswitcher"},{"configs":{"sql":"{#roleSwitcher#}","itemId":"dataprovider"},"children":[],"expanded":false,"type":"dataprovider"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}