{"inframe":false,"title":"web服务配置","hidden":false,"roles":{"default":1},"children":[{"configs":{"initScript":"var ctxPath = request.getContextPath();\nrequest.setAttribute(\"contextPath\",ctxPath);\n\ncom.xzsoft.xip.platform.util.XipUtil.checkUserFunSec(request,response);","loginRequired":"false","serverScript":"com.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,\"xip/tools/ws/json/ws\");","itemId":"module"},"children":[{"configs":{"itemId":"testWindowBtn"},"children":[{"configs":{"text":"{#xip_tools_ws_acceptBtn#}","itemId":"acceptBtn","iconCls":"check_icon"},"events":{"click":"var record = app.grid1.getSelectionModel().getSelection();\nvar sqlKey = record[0].get('SQLKEY');\nvar string = 'p_';\nvar dd = '';\nfor(var l = 0;l<app.NUM.getValue();l++){\nvar val = Ext.getCmp(string+l).getValue();\n  if(val=== null||val=== ''){\n    Wb.warn('{#xip_tools_ws_parmnull#}');\n    return false;\n  }\n var name = Ext.getCmp(string+l).getFieldLabel();\n  dd = dd +','+\"'\"+name+\"'\"+':'+\"'\"+val+\"'\";\n}\nvar paramList= '{'+dd.substring(1,dd.length)+'}';\n//  var paramList= sqlKey+','+'{'+dd.substring(1,dd.length)+'}';\n//  ws('/services/platformWS?wsdl',\"executeSQL\",paramList);\nExt.Msg.wait(\"{#xip_tools_ws_execute_test#}\");\nExt.Ajax.request({\n  url  : '{#contextPath#}'+'/platformAction.do?method=wsTest',\n  method:'post',\n  params:{\n          sqlKey: sqlKey,\n          paramList: paramList\n         },\n  success: function(response,options){\n      Ext.Msg.hide();\n      var respText = Ext.JSON.decode(response.responseText);\n      app.resultArea.setValue(respText.msg);\n      //Ext.Msg.alert('',respText.msg);\n  },\n  failure : function(response,options){\n      //var respText = Ext.JSON.decode(response.responseText);\n      //Ext.Msg.alert('',respText.msg);\n  }\n});"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#xip_tools_ws_btnCancel#}","itemId":"closeBtn","iconCls":"cancel_icon"},"events":{"click":"app.testWindow.close();\nExt.Msg.hide();"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"array"},{"configs":{"itemId":"win1Btn"},"children":[{"configs":{"text":"{#xip_tools_ws_btnSave#}","itemId":"btnSave","iconCls":"save_icon"},"events":{"click":"var sqlId = app.SQL_ID.getValue();\n\nvar sqlkey = app.SQLKEY.getValue();\nif(sqlkey === null || sqlkey === \"\"){\n  Ext.Msg.alert(\"{#xip_tools_ws_tip#}\",\"{#xip_tools_ws_keynull#}\") ;\n  return false ;\n}\n\nvar type = app.SQL_TYPE.getValue();\nif(type === null || type === \"\"){\n  Ext.Msg.alert(\"{#xip_tools_ws_tip#}\",\"{#xip_tools_ws_typenull#}\") ;\n  return false ;\n}\n\nvar appname = app.APP_NAME.getValue();\nif(appname === null || appname === \"\"){\n  Ext.Msg.alert(\"{#xip_tools_ws_tip#}\",\"{#xip_tools_ws_appnull#}\") ;\n  return false ;\n}\n\nvar format = app.DATAS_FORMAT.getValue();\nif(type=='Q'&&!format){\n  Ext.Msg.alert(\"{#xip_tools_ws_tip#}\",\"{#xip_tools_ws_formatenull#}\") ;\n  return false ;\n}\n\nvar sql_str = app.SQL_STR.getValue();\nif(sql_str === null || sql_str === \"\"){\n  Ext.Msg.alert(\"{#xip_tools_ws_tip#}\",\"{#xip_tools_ws_contentnull#}\") ;\n  return false ;\n}\n\nvar opType = app.OP_TYPE.getValue();\n\nvar json = {\n  SQL_ID:app.SQL_ID.getValue(),\n  APP_ID:app.APP_ID.getValue(),\n  SQLKEY:app.SQLKEY.getValue(),\n  SQL_TYPE:app.SQL_TYPE.getValue(),\n  DATAS_FORMAT:app.DATAS_FORMAT.getValue(),\n  SQL_STR:app.SQL_STR.getValue(),\n  IS_SAVE_NEXT:'N',\n  DS_NAME:app.DS_NAME.getValue()\n};\n\nif(opType == '_added'){\n  Wb.request({\n     url:'m?xwl=xip/tools/ws/DATA/insert',\n     params:json,\n     success:function(){\n      if(json.IS_SAVE_NEXT=='Y'){\n        Wb.reset(app.winForm);\n        Wb.request({\n          url : 'm?xwl=xip/auth/role/role/DATA/getUUid',\n          success:function(response){\n            var temp = response.responseText;\n            var resultJson = Wb.decode(temp);\n            app.SQL_ID.setValue(resultJson.uuid);\n            app.SQL_TYPE.setValue('Q');\n            app.DATAS_FORMAT.setValue('xml');\n            app.OP_TYPE.setValue('_added');\n          }\n         });\n      }else{\n        app.OP_TYPE.setValue('_modified');\n      }\n\n      Ext.Msg.alert(\"{#xip_tools_ws_tip#}\",\"{#xip_tools_ws_saveok#}!\");\n     }\n  });\n}else{\n   Wb.request({\n     url:'m?xwl=xip/tools/ws/DATA/update',\n     params:json,\n     success:function(){\n      if(json.IS_SAVE_NEXT=='Y'){\n        Wb.reset(app.form1);\n        Wb.request({\n          url : 'm?xwl=xip/auth/role/role/DATA/getUUid',\n          success:function(response){\n            var temp = response.responseText;\n            var resultJson = Wb.decode(temp);\n            app.SQL_ID.setValue(resultJson.uuid);\n            app.SQL_TYPE.setValue('Q');\n            app.DATAS_FORMAT.setValue('xml');\n            app.OP_TYPE.setValue('_added');\n          }\n         });\n      }else{\n        app.OP_TYPE.setValue('_modified');\n      }\n\n      Ext.Msg.alert(\"{#xip_tools_ws_tip#}\",\"{#xip_tools_ws_saveok#}!\");\n       \n     }\n  });\n}\n\n\n\n\n"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#xip_tools_ws_btnSaveAndNext#}","itemId":"btnSaveAndNext"},"events":{"click":"var sqlId = app.SQL_ID.getValue();\n\nvar sqlkey = app.SQLKEY.getValue();\nif(sqlkey === null || sqlkey === \"\"){\n  Ext.Msg.alert(\"提示\",\"关键码不能为空\") ;\n  return false ;\n}\n\nvar type = app.SQL_TYPE.getValue();\nif(type === null || type === \"\"){\n  Ext.Msg.alert(\"提示\",\"类型不能为空\") ;\n  return false ;\n}\n\nvar appname = app.APP_NAME.getValue();\nif(appname === null || appname === \"\"){\n  Ext.Msg.alert(\"提示\",\"应用不能为空\") ;\n  return false ;\n}\n\nvar format = app.DATAS_FORMAT.getValue();\nif(type=='Q'&&!format){\n  Ext.Msg.alert(\"提示\",\"查询结果格式不能为空\") ;\n  return false ;\n}\n\nvar sql_str = app.SQL_STR.getValue();\nif(sql_str === null || sql_str === \"\"){\n  Ext.Msg.alert(\"提示\",\"WS内容不能为空\") ;\n  return false ;\n}\n\nvar opType = app.OP_TYPE.getValue();\n\nvar json = {\n  SQL_ID:app.SQL_ID.getValue(),\n  APP_ID:app.APP_ID.getValue(),\n  SQLKEY:app.SQLKEY.getValue(),\n  SQL_TYPE:app.SQL_TYPE.getValue(),\n  DATAS_FORMAT:app.DATAS_FORMAT.getValue(),\n  SQL_STR:app.SQL_STR.getValue(),\n  IS_SAVE_NEXT:'Y',\n  DS_NAME:app.DS_NAME.getValue()\n};\n\nif(opType == '_added'){\n  Wb.request({\n     url:'m?xwl=xip/tools/ws/DATA/insert',\n     params:json,\n     success:function(){\n      if(json.IS_SAVE_NEXT=='Y'){\n        Wb.reset(app.winForm);\n        Wb.request({\n          url : 'm?xwl=xip/auth/role/role/DATA/getUUid',\n          success:function(response){\n            var temp = response.responseText;\n            var resultJson = Wb.decode(temp);\n            app.SQL_ID.setValue(resultJson.uuid);\n            app.SQL_TYPE.setValue('Q');\n            app.DATAS_FORMAT.setValue('xml');\n            app.OP_TYPE.setValue('_added');\n          }\n         });\n      }else{\n        app.OP_TYPE.setValue('_modified');\n      }\n\n      Ext.Msg.alert(\"提示\",\"保存成功!\");\n     }\n  });\n}else{\n   Wb.request({\n     url:'m?xwl=xip/tools/ws/DATA/update',\n     params:json,\n     success:function(){\n      if(json.IS_SAVE_NEXT=='Y'){\n        Wb.reset(app.winForm);\n        Wb.request({\n          url : 'm?xwl=xip/auth/role/role/DATA/getUUid',\n          success:function(response){\n            var temp = response.responseText;\n            var resultJson = Wb.decode(temp);\n            app.SQL_ID.setValue(resultJson.uuid);\n            app.SQL_TYPE.setValue('Q');\n            app.DATAS_FORMAT.setValue('xml');\n            app.OP_TYPE.setValue('_added');\n          }\n         });\n      }else{\n        app.OP_TYPE.setValue('_modified');\n      }\n\n      Ext.Msg.alert(\"提示\",\"保存成功!\");\n       \n     }\n  });\n}\n\n\n\n\n\n"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#xip_tools_ws_btnCancel#}","itemId":"btnCancel","iconCls":"cancel_icon"},"events":{"click":"app.win1.hide();"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"array"},{"configs":{"title":"{#xip_tools_ws_servicereg#}","height":"400","width":"650","layout":"fit","resizable":"false","closeAction":"hide","buttonAlign":"center","buttons":"app.win1Btn","dialog":"false","itemId":"win1","modal":"true"},"events":{"hide":"app.queryBtn.fireEvent('click');\nWb.reset(app.winForm);"},"children":[{"configs":{"frame":"true","style":"border-width:0px","layout":"form","border":"false","itemId":"winForm"},"children":[{"configs":{"hidden":"true","itemId":"OP_TYPE"},"children":[],"expanded":false,"type":"text"},{"configs":{"hidden":"true","itemId":"SQL_ID"},"children":[],"expanded":false,"type":"text"},{"configs":{"hidden":"true","itemId":"APP_ID"},"children":[],"expanded":false,"type":"text"},{"configs":{"height":"30","frame":"true","style":"border-width:0px","layout":"column","columnWidth":".5","border":"false","itemId":"panel1"},"children":[{"configs":{"labelWidth":"70","width":"280","labelAlign":"right","itemId":"SQLKEY","fieldLabel":"<font color='red'>*<\/font>{#xip_tools_ws_keyword#}"},"children":[],"expanded":false,"type":"text"},{"configs":{"labelWidth":"100","queryMode":"local","displayField":"APP_NAME","width":"320","valueField":"APP_ID","labelAlign":"right","itemId":"APP_NAME","forceSelection":"true","fieldLabel":"<font color='red'>*<\/font>{#xip_tools_ws_app#}","editable":"true"},"events":{"select":"app.APP_ID.setValue(app.APP_NAME.getValue());"},"children":[{"configs":{"autoLoad":"true","itemId":"store","url":"m?xwl=xip/data/getApps"},"children":[],"expanded":false,"type":"store"}],"expanded":true,"type":"combo"}],"expanded":true,"type":"panel"},{"configs":{"frame":"true","height":"30","style":"border-width:0px","layout":"column","columnWidth":".5","border":"false","itemId":"panel2"},"children":[{"configs":{"labelWidth":"70","allowBlank":"false","width":"280","pickList":" [['Q', '{#xip_tools_ws_queryBtn#}'], \n  ['U', '{#xip_tools_ws_data_op#}'], \n  ['P', '{#xip_tools_ws_proc#}'], \n  ['J', '{#xip_tools_ws_java#}']]","labelAlign":"right","itemId":"SQL_TYPE","forceSelection":"true","fieldLabel":"{#xip_tools_ws_type#}","editable":"true","disabled":"false"},"events":{"select":"                   if(app.SQL_TYPE.getValue()!='Q'){\n\t\t\t\t\t   app.DATAS_FORMAT.setRawValue('');\n\t\t\t\t\t   app.DATAS_FORMAT.setValue('');\n\t\t\t\t\t   app.DATAS_FORMAT.disable();\n\t\t\t\t   }else{\n\t\t\t\t\t   app.DATAS_FORMAT.enable();\n\t\t\t\t   }"},"children":[],"expanded":false,"type":"combo"},{"configs":{"labelWidth":"100","allowBlank":"false","width":"320","pickList":"[['xml', 'xml'], ['json', 'json']]","labelAlign":"right","itemId":"DATAS_FORMAT","forceSelection":"true","fieldLabel":"{#xip_tools_ws_data_format#}","editable":"true"},"children":[],"expanded":false,"type":"combo"}],"expanded":true,"type":"panel"},{"configs":{"height":"30","frame":"true","style":"border-width:0px","layout":"column","columnWidth":".5","border":"false","itemId":"panel11"},"children":[{"configs":{"labelWidth":"70","width":"280","labelAlign":"right","itemId":"DS_NAME","fieldLabel":"{#xip_tools_ws_ds#}"},"children":[],"expanded":false,"type":"text"}],"expanded":true,"type":"panel"},{"configs":{"frame":"true","style":"border-width:0px","layout":"column","columnWidth":".5","border":"false","itemId":"panel3"},"children":[{"configs":{"labelWidth":"70","height":"230","allowBlank":"false","width":"600","labelAlign":"right","itemId":"SQL_STR","fieldLabel":"{#xip_tools_ws_content#}"},"children":[],"expanded":false,"type":"textarea"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"form"}],"expanded":true,"type":"window"},{"configs":{"title":"{#xip_tools_ws_tst_title#}","height":"500","width":"700","layout":"border","resizable":"false","closeAction":"hide","buttons":"app.testWindowBtn","buttonAlign":"center","dialog":"false","itemId":"testWindow","modal":"true"},"events":{"beforeclose":"app.paramPanel.removeAll();\nWb.reset(app.resultArea);","close":"Ext.Msg.hide();"},"children":[{"configs":{"region":"center","frame":"true","style":"border-width:0px","layout":"form","columnWidth":"1","padding":"10px 40px 0px 0px","border":"false","itemId":"paramPanel"},"children":[],"expanded":false,"type":"panel"},{"configs":{"hidden":"true","itemId":"panel2"},"children":[{"configs":{"hidden":"true","itemId":"NUM"},"children":[],"expanded":false,"type":"text"}],"expanded":true,"type":"panel"},{"configs":{"region":"south","height":"'80%'","frame":"true","style":"border-width:0px","layout":"fit","padding":"10px 40px 0px 0px","border":"false","itemId":"resPanel"},"children":[{"configs":{"height":"280","width":"600","labelAlign":"right","itemId":"resultArea","fieldLabel":"{#xip_tools_ws_resultArea#}"},"children":[],"expanded":false,"type":"textarea"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"window"},{"configs":{"layout":"border","itemId":"viewport1"},"children":[{"configs":{"region":"north","height":"80","frame":"true","style":"border-width:0px","layout":"fit","border":"false","itemId":"form1"},"children":[{"configs":{"title":"{#xip_tools_ws_fieldset1#}","style":"padding-top:8px","layout":"column","itemId":"fieldset1"},"children":[{"configs":{"displayField":"APP_NAME","valueField":"APP_ID","labelAlign":"right","itemId":"appCombox","fieldLabel":"{#xip_tools_ws_app#}"},"events":{"select":"app.grid1.store.load({params:{SQLKEY:app.sqlKeyField.getValue(),\n                              SQL_TYPE:app.type_combo.getValue(),\n                              APP_ID:app.appCombox.getValue()}});"},"children":[{"configs":{"autoLoad":"true","itemId":"store","url":"m?xwl=xip/data/getApps"},"children":[],"expanded":false,"type":"store"}],"expanded":true,"type":"combo"},{"configs":{"labelAlign":"right","itemId":"sqlKeyField","fieldLabel":"{#xip_tools_ws_keyword#}"},"events":{"specialkey":"app.grid1.store.load({params:{SQLKEY:app.sqlKeyField.getValue(),\n                              SQL_TYPE:app.type_combo.getValue(),\n                              APP_ID:app.appCombox.getValue()}});"},"children":[],"expanded":false,"type":"text"},{"configs":{"pickList":" [['Q', '{#xip_tools_ws_queryBtn#}'], \n  ['U', '{#xip_tools_ws_data_op#}'], \n  ['P', '{#xip_tools_ws_proc#}'], \n  ['J', '{#xip_tools_ws_java#}']]","labelAlign":"right","itemId":"type_combo","fieldLabel":"{#xip_tools_ws_type#}"},"events":{"select":"app.grid1.store.load({params:{SQLKEY:app.sqlKeyField.getValue(),\n                              SQL_TYPE:app.type_combo.getValue(),\n                              APP_ID:app.appCombox.getValue()}});"},"children":[],"expanded":true,"type":"combo"},{"configs":{"text":"{#xip_tools_ws_queryBtn#}","itemId":"queryBtn","iconCls":"seek_icon","x":"10"},"events":{"click":"app.grid1.store.load({params:{SQLKEY:app.sqlKeyField.getValue(),\n                              SQL_TYPE:app.type_combo.getValue(),\n                              APP_ID:app.appCombox.getValue()}});"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#xip_tools_ws_resetBtn#}","itemId":"resetBtn","iconCls":"refresh_icon","x":"25"},"events":{"click":"Wb.reset(app.fieldset1);\napp.grid1.store.load({params:{SQLKEY:app.sqlKeyField.getValue(),\n                              SQL_TYPE:app.type_combo.getValue(),\n                              APP_ID:app.appCombox.getValue()}});"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"fieldset"}],"expanded":true,"type":"form"},{"configs":{"region":"center","selType":"checkboxmodel","itemId":"grid1"},"events":{"itemdblclick":"app.editBtn.fireEvent('click');"},"children":[{"configs":{"pageSize":"25","autoLoad":"true","itemId":"store","url":"m?xwl=xip/tools/ws/DATA/query"},"children":[],"expanded":false,"type":"store"},{"configs":{"itemId":"tbar"},"children":[{"configs":{"text":"{#xip_tools_ws_addBtn#}","itemId":"addBtn","iconCls":"record_add_icon"},"events":{"click":"app.SQL_TYPE.setValue('Q');\napp.DATAS_FORMAT.enable();\napp.DATAS_FORMAT.setValue('xml');\nWb.request({\n   url : 'm?xwl=xip/auth/role/role/DATA/getUUid',\n   success:function(response){\n     var temp = response.responseText;\n     var resultJson = Wb.decode(temp);\n     app.SQL_ID.setValue(resultJson.uuid);\n   }\n});\napp.OP_TYPE.setValue('_added');\napp.win1.setTitle('{#xip_tools_ws_addBtn#}');\napp.win1.show();"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#xip_tools_ws_editBtn#}","itemId":"editBtn","iconCls":"record_edit_icon"},"events":{"click":"var sm = app.grid1.getSelectionModel();\nif(!sm.hasSelection() || sm.getSelection().length>1){\n  Ext.MessageBox.alert('提示','请选择一条要修改的数据!');\n  return false;\n  \n}else{\n  var rows = sm.getSelection();\n  app.win1.setTitle(\"{#xip_tools_ws_editBtn#}\");\n  app.APP_ID.setValue(rows[0].get('APP_ID'));\n  app.SQL_ID.setValue(rows[0].get('SQL_ID'));\n  app.OP_TYPE.setValue(rows[0].get('OP_TYPE'));\n  app.SQLKEY.setValue(rows[0].get('SQLKEY'));\n  app.SQL_TYPE.setValue(rows[0].get('SQL_TYPE'));\n  app.DATAS_FORMAT.setValue(rows[0].get('DATAS_FORMAT'));\n  app.SQL_STR.setValue(rows[0].get('SQL_STR'));\n  \n  app.APP_NAME.setValue(rows[0].get('APP_ID'));\n  \n  app.DS_NAME.setValue(rows[0].get('DS_NAME'));\n\n  if(rows[0].get('SQL_TYPE') =='Q'){\n    app.DATAS_FORMAT.enable();\n\n  }else{\n    app.DATAS_FORMAT.disable();\n  }\n  \n  app.OP_TYPE.setValue('_modified');\n  app.win1.show();\n}\n"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#xip_tools_ws_delBtn#}","itemId":"delBtn","iconCls":"record_delete_icon"},"events":{"click":"var rows = app.grid1.getSelectionModel().getSelection();\n\nif(rows.length===0){\n  Ext.Msg.alert('{#xip_tools_ws_tip#}','{#xip_tools_ws_delselrow#}');\n  return false ;\n}else{\n  Ext.Msg.confirm('{#xip_tools_ws_tip#}','{#xip_tools_ws_okdel#}',function(a){\n    if(a=='yes'){\n      var idList = \"\" ;\n      Ext.each(rows,function(r){\n      \tvar id = \"'\" + r.data.SQL_ID + \"'\";\n        if(idList === \"\"){\n          idList = id ;\n        }else{\n          idList = idList+\",\"+id ;\n        }\n      });\n      var json = {'ids' : idList} ;\n      Wb.request({\n        url:'m?xwl=xip/tools/ws/DATA/delete',\n        params:json,\n        success:function(){\n           Ext.Msg.alert(\"{#xip_tools_ws_tip#}\",\"{#xip_tools_ws_delok#}\");\n           app.grid1.store.reload();\n        }\n      });\n    }else{\n      return false ;\n    }\n  });\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#xip_tools_ws_testBtn#}","itemId":"testBtn","iconCls":"check_icon"},"events":{"click":"var rows = app.grid1.getSelectionModel().getSelection();\nvar sm=0;\nif(rows.length===0){\n  Ext.Msg.alert('{#xip_tools_ws_tip#}','{#xip_tools_ws_testrow#}!');\n  return false ;\n}else{\n  \n  if(rows.length===1){\n   Ext.Msg.wait(\"{#xip_tools_ws_execute_test#}\");\n   var sql_str = rows[0].get('SQL_STR');\n   var sqlKey = rows[0].get('SQLKEY');\n   var paramList = '';\n   var testArray = [];\n   var  keyArray = [];\n   testArray.push(sql_str);\n   Ext.each(testArray,function(a){\n    var  sqlArray = a.split('${');\n    for(var i = 1;i<sqlArray.length;i++){\n      var tmpStr = sqlArray[i].substring(0,sqlArray[i].indexOf('}'));\n      keyArray.push(tmpStr);\n   }\n   });\n\n  var newArray = Ext.Array.unique(keyArray);\n  //如果存在参数，要求输入参数 否则直接发请求\n  if(newArray.length>0){\n    for(var h=0;h<newArray.length;h++){\n      var paramText = Ext.create('Ext.form.field.Text',{\n        id:'p_'+sm,\n        name:'paramText',\n        fieldLabel:newArray[h],\n        labelAlign:'right'\n      });\n      sm++;\n      app.NUM.setValue(sm);\n      app.paramPanel.add(paramText);\n    }\n    app.testWindow.show();\n    app.resPanel.setHeight(440-35*sm);\n    app.acceptBtn.show();\n      \n  }else{\n      Wb.request({\n       url  : '{#contextPath#}'+'/platformAction.do?method=wsTest',\n       params:{sqlKey: sqlKey,\n               paramList: paramList\n              },\n       success: function(response){\n           Ext.Msg.hide();\n           var respText = Ext.JSON.decode(response.responseText);\n           var paramText = Ext.create('Ext.form.field.Text',{\n              id:'TEST',\n              fieldLabel:'TEST',\n              labelAlign:'right',\n              hidden:true\n            });\n           app.paramPanel.add(paramText);\n           app.testWindow.show();\n           app.resultArea.setValue(respText.msg);\n           app.resPanel.setHeight(440);\n           app.acceptBtn.hide();\n           \n           \n       }\n     });\n    \n  }\n  }else{\n     Ext.Msg.alert('{#xip_tools_ws_tip#}','{#xip_tools_ws_testrow#}!');\n     return false ;\n  } \n  \n}"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"toolbar"},{"configs":{"itemId":"columns"},"children":[{"configs":{"align":"center","xtype":"rownumberer","titleAlign":"center","itemId":"XUHAO"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"SQL_ID","hidden":"true","dataIndex":"SQL_ID","itemId":"SQL_ID_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#xip_tools_ws_keyword#}","width":"100","dataIndex":"SQLKEY","itemId":"SQLKEY_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#xip_tools_ws_type#}","dataIndex":"SQL_TYPE","itemId":"SQL_TYPE_COL","renderer":"if(value=='Q'){\n  return '{#xip_tools_ws_queryBtn#}';\n}else if(value=='U'){\n  return '{#xip_tools_ws_data_op#}';\n}else if(value=='P'){\n  return '{#xip_tools_ws_proc#}';\n}else if(value=='J'){\n  return '{#xip_tools_ws_java#}';\n}"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#xip_tools_ws_data_format#}","width":"150","dataIndex":"DATAS_FORMAT","itemId":"DATAS_FORMAT_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#xip_tools_ws_app#}","width":"200","dataIndex":"APP_NAME","itemId":"APP_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#xip_tools_ws_ds#}","width":"100","dataIndex":"DS_NAME","itemId":"DS_NAME_COL"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#xip_tools_ws_content#}","width":"500","dataIndex":"SQL_STR","itemId":"SQL_STR_COL"},"children":[],"expanded":false,"type":"column"}],"expanded":false,"type":"array"}],"expanded":true,"type":"grid"}],"expanded":true,"type":"viewport"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}