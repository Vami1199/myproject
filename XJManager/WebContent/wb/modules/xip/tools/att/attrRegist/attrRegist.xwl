{"inframe":false,"title":"附件服务器注册","hidden":false,"roles":{"default":1},"children":[{"configs":{"title":"{#att_attrRegist_module_title#}","initScript":"request.setAttribute(\"contextPath\",request.getContextPath());\ncom.xzsoft.xip.platform.util.XipUtil.checkUserFunSec(request,response);","loginRequired":"false","loadJS":"ext","serverScript":"//三方语言,引入对应的json文件\ncom.xzsoft.xip.platform.util.XipUtil.getCurrentLang(request,'xip/tools/att/attrRegist/json/attrRegist');","itemId":"module"},"events":{"initialize":"function getuuid() {\n var s = [];\n var hexDigits = \"0123456789abcdef\";\n for (var i = 0; i < 36; i++) {\n s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\n }\n s[14] = \"4\"; // bits 12-15 of the time_hi_and_version field to 0010\n s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\n s[8] = s[13] = s[18] = s[23] = \"-\";\n\nvar uuid = s.join(\"\");\n return uuid;\n}"},"children":[{"configs":{"itemId":"Winbtns"},"children":[{"configs":{"text":"{#att_attrRegist_save#}","itemId":"saveWin","iconCls":"save_icon"},"events":{"click":"if(!app.form.getForm().isValid()){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg1#}');\n  return false;\n}\nvar servertype = app.SERVER_TYPE.getValue();\n\nvar webname = app.WEB_PROJECT.getValue();\nif(servertype==\"HTTP\"){\n  if(webname === null || webname === \"\"){\n    Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg2#}') ;\n    return false ;\n  }\n}\n\nvar host = app.HOST.getValue();\nif(host.length>0 &&host.match(/[\\x01-\\xFF]*/)===false){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg3#}') ;\n  return false ;\n}\n\nvar port = app.PORT.getValue();\nif(port.length>0 &&port.match(/[\\x01-\\xFF]*/)===false){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg4#}') ;\n  return false ;\n}\nif(webname.length>0 &&webname.match(/[\\x01-\\xFF]*/)===false){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg5#}') ;\n  return false ;\n}\n\n\nvar  SERVER_ID = app.SERVER_ID.getValue();\nvar  SERVER_NAME =app.SERVER_NAME.getValue();\nvar USERNAME=app.USERNAME.getValue();\nvar PASSWORD=app.PASSWORD.getValue();\nvar ENABLE_FLAG=app.ENABLE_FLAG.getValue();\n\nvar json = {\n      SERVER_ID:'',\n      SERVER_NAME:SERVER_NAME,\n      SERVER_TYPE:servertype,\n      HOST:host,\n      PORT:port,\n      WEB_PROJECT:webname,\n      USERNAME:USERNAME,\n      PASSWORD:PASSWORD,\n      ENABLE_FLAG:ENABLE_FLAG\n \n};\n\nif(SERVER_ID===''){//新增\n  json.SERVER_ID = getuuid(); \n   app.SERVER_ID.setValue(json.SERVER_ID);\n        Wb.request({\n           url: 'm?xwl=xip/tools/att/attrRegist/data/insertgrid', \n           params: json,\n           success: function() {\n           Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg6#}');\n           app.win.setTitle('{#att_attrRegist_edit#}');\n           app.grid.store.reload();\n           }\n        });\n}else{//更新\n\n  json.SERVER_ID = SERVER_ID;\n Wb.request({\n           url: 'm?xwl=xip/tools/att/attrRegist/data/updategrid', \n           params: json,\n           success: function() {\n              Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg6#}');\n         \n           app.grid.store.reload();\n           }\n        });\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#att_attrRegist_saveNext#}","itemId":"savenextWin"},"events":{"click":"if(!app.form.getForm().isValid()){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg1#}');\n  return false;\n}\nvar servertype = app.SERVER_TYPE.getValue();\n\nvar webname = app.WEB_PROJECT.getValue();\nif(servertype==\"HTTP\"){\n  if(webname === null || webname === \"\"){\n    Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg2#}') ;\n    return false ;\n  }\n}\n\nvar host = app.HOST.getValue();\nif(host.length>0 &&host.match(/[\\x01-\\xFF]*/)===false){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg3#}') ;\n  return false ;\n}\n\nvar port = app.PORT.getValue();\nif(port.length>0 &&port.match(/[\\x01-\\xFF]*/)===false){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg4#}') ;\n  return false ;\n}\nif(webname.length>0 &&webname.match(/[\\x01-\\xFF]*/)===false){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg5#}') ;\n  return false ;\n}\n\n\nvar  SERVER_ID = app.SERVER_ID.getValue();\nvar  SERVER_NAME =app.SERVER_NAME.getValue();\nvar USERNAME=app.USERNAME.getValue();\nvar PASSWORD=app.PASSWORD.getValue();\nvar ENABLE_FLAG=app.ENABLE_FLAG.getValue();\n\nvar json = {\n      SERVER_ID:'',\n      SERVER_NAME:SERVER_NAME,\n      SERVER_TYPE:servertype,\n      HOST:host,\n      PORT:port,\n      WEB_PROJECT:webname,\n      USERNAME:USERNAME,\n      PASSWORD:PASSWORD,\n      ENABLE_FLAG:ENABLE_FLAG\n \n};\n\nif(SERVER_ID===''){//新增\n  json.SERVER_ID = getuuid(); \n   app.SERVER_ID.setValue(json.SERVER_ID);\n        Wb.request({\n           url: 'm?xwl=xip/tools/att/attrRegist/data/insertgrid', \n           params: json,\n           success: function() {\n           app.form.getForm().reset();\n           app.WEB_PROJECT.setReadOnly(false);\n           Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg6#}');\n           app.win.setTitle('{#att_attrRegist_addServer#}');\n           app.grid.store.reload();\n           }\n        });\n}else{//更新\n\n  json.SERVER_ID = SERVER_ID;\n Wb.request({\n           url: 'm?xwl=xip/tools/att/attrRegist/data/updategrid', \n           params: json,\n           success: function() {\n                  app.form.getForm().reset();\n           app.WEB_PROJECT.setReadOnly(false);\n           Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg6#}');\n           app.win.setTitle('{#att_attrRegist_addServer#}');\n         \n           app.grid.store.reload();\n           }\n        });\n}"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#att_attrRegist_test#}","itemId":"btnConnectionTest","iconCls":"get_icon"},"events":{"click":"if(!app.form.getForm().isValid()){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg1#}');\n  return false;\n}\nvar servertype = app.SERVER_TYPE.getValue();\n\nvar webname = app.WEB_PROJECT.getValue();\nif(servertype==\"HTTP\"){\n  if(webname === null || webname === \"\"){\n    Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg2#}') ;\n    return false ;\n  }\n}\n\nvar host = app.HOST.getValue();\nif(host.length>0 &&host.match(/[\\x01-\\xFF]*/)===false){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg3#}') ;\n  return false ;\n}\n\nvar port = app.PORT.getValue();\nif(port.length>0 &&port.match(/[\\x01-\\xFF]*/)===false){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg4#}') ;\n  return false ;\n}\nif(webname.length>0 &&webname.match(/[\\x01-\\xFF]*/)===false){\n  Ext.Msg.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_prompt_msg5#}') ;\n  return false ;\n}\nvar USERNAME=app.USERNAME.getValue();\nvar PASSWORD=app.PASSWORD.getValue();\nvar json = {\n      \"type\":servertype,\n      \"host\":host,\n      \"port\":port,\n      \"webProject\":webname,\n      \"userName\":USERNAME,\n      \"password\":PASSWORD\n};\nExt.Msg.wait('{#att_attrRegist_in_test#}');\nExt.Ajax.request({\n  url : '{#contextPath#}'+'/xipAttMrgAction.do?method=connectionTest',\n  timeout: 60*60*3600,\n  params: json,\n  method: 'POST',\n  success: function(response,options){\n    var resultJson = Ext.JSON.decode(response.responseText);\n    Ext.Msg.hide(null,function(){\n      Ext.Msg.alert('',resultJson.msg);\n    });\n  },\n  failure: function(response,options){\n    Ext.Msg.hide(null,function(){\n      Ext.Msg.alert('','{#att_attrRegist_server_noconnect#}');\n    });\n  }\n});"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#att_attrRegist_close#}","itemId":"closeWin","iconCls":"cancel_icon"},"events":{"click":"app.win.close();"},"children":[],"expanded":false,"type":"button"}],"expanded":false,"type":"array"},{"configs":{"itemId":"udWinbtns"},"children":[{"configs":{"text":"{#att_attrRegist_export#}","itemId":"expbtn"},"events":{"click":"var rec = app.updownGrid.getSelection();\n\nif(!rec.length ){\n  Ext.MessageBox.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_select_enclosure#}');\n  return false;\n}\n\nvar record = rec[0];\n\nvar flag = true;\nvar msg = '';\n\nExt.Msg.wait('{#att_attrRegist_inconnect_server#}');\nExt.Ajax.request({\n  url : '{#contextPath#}'+'/xipAttMrgAction.do?method=connectionTest',\n  timeout: 60*60*3600,\n  async:false,\n  params: {serverId:app.ATT_SERVER_ID.getValue()},\n  method: 'POST',\n  success: function(response,options){\n    var resultJson = Ext.JSON.decode(response.responseText);\n    if(resultJson.flag=='true'){\n      flag = true;\n    }else{\n      flag = false;\n    }\n    msg = resultJson.msg;\n  },\n  failure: function(response,options){\n    msg = '{#att_attrRegist_server_noconnect#}';\n    flag = false;\n  }\n});\n\nif(!flag){\n  Ext.Msg.hide(null,function(){\n    Ext.MessageBox.alert('',msg);\n  });\n  return;\n}else{\n  Ext.Msg.hide();\n}\nwindow.location.href= \"{#contextPath#}\"+\"/xipAttMrgAction.do?method=expZip&attCatCode=\"+record.get('CAT_CODE')+\"&org=\"+record.get('ORG_ID')+\"&serverId=\"+app.ATT_SERVER_ID.getValue();\t"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#att_attrRegist_import#}","itemId":"impbtn"},"events":{"click":"var record = app.updownGrid.getSelection();\n\nif(!record.length ){\n  Ext.MessageBox.alert('{#att_attrRegist_prompt#}','{#att_attrRegist_select_enclosure#}');\n  return false;\n}\n\n\n\napp.imp_attr_cat.setValue(record[0].get('CAT_CODE'));\n\napp.imp_org_id.setValue(record[0].get('ORG_ID'));\n\napp.impwin.show();"},"children":[],"expanded":false,"type":"button"}],"expanded":false,"type":"array"},{"configs":{"height":"230","width":"600","layout":"fit","closeAction":"hide","buttonAlign":"center","buttons":"app.Winbtns","itemId":"win","dialog":"false","modal":"true"},"children":[{"configs":{"frame":"true","style":"border-width:0px","itemId":"form","border":"false","bodyPadding":"20px 0px 20px 20px "},"children":[{"configs":{"hidden":"true","itemId":"SERVER_ID"},"children":[],"expanded":false,"type":"text"},{"configs":{"frame":"true","style":"border-width:0px;padding-top:5px","bodyCls":"my-panel-no-border","layout":"column","itemId":"panel1","border":"false"},"children":[{"configs":{"labelWidth":"120","allowBlank":"false","displayField":"V","width":"260","valueField":"N","labelAlign":"right","itemId":"SERVER_TYPE","fieldLabel":"<font color='red'>*<\/font>{#att_attrRegist_server_type#}","forceSelection":"true"},"children":[{"configs":{"itemId":"store","url":"m?xwl=xip/tools/att/attrRegist/data/queryServType"},"children":[],"expanded":false,"type":"store"}],"expanded":true,"type":"combo"},{"configs":{"labelWidth":"120","allowBlank":"false","width":"240","labelAlign":"right","itemId":"SERVER_NAME","fieldLabel":"<font color='red'>*<\/font>{#att_attrRegist_server_name#}"},"children":[],"expanded":false,"type":"text"}],"expanded":true,"type":"panel"},{"configs":{"frame":"true","style":"border-width:0px;padding-top:5px","bodyCls":"my-panel-no-border","layout":"column","itemId":"panel11","border":"false"},"children":[{"configs":{"labelWidth":"120","allowBlank":"false","width":"260","labelAlign":"right","itemId":"HOST","fieldLabel":"<font color='red'>*<\/font>{#att_attrRegist_server_host#}"},"events":{"afterrender":"var _tip='';\n_tip = '<font color=\"red\">'+\"{#att_attrRegist_format_example#}\"+'<\/br>http://www.xzsoft.cc <\/br> http://localhost<\/br> http://192.168.0.1 <\/br> http://xzsoft.cc'; \nExt.QuickTips.init();\nExt.QuickTips.register({\ntarget : this.el,  \ntext : _tip});","beforerender":"  "},"children":[],"expanded":true,"type":"text"},{"configs":{"labelWidth":"120","allowBlank":"false","width":"240","labelAlign":"right","itemId":"PORT","fieldLabel":"<font color='red'>*<\/font>{#att_attrRegist_server_port#}"},"events":{"beforerender":"  "},"children":[],"expanded":true,"type":"text"}],"expanded":true,"type":"panel"},{"configs":{"frame":"true","style":"border-width:0px;padding-top:6px","bodyCls":"my-panel-no-border","layout":"column","itemId":"panel12","border":"false"},"children":[{"configs":{"labelWidth":"120","width":"260","labelAlign":"right","itemId":"WEB_PROJECT","fieldLabel":"{#att_attrRegist_webName#}"},"children":[],"expanded":false,"type":"text"},{"configs":{"labelWidth":"120","allowBlank":"false","width":"240","value":"Y","pickList":"[['Y','{#att_attrRegis_isOpen#}'],['N','{#att_attrRegis_isClose#}']]","labelAlign":"right","itemId":"ENABLE_FLAG","fieldLabel":"{#att_attrRegis_enable#}","forceSelection":"true"},"children":[],"expanded":true,"type":"combo"}],"expanded":true,"type":"panel"},{"configs":{"frame":"true","style":"border-width:0px;padding-top:6px","bodyCls":"my-panel-no-border","layout":"column","itemId":"panel13","border":"false"},"children":[{"configs":{"labelWidth":"120","allowBlank":"false","width":"260","labelAlign":"right","itemId":"USERNAME","fieldLabel":"<font color='red'>*<\/font>{#att_attrRegis_server_user#}"},"children":[],"expanded":false,"type":"text"},{"configs":{"labelWidth":"120","allowBlank":"false","inputType":"password","width":"240","labelAlign":"right","itemId":"PASSWORD","fieldLabel":"<font color='red'>*<\/font>{#att_attrRegis_server_password#}"},"children":[],"expanded":false,"type":"text"}],"expanded":true,"type":"panel"}],"expanded":true,"type":"form"}],"expanded":true,"type":"window"},{"configs":{"height":"100","layout":"fit","width":"380","closeAction":"hide","dialog":"true","itemId":"impwin"},"events":{"ok":"if(Ext.isEmpty(app.impFile.getValue())){\n  Ext.Msg.alert('','{#att_attrRegis_select_file#}');\n  return;\n}\n\nExt.Msg.wait('{#att_attrRegis_in_handle#}');\n\napp.impForm.getForm().submit({\n  url : \"{#contextPath#}\"+\"/xipAttMrgAction.do?method=impZip&attCatCode=\"+app.imp_attr_cat.getValue()+\"&org=\"+app.imp_org_id.getValue()+\"&serverId=\"+app.ATT_SERVER_ID.getValue(),\n  method : 'POST',\t\t\t\t\t\t\t\n  success : function(from, action) {\n    Ext.Msg.hide(null, function(){\n      \n      Ext.Msg.alert('','{#att_attrRegis_upload_success#}');\n      app.impwin.hide();\n      \n    });\n  },\t\t\t\t\t\t\t\n  failure : function(from, action) {\n    Ext.Msg.hide(null, function(){\n      Wb.warn(action.result.msg);\n    });\n  }\t\t\t\t\t\t\n});"},"children":[{"configs":{"frame":"true","layout":"form","itemId":"impForm"},"children":[{"configs":{"hidden":"true","itemId":"imp_attr_cat"},"children":[],"expanded":false,"type":"text"},{"configs":{"hidden":"true","itemId":"imp_org_id"},"children":[],"expanded":false,"type":"text"},{"configs":{"labelWidth":"100","labelAlign":"right","itemId":"impFile","fieldLabel":"{#att_attrRegis_select_file#}"},"children":[],"expanded":false,"type":"file"}],"expanded":true,"type":"form"}],"expanded":false,"type":"window"},{"configs":{"title":"{#att_attrRegis_enclosure_import_export#}","height":"260","width":"500","layout":"fit","closeAction":"hide","buttonAlign":"center","buttons":"app.udWinbtns","itemId":"updownwin","dialog":"false","modal":"true"},"children":[{"configs":{"hidden":"true","itemId":"ATT_SERVER_ID"},"children":[],"expanded":false,"type":"text"},{"configs":{"hidden":"true","itemId":"ATT_SERVER_NAME"},"children":[],"expanded":false,"type":"text"},{"configs":{"itemId":"updownGrid","simpleSelect":"false"},"children":[{"configs":{"itemId":"store","url":"m?xwl=xip/tools/att/attrRegist/data/getAttrCatById"},"children":[],"expanded":false,"type":"store"},{"configs":{"itemId":"columns"},"children":[{"configs":{"text":"ID","hidden":"true","dataIndex":"ATT_CAT_ID","itemId":"catIdColumn"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#att_attrRegis_enclosure_type_code#}","width":"120","dataIndex":"CAT_CODE","itemId":"catCodeColumn"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#att_attrRegis_enclosure_type_name#}","width":"120","dataIndex":"CAT_NAME","itemId":"catNameColumn"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#att_attrRegis_enclosure_type_desc#}","dataIndex":"DESCRIPTION","itemId":"catDescColumn","flex":"1"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#att_attrRegis_org#}","hidden":"true","dataIndex":"ORG_ID","itemId":"catorgColumn"},"children":[],"expanded":false,"type":"column"}],"expanded":true,"type":"array"}],"expanded":true,"type":"grid"}],"expanded":false,"type":"window"},{"configs":{"layout":"border","itemId":"viewport"},"children":[{"configs":{"region":"north","frame":"true","height":"80","style":"border-width:0px","layout":"fit","border":"false","itemId":"queryform"},"children":[{"configs":{"title":"{#att_attrRegis_query_condition#}","style":"padding-top:8px","collapsible":"true","layout":"column","itemId":"fieldset1"},"children":[{"configs":{"labelWidth":"100","width":"190","labelAlign":"right","itemId":"serverName","fieldLabel":"{#att_attrRegist_server_name#}"},"events":{"specialkey":"app.grid.store.load( {  params:{serverName:app.serverName.getValue(),serverHost:app.serverHost.getValue(),quztCombox:app.quztCombox.getValue()    }});"},"children":[],"expanded":false,"type":"text"},{"configs":{"labelWidth":"100","width":"190","labelAlign":"right","itemId":"serverHost","fieldLabel":"{#att_attrRegis_server_address#}"},"events":{"specialkey":"app.grid.store.load( {  params:{serverName:app.serverName.getValue(),serverHost:app.serverHost.getValue(),quztCombox:app.quztCombox.getValue()    }});"},"children":[],"expanded":false,"type":"text"},{"configs":{"labelWidth":"100","width":"180","labelAlign":"right","pickList":"[['Y', '{#att_attrRegis_yes#}'], ['N', '{#att_attrRegis_no#}']]","itemId":"quztCombox","fieldLabel":"{#att_attrRegis_enable_status#}","forceSelection":"true"},"events":{"select":"app.grid.store.load( {  params:{serverName:app.serverName.getValue(),serverHost:app.serverHost.getValue(),quztCombox:app.quztCombox.getValue()    }});","specialkey":"app.grid.store.load( {  params:{serverName:app.serverName.getValue(),serverHost:app.serverHost.getValue(),quztCombox:app.quztCombox.getValue()    }});"},"children":[],"expanded":true,"type":"combo"},{"configs":{"text":"{#att_attrRegis_query#}","itemId":"queryBtn","iconCls":"seek_icon","x":"10"},"events":{"click":"app.grid.store.load( {  params:{serverName:app.serverName.getValue(),serverHost:app.serverHost.getValue(),quztCombox:app.quztCombox.getValue()    }});"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"{#att_attrRegis_reset#}","itemId":"resetBtn","iconCls":"refresh_icon","x":"20"},"events":{"click":"app.queryform.getForm().reset();\napp.grid.store.load();"},"children":[],"expanded":true,"type":"button"}],"expanded":true,"type":"fieldset"}],"expanded":false,"type":"form"},{"configs":{"region":"center","multiSelect":"true","selType":"rowmodel","itemId":"grid"},"events":{"itemdblclick":"app.editBtn.fireEvent('click');"},"children":[{"configs":{"autoLoad":"true","itemId":"store","url":"m?xwl=xip/tools/att/attrRegist/data/queryAttServ"},"children":[],"expanded":false,"type":"store"},{"configs":{"itemId":"tbar"},"children":[{"configs":{"text":"-","itemId":"item1"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#att_attrRegis_add#}","itemId":"addBtn","iconCls":"application_add_icon"},"events":{"click":"var win = new Ext.window.Window(app._win);\nwin.show();\n\napp.win.setTitle('{#att_attrRegis_add#}');\n\n"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item2"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#att_attrRegist_edit#}","itemId":"editBtn","iconCls":"table_edit_icon"},"events":{"click":"//var win = new Ext.window.Window(app._win);\nWb.edit(app.grid,app.win);\napp.win.setTitle('{#att_attrRegist_edit#}');\n//回显程序名称cmbox\nvar rec=app.grid.getSelection();\nvar type=rec[0].get('SERVER_TYPE');\napp.SERVER_TYPE.store.load(function (){\napp.SERVER_TYPE.setRawValue(type);\napp.SERVER_TYPE.setValue(type);  \n});\n"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item3"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#att_attrRegis_delete#}","itemId":"deleteBtn","iconCls":"application_delete_icon"},"events":{"click":"\nvar recs = app.grid.getSelection();\n\n\nif (!recs.length) {\n  Wb.warn('{#att_attrRegis_delete_record#}');\n  return false ;\n}\nExt.Msg.confirm('{#att_attrRegist_prompt#}','{#att_attrRegis_delete_select_record#}',function(a){\n    if(a=='yes'){\n    \n      var json ={\n        SERVER_ID:recs[0].get('SERVER_ID')\n      };\n    Wb.request({\n        url: 'm?xwl=xip/tools/att/attrRegist/data/delete', \n           params:  json,\n   \n           success: function() {\n          app.grid.store.reload();\n           }\n    \n    });\n    }\n  });"},"children":[],"expanded":false,"type":"button"},{"configs":{"text":"-","itemId":"item31"},"children":[],"expanded":false,"type":"item"},{"configs":{"text":"{#att_attrRegis_enclosure_import_export#}","itemId":"updownBtn","iconCls":"module_icon"},"events":{"click":"var recs = app.grid.getSelection();\n\n\nif (!recs.length) {\n  Wb.warn('{#att_attrRegis_edit_record#}');\n  return false ;\n}\n\n\napp.ATT_SERVER_ID.setValue(recs[0].data.SERVER_ID);\napp.ATT_SERVER_NAME.setValue(recs[0].data.SERVER_NAME);\n\n\napp.updownGrid.store.load({params:{ATT_SERVER_ID:recs[0].data.SERVER_ID}});\napp.updownwin.show();"},"children":[],"expanded":false,"type":"button"}],"expanded":true,"type":"toolbar"},{"configs":{"itemId":"columns"},"children":[{"configs":{"align":"center","xtype":"rownumberer","titleAlign":"center","itemId":"chartNumber"},"children":[],"expanded":false,"type":"column"},{"configs":{"hidden":"true","dataIndex":"SERVER_ID","itemId":"serverid"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"HOST","hidden":"true","dataIndex":"HOST","itemId":"COLUMN_HOST"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"PORT","hidden":"true","dataIndex":"PORT","itemId":"COLUMN_PORT"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"WEB_PROJECT","hidden":"true","dataIndex":"WEB_PROJECT","itemId":"COLUMN_WEB_PROJECT"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#att_attrRegist_server_type#}","width":"200","dataIndex":"SERVER_TYPE","itemId":"COLUMN_SERVER_TYPE"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#att_attrRegist_server_name#}","width":"200","dataIndex":"SERVER_NAME","itemId":"COLUMN_SERVER_NAME"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#att_attrRegis_server_address#}","width":"280","dataIndex":"SERVER_ADDR","itemId":"COLUMN_SERVER_ADDR"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"{#att_attrRegis_enable#}","width":"120","dataIndex":"ENABLE_FLAG","itemId":"COLUMN_ENABLE_FLAG","renderer":"if(value === \"Y\"){\n  return '{#att_attrRegis_isOpen#}';\n}else if(value === \"N\"){\n  return \"<font color='red'>\"+'{#att_attrRegis_isClose#}'+\"<\/font>\";\n}else{\n  return value;\n} "},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"PASSWORD","hidden":"true","dataIndex":"PASSWORD","itemId":"COLUMN_PASSWORD"},"children":[],"expanded":false,"type":"column"},{"configs":{"text":"USERNAME","hidden":"true","dataIndex":"USERNAME","itemId":"COLUMN_USERNAME"},"children":[],"expanded":false,"type":"column"}],"expanded":true,"type":"array"}],"expanded":true,"type":"grid"}],"expanded":true,"type":"viewport"}],"expanded":true,"type":"module"}],"pageLink":"","iconCls":""}