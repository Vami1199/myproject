[[MODULE_ID,PARENT_ID,MODULE_CONTENT,DISPLAY_NAME,DISPLAY_ICON,IS_HIDDEN,NEW_WIN,CREATE_USER,CREATE_DATE,LAST_MODIFY_USER,LAST_MODIFY_DATE,ORDER_INDEX],["13L88K98GZO2","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Module\",\"initMethod\":\"com.webbuilder.interact.Designer.getModule\",\"createBody\":false}","Get Module","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:07:13.0",15],["13L88K98GZO3","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Module Tree\",\"initMethod\":\"com.webbuilder.interact.Designer.getModuleTree\",\"createBody\":false}","Get Module Tree","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:00:40.0",16],["13L88K98GZO4","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save Module\",\"initMethod\":\"com.webbuilder.interact.Designer.saveModule\"}","Save Module","save_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2014-02-13 13:11:44.0",4],["13L88K98GZO5","13LS50NO0WMA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Control Tree\",\"initMethod\":\"com.webbuilder.interact.Designer.getControlTree\",\"createBody\":false}","Get Control Tree","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:08:05.0",32],["13L88K98GZO6","13LS50NO0WMA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Control\",\"initMethod\":\"com.webbuilder.interact.Designer.getControl\",\"createBody\":false}","Get Control","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:02:47.0",29],["13L88K98GZO7","13LS50NO0WMA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save Control\",\"initMethod\":\"com.webbuilder.interact.Designer.saveControl\"}","Save Control","save_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:01:12.0",25],["13L88K98GZO8","13LS50NO0WMA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save Control Tree\",\"initMethod\":\"com.webbuilder.interact.Designer.saveMetaTree\"}","Save Control Tree","save_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:05:33.0",28],["13L88K98GZO9","13LS50NO0WMA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"New Control\",\"initMethod\":\"com.webbuilder.interact.Designer.newControl\",\"createBody\":\"false\"}","New Control","new_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:04:28.0",23],["13L88K98GZOB","13LS50NO0WMA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Control\",\"initMethod\":\"com.webbuilder.interact.Designer.deleteControl\"}","Delete Control","delete_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:05:44.0",24],["13L88K98GZOC","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"New Module\",\"createBody\":\"false\",\"children\":[{\"xwlMeta\":\"method\",\"id\":\"checkParentId\",\"methodName\":\"com.webbuilder.interact.Designer.checkParentId\"},{\"xwlMeta\":\"query\",\"id\":\"updateIndex\",\"sql\":\"update WB_MODULE set ORDER_INDEX=ORDER_INDEX+1 \\nwhere PARENT_ID={?parentId?} and ORDER_INDEX>={?integer.orderIndex?}\",\"transaction\":\"start\",\"type\":\"update\"},{\"xwlMeta\":\"query\",\"id\":\"insertModule\",\"sql\":\"insert into WB_MODULE (MODULE_ID,PARENT_ID,MODULE_CONTENT,DISPLAY_NAME,DISPLAY_ICON,IS_HIDDEN,NEW_WIN,CREATE_USER,CREATE_DATE,LAST_MODIFY_USER,LAST_MODIFY_DATE,ORDER_INDEX)\\nvalues({?sys.id?},{?parentId?},{?text.content?},{?title?},{?icon?},{?integer.hidden?},{?integer.newWin?},{?sys.user?},{?sys.date?},{?sys.user?},{?sys.date?},{?integer.orderIndex?})\",\"type\":\"update\"},{\"xwlMeta\":\"method\",\"id\":\"newModule\",\"methodName\":\"com.webbuilder.interact.Designer.newModule\"}]}","New Module","new_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-04-24 14:38:34.0",2],["13L88K98GZOD","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Module\",\"initMethod\":\"com.webbuilder.interact.Designer.deleteModule\",\"createBody\":\"false\"}","Delete Module","delete_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-11 14:00:44.0",3],["13L88K98GZOE","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save Module Tree\",\"children\":[{\"xwlMeta\":\"method\",\"id\":\"checkParentId\",\"methodName\":\"com.webbuilder.interact.Designer.checkParentId\"},{\"xwlMeta\":\"query\",\"id\":\"updateDest\",\"sql\":\"update WB_MODULE set ORDER_INDEX=ORDER_INDEX+1\\nwhere PARENT_ID={?parentId?} and ORDER_INDEX>={?integer.orderIndex?}\",\"transaction\":\"start\",\"type\":\"update\"},{\"xwlMeta\":\"query\",\"id\":\"updateSrc\",\"sql\":\"update WB_MODULE set PARENT_ID={?parentId?},ORDER_INDEX={?integer.orderIndex?}\\nwhere MODULE_ID={?srcId?}\",\"type\":\"update\"},{\"xwlMeta\":\"method\",\"id\":\"saveModuleTree\",\"methodName\":\"com.webbuilder.interact.Designer.saveModuleTree\"}]}","Save Module Tree","save_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",7],["13L88K98GZOF","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Set Module\",\"createBody\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"setModule\",\"sql\":\"update WB_MODULE set DISPLAY_NAME={?title?},DISPLAY_ICON={?icon?},IS_HIDDEN={?integer.hidden?},\\nNEW_WIN={?integer.newWin?},LAST_MODIFY_USER={?sys.user?},LAST_MODIFY_DATE={?sys.date?}\\nwhere MODULE_ID={?id?}\",\"transaction\":\"start\",\"type\":\"update\"},{\"xwlMeta\":\"method\",\"id\":\"updateModule\",\"methodName\":\"com.webbuilder.interact.Designer.updateModule\"}]}","Set Module","set_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-04-24 14:38:14.0",17],["13L88K98GZOG","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Paste Module\",\"initMethod\":\"com.webbuilder.interact.Designer.pasteModule\",\"createBody\":\"false\"}","Paste Module","paste_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:08:23.0",8],["13LRIOHKYMUT","-1",null,"{#Str.devSuite#}","system_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",28],["13LRISKIV0QN","13LRIOHKYMUT",null,"{#Str.ide#}",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",41],["13LS50NO0WMA","13LRIOHKYMUT",null,"{#Str.controlManager#}",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",49],["13LTWFOE5ROX","13LWEWRP050P",null,"Portal",null,0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",3],["13LTWX2EDCP6","13LTWFOE5ROX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"List Modules\",\"initMethod\":\"com.webbuilder.interact.Designer.listModules\",\"createBody\":false}","List Modules","list_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 09:56:50.0",3],["13LWEWRP050P","-1",null,"{#Str.systemModule#}","engine_icon",1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",33],["13LWP4OU1NNM","13LWEWRP050P",null,"Session",null,0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",6],["13LXLBTP5Q2S","-1",null,"{#Str.managementTools#}","tool_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",25],["13M25NK0Q06M","13LXLBTP5Q2S",null,"{#Str.varConfig#}",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",30],["13M25NK0Q06N","13M25NK0Q06M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Variable Tree\",\"initMethod\":\"com.webbuilder.interact.MngTool.getVarTree\",\"createBody\":\"false\"}","Get Variable Tree","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:06:09.0",1],["13M2IZCBDMHK","13M25NK0Q06M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"New Variable\",\"initMethod\":\"com.webbuilder.interact.MngTool.newVar\",\"createBody\":\"false\"}","New Variable","new_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:03:18.0",2],["13M5J5SJ5FMA","13M25NK0Q06M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Variable\",\"initMethod\":\"com.webbuilder.interact.MngTool.deleteVar\"}","Delete Variable","delete_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:06:23.0",3],["13M5JYLO38G4","13M25NK0Q06M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Variable\",\"initMethod\":\"com.webbuilder.interact.MngTool.updateVar\"}","Set Variable","set_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:02:28.0",4],["13M5L0M7HKAI","13LXLBTP5Q2S",null,"{#Str.sysInfo#}",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",60],["13M5L0M7HKAK","13M5L0M7HKAI","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get System Information\",\"initMethod\":\"com.webbuilder.interact.MngTool.getSysInfo\",\"createBody\":\"false\"}","Get System Information","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:04:00.0",1],["13M5W3GMF7ZS","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Files\",\"initMethod\":\"com.webbuilder.interact.FileSystem.getFileTree\",\"createBody\":\"false\"}","Get Files","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:07:55.0",18],["13M68676BV31","13LXLBTP5Q2S",null,"{#Str.roleConfig#}",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",26],["13M68676BV32","13M68676BV31","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Variable\",\"initMethod\":\"com.webbuilder.interact.MngTool.updateRole\"}","Update","set_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 09:59:47.0",4],["13M68676BV33","13M68676BV31","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"New Variable\",\"initMethod\":\"com.webbuilder.interact.MngTool.appendRole\",\"createBody\":\"false\"}","Append","new_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-05-11 10:31:28.0",2],["13M68676BV34","13M68676BV31","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Variable Tree\",\"initMethod\":\"com.webbuilder.interact.MngTool.getRoleTree\"}","Get Tree","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:03:39.0",1],["13M68676BV35","13M68676BV31","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Variable\",\"initMethod\":\"com.webbuilder.interact.MngTool.deleteRole\"}","Delete","delete_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-04-19 20:42:23.0",3],["13M7Z53P8CRB","13LXLBTP5Q2S",null,"{#Str.permConfig#}",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",19],["13M809ZVL0Z8","13M7Z53P8CRB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Set Properties\",\"initMethod\":\"com.webbuilder.interact.MngTool.setRoles\"}","Set Roles","set_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 09:59:05.0",4],["13M809ZVL10D","13M7Z53P8CRB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Module Tree\",\"createBody\":false,\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"role\",\"name\":\"role\",\"value\":\"1\"},{\"xwlMeta\":\"method\",\"id\":\"getModuleTree\",\"methodName\":\"com.webbuilder.interact.Designer.getModuleTree\"}]}","Get Module Tree","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",1],["13M81PNEJ0J9","13M7Z53P8CRB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Variable Tree\",\"createBody\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"check\",\"value\":\"1\"},{\"xwlMeta\":\"method\",\"id\":\"getRoleTree\",\"methodName\":\"com.webbuilder.interact.MngTool.getRoleTree\"}]}","Get Role Tree","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",3],["13MA47ZS9PPX","13LXLBTP5Q2S",null,"{#Str.userAccount#}",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",17],["13MA7XERCMW3","13MA47ZS9PPX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Variable Tree\",\"initMethod\":\"com.webbuilder.interact.MngTool.getRoleTree\",\"createBody\":\"false\"}","Get Role Tree","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:06:50.0",2],["13MA8064FPNM","13MA47ZS9PPX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Users\",\"createBody\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"users\",\"sql\":\"select count(*) as \\\"CT\\\" from WB_USER\",\"loadData\":\"true\"},{\"xwlMeta\":\"method\",\"id\":\"getUsers\",\"methodName\":\"com.webbuilder.interact.MngTool.getUsers\"}]}","Get Users","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-12-17 12:00:33.0",1],["13MAQYECL309","13MA47ZS9PPX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Insert User\",\"children\":[{\"xwlMeta\":\"method\",\"id\":\"getPwdSql\",\"methodName\":\"com.webbuilder.interact.MngTool.getPwdSql\"},{\"xwlMeta\":\"query\",\"id\":\"check\",\"sql\":\"select count(*) as \\\"V\\\" from WB_USER where USER_NAME={?userName?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"userExists\",\"message\":\"[\\\"alreadyExists\\\",\\\"{#userName#}\\\"]\",\"name\":\"check.V\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"insertUser\",\"sql\":\"insert into WB_USER values({?sys.id?},{?userName?},{?dispName?},{?pwd?},1,{?sys.date?},0,{?email?},null,null)\",\"transaction\":\"start\",\"type\":\"update\"},{\"xwlMeta\":\"query\",\"id\":\"insertRole\",\"sql\":\"insert into WB_USER_ROLE values({?sys.id?},{?id?})\",\"arrayName\":\"roleArray\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{userId:\\\"{#sys.id#}\\\",status:1,createDate:\\\"{#sys.now#}\\\"}\"}]}","Insert User","new_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-07-02 11:42:11.0",4],["13MAQYECL30C","13MA47ZS9PPX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Update User\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"isUpdate\",\"value\":\"1\"},{\"xwlMeta\":\"method\",\"id\":\"getPwdSql\",\"methodName\":\"com.webbuilder.interact.MngTool.getPwdSql\"},{\"xwlMeta\":\"query\",\"id\":\"check\",\"sql\":\"select count(*) as \\\"V\\\" from WB_USER where USER_NAME={?userName?} and USER_ID<>{?userId?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"userExists\",\"message\":\"[\\\"alreadyExists\\\",\\\"{#userName#}\\\"]\",\"name\":\"check.V\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"updateUser\",\"sql\":\"update WB_USER set USER_NAME={?userName?},DISPLAY_NAME={?dispName?},EMAIL={?email?}{#pwdSql#} where USER_ID={?userId?}\",\"uniqueUpdate\":\"true\"},{\"xwlMeta\":\"query\",\"id\":\"deleteRole\",\"sql\":\"delete from WB_USER_ROLE where USER_ID={?userId?}\",\"type\":\"update\"},{\"xwlMeta\":\"query\",\"id\":\"insertRole\",\"sql\":\"insert into WB_USER_ROLE values({?userId?},{?id?})\",\"arrayName\":\"roleArray\"},{\"xwlMeta\":\"method\",\"id\":\"updateUserRole\",\"methodName\":\"com.webbuilder.interact.MngTool.updateUserRole\"}]}","Update User","edit_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-05-28 15:01:48.0",5],["13MB2DCXASYR","13MA47ZS9PPX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete User\",\"initMethod\":\"com.webbuilder.interact.MngTool.disableUsers\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"deleteUsers\",\"sql\":\"delete from WB_USER where USER_ID={?userId?}\",\"transaction\":\"start\",\"arrayName\":\"jsonArray\"},{\"xwlMeta\":\"query\",\"id\":\"deleteRoles\",\"sql\":\"delete from WB_USER_ROLE where USER_ID={?userId?}\",\"arrayName\":\"jsonArray\"},{\"xwlMeta\":\"query\",\"id\":\"deleteValue\",\"sql\":\"delete from WB_VALUE where VAL_ID like {?userIdPrefix?}\",\"arrayName\":\"jsonArray\"},{\"xwlMeta\":\"query\",\"id\":\"deleteResource\",\"sql\":\"delete from WB_RESOURCE where RES_ID like {?userIdPrefix?}\",\"arrayName\":\"jsonArray\"}]}","Delete User","delete_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-06-04 17:17:35.0",6],["13MC0NFI4FQD","13LWP4OU1NNM",null,"Login",null,0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",8],["13MC0NFI4FQE","13MC0NFI4FQD","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Verify\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"method\",\"id\":\"verify\",\"methodName\":\"com.webbuilder.common.Session.verify\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update WB_USER set LOGIN_TIMES=LOGIN_TIMES+1, LAST_LOGIN={?sys.date?} where USER_ID={?sys.user?}\"}]}","Verify","check_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-06-26 13:41:23.0",1],["13MC0NFI4FRE","13MC0NFI4FQD","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Verify Image\",\"initMethod\":\"com.webbuilder.tool.VerifyImage.outputImage\",\"createBody\":\"false\",\"loginRequired\":\"false\"}","Get Verify Image","image_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-07-14 12:43:29.0",2],["13MGK6CEF9EG","-1",null,"{#Str.aboutSys#}","info_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",29],["13MJ0UF8I3PJ","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Multi-language Editor\",\"initMethod\":\"com.webbuilder.interact.Example.langEditorInit\",\"finalize\":\"tabPanel1.fireEvent('tabchange',tabPanel1,tabPanel1.items.items[0]);\",\"initialize\":\"var langName=null;\\n\\nfunction areaChange(o){\\nvar n=o.id;\\nWb.setModified(Wb.get('tab_'+n.substring(5)));\\n}\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.save\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"click\":\"saveAjax.request();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.refresh\",\"iconCls\":\"refresh_icon\",\"id\":\"refreshBtn\",\"click\":\"var t=tabPanel1.getActiveTab(),l=t.id.substring(4);\\nif(t.isModified)\\nWb.confirm(Wb.format(Str.saveConfirm,l),saveAjax.request);\\nelse{\\nWb.get('area_'+l).langLoaded=false;\\ntabPanel1.fireEvent('tabchange',tabPanel1,t,t);\\n}\"}]},{\"xwlMeta\":\"ajax\",\"url\":\"#13MJ178R2GMV (Set Content)\",\"id\":\"saveAjax\",\"success\":\"tabPanel1.items.each(function(t){\\nif(t.isModified)Wb.delModified(t);\\n});\",\"beforerequest\":\"var n,l={};\\ntabPanel1.items.each(function(t){\\nif(t.isModified){\\nn=t.id.substring(4);\\nl['lang_'+n]=Wb.get('area_'+n).getValue();\\n}\\n});\\nif(Wb.isEmptyObj(l))return false;\\nsaveAjax.params=l;\"},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"tbar\":\"toolbar1\",\"id\":\"panel1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"autoScroll\":\"true\",\"root\":\"{children:[{#treeContent#}]}\",\"width\":\"120\",\"id\":\"tree1\",\"rootVisible\":\"false\",\"split\":\"true\",\"itemclick\":\"tabPanel1.setActiveTab('tab_'+record.get('text'));\"},{\"xwlMeta\":\"tabPanel\",\"id\":\"tabPanel1\",\"region\":\"center\",\"tabchange\":\"var c=newCard,l=newCard.id.substring(4),t=Wb.get('area_'+l);\\nif(!t.langLoaded&&!t.langLoading){\\nt.langLoading=true;\\nWb.request({url:'main?xwl=13MJ178R2GMS',mask:c,params:{lang:l},callback:function(){\\nt.langLoading=false;\\n},failure:function(r){\\nt.setDisabled(true);\\n},\\nsuccess:function(r){\\nt.langLoaded=true;\\nt.un('change',areaChange);\\nt.setValue(r.responseText);\\nt.on('change',areaChange);\\nt.setDisabled(false);\\nWb.delModified(c);\\nif(tab.getActiveTab()==c){\\nt.selectText(0, 0);\\nt.focus(false, true);\\n}\\n}});\\n}\\nt.focus(false, true);\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"headerScript\":\"{#langTabs#}\"}]}]}]}]}","Multi-language Editor",null,0,0,"admin","2012-02-08 12:00:00.0","admin","2012-05-27 16:55:35.0",39],["13MJ0UF8I3PM","13MKV4HXEYPC",null,"Multi-language Editor Subs",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-12-31 16:18:37.0",40],["13MJ178R2GMS","13MJ0UF8I3PM","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"get\",\"initMethod\":\"com.webbuilder.interact.Example.getLanContent\"}","Get Content","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:06:34.0",3],["13MJ178R2GMV","13MJ0UF8I3PM","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Set Content\",\"initMethod\":\"com.webbuilder.interact.Example.setLanContent\"}","Set Content","set_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:02:06.0",4],["13MKLV6U3HN5","13LXLBTP5Q2S",null,"{#Str.productRegister#}",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",57],["13MKLV6U3HN6","13MKLV6U3HN5","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Register\",\"initMethod\":\"com.webbuilder.interact.Install.register\"}","Register","set_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:05:12.0",1],["13MKV4HXEYPC","13LRIOHKYMUT",null,"{#Str.exampleApp#}","model_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",62],["13MMOY5MGR78","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Outputs\",\"initMethod\":\"com.webbuilder.interact.Designer.getOutputs\"}","Get Outputs","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-06 11:43:58.0",19],["13MQDOSBYDRH","13M68676BV31","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save Tree\",\"initMethod\":\"com.webbuilder.interact.MngTool.saveRoleTree\"}","Save Tree","save_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:09:02.0",5],["13MQG8T006QU","13LXLBTP5Q2S",null,"{#Str.taskScheduler#}",null,1,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",38],["13MQG8T006R0","13MQG8T006QU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Task List\",\"initMethod\":\"com.webbuilder.interact.TaskMng.getTaskList\"}","Get Task List","get_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 09:58:13.0",1],["13MQG8T006R5","13MQG8T006QU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Insert Task\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"insertTask\",\"sql\":\"insert into WB_TASK values({?sys.id?},{?taskName?},{?integer.intervalType?},{?express?},\\n{?clsName?},{?timestamp.beginDate?},{?timestamp.endDate?},1,{?remark?})\",\"transaction\":\"start\",\"type\":\"update\"},{\"xwlMeta\":\"method\",\"id\":\"startTask\",\"methodName\":\"com.webbuilder.interact.TaskMng.startTask\"}]}","Insert Task","new_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",2],["13MQG8T006R7","13MQG8T006QU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Update Task\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"updateTask\",\"sql\":\"update WB_TASK set TASK_NAME={?taskName?},INTERVAL_TYPE={?integer.intervalType?},\\nINTERVAL_EXPRESS={?express?},CLASS_NAME={?clsName?},BEGIN_DATE={?timestamp.beginDate?},\\nEND_DATE={?timestamp.endDate?},REMARK={?remark?} where TASK_ID={?taskId?}\",\"transaction\":\"start\"},{\"xwlMeta\":\"method\",\"id\":\"restartTask\",\"methodName\":\"com.webbuilder.interact.TaskMng.restartTask\"}]}","Update Task","edit_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",3],["13MQG8T006R9","13MQG8T006QU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Task\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"deleteTasks\",\"sql\":\"delete from WB_TASK where TASK_ID={?taskId?}\",\"transaction\":\"start\",\"arrayName\":\"grid1\"},{\"xwlMeta\":\"method\",\"id\":\"removeTasks\",\"methodName\":\"com.webbuilder.interact.TaskMng.removeTasks\"}]}","Delete Task","delete_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",4],["13MTG12R3FCE","13MQG8T006QU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Find Task\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"taskName\",\"value\":\"%{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select TASK_NAME from WB_TASK where TASK_NAME like {?taskName?} order by TASK_NAME\"}]}","Find Task","seek_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",5],["13MTTIF80UFC","13MQG8T006QU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Start Tasks\",\"initMethod\":\"com.webbuilder.interact.TaskMng.startTasks\"}","Start Tasks","run_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:08:45.0",6],["13MTTIF80UFF","13MQG8T006QU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Shutdown Tasks\",\"initMethod\":\"com.webbuilder.interact.TaskMng.shutdownTasks\"}","Shutdown Tasks","stop_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:00:04.0",7],["13MTTIF80UHC","13MQG8T006QU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Toggle Pause Resume\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"updateDb\",\"sql\":\"update WB_TASK set STATUS={?integer.status?} where TASK_ID={?taskId?}\",\"transaction\":\"start\",\"arrayName\":\"grid1\"},{\"xwlMeta\":\"method\",\"id\":\"pauseResumeTasks\",\"methodName\":\"com.webbuilder.interact.TaskMng.pauseResumeTasks\"}]}","Toggle Pause Resume","pause_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",8],["13MY44A9AOKN","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get File Icon\",\"initMethod\":\"com.webbuilder.interact.FileSystem.getIcon\"}","Get File Icon","image_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-02-08 12:00:00.0",22],["13MZKX2KO16T","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Export Package\",\"initMethod\":\"com.webbuilder.interact.Install.exportPackage\"}","Export Package","module_icon",0,0,"admin","2012-02-27 12:34:34.0","admin","2012-06-06 13:01:46.0",26],["13N52B6EN905","13LXLBTP5Q2S",null,"{#Str.dbe#}",null,1,0,"admin","2012-03-16 10:49:06.0","admin","2012-03-16 10:49:06.0",47],["13N52MBKXNQ5","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get DbTree\",\"initMethod\":\"com.webbuilder.interact.DbExplorer.getList\"}","Get DbTree","get_icon",0,0,"admin","2012-03-16 10:58:10.0","admin","2012-03-16 12:51:41.0",1],["13N53V4UUP82","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Run Sql\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"rowNumber\":\"true\",\"editorType\":\"readOnly\",\"dateAsString\":\"true\",\"id\":\"dataProvider1\",\"sql\":\"{#sql#}\",\"resultSet\":\"result\",\"createColumns\":\"true\",\"jndi\":\"{#jndi#}\"}]}","Run Sql","run_icon",0,0,"admin","2012-03-16 13:52:06.0","admin","2012-06-02 13:04:44.0",6],["13N566X18QZP","13MKLV6U3HN5","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"WebBuilder Setup\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"main?xwl=xwlfist\",\"message\":\"Installing WebBuilder now, please wait...\",\"id\":\"installAjax\",\"output\":\"jndi, dbType\",\"timeout\":\"-1\",\"success\":\"Ext.Msg.show({\\ntitle:Str.information,\\nmsg:'Congratulations, you have successfully installed WebBuilder.',\\nbuttons:Ext.Msg.OK,\\nclosable:false,\\nicon:Ext.MessageBox.INFO,\\nfn:function(){window.location='main';}\\n});\"},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"computer_icon\",\"id\":\"window1\",\"title\":\"WebBuilder Setup\",\"autoShow\":\"true\",\"height\":384,\"closable\":\"false\",\"layout\":\"border\",\"resizable\":\"false\",\"dialog\":\"false\",\"defaultFocus\":\"jndi\",\"width\":\"600\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"layout\":\"absolute\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"WebBuilder Setup\",\"width\":248,\"id\":\"titleLbl\",\"height\":44,\"style\":\"text-shadow:0 -1px 1px #FFFFFF;font-size: 22px;font-weight: bold;\",\"y\":16,\"x\":16},{\"xwlMeta\":\"label\",\"text\":\"WARNING: This program is protected by copyright law and international treaties.\",\"width\":248,\"id\":\"warnLbl\",\"height\":44,\"y\":226,\"x\":16},{\"xwlMeta\":\"label\",\"text\":\"The Install Wizard will install WebBuilder on the server. To complete the installation and configuration of the system, please enter JNDI and Type of the default database and then click Install.\",\"width\":248,\"id\":\"infoLbl\",\"height\":110,\"y\":88,\"x\":16},{\"xwlMeta\":\"image\",\"id\":\"wbImg\",\"height\":49,\"width\":144,\"src\":\"webbuilder/images/site/wb.gif\",\"y\":8,\"x\":424},{\"xwlMeta\":\"fieldSet\",\"width\":287,\"id\":\"fieldSet1\",\"title\":\"Default Database Information\",\"height\":176,\"layout\":\"absolute\",\"y\":88,\"x\":280,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"JNDI:\",\"width\":40,\"id\":\"jndiLbl\",\"height\":22,\"y\":16,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"jndi\",\"height\":22,\"allowBlank\":\"false\",\"width\":208,\"y\":16,\"x\":48},{\"xwlMeta\":\"label\",\"text\":\"eg: java:comp/env/jdbc/mydb\",\"width\":208,\"id\":\"egLbl\",\"height\":22,\"style\":\"color:#8c8c8c;\",\"y\":40,\"x\":48},{\"xwlMeta\":\"label\",\"text\":\"Type:\",\"width\":40,\"id\":\"dbTypeLbl\",\"height\":22,\"y\":72,\"x\":8},{\"xwlMeta\":\"comboBox\",\"height\":22,\"allowBlank\":\"false\",\"width\":208,\"editable\":\"false\",\"pickList\":\"['cloudscape','db2','derby','firebird','h2','hsqldb','informix','mysql','oracle','pointbase','postgresql','sapdb','solid','sqlserver','sybase','teradata']\",\"id\":\"dbType\",\"listConfig\":\"maxHeight:180\",\"y\":72,\"x\":48},{\"xwlMeta\":\"button\",\"id\":\"installBtn\",\"height\":22,\"text\":\"Install\",\"width\":128,\"y\":112,\"x\":79,\"click\":\"if(Wb.verify(fieldSet1))\\nWb.confirm('Are you sure you want to  install WebBuilder?<br>WARNING: all existing data will be overwritten.',installAjax.request);\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"id\":\"panel2\",\"height\":73,\"layout\":\"absolute\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Copyright (c) By putdb.com, All Rights Reserved.\",\"width\":408,\"id\":\"copyrightLbl\",\"height\":22,\"y\":6,\"x\":8},{\"xwlMeta\":\"label\",\"width\":408,\"id\":\"putdbLbl\",\"height\":22,\"html\":\"For license and more information, please visit <a href='http://www.putdb.com' target='_blank'>http://www.putdb.com<\/a>.\",\"y\":35,\"x\":8}]}]}]}","Setup","system_icon",0,0,"admin","2012-03-16 18:46:58.0","admin","2013-01-10 13:56:40.0",3],["13N5Z30MPONS","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"New JNDI\",\"initMethod\":\"com.webbuilder.interact.DbExplorer.newJndi\"}","New JNDI","plus_icon",0,0,"admin","2012-03-19 10:00:58.0","admin","2012-03-20 13:15:56.0",3],["13N6082JYAPC","13LWEWRP050P",null,"Services",null,0,0,"admin","2012-03-19 13:02:15.0","admin","2012-03-19 13:02:15.0",4],["13N6082JYAPD","13N6082JYAPC",null,"System",null,0,0,"admin","2012-03-19 13:02:23.0","admin","2012-03-19 13:02:23.0",1],["13N6BPONSPWD","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Remove JNDI\",\"initMethod\":\"com.webbuilder.interact.DbExplorer.removeJndi\"}","Remove JNDI","remove_icon",0,0,"admin","2012-03-20 13:05:57.0","admin","2012-03-20 13:16:04.0",4],["13N6BWZ8AI0I","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Table Data\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"rowNumber\":\"true\",\"editorType\":\"editable\",\"dateAsString\":\"true\",\"id\":\"dataProvider1\",\"sql\":\"select * from {#table#} {#filter#} {#sql.orderBy#}\",\"createColumns\":\"true\",\"jndi\":\"{#jndi#}\"}]}","Get Table Data","grid_icon",0,0,"admin","2012-03-20 13:45:55.0","admin","2012-06-12 10:43:00.0",5],["13NC6MK0PWJP","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save Data\",\"initMethod\":\"com.webbuilder.interact.DbExplorer.saveData\"}","Save Data","save_icon",0,0,"admin","2012-04-08 16:29:53.0","admin","2013-01-16 10:07:43.0",7],["13NCFE71HDVL","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Data\",\"initMethod\":\"com.webbuilder.interact.DbExplorer.deleteData\"}","Delete Data","minus_icon",0,0,"admin","2012-04-09 11:41:45.0","admin","2013-01-16 10:08:31.0",8],["13NEOPRS0FRD","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Import Table\",\"initMethod\":\"com.webbuilder.interact.DbExplorer.importData\"}","Import Table","import_icon",0,0,"admin","2012-04-16 20:18:43.0","admin","2012-04-16 20:19:00.0",9],["13NEW7SAG03H","13LXLBTP5Q2S",null,"{#Str.fileManager#}",null,1,0,"admin","2012-04-17 12:53:08.0","admin","2012-04-17 12:53:08.0",49],["13NFIHSNC6WP","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Dir\",\"initMethod\":\"com.webbuilder.interact.Explorer.getDir\"}","Get Dir","get_icon",0,0,"admin","2012-04-19 16:10:26.0","admin","2012-04-19 16:45:50.0",1],["13NFIHSNC6XB","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get File\",\"initMethod\":\"com.webbuilder.interact.Explorer.getFile\"}","Get File","get_icon",0,0,"admin","2012-04-19 16:57:52.0","admin","2012-04-19 16:58:47.0",2],["13NFU0Z2M8IC","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Icon\",\"initMethod\":\"com.webbuilder.interact.FileSystem.getIcon\"}","Get Icon","image_icon",0,0,"admin","2012-04-20 14:32:38.0","admin","2012-04-20 14:33:14.0",3],["13NFUAKDGYQD","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Rename\",\"initMethod\":\"com.webbuilder.interact.Explorer.rename\"}","Rename","rename_icon",0,0,"admin","2012-04-20 15:39:10.0","admin","2012-04-20 16:16:03.0",4],["13NFVDFG9ONH","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"New File\",\"initMethod\":\"com.webbuilder.interact.Explorer.newFile\"}","New File","new_icon",0,0,"admin","2012-04-20 17:15:41.0","admin","2012-04-20 17:21:21.0",5],["13NG48UNA836","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Read File\",\"initMethod\":\"com.webbuilder.interact.Explorer.readFile\"}","Read File","get_icon",0,0,"admin","2012-04-21 12:49:39.0","admin","2012-04-21 13:04:16.0",6],["13NG4FHB6K54","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Write File\",\"initMethod\":\"com.webbuilder.interact.Explorer.writeFile\"}","Write File","set_icon",0,0,"admin","2012-04-21 13:04:33.0","admin","2012-04-21 13:04:54.0",7],["13NGP7MVIZ9U","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Import\",\"initMethod\":\"com.webbuilder.interact.Explorer.importFile\"}","Import","import_icon",0,0,"admin","2012-04-23 10:25:36.0","admin","2012-04-23 10:44:24.0",8],["13NH12ZHSRRP","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Export\",\"initMethod\":\"com.webbuilder.interact.Explorer.exportFiles\"}","Export","export_icon",0,0,"admin","2012-04-24 11:57:01.0","admin","2012-04-24 11:57:22.0",9],["13NH1M6NZ35G","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Paste Files\",\"initMethod\":\"com.webbuilder.interact.Explorer.pasteFiles\"}","Paste Files","paste_icon",0,0,"admin","2012-04-24 13:06:29.0","admin","2012-04-24 13:06:53.0",10],["13NHEWB1SJ5Q","13N6082JYAPC",null,"Session",null,0,0,"admin","2012-04-25 18:37:33.0","admin","2012-04-25 18:37:33.0",2],["13NHZUK6AFI3","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Files\",\"initMethod\":\"com.webbuilder.interact.Explorer.deleteFiles\"}","Delete Files","delete_icon",0,0,"admin","2012-04-27 16:20:05.0","admin","2012-04-27 16:35:15.0",11],["13NI9J9925AR","13LRIOHKYMUT",null,"{#Str.devCommunity#}",null,1,0,"admin","2012-04-28 15:59:18.0","admin","2012-05-02 11:46:16.0",61],["13NJGHREQZPO","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Image\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"image\",\"id\":\"dataProvider1\",\"sql\":\"select FILE_CONTENT,FILE_NAME,FILE_SIZE from WB_BBS_FILE where FILE_ID={?id?}\"}]}","Get Image","image_icon",0,0,"admin","2012-05-02 11:46:11.0","admin","2012-07-09 15:07:43.0",10],["13NJGHREQZPW","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Upload File\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into WB_BBS_FILE values({?sys.id?},{?sys.date?},{?uploadImage__name?},{?uploadImage__size?},{?uploadImage?})\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{id:\\\"{#sys.id#}\\\",name:\\\"{#uploadImage__name#}\\\"}\",\"uploadResponse\":\"true\"}]}","Upload File","import_icon",0,0,"admin","2012-05-02 11:51:41.0","admin","2012-05-02 14:34:05.0",9],["13NJGHREQZQ0","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get File\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"download\",\"id\":\"dataProvider1\",\"sql\":\"select FILE_CONTENT,FILE_NAME,FILE_SIZE from WB_BBS_FILE where FILE_ID={?id?}\"}]}","Get File","file_icon",0,0,"admin","2012-05-02 11:54:42.0","admin","2012-05-02 12:39:47.0",11],["13NJI2Y4P24N","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Insert Post\",\"initMethod\":\"com.webbuilder.interact.BBS.convertChar\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"insert\",\"sql\":\"insert into WB_BBS_TITLE values({?sys.id?},{?TITLE?},0,{?sys.date?},{?sys.user?},0,0,{?sys.date?},{?sys.user?},{?text.CONTENT?})\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{BBS_ID:\\\"{#sys.id#}\\\",SET_TOP:0,REPLY_COUNT:0,VIEW_COUNT:0,CREATE_DATE:\\\"{#sys.now#}\\\",CREATE_USER:\\\"{#sys.dispName#}\\\",POST_DATE:\\\"{#sys.now#}\\\",POST_USER:\\\"{#sys.dispName#}\\\"}\"}]}","Insert Title","new_icon",0,0,"admin","2012-05-02 14:57:55.0","admin","2012-09-08 16:46:47.0",3],["13NK34C781NO","13MA47ZS9PPX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Disable Users\",\"initMethod\":\"com.webbuilder.interact.MngTool.disableUsers\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update WB_USER set STATUS=0 where USER_ID={?userId?} and USER_ID<>{?sys.user?}\",\"transaction\":\"start\",\"arrayName\":\"grid1\"}]}","Disable Users","minus_icon",0,0,"admin","2012-05-04 11:57:00.0","admin","2012-12-17 11:27:04.0",7],["13NK34C781NQ","13MA47ZS9PPX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Enable Users\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update WB_USER set STATUS=1 where USER_ID={?userId?}\",\"transaction\":\"start\",\"arrayName\":\"grid1\"}]}","Enable Users","accept_icon",0,0,"admin","2012-05-04 11:57:12.0","admin","2012-05-04 13:44:43.0",8],["13NLARMGZ398","13NI9J9925AR","{\"xwlMeta\":\"module\",\"finalModules\":\"#browse (Get Page)\",\"id\":\"module\",\"title\":\"Reply\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"key\",\"value\":\"replyContent\"},{\"xwlMeta\":\"method\",\"id\":\"convertChar\",\"methodName\":\"com.webbuilder.interact.BBS.convertChar\"},{\"xwlMeta\":\"query\",\"id\":\"updateTable\",\"sql\":\"update WB_BBS_TITLE set REPLY_COUNT=REPLY_COUNT+1,POST_USER={?sys.user?},POST_DATE={?sys.date?} where BBS_ID={?id?}\"},{\"xwlMeta\":\"query\",\"id\":\"reply\",\"sql\":\"insert into WB_BBS_POST values({?id?},{?sys.date?},{?sys.user?},{?sys.id?},{?text.replyContent?})\"}]}","Reply","start_icon",0,0,"admin","2012-05-08 10:36:58.0","admin","2012-09-09 11:00:54.0",13],["13NLZG0BNO6G","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Post\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"delete from WB_BBS_POST where POST_ID={?id?}\"}]}","Delete Post","delete_icon",0,0,"admin","2012-05-10 16:17:44.0","admin","2012-05-10 16:18:47.0",14],["13NMWVOKY2JF","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Search\",\"initMethod\":\"com.webbuilder.interact.Designer.search\"}","Search","find_icon",0,0,"admin","2012-05-13 18:23:44.0","admin","2012-05-14 10:58:03.0",13],["13NNFPSRADLY","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Update Title\",\"initMethod\":\"com.webbuilder.interact.BBS.convertChar\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"update\",\"sql\":\"update WB_BBS_TITLE set TITLE={?TITLE?},CONTENT={?text.CONTENT?} where BBS_ID={?BBS_ID?}\",\"uniqueUpdate\":\"true\"}]}","Update Title","edit_icon",0,0,"admin","2012-05-15 13:18:08.0","admin","2012-09-08 16:47:00.0",4],["13NNFPSRADLZ","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Title\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"delete\",\"sql\":\"delete from WB_BBS_TITLE where BBS_ID={?BBS_ID?}\",\"transaction\":\"start\",\"arrayName\":\"grid1\"},{\"xwlMeta\":\"query\",\"id\":\"deletePosts\",\"sql\":\"delete from WB_BBS_POST where BBS_ID={?BBS_ID?}\",\"arrayName\":\"grid1\"}]}","Delete Title","delete_icon",0,0,"admin","2012-05-15 13:18:47.0","admin","2012-05-30 11:21:57.0",5],["13NNFPSRADNM","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Content\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"jsonObject\",\"id\":\"dataProvider1\",\"sql\":\"select CONTENT from WB_BBS_TITLE where BBS_ID={?id?}\"}]}","Get Content","get_icon",0,0,"admin","2012-05-15 13:47:45.0","admin","2012-05-15 13:51:10.0",7],["13NNI7G1ZYH6","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Search Title\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"keyName\",\"value\":\"%{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select TITLE from WB_BBS_TITLE where TITLE like {?keyName?} order by TITLE\"}]}","Search Title","seek_icon",0,0,"admin","2012-05-15 15:52:43.0","admin","2012-05-15 15:58:05.0",8],["13NNQI4NYR98","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Set Top\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"setTop\",\"sql\":\"update WB_BBS_TITLE set SET_TOP={?integer.top?} where BBS_ID={?BBS_ID?}\",\"transaction\":\"start\",\"arrayName\":\"grid1\"}]}","Set Top","accept_icon",0,0,"admin","2012-05-16 09:37:36.0","admin","2012-05-16 09:52:33.0",6],["13NOEQY1P3LO","13LTWFOE5ROX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save Path\",\"initMethod\":\"com.webbuilder.interact.SysModule.savePortalPath\"}","Save Path","set_icon",0,0,"admin","2012-05-18 15:56:20.0","admin","2012-05-18 16:21:49.0",5],["13NPCFVS59ZT","13LTWFOE5ROX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save Desktop\",\"initMethod\":\"com.webbuilder.interact.SysModule.saveDesktop\"}","Save Desktop","save_icon",0,0,"admin","2012-05-21 15:37:19.0","admin","2012-05-21 15:39:39.0",6],["13NQJIV4S5T1","13MA47ZS9PPX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Find User\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"keyName\",\"value\":\"{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select USER_NAME from WB_USER where USER_NAME like {?keyName?} order by USER_NAME\"}]}","Find User","seek_icon",0,0,"admin","2012-05-25 13:34:06.0","admin","2012-05-26 13:25:21.0",9],["13NR4T25XOP9","13PLYHDF7AUR",null,"Grid",null,0,0,"admin","2012-05-27 11:54:39.0","admin","2012-05-27 11:54:39.0",3],["13NR4T25XOPB","13NR4T25XOP9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Basic Grid\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#13NR4T25XOPE (Select)\"},{\"xwlMeta\":\"array\",\"id\":\"actionItemsArrray\",\"children\":[{\"xwlMeta\":\"actionItem\",\"id\":\"newItem\",\"iconCls\":\"plus_icon\",\"handler\":\"Wb.message('New');\",\"tooltip\":\"New\"},{\"xwlMeta\":\"actionItem\",\"id\":\"delItem\",\"iconCls\":\"delete_icon\",\"handler\":\"Wb.message('Delete');\",\"tooltip\":\"Delete\"}]},{\"xwlMeta\":\"array\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rowNumCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"userIdCol\",\"renderer\":\"return Wb.getIconCls('user_icon','tip: '+value)+value;\",\"text\":\"User ID\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"id\":\"userInfoCol\",\"text\":\"User Information\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"nameCol\",\"text\":\"User Name\",\"width\":\"130\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DISPLAY_NAME\",\"id\":\"dispNameCol\",\"text\":\"Display Name\",\"width\":\"130\"}]},{\"xwlMeta\":\"column\",\"id\":\"dateInfoCol\",\"text\":\"Date Information\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATE_DATE\",\"id\":\"createDateCol\",\"text\":\"Create Date\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"LAST_LOGIN\",\"id\":\"lastLoginCol\",\"text\":\"Last Login\",\"width\":\"140\"}]},{\"xwlMeta\":\"actionColumn\",\"align\":\"center\",\"width\":\"50\",\"id\":\"actionColumn1\",\"items\":\"actionItemsArrray\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"gridColumns\",\"id\":\"grid1\"}]}]}","Basic Grid",null,0,0,"admin","2012-05-27 11:55:49.0","admin","2012-08-02 17:35:54.0",1],["13NR4T25XOPD","13NR4T25XOP9",null,"Basic Grid Subs",null,1,0,"admin","2012-05-27 11:57:33.0","admin","2012-12-31 16:26:23.0",2],["13NR4T25XOPE","13NR4T25XOPD","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from WB_USER\"}]}","Select","get_icon",0,0,"admin","2012-05-27 11:57:48.0","admin","2012-06-19 12:21:38.0",1],["13NR4T25XOYJ","13PLYHDF7AUR",null,"Server Script",null,0,0,"admin","2012-05-27 13:14:55.0","admin","2012-05-27 13:14:55.0",6],["13NR4T25XOYK","13NR4T25XOYJ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Basic Script\",\"children\":[{\"xwlMeta\":\"serverScript\",\"id\":\"serverScript1\",\"script\":\"Wb.println(request,'Hello World'); //Output to WebBuilder console.\\nvar file=new File(Path, 'webbuilder/data/config.txt'),\\n    jndi=Wb.decode(FileUtil.readUtfText(file)).jndi;\\nWebUtil.response(response,'The default jndi: '+jndi);\"}]}","Basic Script",null,0,0,"admin","2012-05-27 13:15:21.0","admin","2014-04-25 12:50:55.0",1],["13NR6MXB5DIG","13LTWFOE5ROX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Register\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"method\",\"id\":\"checkRegVC\",\"methodName\":\"com.webbuilder.interact.SysModule.checkRegVC\"},{\"xwlMeta\":\"query\",\"id\":\"check\",\"sql\":\"select count(*) as \\\"V\\\" from WB_USER where USER_NAME={?regName?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"userExists\",\"message\":\"[\\\"alreadyExists\\\",\\\"{#regName#}\\\"]\",\"name\":\"check.V\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"method\",\"id\":\"getPwdSql\",\"methodName\":\"com.webbuilder.interact.SysModule.getRegPwd\"},{\"xwlMeta\":\"query\",\"id\":\"insertUser\",\"sql\":\"insert into WB_USER values({?sys.id?},{?regName?},{?dispName?},{?pwd?},1,{?sys.date?},0,{?email?},null,null)\"}]}","Register","userGroup_icon",0,0,"admin","2012-05-27 16:25:45.0","admin","2012-07-19 12:35:02.0",4],["13NR7OWZ0DCA","13MGK6CEF9EG",null,"{#Str.myAccount#}",null,1,0,"admin","2012-05-27 18:06:59.0","admin","2012-05-27 18:25:09.0",2],["13NR7OWZ0DCC","13NR7OWZ0DCA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"isUpdate\",\"value\":\"1\"},{\"xwlMeta\":\"method\",\"id\":\"getPwdSql\",\"methodName\":\"com.webbuilder.interact.MngTool.getPwdSql\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update WB_USER set DISPLAY_NAME={?dispName?},EMAIL={?email?},USE_LANG={?language?}{#pwdSql#} where USER_ID={?sys.user?}\"},{\"xwlMeta\":\"method\",\"id\":\"setUserInfo\",\"methodName\":\"com.webbuilder.interact.MngTool.setUserInfo\"}]}","Save","save_icon",0,0,"admin","2012-05-27 18:07:22.0","admin","2012-06-15 16:36:42.0",2],["13NU7H8CPISB","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Backup\",\"initMethod\":\"com.webbuilder.interact.Services.getDateString\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"title\",\"overwrite\":\"true\",\"value\":\"{#dateString#} {#title#}\"},{\"xwlMeta\":\"query\",\"id\":\"checkExist\",\"sql\":\"select count(*) as \\\"CT\\\" from WB_MODULE_HIS where HIS_TITLE={?title?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"exist\",\"message\":\"\\\"{#title#}\\\" already exists.\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into WB_MODULE_HIS select {?title?} as \\\"HIS_TITLE\\\",\\nMODULE_ID,PARENT_ID,MODULE_CONTENT,DISPLAY_NAME,DISPLAY_ICON,IS_HIDDEN,NEW_WIN,CREATE_USER,CREATE_DATE,LAST_MODIFY_USER,LAST_MODIFY_DATE,ORDER_INDEX from WB_MODULE\"}]}","Backup","get_icon",0,0,"admin","2012-06-06 13:01:36.0","admin","2012-07-20 10:32:30.0",23],["13NU7H8CPISE","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Restore\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExist\",\"sql\":\"select count(*) as \\\"CT\\\" from WB_MODULE_HIS where HIS_TITLE={?findBk?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"notExist\",\"message\":\"\\\"{#findBk#}\\\" does not exist.\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\"=\"},{\"xwlMeta\":\"query\",\"id\":\"deleteOld\",\"sql\":\"delete from WB_MODULE\",\"transaction\":\"start\"},{\"xwlMeta\":\"query\",\"id\":\"createNew\",\"sql\":\"insert into WB_MODULE select MODULE_ID,PARENT_ID,MODULE_CONTENT,DISPLAY_NAME,DISPLAY_ICON,IS_HIDDEN,NEW_WIN,CREATE_USER,CREATE_DATE,LAST_MODIFY_USER,LAST_MODIFY_DATE,ORDER_INDEX from WB_MODULE_HIS where HIS_TITLE={?findBk?}\",\"transaction\":\"commit\"},{\"xwlMeta\":\"method\",\"id\":\"reloadSystem\",\"methodName\":\"com.webbuilder.interact.MngTool.reloadSystem\"}]}","Restore","set_icon",0,0,"admin","2012-06-06 13:02:06.0","admin","2012-07-20 10:32:37.0",24],["13NU7H8CPITQ","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Find Backup\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"keyName\",\"value\":\"%{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select distinct HIS_TITLE from WB_MODULE_HIS where HIS_TITLE like {?keyName?} order by HIS_TITLE desc\"}]}","Find Backup","seek_icon",0,0,"admin","2012-06-06 15:11:51.0","admin","2012-06-09 11:15:21.0",25],["13NUIG6TAFQF","13PLYHDF7AUR",null,"Chart",null,0,0,"admin","2012-06-07 13:09:30.0","admin","2012-06-07 13:09:30.0",1],["13NUIG6TAFSD","13N6082JYAPD","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"File Push\",\"initMethod\":\"com.webbuilder.interact.Services.filePush\",\"loginRequired\":\"false\"}","File Push","file_icon",0,0,"admin","2012-06-07 14:58:33.0","admin","2012-06-07 15:44:10.0",4],["13NUIG6TAFX1","13NUIG6TAFQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Area Chart\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#13NUIG6TAFX7 (Souce1)\",\"output\":\"panel1\"},{\"xwlMeta\":\"array\",\"id\":\"axesArray\",\"children\":[{\"xwlMeta\":\"axis\",\"position\":\"bottom\",\"type\":\"Category\",\"id\":\"labelAxis\",\"title\":\"Country\",\"grid\":\"true\",\"fields\":\"'COUNTRY'\",\"label\":\"{\\nrotate:{degrees:315}\\n}\"},{\"xwlMeta\":\"axis\",\"position\":\"left\",\"type\":\"Numeric\",\"id\":\"v1v2Axis\",\"title\":\"Company Count\",\"fields\":\"['V1','V2']\"},{\"xwlMeta\":\"axis\",\"position\":\"right\",\"minimum\":\"0\",\"type\":\"Numeric\",\"id\":\"v3Axis\",\"title\":\"Tax Rate %\",\"fields\":\"'V3'\",\"maximum\":\"100\"}]},{\"xwlMeta\":\"array\",\"id\":\"seriesArray\",\"children\":[{\"xwlMeta\":\"series\",\"type\":\"area\",\"id\":\"leftSeries\",\"title\":\"['Count1','Count2']\",\"axis\":\"left\",\"xField\":\"'COUNTRY'\",\"yField\":\"['V1','V2']\"},{\"xwlMeta\":\"series\",\"type\":\"line\",\"id\":\"rightSeries\",\"title\":\"'Tax Rate'\",\"style\":\"{fill:'red'}\",\"axis\":\"right\",\"xField\":\"'COUNTRY'\",\"yField\":\"'V3'\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"panel1\",\"height\":56,\"layout\":\"absolute\",\"width\":631,\"split\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Tax Rate >\",\"width\":72,\"id\":\"label1\",\"height\":22,\"y\":16,\"x\":8},{\"xwlMeta\":\"number\",\"minValue\":\"0\",\"id\":\"taxRate\",\"height\":22,\"maxValue\":\"100\",\"width\":69,\"y\":16,\"x\":88},{\"xwlMeta\":\"label\",\"text\":\"%\",\"width\":24,\"id\":\"label2\",\"height\":22,\"y\":16,\"x\":162},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"height\":22,\"text\":\"Search\",\"width\":96,\"y\":16,\"x\":192,\"click\":\"Wb.load(store1);\"},{\"xwlMeta\":\"button\",\"id\":\"button2\",\"height\":22,\"text\":\"Export Chart\",\"width\":96,\"y\":16,\"x\":296,\"click\":\"Wb.getChart(chart1);\"}]},{\"xwlMeta\":\"chart\",\"region\":\"center\",\"series\":\"seriesArray\",\"store\":\"store1\",\"axes\":\"axesArray\",\"id\":\"chart1\",\"style\":\"background:#fff\",\"legend\":\"true\"}]}]}","Area Chart",null,0,0,"admin","2012-06-07 15:54:28.0","admin","2012-06-28 13:17:10.0",2],["13NUIG6TAFX6","13NUIG6TAFQF",null,"Chart Source",null,1,0,"admin","2012-06-07 15:54:54.0","admin","2012-06-27 16:14:17.0",10],["13NUIG6TAFX7","13NUIG6TAFX6","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Data Souce\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select COUNTRY,COUNT(*) as \\\"V1\\\",COUNT(*)+1 as \\\"V2\\\",AVG(TAX_RATE) as \\\"V3\\\" from WB_CUST\\n where {?taxRate?} is null or TAX_RATE > {?double.taxRate?} group by COUNTRY\",\"createColumns\":\"true\"}]}","Souce1",null,0,0,"admin","2012-06-07 15:55:03.0","admin","2012-06-28 14:43:37.0",1],["13NURYURQ4J9","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.kvEditor#}\",\"initialize\":\"function loadFind(){\\nWb.load(store1,Wb.getValue(findCombo));\\n}\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"sorters\":\"[{property:'KEY_TYPE'},{property:'KEY_NAME'}]\",\"remoteSort\":\"true\",\"url\":\"#13NURYURQ4KF (Get Keys)\"},{\"xwlMeta\":\"store\",\"id\":\"findStore\",\"url\":\"#13NURYURQ4PX (Find)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"comboStore\",\"url\":\"#13NURYURQ4PX (Find)\",\"showMask\":\"false\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NURYURQ4KQ (Insert)\",\"id\":\"insertAjax\",\"output\":\"editWin\",\"failureConfirm\":\"if(Wb.optString(response.responseText).indexOf(Str.name+': ')!=-1)\\nKEY_NAME.focus(false,true);\\nelse KEY_VALUE.focus(false,true);\",\"success\":\"var o=Ext.decode(response.responseText);\\nWb.updateRecord(Wb.insert(grid1,editWin),o);\\neditWin.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NURYURQ4KW (Update)\",\"id\":\"updateAjax\",\"output\":\"editWin\",\"failureConfirm\":\"if(Wb.optString(response.responseText).indexOf(Str.name+': ')!=-1)\\nKEY_NAME.focus(false,true);\\nelse KEY_VALUE.focus(false,true);\",\"success\":\"Wb.update(grid1,editWin);\\neditWin.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NURYURQ4PP (Delete)\",\"id\":\"deleteAjax\",\"output\":\"grid1\",\"success\":\"Wb.remove(grid1);\"},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.newStr\",\"iconCls\":\"new_icon\",\"id\":\"newBtn\",\"click\":\"Wb.edit(grid1,editWin);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"Wb.edit(grid1,editWin,'KEY_NAME');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"Wb.confirm(grid1,deleteAjax.request);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"comboBox\",\"store\":\"findStore\",\"listWidth\":\"300\",\"queryDelay\":\"160\",\"width\":\"160\",\"pageSize\":\"Wb.pageSize\",\"emptyText\":\"@Str.type\",\"id\":\"findCombo\",\"displayField\":\"KEY_TYPE\",\"select\":\"loadFind();\",\"specialkey\":\"Wb.checkEnter(loadFind,comboBox);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.search\",\"type\":\"split\",\"iconCls\":\"seek_icon\",\"id\":\"findBtn\",\"click\":\"loadFind();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.reset\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"click\":\"Wb.reset(findCombo);\\nloadFind();\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"edit_icon\",\"id\":\"editWin\",\"title\":\"-\",\"height\":181,\"layout\":\"absolute\",\"autoReset\":\"false\",\"width\":432,\"clickOK\":\"if(win.isNew)insertAjax.request();\\nelse updateAjax.request();\",\"show\":\"if(Wb.isEmpty(KEY_TYPE.getValue()))KEY_TYPE.focus(false,true);\\nelse KEY_NAME.focus(false,true);\",\"hide\":\"Wb.reset([KEY_NAME,KEY_VALUE]);\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"*{#Str.type#}:\",\"width\":96,\"align\":\"right\",\"id\":\"typeLbl\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"comboBox\",\"store\":\"comboStore\",\"height\":22,\"queryDelay\":\"160\",\"allowBlank\":\"false\",\"width\":280,\"pageSize\":\"Wb.pageSize\",\"id\":\"KEY_TYPE\",\"displayField\":\"KEY_TYPE\",\"y\":16,\"x\":104},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.value#}:\",\"width\":96,\"align\":\"right\",\"id\":\"nameLbl\",\"height\":22,\"y\":48,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"KEY_NAME\",\"height\":22,\"allowBlank\":\"false\",\"width\":280,\"y\":48,\"x\":104},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.dispName#}:\",\"width\":96,\"align\":\"right\",\"id\":\"valueLbl\",\"height\":22,\"y\":80,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"KEY_VALUE\",\"height\":22,\"allowBlank\":\"false\",\"width\":280,\"y\":80,\"x\":104},{\"xwlMeta\":\"hiddenField\",\"id\":\"KEY_ID\",\"height\":22,\"width\":280,\"y\":112,\"x\":104}]},{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"KEY_TYPE\",\"id\":\"typeCol\",\"text\":\"@Str.type\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"KEY_NAME\",\"id\":\"nameCol\",\"text\":\"@Str.value\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"sortable\":\"false\",\"dataIndex\":\"KEY_VALUE\",\"id\":\"valueCol\",\"text\":\"@Str.dispName\",\"width\":\"250\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"colArray\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"multiSelect\":\"true\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}","{#Str.kvEditor#}","dp_icon",0,0,"admin","2012-06-08 10:03:44.0","admin","2013-07-04 19:51:21.0",34],["13NURYURQ4JB","13LXLBTP5Q2S",null,"{#Str.kvEditor#}",null,1,0,"admin","2012-06-08 10:03:55.0","admin","2012-06-08 14:10:00.0",35],["13NURYURQ4KF","13NURYURQ4JB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"keyName\",\"value\":\"%{#findCombo#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from WB_KEY where KEY_TYPE like {?keyName?} {#sql.orderBy#}\"}]}","Select","get_icon",0,0,"admin","2012-06-08 10:25:48.0","admin","2012-06-08 14:00:51.0",1],["13NURYURQ4KQ","13NURYURQ4JB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Insert\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"check\",\"sql\":\"select KEY_NAME,KEY_VALUE from WB_KEY where KEY_TYPE={?KEY_TYPE?} and (KEY_NAME={?KEY_NAME?} or KEY_VALUE={?KEY_VALUE?})\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"nameExists\",\"message\":\"[\\\"alreadyExists\\\",\\\"{#Str.name#}: {#KEY_NAME#}\\\"]\",\"name\":\"check.KEY_NAME\",\"value\":\"{#KEY_NAME#}\",\"comparator\":\"=\"},{\"xwlMeta\":\"except\",\"id\":\"valueExists\",\"message\":\"[\\\"alreadyExists\\\",\\\"{#Str.value#}: {#KEY_VALUE#}\\\"]\",\"name\":\"check.KEY_VALUE\",\"value\":\"{#KEY_VALUE#}\",\"comparator\":\"=\"},{\"xwlMeta\":\"query\",\"id\":\"insert\",\"sql\":\"insert into WB_KEY values({?sys.id?},{?KEY_TYPE?},{?KEY_NAME?},{?KEY_VALUE?})\",\"transaction\":\"start\"},{\"xwlMeta\":\"method\",\"id\":\"putKey\",\"methodName\":\"com.webbuilder.interact.MngTool.putKey\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{KEY_ID:\\\"{#sys.id#}\\\"}\"}]}","Insert","new_icon",0,0,"admin","2012-06-08 10:35:00.0","admin","2012-06-09 11:07:41.0",2],["13NURYURQ4KW","13NURYURQ4JB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Update\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"check\",\"sql\":\"select KEY_NAME,KEY_VALUE from WB_KEY where KEY_ID<>{?KEY_ID?} and KEY_TYPE={?KEY_TYPE?} and (KEY_NAME={?KEY_NAME?} or KEY_VALUE={?KEY_VALUE?})\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"nameExists\",\"message\":\"[\\\"alreadyExists\\\",\\\"{#Str.name#}: {#KEY_NAME#}\\\"]\",\"name\":\"check.KEY_NAME\",\"value\":\"{#KEY_NAME#}\",\"comparator\":\"=\"},{\"xwlMeta\":\"except\",\"id\":\"valueExists\",\"message\":\"[\\\"alreadyExists\\\",\\\"{#Str.value#}: {#KEY_VALUE#}\\\"]\",\"name\":\"check.KEY_VALUE\",\"value\":\"{#KEY_VALUE#}\",\"comparator\":\"=\"},{\"xwlMeta\":\"query\",\"id\":\"oldKey\",\"sql\":\"select KEY_TYPE,KEY_NAME from WB_KEY where KEY_ID={?KEY_ID?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"query\",\"id\":\"update\",\"sql\":\"update WB_KEY set KEY_TYPE={?KEY_TYPE?},KEY_VALUE={?KEY_VALUE?},KEY_NAME={?KEY_NAME?} where KEY_ID={?KEY_ID?}\",\"transaction\":\"start\",\"uniqueUpdate\":\"true\"},{\"xwlMeta\":\"method\",\"id\":\"updateKey\",\"methodName\":\"com.webbuilder.interact.MngTool.updateKey\"}]}","Update","edit_icon",0,0,"admin","2012-06-08 10:36:35.0","admin","2012-06-09 11:05:03.0",3],["13NURYURQ4PP","13NURYURQ4JB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"deleteQuery\",\"sql\":\"delete from WB_KEY where KEY_ID={?KEY_ID?}\",\"transaction\":\"start\",\"arrayName\":\"grid1\"},{\"xwlMeta\":\"method\",\"id\":\"removetKey\",\"methodName\":\"com.webbuilder.interact.MngTool.removeKey\"}]}","Delete","delete_icon",0,0,"admin","2012-06-08 11:17:01.0","admin","2012-06-08 15:09:11.0",4],["13NURYURQ4PX","13NURYURQ4JB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Find\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"keyName\",\"value\":\"%{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select distinct KEY_TYPE from WB_KEY where KEY_TYPE like {?keyName?} order by KEY_TYPE\"}]}","Find","seek_icon",0,0,"admin","2012-06-08 11:17:21.0","admin","2012-06-08 11:18:30.0",5],["13NWY4W8N9RN","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Blob\",\"initMethod\":\"com.webbuilder.interact.DbExplorer.getBlob\"}","Get Blob","object_icon",0,0,"admin","2012-06-15 11:23:15.0","admin","2012-06-15 12:40:02.0",11],["13NXXPN2RSHB","13LXLBTP5Q2S",null,"{#Str.sysLog#}",null,1,0,"admin","2012-06-18 17:12:18.0","admin","2012-06-19 12:30:48.0",55],["13NXXPN2RSIF","13NXXPN2RSHB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"searchKey\",\"value\":\"%{#searchCombo#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from WB_LOG where\\n ({?beginDate?} is null or LOG_DATE>={?timestamp.beginDate?}) and\\n ({?endDate?} is null or LOG_DATE<{?timestamp.endDate?}) and\\n ({?typeCombo?} is null or LOG_TYPE={?integer.typeCombo?}) and\\n ({?searchCombo?} is null or USER_NAME={?searchCombo?} or IP={?searchCombo?} or MSG like {?searchKey?})\\n {#sql.orderBy#}\"}]}","Select","seek_icon",0,0,"admin","2012-06-18 17:34:13.0","admin","2012-09-06 10:51:01.0",1],["13NXXPN2RSIO","13NXXPN2RSHB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Find\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"searchKey\",\"value\":\"%{#searchCombo#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select distinct MSG from WB_LOG where\\n (LOG_DATE>={?timestamp.beginDate?} or {?beginDate?} is null) and\\n (LOG_DATE<{?timestamp.endDate?} or {?endDate?} is null) and\\n (LOG_TYPE={?integer.typeCombo?} or {?typeCombo?} is null) and\\n ({?searchCombo?} is null or MSG like {?searchKey?}) order by MSG\"}]}","Find","seek_icon",0,0,"admin","2012-06-18 17:42:24.0","admin","2012-09-06 10:43:08.0",2],["13NY6A9O4XB4","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Customer\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"requests\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"sorters\":\"[{property:'CUST_NO'}]\",\"remoteSort\":\"true\",\"url\":\"#13NY6A9O4XB8 (Select)\",\"output\":\"toolbar1\"},{\"xwlMeta\":\"store\",\"id\":\"findStore\",\"url\":\"#13O18VPY3YUG (Find)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"countryStore\",\"url\":\"#13ONWN9UC6UT (Find Country)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"reportStore\",\"sorters\":\"{property:'COUNTRY',direction:'ASC'}\",\"remoteSort\":\"true\",\"url\":\"#13NYJEZPDNPF (Report Select)\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NY6A9O4XID (Insert)\",\"id\":\"insertAjax\",\"output\":\"editWin\",\"success\":\"var r=Wb.insert(grid1,editWin);\\nWb.updateRecord(r,Ext.decode(response.responseText));\\neditWin.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NY6A9O4XIF (Update)\",\"id\":\"updateAjax\",\"output\":\"editWin\",\"success\":\"Wb.update(grid1,editWin);\\neditWin.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NY6A9O4XIH (Delete)\",\"id\":\"deleteAjax\",\"output\":\"grid1\",\"success\":\"Wb.remove(grid1);\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.newStr\",\"iconCls\":\"new_icon\",\"id\":\"newBtn\",\"click\":\"Wb.edit(editWin);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"Wb.edit(grid1,editWin,'COMPANY');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"Wb.confirm(grid1,deleteAjax.request,'COMPANY');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem\"},{\"xwlMeta\":\"comboBox\",\"store\":\"findStore\",\"listWidth\":\"280\",\"queryDelay\":\"160\",\"width\":\"200\",\"pageSize\":\"Wb.pageSize\",\"emptyText\":\"company\",\"id\":\"findCombo\",\"displayField\":\"COMPANY\",\"select\":\"Wb.load(store1);\",\"specialkey\":\"Wb.checkEnter(function(){Wb.load(store1);},comboBox);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.search\",\"type\":\"split\",\"iconCls\":\"seek_icon\",\"id\":\"findBtn\",\"click\":\"Wb.load(store1);\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.reset\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"click\":\"Wb.reset(toolbar1);\\nWb.load(store1);\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"separateItem\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Report\",\"iconCls\":\"report_icon\",\"id\":\"reportBtn\",\"tooltip\":\"Show Report Window\",\"click\":\"reportWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"septItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"putdb.com\",\"iconCls\":\"web_icon\",\"id\":\"putdbBtn\",\"click\":\"Wb.open('http://www.putdb.com', 'putdb.com', 'web_icon', null, 'GET');\"}]},{\"xwlMeta\":\"array\",\"id\":\"customerColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CUST_NO\",\"id\":\"custNoCol\",\"text\":\"Customer No\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COMPANY\",\"id\":\"companyCol\",\"text\":\"Company\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ADDR\",\"id\":\"addrCol\",\"text\":\"Address\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COUNTRY\",\"id\":\"countryCol\",\"text\":\"Country\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TAX_RATE\",\"id\":\"taxRateCol\",\"text\":\"Tax Rate\",\"align\":\"right\",\"width\":\"80\",\"format\":\"0,000.00\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INVOICE_DATE\",\"id\":\"dateCol\",\"text\":\"Invoice Date\",\"width\":\"140\"}]},{\"xwlMeta\":\"array\",\"id\":\"reportColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COUNTRY\",\"id\":\"countryCol1\",\"summaryRenderer\":\"return 'Total';\",\"text\":\"Country\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"id\":\"totalCol\",\"text\":\"Total Information\",\"children\":[{\"xwlMeta\":\"column\",\"sortable\":\"true\",\"dataIndex\":\"CT\",\"id\":\"countCol\",\"text\":\"Company Count\",\"align\":\"right\",\"width\":\"130\",\"format\":\"0,000\"},{\"xwlMeta\":\"column\",\"sortable\":\"true\",\"dataIndex\":\"TAX_RATE\",\"id\":\"rateCol\",\"text\":\"Average Rate\",\"align\":\"right\",\"width\":\"130\",\"format\":\"0,000.00%\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"edit_icon\",\"id\":\"editWin\",\"height\":344,\"layout\":\"absolute\",\"defaultFocus\":\"CUST_NO\",\"width\":421,\"clickOK\":\"if(win.isNew)insertAjax.request();\\nelse updateAjax.request();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"*Custom No:\",\"width\":128,\"align\":\"right\",\"id\":\"label1\",\"height\":22,\"y\":8,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"CUST_NO\",\"height\":22,\"allowBlank\":\"false\",\"width\":200,\"y\":8,\"x\":136},{\"xwlMeta\":\"label\",\"text\":\"*Company:\",\"width\":128,\"align\":\"right\",\"id\":\"label2\",\"height\":22,\"y\":40,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"COMPANY\",\"height\":22,\"allowBlank\":\"false\",\"width\":200,\"y\":40,\"x\":136},{\"xwlMeta\":\"label\",\"text\":\"Address:\",\"width\":128,\"align\":\"right\",\"id\":\"label3\",\"height\":22,\"y\":72,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"ADDR\",\"height\":22,\"width\":200,\"y\":72,\"x\":136},{\"xwlMeta\":\"label\",\"text\":\"Country:\",\"width\":128,\"align\":\"right\",\"id\":\"label4\",\"height\":22,\"y\":104,\"x\":0},{\"xwlMeta\":\"comboBox\",\"store\":\"countryStore\",\"listWidth\":\"280\",\"height\":22,\"queryDelay\":\"160\",\"width\":200,\"pageSize\":\"Wb.pageSize\",\"id\":\"COUNTRY\",\"displayField\":\"COUNTRY\",\"y\":104,\"x\":136},{\"xwlMeta\":\"label\",\"text\":\"Tax Rate:\",\"width\":128,\"align\":\"right\",\"id\":\"label5\",\"height\":22,\"y\":136,\"x\":0},{\"xwlMeta\":\"number\",\"id\":\"TAX_RATE\",\"height\":22,\"width\":200,\"y\":136,\"x\":136},{\"xwlMeta\":\"label\",\"text\":\"Invoice Date:\",\"width\":128,\"align\":\"right\",\"id\":\"label6\",\"height\":22,\"y\":168,\"x\":0},{\"xwlMeta\":\"date\",\"id\":\"INVOICE_DATE\",\"height\":22,\"width\":200,\"y\":168,\"x\":136},{\"xwlMeta\":\"label\",\"text\":\"Remark:\",\"width\":128,\"align\":\"right\",\"id\":\"label7\",\"height\":22,\"y\":200,\"x\":0},{\"xwlMeta\":\"textArea\",\"id\":\"REMARK\",\"height\":72,\"width\":200,\"y\":200,\"x\":136},{\"xwlMeta\":\"hiddenField\",\"id\":\"CUST_ID\",\"height\":22,\"width\":100,\"y\":272,\"x\":136}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"report_icon\",\"id\":\"reportWin\",\"title\":\"Report\",\"height\":\"450\",\"layout\":\"fit\",\"tagProperties\":\"minimize:function(){\\nreportWin.hide(reportBtn);\\n}\",\"dialog\":\"false\",\"width\":\"600\",\"minimizable\":\"true\",\"maximizable\":\"true\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"reportStore\",\"columns\":\"reportColumns\",\"exportTitle\":\"Customer Report\",\"id\":\"reportGrid\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"customerColumns\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}","Customer",null,0,0,"admin","2012-06-19 12:16:36.0","23W0CDJH1JFU","2015-02-03 13:06:47.0",12],["13NY6A9O4XB7","13MKV4HXEYPC",null,"Customer Subs",null,1,0,"admin","2012-06-19 12:17:11.0","admin","2012-12-31 16:14:20.0",13],["13NY6A9O4XB8","13NY6A9O4XB7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"findKey\",\"value\":\"%{#findCombo#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from WB_CUST where COMPANY like {?findKey?}{#sql.orderBy#}\"}]}","Select",null,0,0,"admin","2012-06-19 12:17:19.0","admin","2012-09-11 11:58:35.0",1],["13NY6A9O4XID","13NY6A9O4XB7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Insert\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from WB_CUST where CUST_NO={?CUST_NO?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"codeExists\",\"message\":\"Customer No \\\"{#CUST_NO#}\\\" already exists.\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into WB_CUST values({?sys.id?},{?CUST_NO?},{?COMPANY?},{?ADDR?},{?COUNTRY?},{?double.TAX_RATE?},{?timestamp.INVOICE_DATE?},{?text.REMARK?})\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{CUST_ID:'{#sys.id#}'}\"}]}","Insert",null,0,0,"admin","2012-06-19 13:02:27.0","admin","2012-06-20 14:59:41.0",2],["13NY6A9O4XIF","13NY6A9O4XB7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Update\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from WB_CUST where CUST_NO={?CUST_NO?} and CUST_ID<>{?CUST_ID?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"codeExists\",\"message\":\"Customer No \\\"{#CUST_NO#}\\\" already exists.\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update WB_CUST set CUST_NO={?CUST_NO?},COMPANY={?COMPANY?},ADDR={?ADDR?},COUNTRY={?COUNTRY?},\\nTAX_RATE={?double.TAX_RATE?},INVOICE_DATE={?timestamp.INVOICE_DATE?},REMARK={?text.REMARK?}\\nwhere CUST_ID={?CUST_ID?}\",\"uniqueUpdate\":\"true\"}]}","Update",null,0,0,"admin","2012-06-19 13:02:32.0","admin","2012-06-20 15:00:57.0",3],["13NY6A9O4XIH","13NY6A9O4XB7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"delete from WB_CUST where CUST_ID={?CUST_ID?}\",\"arrayName\":\"grid1\"}]}","Delete",null,0,0,"admin","2012-06-19 13:02:35.0","admin","2012-06-20 14:39:29.0",4],["13NYIX2XOXSF","13NYJEZPDNWU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Summary\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"groupField\":\"COUNTRY\",\"pageSize\":\"-1\",\"url\":\"#13NYIX2XOXSO (Summary Select)\"},{\"xwlMeta\":\"array\",\"id\":\"columnsArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rowNumCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COUNTRY\",\"id\":\"countryCol\",\"summaryRenderer\":\"return 'Total:';\",\"text\":\"Country\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"sortable\":\"false\",\"dataIndex\":\"CT\",\"id\":\"countCol\",\"text\":\"Company Count\",\"align\":\"right\",\"width\":\"130\",\"format\":\"0,000\",\"summaryType\":\"count\"},{\"xwlMeta\":\"column\",\"sortable\":\"false\",\"dataIndex\":\"TAX_RATE\",\"id\":\"rateCol\",\"text\":\"Average Rate\",\"align\":\"right\",\"width\":\"130\",\"format\":\"0,000.00%\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"columnsArray\",\"featureType\":\"summary\",\"id\":\"grid1\"}]}]}","Summary",null,0,0,"admin","2012-06-20 15:03:34.0","admin","2012-12-31 16:29:15.0",2],["13NYIX2XOXSO","13NYJEZPDNJB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select COUNTRY,count(*) as \\\"CT\\\", avg(TAX_RATE) as \\\"TAX_RATE\\\" from WB_CUST group by COUNTRY\"}]}","Summary Select",null,0,0,"admin","2012-06-20 15:04:31.0","admin","2012-12-31 16:27:26.0",2],["13NYIX2XOXVK","13NYJEZPDNWU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Grouping\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"groupField\":\"COUNTRY\",\"pageSize\":\"-1\",\"url\":\"#13NYJEZPDNJD (Grouping Select)\"},{\"xwlMeta\":\"array\",\"id\":\"columnsArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COUNTRY\",\"id\":\"countryCol\",\"text\":\"Country\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"id\":\"infoCol\",\"text\":\"Basic Information\",\"children\":[{\"xwlMeta\":\"column\",\"sortable\":\"true\",\"dataIndex\":\"CUST_NO\",\"id\":\"custNoCol\",\"text\":\"Customer No\",\"width\":\"90\"},{\"xwlMeta\":\"column\",\"sortable\":\"true\",\"dataIndex\":\"COMPANY\",\"id\":\"companyCol\",\"text\":\"Company\",\"width\":\"180\"}]},{\"xwlMeta\":\"column\",\"dataIndex\":\"TAX_RATE\",\"id\":\"taxRateCol\",\"text\":\"Tax Rate\",\"align\":\"right\",\"width\":\"100\",\"format\":\"0,000.00%\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"columnsArray\",\"featureType\":\"grouping\",\"id\":\"grid1\"}]}]}","Grouping",null,0,0,"admin","2012-06-20 15:22:20.0","admin","2012-12-31 16:28:55.0",1],["13NYJEZPDNJB","13NYJEZPDNWU",null,"Feature Subs",null,1,0,"admin","2012-06-20 16:18:24.0","admin","2012-12-31 16:27:08.0",5],["13NYJEZPDNJD","13NYJEZPDNJB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from WB_CUST order by COUNTRY\"}]}","Grouping Select",null,0,0,"admin","2012-06-20 16:18:28.0","admin","2012-12-31 16:27:18.0",1],["13NYJEZPDNPF","13NY6A9O4XB7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from (\\nselect 0 as \\\"VIEW_TYPE\\\",COUNTRY,count(*) as \\\"CT\\\", avg(TAX_RATE) as \\\"TAX_RATE\\\" from WB_CUST group by COUNTRY\\nunion all\\nselect 1 as \\\"VIEW_TYPE\\\",'Total' as \\\"COUNTRY\\\",count(*) as \\\"CT\\\",avg(TAX_RATE) as \\\"TAX_RATE\\\" from WB_CUST\\n) t1 order by VIEW_TYPE{#sql.orderFields#}\"}]}","Report Select",null,0,0,"admin","2012-06-20 17:04:58.0","admin","2012-12-31 16:12:11.0",7],["13NYJEZPDNWU","13NR4T25XOP9",null,"Feature",null,0,0,"admin","2012-06-20 17:35:11.0","admin","2012-06-20 17:35:11.0",3],["13NYRBIIXQ5E","13NYJEZPDNWU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Infinite Scroll\",\"children\":[{\"xwlMeta\":\"store\",\"buffered\":\"true\",\"id\":\"store1\",\"groupField\":\"COUNTRY\",\"pageSize\":\"100\",\"params\":\"{xy:123}\",\"url\":\"#13O81DXC2WTQ (Infinite Scroll Select)\",\"load\":\"totalLbl.setText('Displaying Latest ' + Wb.formatNum(store.getTotalCount(),'0,000') + ' Records');\"},{\"xwlMeta\":\"array\",\"id\":\"columnsArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"LOG_DATE\",\"id\":\"dateCol\",\"text\":\"Date\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"nameCol\",\"text\":\"User Name\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"IP\",\"id\":\"ipCol\",\"text\":\"IP\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"LOG_TYPE\",\"id\":\"typeCol\",\"text\":\"Type\",\"align\":\"right\",\"width\":\"60\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MSG\",\"id\":\"msgCol\",\"text\":\"Message\",\"flex\":\"1\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"columnsArray\",\"id\":\"grid1\",\"afterrender\":\"var b=Wb.getPagingBar(grid);\\nb.getComponent('refresh').handler=function(){store1.removeAll();Wb.load(store1);};\\nb.add(['->',{xtype:'tbtext',id:'totalLbl'}]);\"}]}]}","Infinite Scroll",null,0,0,"admin","2012-06-21 09:25:15.0","admin","2012-12-31 16:29:36.0",3],["13O0NUPFP7K5","13NUIG6TAFQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Bar Chart\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#13NUIG6TAFX7 (Souce1)\"},{\"xwlMeta\":\"array\",\"id\":\"axesArray\",\"children\":[{\"xwlMeta\":\"axis\",\"position\":\"left\",\"type\":\"Category\",\"id\":\"labelAxis\",\"title\":\"Country\",\"grid\":\"true\",\"fields\":\"'COUNTRY'\"},{\"xwlMeta\":\"axis\",\"position\":\"bottom\",\"minimum\":\"0\",\"type\":\"Numeric\",\"id\":\"valueAxis\",\"title\":\"Company Count\",\"fields\":\"'V1'\",\"label\":\"{\\nrenderer: Ext.util.Format.numberRenderer('0,0')\\n}\"}]},{\"xwlMeta\":\"array\",\"id\":\"seriesArray\",\"children\":[{\"xwlMeta\":\"series\",\"highlight\":\"true\",\"type\":\"bar\",\"id\":\"series1\",\"title\":\"'Company Count'\",\"renderer\":\"var fieldValue = Math.random() * 20 + 10,\\nvalue = (fieldValue>>0) % 5,\\ncolor = ['rgb(213, 70, 121)',\\n'rgb(44, 153, 201)',\\n'rgb(146, 6, 157)',\\n'rgb(49, 149, 0)', \\n'rgb(249, 153, 0)'][value];\\n\\nreturn Ext.apply(attributes, {fill: color});\",\"axis\":\"bottom\",\"label\":\"{\\ndisplay: 'insideEnd',\\nfield: 'V1',\\nrenderer: Ext.util.Format.numberRenderer('0'),\\norientation: 'horizontal',\\ncontrast: true,\\n'text-anchor': 'middle'\\n}\",\"tips\":\"{\\ntrackMouse: true,\\nwidth: 180,\\nheight: 28,\\nrenderer: function(storeItem, item) {\\nvar v=storeItem.get('V1');\\nthis.setTitle(storeItem.get('COUNTRY') + ': ' +v + (v>1?' companies':' company'));\\n}\\n}\",\"xField\":\"'COUNTRY'\",\"yField\":\"'V1'\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"chart\",\"region\":\"center\",\"series\":\"seriesArray\",\"store\":\"store1\",\"axes\":\"axesArray\",\"id\":\"chart1\"}]}]}","Bar Chart",null,0,0,"admin","2012-06-27 14:29:47.0","admin","2012-06-28 13:17:04.0",5],["13O0X4IOJ4Y7","13NUIG6TAFQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Bar Chart\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#13NUIG6TAFX7 (Souce1)\"},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Export Chart\",\"iconCls\":\"export_icon\",\"id\":\"menuItem1\",\"click\":\"Wb.getChart(chart1);\"}]},{\"xwlMeta\":\"array\",\"id\":\"axesArray\",\"children\":[{\"xwlMeta\":\"axis\",\"position\":\"bottom\",\"type\":\"Category\",\"id\":\"labelAxis\",\"title\":\"Country\",\"grid\":\"true\",\"fields\":\"'COUNTRY'\"},{\"xwlMeta\":\"axis\",\"position\":\"left\",\"minimum\":\"0\",\"type\":\"Numeric\",\"id\":\"valueAxis\",\"title\":\"Company Count\",\"fields\":\"'V1'\",\"label\":\"{\\nrenderer: Ext.util.Format.numberRenderer('0,0')\\n}\"}]},{\"xwlMeta\":\"array\",\"id\":\"seriesArray\",\"children\":[{\"xwlMeta\":\"series\",\"highlight\":\"true\",\"type\":\"column\",\"id\":\"series1\",\"title\":\"'Company Count'\",\"axis\":\"left\",\"label\":\"{\\ndisplay: 'insideEnd',\\nfield: 'V1',\\nrenderer: Ext.util.Format.numberRenderer('0'),\\norientation: 'horizontal',\\nfill:'white',\\n'text-anchor': 'middle'\\n}\",\"tips\":\"{\\ntrackMouse: true,\\nwidth: 180,\\nheight: 28,\\nrenderer: function(storeItem, item) {\\nvar v=storeItem.get('V1');\\nthis.setTitle(storeItem.get('COUNTRY') + ': ' +v + (v>1?' companies':' company'));\\n}\\n}\",\"xField\":\"'COUNTRY'\",\"yField\":\"'V1'\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"tbar\":\"toolbar1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"chart\",\"region\":\"center\",\"series\":\"seriesArray\",\"store\":\"store1\",\"axes\":\"axesArray\",\"id\":\"chart1\"}]}]}]}","Column Chart",null,0,0,"admin","2012-06-28 11:48:20.0","admin","2012-06-28 13:16:56.0",6],["13O0X4IOJ51B","13NUIG6TAFQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Area Chart\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#13NUIG6TAFX7 (Souce1)\"},{\"xwlMeta\":\"array\",\"id\":\"axesArray\",\"children\":[{\"xwlMeta\":\"axis\",\"position\":\"bottom\",\"type\":\"Category\",\"id\":\"labelAxis\",\"title\":\"Country\",\"grid\":\"true\",\"fields\":\"'COUNTRY'\",\"label\":\"{\\nrotate:{degrees:315}\\n}\"},{\"xwlMeta\":\"axis\",\"position\":\"left\",\"minimum\":\"0\",\"type\":\"Numeric\",\"id\":\"v1v2Axis\",\"title\":\"Company Count\",\"grid\":\"{\\nodd: {\\nopacity: 1,\\nfill: '#ddd',\\nstroke: '#bbb',\\n'stroke-width': 0.5\\n}\\n}\",\"fields\":\"['V1','V2']\",\"majorTickSteps\":\"14\",\"maximum\":\"15\"}]},{\"xwlMeta\":\"array\",\"id\":\"seriesArray\",\"children\":[{\"xwlMeta\":\"series\",\"markerConfig\":\"{\\ntype: 'circle',\\nsize: 4,\\nradius: 4,\\n'stroke-width': 0\\n}\",\"highlight\":\"{size: 7, radius: 7}\",\"type\":\"line\",\"id\":\"leftSeries\",\"title\":\"'Count1'\",\"axis\":\"left\",\"xField\":\"'COUNTRY'\",\"yField\":\"'V1'\"},{\"xwlMeta\":\"series\",\"markerConfig\":\"{\\ntype: 'circle',\\nsize: 4,\\nradius: 4,\\n'stroke-width': 0\\n}\",\"smooth\":\"true\",\"highlight\":\"true\",\"type\":\"line\",\"id\":\"leftSeries1\",\"title\":\"'Count2'\",\"axis\":\"left\",\"fill\":\"true\",\"xField\":\"'COUNTRY'\",\"yField\":\"'V2'\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"chart\",\"region\":\"center\",\"series\":\"seriesArray\",\"animate\":\"true\",\"store\":\"store1\",\"theme\":\"Category2\",\"axes\":\"axesArray\",\"id\":\"chart1\",\"style\":\"background:#fff\",\"legend\":\"true\",\"background\":\"{\\nfill: 'rgb(150, 200, 130)'\\n}\"}]}]}","Line Chart",null,0,0,"admin","2012-06-28 12:17:30.0","admin","2012-06-28 13:16:41.0",7],["13O0X4IOJ53C","13NUIG6TAFQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Bar Chart\",\"initialize\":\" Ext.chart.theme.White = Ext.extend(Ext.chart.theme.Base, {\\n        constructor: function() {\\n           Ext.chart.theme.White.superclass.constructor.call(this, {\\n               axis: {\\n                   stroke: 'rgb(8,69,148)',\\n                   'stroke-width': 1\\n               },\\n               axisLabel: {\\n                   fill: 'rgb(8,69,148)',\\n                   font: '12px Arial',\\n                   'font-family': '\\\"Arial',\\n                   spacing: 2,\\n                   padding: 5,\\n                   renderer: function(v) { return v; }\\n               },\\n               axisTitle: {\\n                  font: 'bold 18px Arial'\\n               }\\n           });\\n        }\\n    });\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#13NUIG6TAFX7 (Souce1)\",\"load\":\"Wd.totalCount=0;\\nstore.each(function(r) {\\ntotalCount+= r.get('V1');\\n});\"},{\"xwlMeta\":\"array\",\"id\":\"seriesArray\",\"children\":[{\"xwlMeta\":\"series\",\"type\":\"pie\",\"highlight\":\"{ segment: {margin: 20}}\",\"id\":\"series1\",\"angleField\":\"'V1'\",\"showInLegend\":\"true\",\"label\":\"{\\nfield: 'COUNTRY',\\ndisplay: 'rotate',\\ncontrast: true,\\nfont: '18px Arial'\\n}\",\"tips\":\"{\\ntrackMouse: true,\\nwidth: 200,\\nheight: 28,\\nrenderer: function(storeItem, item) {\\nvar v=storeItem.get('V1');\\n/*totalCount defined in store1.load event*/\\nthis.setTitle(storeItem.get('COUNTRY') + ': ' +v + (v>1?' companies':' company') + '  '+\\nMath.round(v/totalCount*100)+'%');\\n}\\n}\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"chart\",\"region\":\"center\",\"series\":\"seriesArray\",\"store\":\"store1\",\"theme\":\"Base:gradients\",\"id\":\"chart1\",\"legend\":\"{position: 'right'}\",\"insetPadding\":\"60\"}]}]}","Pie Chart",null,0,0,"admin","2012-06-28 12:41:06.0","admin","2012-06-29 14:39:14.0",8],["13O0X4IOJ54X","13NUIG6TAFQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Live Chart\",\"finalize\":\"Wd.timeAxis = chart.axes.get(1);\\n    var intr = setInterval(function() {\\n         var gs = generateData();\\n        var toDate = timeAxis.toDate,\\n            lastDate = gs[gs.length - 1].date,\\n            markerIndex = chart.markerIndex || 0;\\n        if (+toDate < +lastDate) {\\n            markerIndex = 1;\\n            timeAxis.toDate = lastDate;\\n            timeAxis.fromDate = Ext.Date.add(Ext.Date.clone(timeAxis.fromDate), Ext.Date.DAY, 1);\\n            chart.markerIndex = markerIndex;\\n        }\\n        store.loadData(gs);\\n    }, 100);\",\"initialize\":\"var generateData = (function() {\\n        var data = [], i = 0,\\n            last = false,\\n            date = new Date(2011, 1, 1),\\n            seconds = +date,\\n            min = Math.min,\\n            max = Math.max,\\n            random = Math.random;\\n        return function() {\\n            data = data.slice();\\n            data.push({\\n                date:  Ext.Date.add(date, Ext.Date.DAY, i++),\\n                visits: min(100, max(last? last.visits + (random() - 0.5) * 20 : random() * 100, 0)),\\n                views: min(100, max(last? last.views + (random() - 0.5) * 10 : random() * 100, 0)),\\n                veins: min(100, max(last? last.veins + (random() - 0.5) * 20 : random() * 100, 0))\\n            });\\n            last = data[data.length -1];\\n            return data;\\n        };\\n    })();\\n\\nvar store = Ext.create('Ext.data.JsonStore', {\\n fields: ['date', 'visits', 'views', 'veins'],\\n data: generateData()\\n});\\n\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"axesArray\",\"children\":[{\"xwlMeta\":\"axis\",\"position\":\"left\",\"minimum\":\"0\",\"type\":\"Numeric\",\"id\":\"valAxis\",\"title\":\"Number of Hits\",\"grid\":\"{\\nodd: {\\nfill: '#dedede',\\nstroke: '#ddd',\\n'stroke-width': 0.5\\n}\\n}\",\"fields\":\"['views', 'visits', 'veins']\",\"maximum\":\"100\"},{\"xwlMeta\":\"axis\",\"position\":\"bottom\",\"constrain\":\"true\",\"type\":\"Time\",\"id\":\"timeAxis\",\"title\":\"Day\",\"dateFormat\":\"M d\",\"fields\":\"'date'\",\"toDate\":\"new Date(2011,1,7)\",\"fromDate\":\"new Date(2011,1,1)\"}]},{\"xwlMeta\":\"array\",\"id\":\"seriesArray\",\"children\":[{\"xwlMeta\":\"series\",\"markerConfig\":\"{\\nradius: 5,\\nsize: 5\\n}\",\"type\":\"line\",\"id\":\"series1\",\"label\":\"{\\ndisplay: 'none',\\nfield: 'visits',\\nrenderer: function(v) { return v >> 0; },\\n'text-anchor': 'middle'\\n}\",\"xField\":\"'date'\",\"yField\":\"'visits'\"},{\"xwlMeta\":\"series\",\"markerConfig\":\"{\\nradius: 5,\\nsize: 5\\n}\",\"type\":\"line\",\"id\":\"series11\",\"label\":\"{\\ndisplay: 'none',\\nfield: 'visits',\\nrenderer: function(v) { return v >> 0; },\\n'text-anchor': 'middle'\\n}\",\"xField\":\"'date'\",\"yField\":\"'veins'\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"chart\",\"series\":\"seriesArray\",\"store\":\"store\",\"axes\":\"axesArray\",\"id\":\"chart\",\"style\":\"background:#fff\"}]}]}","Live Chart",null,0,0,"admin","2012-06-28 13:05:32.0","admin","2012-06-28 14:33:10.0",9],["13O17M9642HB","13LRIOHKYMUT",null,"{#Str.wbDocs#}",null,1,0,"admin","2012-06-29 12:04:55.0","admin","2012-07-20 11:57:52.0",59],["13O18VPY3YUG","13NY6A9O4XB7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Find Task\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"findKey\",\"value\":\"%{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select COMPANY from WB_CUST where COMPANY like {?findKey?} order by COMPANY\"}]}","Find",null,0,0,"admin","2012-06-29 12:21:55.0","admin","2012-06-29 12:23:09.0",5],["13O19NABCPY8","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Property\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"select * from {#table#} where 1=0\",\"jndi\":\"{#jndi#}\"},{\"xwlMeta\":\"method\",\"id\":\"method1\",\"methodName\":\"com.webbuilder.interact.DbExplorer.getProperty\"}]}","Get Property","property_icon",0,0,"admin","2012-06-29 13:52:15.0","admin","2012-06-29 13:54:45.0",12],["13O1A5OVT7HB","13O17M9642HB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Tree\",\"initMethod\":\"com.webbuilder.interact.Docs.getTopicTree\",\"loginRequired\":\"false\"}","Get Tree","get_icon",0,0,"admin","2012-06-29 15:12:12.0","admin","2012-07-08 10:57:40.0",1],["13O1AVUENBSF","13O17M9642HB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get File\",\"initMethod\":\"com.webbuilder.interact.Docs.getFileContent\",\"loginRequired\":\"false\"}","Get File","get_icon",0,0,"admin","2012-06-29 16:48:51.0","admin","2012-07-08 10:57:48.0",2],["13O1XR8XKAHQ","13O17M9642HB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Search\",\"initMethod\":\"com.webbuilder.interact.Docs.searchKey\",\"loginRequired\":\"false\"}","Search","seek_icon",0,0,"admin","2012-07-01 18:46:33.0","admin","2012-07-08 10:57:48.0",3],["13O2GCJ6O4PE","13PLYHDF7AUR",null,"Menu",null,0,0,"admin","2012-07-03 14:41:56.0","admin","2012-07-03 14:41:56.0",4],["13O2GCJ6O4PG","13O2GCJ6O4PE","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Popup Menu\",\"children\":[{\"xwlMeta\":\"menu\",\"id\":\"menu1\",\"ignoreEvents\":\"true\",\"hide\":\"comboBox1.setValue(text1.getValue());\",\"show\":\"text1.setValue(comboBox1.getValue());\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"height\":164,\"layout\":\"absolute\",\"width\":300,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Any UI controls can be added to the panel\",\"width\":272,\"id\":\"label1\",\"height\":22,\"y\":16,\"x\":16},{\"xwlMeta\":\"image\",\"id\":\"image1\",\"height\":40,\"width\":40,\"src\":\"webbuilder/images/site/f.gif\",\"y\":48,\"x\":16},{\"xwlMeta\":\"label\",\"text\":\"what's your FB account?\",\"width\":224,\"id\":\"label2\",\"height\":22,\"y\":56,\"x\":64},{\"xwlMeta\":\"text\",\"id\":\"text1\",\"height\":22,\"width\":272,\"y\":96,\"x\":16},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"height\":22,\"text\":\"OK\",\"width\":80,\"y\":128,\"x\":208,\"click\":\"menu1.hide();\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"title\":\"Window\",\"autoShow\":\"true\",\"height\":152,\"layout\":\"absolute\",\"width\":350,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Expand Me:\",\"width\":128,\"id\":\"label3\",\"height\":22,\"y\":16,\"x\":24},{\"xwlMeta\":\"comboBox\",\"height\":22,\"width\":300,\"onTriggerClick\":\"menu1.showBy(this);\\ntext1.focus(false,true);\",\"id\":\"comboBox1\",\"y\":48,\"x\":24}]}]}","Popup Menu",null,0,0,"admin","2012-07-03 14:42:13.0","admin","2013-05-11 12:27:32.0",2],["13O3FEKV30SJ","13LRISKIV0QN","{\"id\":\"module\",\"title\":\"Reload System\",\"initMethod\":\"com.webbuilder.interact.MngTool.reloadSystem\",\"xwlMeta\":\"module\"}","Reload System","resume_icon",0,0,"admin","2012-07-06 15:16:29.0","admin","2012-07-06 15:16:29.0",27],["13O3FO5EYL83","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Import\",\"initMethod\":\"com.webbuilder.interact.Designer.impModule\"}","Import","import_icon",0,0,"admin","2012-07-06 18:33:22.0","admin","2012-07-06 18:47:12.0",28],["13O3H9TRCSYH","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Export\",\"initMethod\":\"com.webbuilder.interact.Designer.expModule\"}","Export","export_icon",0,0,"admin","2012-07-06 19:16:58.0","admin","2012-07-06 19:31:50.0",29],["13O3PEBSIJ0C","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Export Table\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"{#sql#}\",\"jndi\":\"{#jndi#}\"},{\"xwlMeta\":\"method\",\"id\":\"method1\",\"methodName\":\"com.webbuilder.interact.DbExplorer.exportData\"}]}","Export Table","export_icon",0,0,"admin","2012-07-07 12:53:40.0","admin","2012-07-07 13:36:48.0",10],["13O4MN7QQ830","13MKV4HXEYPC",null,"Notepad Subs",null,1,0,"admin","2012-07-10 17:58:00.0","admin","2012-12-31 16:14:34.0",42],["13O4MN7QQ833","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Notepad\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#13O4MN7QQ83F (Open)\",\"id\":\"openAjax\",\"success\":\"window.filePath = text1.getValue();\\nsaveBtn.setDisabled(false);\\npanel1.setTitle('Edit - ' + filePath);\\ntextArea1.setValue(response.responseText);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13O4MN7QQ83H (Save)\",\"id\":\"saveAjax\",\"success\":\"Wb.message('File has been saved.');\"},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"label1\",\"html\":\"&nbsp;File Path:&nbsp;\"},{\"xwlMeta\":\"text\",\"id\":\"text1\",\"tagProperties\":\"flex:1\",\"allowBlank\":\"false\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Open\",\"iconCls\":\"open_icon\",\"id\":\"openBtn\",\"click\":\"openAjax.request({filePath:text1.getValue()});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Save\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"disabled\":\"true\",\"click\":\"saveAjax.request({filePath:filePath,content:textArea1.getValue()});\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"tbar\":\"toolbar1\",\"id\":\"panel1\",\"title\":\"No file opened\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"textArea\",\"id\":\"textArea1\"}]}]}]}","Notepad",null,0,0,"admin","2012-07-10 17:58:19.0","admin","2012-07-10 18:22:05.0",41],["13O4MN7QQ83F","13O4MN7QQ830","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Open\",\"children\":[{\"xwlMeta\":\"serverScript\",\"id\":\"serverScript1\",\"script\":\"var file=new File(request.getParameter('filePath'));\\nWebUtil.response(response,FileUtil.readText(file));\"}]}","Open",null,0,0,"admin","2012-07-10 18:04:56.0","admin","2012-08-07 18:21:09.0",1],["13O4MN7QQ83H","13O4MN7QQ830","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Save\",\"children\":[{\"xwlMeta\":\"serverScript\",\"id\":\"serverScript1\",\"script\":\"var file=new File(request.getParameter('filePath'));\\nFileUtil.writeText(file,request.getParameter('content'));\"}]}","Save",null,0,0,"admin","2012-07-10 18:05:03.0","admin","2012-07-10 18:18:38.0",2],["13O5703A1GTK","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Import Pack\",\"initMethod\":\"com.webbuilder.interact.Designer.initPack\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"updateQuery\",\"sql\":\"update WB_MODULE set MODULE_CONTENT={?text.MODULE_CONTENT?},\\nLAST_MODIFY_USER={?sys.user?},LAST_MODIFY_DATE={?timestamp.LAST_MODIFY_DATE?} where MODULE_ID={?MODULE_ID?}\",\"transaction\":\"start\",\"arrayName\":\"updateArray\"},{\"xwlMeta\":\"query\",\"id\":\"insertQuery\",\"sql\":\"insert into WB_MODULE values({?MODULE_ID?},{?PARENT_ID?},{?text.MODULE_CONTENT?},\\n{?DISPLAY_NAME?},{?DISPLAY_ICON?},{?integer.IS_HIDDEN?},{?integer.NEW_WIN?},{?sys.user?},\\n{?timestamp.CREATE_DATE?},{?sys.user?},{?timestamp.LAST_MODIFY_DATE?},{?integer.ORDER_INDEX?})\",\"transaction\":\"commit\",\"arrayName\":\"insertArray\"},{\"xwlMeta\":\"method\",\"id\":\"reloadSystem\",\"methodName\":\"com.webbuilder.interact.MngTool.reloadSystem\"},{\"xwlMeta\":\"response\",\"id\":\"respReplaceIds\",\"object\":\"replaceIds\",\"uploadResponse\":\"true\"}]}","Import Pack","import_icon",0,0,"admin","2012-07-12 09:36:54.0","admin","2012-07-12 14:53:23.0",30],["13O5703A1GTM","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Export Pack\",\"initMethod\":\"com.webbuilder.interact.Designer.exportPack\"}","Export Pack","export_icon",0,0,"admin","2012-07-12 09:37:04.0","admin","2012-07-12 12:18:52.0",31],["13O81DXC2WTQ","13NYJEZPDNJB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from WB_LOG order by LOG_DATE desc\"}]}","Infinite Scroll Select",null,0,0,"admin","2012-07-21 17:22:20.0","admin","2012-12-31 16:27:55.0",3],["13O81Y84D175","13NYJEZPDNJB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Advanced Select\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select * from (select rownum as \\\"RN\\\",t.* from WB_LOG t where rownum<={?integer.end?} order by LOG_DATE) x where RN >={?integer.start?}\",\"id\":\"sqlSwitcher1\",\"sqlserver\":\"select * from\\n (\\n   select row_number() over (order by LOG_DATE) as \\\"ROWNUM\\\", * from WB_LOG\\n ) T\\nwhere ROWNUM between {?integer.start?} and {?integer.end?}\\norder by LOG_DATE\"},{\"xwlMeta\":\"dataProvider\",\"autoPage\":\"false\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"totalSql\":\"select count(*) from WB_LOG\"}]}","Advanced Select",null,0,0,"admin","2012-07-21 17:50:51.0","admin","2014-02-15 09:22:16.0",4],["13O81Y84D1A2","13NYJEZPDNWU","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Advanced Infinite Scroll\",\"children\":[{\"xwlMeta\":\"store\",\"buffered\":\"true\",\"id\":\"store1\",\"groupField\":\"COUNTRY\",\"pageSize\":\"100\",\"url\":\"#13O81Y84D175 (Advanced Select)\",\"load\":\"totalLbl.setText('Total Count:' + Wb.formatNum(store.getTotalCount(),'0,000'));\"},{\"xwlMeta\":\"array\",\"id\":\"columnsArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"LOG_DATE\",\"id\":\"dateCol\",\"text\":\"Date\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"nameCol\",\"text\":\"User Name\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"IP\",\"id\":\"ipCol\",\"text\":\"IP\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"LOG_TYPE\",\"id\":\"typeCol\",\"text\":\"Type\",\"align\":\"right\",\"width\":\"60\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MSG\",\"id\":\"msgCol\",\"text\":\"Message\",\"flex\":\"1\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"columnsArray\",\"id\":\"grid1\",\"afterrender\":\"var b=Wb.getPagingBar(grid);\\nb.getComponent('refresh').handler=function(){store1.removeAll();Wb.load(store1);};\\nb.add(['->',{xtype:'tbtext',id:'totalLbl'}]);\"}]}]}","Advanced Infinite Scroll",null,0,0,"admin","2012-07-21 17:53:28.0","admin","2012-09-06 10:48:53.0",4],["13O9JETGOELU","13O2GCJ6O4PE","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Menu and Toolbar\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Menu\",\"id\":\"menuItem1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"item1\",\"iconCls\":\"grid_icon\",\"id\":\"menuItem7\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem8\"},{\"xwlMeta\":\"menuItem\",\"text\":\"color\",\"type\":\"colorPicker\",\"id\":\"menuItem9\"},{\"xwlMeta\":\"menuItem\",\"text\":\"date\",\"type\":\"datePicker\",\"id\":\"menuItem10\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"separatorItem\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Pure Text\",\"type\":\"textItem\",\"id\":\"menuItem11\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Button\",\"iconCls\":\"seek_icon\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Any Menu Item\",\"id\":\"menuItem12\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel11\",\"height\":164,\"layout\":\"absolute\",\"width\":300,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Any UI controls can be added to the panel\",\"width\":272,\"id\":\"label11\",\"height\":22,\"y\":16,\"x\":16},{\"xwlMeta\":\"image\",\"id\":\"image1\",\"height\":40,\"width\":40,\"src\":\"webbuilder/images/site/f.gif\",\"y\":48,\"x\":16},{\"xwlMeta\":\"label\",\"text\":\"what's your FB account?\",\"width\":224,\"id\":\"label21\",\"height\":22,\"y\":56,\"x\":64},{\"xwlMeta\":\"text\",\"id\":\"text11\",\"height\":22,\"width\":272,\"y\":96,\"x\":16},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"height\":22,\"text\":\"OK\",\"width\":80,\"y\":128,\"x\":208,\"click\":\"menuItem12.menu.hide();\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem13\"},{\"xwlMeta\":\"text\",\"id\":\"text1\"}]},{\"xwlMeta\":\"label\",\"text\":\"Label1\",\"id\":\"label1\"},{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"headerScript\":\",{text:'<span style=\\\"color:red\\\">Script<\/span>',xtype:'tbtext'}\"},{\"xwlMeta\":\"menuItem\",\"text\":\" \",\"id\":\"blankItem\",\"tagProperties\":\"/*Text property has a space char*/\"},{\"xwlMeta\":\"comboBox\",\"id\":\"comboBox1\"},{\"xwlMeta\":\"menuItem\",\"id\":\"menuItem14\",\"checked\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"fillItem\"},{\"xwlMeta\":\"menuItem\",\"pressed\":\"true\",\"iconCls\":\"list_icon\",\"id\":\"menuItem21\",\"enableToggle\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Radio Menu\",\"id\":\"radioMenu\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Item1\",\"pressed\":\"true\",\"id\":\"menuItem15\",\"group\":\"test\",\"checked\":\"false\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Item2\",\"pressed\":\"false\",\"id\":\"menuItem18\",\"group\":\"test\",\"checked\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem20\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Other Item\",\"id\":\"menuItem19\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"Check Menu\",\"id\":\"menuItem16\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Check Item\",\"id\":\"menuItem17\",\"checked\":\"true\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"Split Menu\",\"type\":\"split\",\"id\":\"menuItem3\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"item1\",\"id\":\"menuItem4\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"item1\",\"id\":\"menuItem6\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"item2\",\"id\":\"menuItem5\"}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"titleBar\",\"titleToolbar\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"id\":\"gearItem\",\"toolType\":\"gear\"},{\"xwlMeta\":\"menuItem\",\"id\":\"refreshItem\",\"toolType\":\"refresh\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"tbar\":\"toolbar1\",\"id\":\"panel1\",\"tools\":\"titleBar\",\"title\":\"Title\"}]}]}","Menu and Toolbar",null,0,0,"admin","2012-07-26 16:10:23.0","admin","2012-07-26 17:09:39.0",1],["13OE2BFK7NVO","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Upload Download\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"title\":\"Upload Download\",\"autoShow\":\"true\",\"height\":214,\"layout\":\"absolute\",\"dialog\":\"false\",\"width\":380,\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"height\":80,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":352,\"url\":\"#13OE2BFK7NYE (Response Upload)\",\"y\":8,\"x\":8,\"success\":\"Wb.message('File content:'+value.substring(1,100)+(value.length>100?'...':''));\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Please upload a text file:\",\"width\":144,\"id\":\"label1\",\"height\":22,\"y\":8,\"x\":16},{\"xwlMeta\":\"text\",\"id\":\"text1\",\"height\":22,\"inputType\":\"file\",\"allowBlank\":\"false\",\"width\":200,\"y\":40,\"x\":16},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"height\":22,\"text\":\"Upload\",\"width\":80,\"y\":40,\"x\":224,\"click\":\"if(Wb.verify(text1))\\n  Wb.upload(form1);\"}]},{\"xwlMeta\":\"label\",\"text\":\"Download a file from server:\",\"width\":160,\"id\":\"label11\",\"height\":22,\"y\":96,\"x\":24},{\"xwlMeta\":\"text\",\"emptyText\":\"File Path\",\"id\":\"text2\",\"height\":22,\"allowBlank\":\"false\",\"width\":200,\"y\":128,\"x\":24},{\"xwlMeta\":\"button\",\"id\":\"button2\",\"height\":22,\"text\":\"Download\",\"width\":80,\"y\":128,\"x\":232,\"click\":\"if(Wb.verify(text2))\\n  Wb.download('main?xwl=13OE5S7AWS4Z'/*Response File*/,Wb.getValue(text2));\"}]}]}","Upload Download",null,0,0,"admin","2012-08-10 12:52:34.0","admin","2012-08-10 17:33:30.0",43],["13OE2BFK7NW7","13MKV4HXEYPC",null,"Upload Download Subs",null,1,0,"admin","2012-08-10 12:53:07.0","admin","2012-12-31 16:16:11.0",44],["13OE2BFK7NYE","13OE2BFK7NW7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Response Upload\",\"initScript\":\"var o=request.getAttribute('text1');//o is InputStream object\\nWebUtil.response(response,StringUtil.toHTML(StringUtil.getString(o)),true);\"}","Response Upload",null,0,0,"admin","2012-08-10 12:55:42.0","admin","2012-08-10 17:40:04.0",1],["13OE5S7AWS4Z","13OE2BFK7NW7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Response File\",\"initScript\":\"var file=new File(request.getParameter('text2'));// If file upload mode, use request.getAttribute method instead\\nresponse.reset();\\nresponse.setHeader(\\\"content-length\\\", Long.toString(file.length()));\\nresponse.setHeader(\\\"content-type\\\", \\\"application/force-download\\\");\\nresponse.setHeader(\\\"content-disposition\\\", \\\"attachment;\\\"\\n\\t+ WebUtil.encodeFilename(request, file.getName()));\\nWebUtil.response(response,java.io.FileInputStream(file));//Auto flush buffer and close stream\"}","Response File",null,0,0,"admin","2012-08-10 16:16:11.0","admin","2012-08-10 18:06:54.0",2],["13ONWN9UC6UT","13NY6A9O4XB7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Find Task\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"findKey\",\"value\":\"%{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select distinct COUNTRY from WB_CUST where COUNTRY like {?findKey?} order by COUNTRY\"}]}","Find Country",null,0,0,"admin","2012-09-11 11:59:35.0","admin","2014-03-26 16:54:40.0",6],["13PLYHDF7AUR","13MKV4HXEYPC",null,"Controls",null,0,0,"admin","2012-12-31 16:25:33.0","admin","2012-12-31 16:25:33.0",47],["13PLYKK4HX8S","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Layouts\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"height\":561,\"layout\":\"absolute\",\"width\":682,\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"absolute\",\"title\":\"absolute\",\"height\":172,\"layout\":\"absolute\",\"width\":210,\"y\":8,\"x\":8,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"label1\",\"width\":128,\"id\":\"label1\",\"height\":22,\"y\":24,\"x\":24},{\"xwlMeta\":\"text\",\"id\":\"text1\",\"height\":22,\"width\":152,\"y\":56,\"x\":24},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"height\":22,\"text\":\"button1\",\"width\":80,\"y\":88,\"x\":96}]},{\"xwlMeta\":\"panel\",\"id\":\"accordion\",\"title\":\"accordion\",\"height\":172,\"layout\":\"accordion\",\"width\":210,\"y\":8,\"x\":232,\"children\":[{\"xwlMeta\":\"panel\",\"iconCls\":\"grid_icon\",\"id\":\"t1\",\"title\":\"title1\"},{\"xwlMeta\":\"panel\",\"iconCls\":\"report_icon\",\"id\":\"t2\",\"title\":\"title2\"},{\"xwlMeta\":\"panel\",\"iconCls\":\"clock_icon\",\"id\":\"t3\",\"title\":\"title3\"}]},{\"xwlMeta\":\"panel\",\"id\":\"anchor\",\"title\":\"anchor\",\"height\":172,\"layout\":\"anchor\",\"tagProperties\":\"defaults:{labelWidth:55},bodyPadding:5,resizable:true\",\"width\":210,\"y\":8,\"x\":456,\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"Send To\",\"id\":\"text2\",\"tagProperties\":\"anchor:'100%'\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"Subject\",\"id\":\"text3\",\"tagProperties\":\"anchor:'100%'\"},{\"xwlMeta\":\"textArea\",\"id\":\"textArea1\",\"tagProperties\":\"anchor:'100% -47'\"}]},{\"xwlMeta\":\"panel\",\"id\":\"border\",\"title\":\"border\",\"height\":172,\"layout\":\"border\",\"tagProperties\":\"resizable:true\",\"width\":210,\"y\":192,\"x\":8,\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"northPanel\",\"title\":\"northPanel\",\"height\":\"50\",\"split\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"west\",\"id\":\"westPanel\",\"title\":\"westPanel\",\"width\":\"100\",\"split\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"centerPanel\",\"title\":\"centerPanel\"}]},{\"xwlMeta\":\"panel\",\"id\":\"column\",\"title\":\"column\",\"height\":172,\"layout\":\"column\",\"width\":210,\"y\":192,\"x\":232,\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"column1\",\"height\":\"30\",\"tagProperties\":\"columnWidth:1/4\",\"html\":\"col1\"},{\"xwlMeta\":\"panel\",\"id\":\"column2\",\"height\":\"50\",\"tagProperties\":\"columnWidth:1/4\",\"html\":\"col2\"},{\"xwlMeta\":\"panel\",\"id\":\"column3\",\"height\":\"100\",\"tagProperties\":\"columnWidth:1/2\",\"html\":\"col3\"}]},{\"xwlMeta\":\"panel\",\"id\":\"fit\",\"title\":\"fit\",\"height\":172,\"layout\":\"fit\",\"width\":210,\"y\":192,\"x\":456,\"children\":[{\"xwlMeta\":\"textArea\",\"id\":\"textArea2\"}]},{\"xwlMeta\":\"panel\",\"id\":\"hbox\",\"title\":\"hbox\",\"height\":172,\"layout\":\"@{type: 'hbox',padding:'2',align:'stretch'}\",\"tagProperties\":\"resizable:true\",\"width\":210,\"y\":376,\"x\":8,\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"h1\",\"title\":\"h1\",\"tagProperties\":\"flex:1\"},{\"xwlMeta\":\"panel\",\"id\":\"h2\",\"title\":\"h2\",\"tagProperties\":\"flex:2\"},{\"xwlMeta\":\"panel\",\"id\":\"h3\",\"title\":\"h3\",\"tagProperties\":\"flex:3\"}]},{\"xwlMeta\":\"panel\",\"id\":\"vbox\",\"title\":\"vbox\",\"height\":172,\"layout\":\"@{type: 'vbox',padding:'2',align:'stretch'}\",\"width\":210,\"y\":376,\"x\":232,\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"v1\",\"title\":\"v1\",\"tagProperties\":\"flex:1\"},{\"xwlMeta\":\"panel\",\"id\":\"v2\",\"title\":\"v2\",\"tagProperties\":\"flex:1\"},{\"xwlMeta\":\"panel\",\"id\":\"v3\",\"title\":\"v3\",\"tagProperties\":\"flex:2\"}]},{\"xwlMeta\":\"panel\",\"id\":\"table\",\"title\":\"table\",\"height\":172,\"layout\":\"@{type:'table',columns:3}\",\"tagProperties\":\"defaults:{frame:true,width:65,height:65}\",\"width\":210,\"y\":376,\"x\":456,\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel2\"},{\"xwlMeta\":\"panel\",\"id\":\"panel3\"},{\"xwlMeta\":\"panel\",\"id\":\"panel4\"},{\"xwlMeta\":\"panel\",\"id\":\"panel5\"},{\"xwlMeta\":\"panel\",\"id\":\"panel6\"}]}]}]}","Layouts",null,0,0,"admin","2012-12-31 16:39:01.0","admin","2012-12-31 16:48:38.0",33],["13PLYKK4HXBA","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Tables\",\"initScript\":\"var conn = null, rs = null, buf = new StringBuilder();\\n\\ntry {\\n  conn = DbUtil.getConnection();\\n  rs = conn.getMetaData().getTables(null, null, null, [ 'TABLE' ]);\\n  buf.append('<table border=\\\"0\\\" style=\\\"border-collapse:separate;border-spacing:3px;\\\">')\\n  while (rs.next())\\n    buf.append('<tr><td><img src=\\\"webbuilder/images/table.gif\\\"><\/td><td>').append(rs.getString(\\\"TABLE_NAME\\\")).append('<\/td><\/tr>');\\n  buf.append('<\/table>');\\n  request.setAttribute('tablesHtml',buf); //For panel1.html property\\n}\\nfinally{\\n  DbUtil.closeResultSet(rs);\\n  DbUtil.closeConnection(conn);\\n}\\n\",\"children\":[{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"autoScroll\":\"true\",\"id\":\"panel1\",\"title\":\"Table List\",\"html\":\"{#tablesHtml#}\"}]}]}","Get Tables",null,0,0,"admin","2012-12-31 16:55:31.0","admin","2013-01-16 11:29:41.0",24],["13PLYKK4HXBI","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"initModules\":\"#13PLYKK4HXBM (Sub Module)\",\"id\":\"module\",\"title\":\"Include Module\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"initialize\":\"Wd.sub1_win_handle=function(){\\n  Wb.message('Your name is '+sub1_text1.getValue());\\n  sub1_win.hide();\\n}\"},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"text\":\"Invoke Sub-Module Window\",\"click\":\"sub1_win.show();\"}]}","Include Module",null,0,0,"admin","2012-12-31 16:56:54.0","admin","2012-12-31 16:58:37.0",31],["13PLYKK4HXBL","13MKV4HXEYPC",null,"Include Module Subs",null,1,0,"admin","2012-12-31 16:57:39.0","admin","2012-12-31 17:04:44.0",32],["13PLYKK4HXBM","13PLYKK4HXBL","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Sub Module\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"sub1_win\",\"title\":\"Hello\",\"height\":148,\"layout\":\"absolute\",\"defaultFocus\":\"sub1_text1\",\"width\":253,\"clickOK\":\"sub1_win_handle();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"What's your name?\",\"width\":128,\"id\":\"sub1_label1\",\"height\":22,\"y\":16,\"x\":24},{\"xwlMeta\":\"text\",\"id\":\"sub1_text1\",\"height\":22,\"allowBlank\":\"false\",\"width\":200,\"y\":40,\"x\":24}]}]}","Sub Module",null,0,0,"admin","2012-12-31 16:58:09.0","admin","2012-12-31 16:58:26.0",1],["13PNR4NYY34Q","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"HTML View\",\"head\":\"<style type=\\\"text/css\\\">\\n  .v-css{border:1px solid #999;table-layout:fixed;width:750px;line-height:18px;border-collapse:collapse;margin:5px;font-size:12px;}\\n  .v-css td{width:150px;border:1px solid #999;word-wrap:break-word;word-break:break-all;padding:5px}\\n  .v-css td.v-field{padding:0px}\\n  .v-title{font-size:13px;font-weight:700;background-color:#9C6}\\n  .v-fixed{background-color:#EEE}\\n  .v-editor{border:0px}\\n  .v-editor td{border:0px;padding:0px}\\n  .v-inner{background:none;border:0px}\\n<\/style>\",\"finalize\":\"centerPanel();\",\"initialize\":\"Wd.centerPanel=function(){\\n  var e=panel1.el,w=mainPanel.el.getWidth();\\n  w=(w-panel1.el.getWidth())/2;\\n  if(w<0)w=0;\\n  e.setLeft(w);\\n}\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.save\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"autoScroll\":\"true\",\"tbar\":\"toolbar1\",\"id\":\"mainPanel\",\"layout\":\"absolute\",\"resize\":\"centerPanel();\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"border\":\"false\",\"width\":\"760\",\"html\":\"<table class=\\\"v-css\\\">\\n  <tr><td colspan=\\\"5\\\" class=\\\"v-title\\\">General Information<\/td><\/tr>\\n  <tr><td class=\\\"v-fixed\\\">Name:<\/td><td id=\\\"nameTd\\\" colspan=\\\"3\\\"><\/td><td rowspan=\\\"3\\\"><img src='webbuilder/images/site/wb.gif' width='140px'><\/td><\/tr>\\n  <tr><td class=\\\"v-fixed\\\">Department:<\/td><td>VIP Divers Club<\/td><td class=\\\"v-fixed\\\">Role:<\/td><td>Manager<\/td><\/tr>\\n  <tr><td class=\\\"v-fixed\\\">Birth Date:<\/td><td>1978-01-30<\/td><td class=\\\"v-fixed\\\">Sex:<\/td><td>Male<\/td><\/tr>\\n  <tr><td colspan=\\\"5\\\" class=\\\"v-title\\\">Contact<\/td><\/tr>\\n  <tr><td class=\\\"v-fixed\\\">Mobile Phone:<\/td><td>100-236-738<\/td><td class=\\\"v-fixed\\\">E-Mail:<\/td><td colspan=\\\"2\\\">contact@putdb.com<\/td><\/tr>\\n  <tr><td class=\\\"v-fixed\\\">Address:<\/td><td colspan=\\\"4\\\">6133 1/3 Stone Avenue<\/td><\/tr>\\n  <tr><td colspan=\\\"5\\\" class=\\\"v-title\\\">About WebBuilder<\/td><\/tr>\\n  <tr><td colspan=\\\"5\\\"><b>WebBuilder<\/b> is a powerful rapid application development tool for creating amazing web applications.<br>.Browser based integrated development environment.<br>.Develop application easily and quickly.<br>.High performance and high stability.<br>.Cross Browser, database and operating system.<br>.Server side script support.<br>.Smart database access.<\/td><\/tr>\\n<\/table>\",\"afterrender\":\"var obj=new Ext.form.field.Text({\\n  id:'username',cls:'v-editor',fieldCls:'v-inner',value:'Edit name here',width:443,renderTo:'nameTd'\\n});\"}]}]}]}","HTML View",null,0,0,"admin","2013-01-06 17:33:56.0","admin","2013-01-08 11:59:30.0",28],["13POMOS7XZDS","13O2GCJ6O4PE","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Context Menu\",\"children\":[{\"xwlMeta\":\"menu\",\"id\":\"panelMenu\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Properties\",\"iconCls\":\"property_icon\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Edit\",\"iconCls\":\"edit_icon\",\"id\":\"menuItem1\"}]},{\"xwlMeta\":\"menu\",\"id\":\"gridMenu\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Company Text\",\"iconCls\":\"list_icon\",\"id\":\"companyItem\"}]},{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#13NY6A9O4XB8 (App->Customer->Select)\"},{\"xwlMeta\":\"array\",\"id\":\"customerColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CUST_NO\",\"id\":\"custNoCol\",\"text\":\"Customer No\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COMPANY\",\"id\":\"companyCol\",\"text\":\"Company\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ADDR\",\"id\":\"addrCol\",\"text\":\"Address\",\"width\":\"160\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COUNTRY\",\"id\":\"countryCol\",\"text\":\"Country\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TAX_RATE\",\"id\":\"taxRateCol\",\"text\":\"Tax Rate\",\"align\":\"right\",\"width\":\"80\",\"format\":\"0,000.00\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INVOICE_DATE\",\"id\":\"dateCol\",\"text\":\"Invoice Date\",\"width\":\"140\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"panel1\",\"height\":91,\"layout\":\"absolute\",\"width\":450,\"afterrender\":\"Wb.setMenu(panel.el,panelMenu);\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Right click any part of the panel or the grid\",\"width\":288,\"id\":\"label1\",\"height\":22,\"y\":16,\"x\":16},{\"xwlMeta\":\"text\",\"id\":\"text1\",\"height\":22,\"width\":200,\"y\":48,\"x\":16},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"height\":22,\"text\":\"button1\",\"width\":80,\"y\":48,\"x\":224}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"customerColumns\",\"region\":\"center\",\"id\":\"grid1\",\"tagEvents\":\"itemcontextmenu: function(view, record, item, index, e){\\ncompanyItem.setText(record.get('COMPANY'));\\ngridMenu.showAt(e.getXY());\\ne.preventDefault();\\n}\"}]}]}","Context Menu",null,0,0,"admin","2013-01-09 11:36:55.0","admin","2013-01-09 12:04:14.0",3],["13POMOS7XZGM","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Wizard\",\"initialize\":\"Wd.navigate = function(direction){\\n  var layout = window1.getLayout();\\n  layout[direction]();\\n  prevBtn.setDisabled(!layout.getPrev());\\n  nextBtn.setDisabled(!layout.getNext());\\n};\\n\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"btnArray\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"prevBtn\",\"text\":\"Previous\",\"disabled\":\"true\",\"click\":\"navigate('prev');\"},{\"xwlMeta\":\"button\",\"iconCls\":\"next_icon\",\"id\":\"nextBtn\",\"text\":\"Next\",\"click\":\"navigate('next');\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"wand_icon\",\"id\":\"window1\",\"title\":\"Welcome to the wizard\",\"autoShow\":\"true\",\"height\":\"260\",\"layout\":\"card\",\"tagProperties\":\"bodyStyle: 'padding:15px',\\ndefaults: {border: false}\",\"dialog\":\"false\",\"width\":\"380\",\"buttons\":\"btnArray\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"html\":\"Step 1 of 3 - Initializing\"},{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"html\":\"Step 2 of 3 - Processing\"},{\"xwlMeta\":\"panel\",\"id\":\"panel3\",\"html\":\"Step 3 of 3 - Completing\"}]}]}","Wizard",null,0,0,"admin","2013-01-09 12:15:51.0","admin","2013-01-09 12:34:32.0",46],["13POMOS7XZHP","13PLYHDF7AUR",null,"General",null,0,0,"admin","2013-01-09 12:39:50.0","admin","2013-01-09 12:39:50.0",2],["13POMOS7XZJ9","13POMOS7XZHP","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Control Value\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"mainPanel\",\"height\":438,\"layout\":\"absolute\",\"width\":690,\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"height\":166,\"layout\":\"absolute\",\"width\":653,\"y\":8,\"x\":16,\"children\":[{\"xwlMeta\":\"text\",\"id\":\"text1\",\"height\":22,\"value\":\"text1\",\"width\":296,\"y\":9,\"x\":20},{\"xwlMeta\":\"label\",\"text\":\"Date:\",\"width\":88,\"id\":\"label1\",\"height\":22,\"y\":48,\"x\":20},{\"xwlMeta\":\"date\",\"id\":\"date1\",\"height\":22,\"width\":200,\"y\":48,\"x\":116},{\"xwlMeta\":\"label\",\"text\":\"Time:\",\"width\":88,\"id\":\"label2\",\"height\":22,\"y\":88,\"x\":20},{\"xwlMeta\":\"time\",\"id\":\"time1\",\"height\":22,\"width\":200,\"y\":88,\"x\":116},{\"xwlMeta\":\"label\",\"text\":\"DateTime:\",\"width\":88,\"id\":\"label3\",\"height\":22,\"y\":128,\"x\":20},{\"xwlMeta\":\"datetime\",\"id\":\"datetime1\",\"height\":22,\"width\":200,\"y\":128,\"x\":116},{\"xwlMeta\":\"check\",\"width\":296,\"id\":\"check1\",\"height\":22,\"boxLabel\":\"check1\",\"y\":33,\"x\":328},{\"xwlMeta\":\"radioGroup\",\"width\":296,\"columns\":\"2\",\"id\":\"radioGroup1\",\"height\":24,\"y\":72,\"x\":328,\"children\":[{\"xwlMeta\":\"radio\",\"id\":\"radio1\",\"boxLabel\":\"radio1\"},{\"xwlMeta\":\"radio\",\"id\":\"radio2\",\"checked\":\"true\",\"boxLabel\":\"radio2\"}]},{\"xwlMeta\":\"checkGroup\",\"width\":296,\"columns\":\"2\",\"id\":\"checkGroup1\",\"height\":24,\"y\":112,\"x\":328,\"children\":[{\"xwlMeta\":\"check\",\"id\":\"check2\",\"boxLabel\":\"check2\"},{\"xwlMeta\":\"check\",\"id\":\"check3\",\"boxLabel\":\"check3\"}]}]},{\"xwlMeta\":\"fieldSet\",\"width\":653,\"id\":\"fieldSet1\",\"title\":\"Values\",\"height\":232,\"layout\":\"absolute\",\"y\":192,\"x\":16,\"children\":[{\"xwlMeta\":\"textArea\",\"id\":\"textArea1\",\"height\":152,\"width\":608,\"y\":8,\"x\":8},{\"xwlMeta\":\"button\",\"id\":\"getValueBtn\",\"height\":22,\"text\":\"Get Values\",\"width\":112,\"y\":168,\"x\":376,\"click\":\"textArea1.setValue(Ext.encode(Wb.getValue(panel1)));//see Wb.getVal function\"},{\"xwlMeta\":\"button\",\"id\":\"setValueBtn\",\"height\":22,\"text\":\"Set Values\",\"width\":112,\"y\":168,\"x\":504,\"click\":\"Wb.setValue(Ext.decode(textArea1.getValue()));//see Wb.setVal function\"}]}]}]}","Control Value",null,0,0,"admin","2013-01-09 13:17:46.0","admin","2014-03-25 10:37:23.0",5],["13POMOS7XZLO","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Dual Boxes\",\"initialize\":\"Wd.swap=function(src, dst, isAll){\\n  var srcSt=src.store, dstSt=dst.store, srcSelModel=src.getSelectionModel(),\\n      sel=isAll?srcSt.getRange():srcSelModel.getSelection(),\\n      srcIndex, len, key='COMPANY';\\n  if(!isAll&&sel.length===0){\\n    if(srcSt.getCount()>0)\\n      srcSelModel.select(0);\\n    return;\\n  }\\n  srcIndex=srcSt.indexOf(sel[0]);\\n  srcSt.remove(sel);\\n  Ext.Array.each(sel,function(r){\\n    if(!Wb.findRecord(dstSt,key,r.get(key)))\\n      dstSt.add(r);\\n  });\\n  dst.getSelectionModel().select(sel);\\n  len=srcSt.getCount()-1;\\n  if(len<srcIndex)\\n    srcIndex=len;\\n  if(srcIndex!=-1)\\n    srcSelModel.select(srcIndex);\\n}\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"#13POMOS7XZM0 (Get Tree)\",\"id\":\"treeStore1\",\"load\":\"Wb.selFirst(countryTree);\",\"beforeload\":\"operation.params.COUNTRY=operation.node.get('text');\"},{\"xwlMeta\":\"store\",\"id\":\"srcStore\",\"tagProperties\":\"filters:new Ext.util.Filter({\\n  filterFn: function(r) {\\n\\tvar key='COMPANY';\\n    return !Wb.findRecord(dstStore,key,r.get(key));\\n  }\\n})\",\"url\":\"#13POMOS7XZM2 (Source Select)\"},{\"xwlMeta\":\"store\",\"id\":\"dstStore\",\"url\":\"#13POMOS7XZYE (Dest Select)\"},{\"xwlMeta\":\"array\",\"id\":\"srcCol\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"COMPANY\",\"id\":\"srcCompany\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"dstCol\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"COMPANY\",\"id\":\"dstCompany\",\"flex\":\"1\"}]},{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"height\":306,\"layout\":\"absolute\",\"width\":752,\"children\":[{\"xwlMeta\":\"fieldSet\",\"width\":400,\"id\":\"source\",\"title\":\"Available Companies\",\"height\":288,\"layout\":\"fit\",\"y\":8,\"x\":8,\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"layout\":\"border\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"treeStore1\",\"root\":\"{text:'All Countries',expanded:true}\",\"id\":\"countryTree\",\"width\":\"150\",\"split\":\"true\",\"selectionchange\":\"if(selections.length)\\n  Wb.load(srcStore,{COUNTRY:selections[0].get('text')});\"},{\"xwlMeta\":\"grid\",\"store\":\"srcStore\",\"columns\":\"srcCol\",\"tagProperties\":\"hideHeaders:true\",\"pagingToolbar\":\"false\",\"region\":\"center\",\"id\":\"srcGrid\",\"autoLoad\":\"false\",\"itemdblclick\":\"incBtn.fireEvent('click');\"}]}]},{\"xwlMeta\":\"button\",\"id\":\"incBtn\",\"height\":22,\"text\":\">\",\"width\":64,\"y\":56,\"tooltip\":\"Include\",\"x\":416,\"click\":\"swap(srcGrid,dstGrid);\"},{\"xwlMeta\":\"button\",\"id\":\"incAllBtn\",\"height\":22,\"text\":\">>\",\"width\":64,\"y\":112,\"tooltip\":\"Include All\",\"x\":416,\"click\":\"swap(srcGrid,dstGrid,true);\"},{\"xwlMeta\":\"button\",\"id\":\"exBtn\",\"height\":22,\"text\":\"<\",\"width\":64,\"y\":168,\"tooltip\":\"Exclude\",\"x\":416,\"click\":\"swap(dstGrid,srcGrid);\"},{\"xwlMeta\":\"button\",\"id\":\"exAllBtn\",\"height\":22,\"text\":\"<<\",\"width\":64,\"y\":224,\"tooltip\":\"Exclude All\",\"x\":416,\"click\":\"swap(dstGrid,srcGrid,true);\"},{\"xwlMeta\":\"fieldSet\",\"width\":240,\"id\":\"dest\",\"title\":\"Selected Companies\",\"height\":288,\"layout\":\"fit\",\"y\":8,\"x\":488,\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"dstStore\",\"columns\":\"dstCol\",\"tagProperties\":\"hideHeaders:true\",\"pagingToolbar\":\"false\",\"id\":\"dstGrid\",\"itemdblclick\":\"exBtn.fireEvent('click');\"}]}]}]}","Dual Boxes",null,0,0,"admin","2013-01-09 14:58:48.0","23W0CDJH1JFU","2015-03-13 17:07:27.0",22],["13POMOS7XZLZ","13MKV4HXEYPC",null,"Dual Boxes Subs",null,1,0,"admin","2013-01-09 15:02:47.0","admin","2013-01-10 10:32:33.0",23],["13POMOS7XZM0","13POMOS7XZLZ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Tree\",\"initScript\":\"var sql;\\n\\nsql='select distinct COUNTRY as \\\"text\\\",\\\\'list_icon\\\\' as \\\"iconCls\\\",\\\\'__true\\\\' as \\\"leaf\\\" from WB_CUST order by COUNTRY';\\nrequest.setAttribute('fromModuleInitScript',sql);\\n\\n//Classic Usage:\\n//select TITLE as \\\"text\\\",OTHER_FIELD,\\n//  case when (select count(*) from TABLE b where b.PARENT_ID=a.ITEM_ID)>0 then null else '__[]' end as \\\"children\\\"\\n//  from TABLE a where PARENT_ID={?ITEM_ID?}\\n\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"tree\",\"id\":\"dataProvider1\",\"sql\":\"{#fromModuleInitScript#}\"}]}","Get Tree",null,0,0,"admin","2013-01-09 15:05:26.0","admin","2013-01-10 11:56:24.0",1],["13POMOS7XZM2","13POMOS7XZLZ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Source Select\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from WB_CUST where {?COUNTRY?}='All Countries' or COUNTRY={?COUNTRY?} order by COMPANY\"}]}","Source Select",null,0,0,"admin","2013-01-09 15:05:51.0","admin","2013-01-10 12:41:32.0",2],["13POMOS7XZYE","13POMOS7XZLZ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Dest Select\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from WB_CUST where 1=0\"}]}","Dest Select",null,0,0,"admin","2013-01-09 15:36:37.0","admin","2013-01-10 11:56:05.0",3],["13PP8PIX63N6","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"GIS\",\"jsFiles\":\"http://maps.google.com/maps/api/js?sensor=false\",\"finalize\":\"centerLatlng=new google.maps.LatLng(39,-95);\\nvar options={zoom:4,center:centerLatlng,scaleControl:true,mapTypeControl:false,mapTypeId:google.maps.MapTypeId.ROADMAP};\\nmap=new google.maps.Map(Wb.dom('mapDiv'),options);\\ndirService=new google.maps.DirectionsService();\\ndirDisplay=new google.maps.DirectionsRenderer();\\ndirDisplay.setMap(map);\\naddGisEvent();\",\"initialize\":\"var map,hitLatLng,dirService,dirDisplay,centerLatlng;\\n\\nfunction addGisEvent(){\\n  google.maps.event.addListener(map,'click',function(event){\\n    if(markLocaleItem.pressed){\\n      hitLatLng=event.latLng;\\n      editWin.show();\\n      markLocaleItem.toggle();\\n      return;\\n    }\\n    if(viewIpItem.pressed){\\n      Wb.message('Longitude: '+event.latLng.lng()+', Latitude:'+event.latLng.lat());\\n      viewIpItem.toggle();\\n    }\\n  });\\n}\\n\\nfunction createMapMark(latLng,name){\\n  var mark=new google.maps.Marker({\\n    position:latLng,\\n    map:map,\\n    title:name\\n  });\\n  var message=new google.maps.InfoWindow({\\n    content:\\\"<table border='0'><tr><td valign='middle' width='40'><img src='webbuilder/images/app/hintmark.gif'><\/td><td valign='middle'>\\\"+name+\\\"<\/td><\/tr><\/table>\\\",\\n    size:new google.maps.Size(100,30)\\n  });\\n  google.maps.event.addListener(mark,'click',function(){\\n    message.open(map,mark);\\n  });\\n}\\n\\nfunction calRoute(){\\nWb.mask();\\nvar start=startLoc.getValue(),end=endLoc.getValue(),request={\\n  origin:start,\\n  destination:end,\\n  travelMode:google.maps.DirectionsTravelMode.DRIVING,\\n  provideRouteAlternatives:false,\\n  unitSystem:google.maps.DirectionsUnitSystem.METRIC\\n};\\n  \\ndirService.route(request,function(response,status){\\n  Wb.unmask();\\n  if(status==google.maps.DirectionsStatus.OK)\\n    dirDisplay.setDirections(response);\\n  else Wb.warning('Navigate failure.');\\n});\\n}\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Mark Point\",\"toggleGroup\":\"operate\",\"iconCls\":\"edit_icon\",\"id\":\"markLocaleItem\",\"enableToggle\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"View LatLng\",\"toggleGroup\":\"operate\",\"iconCls\":\"seek_icon\",\"id\":\"viewIpItem\",\"enableToggle\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Go to\",\"type\":\"split\",\"iconCls\":\"start_icon\",\"id\":\"goAddrItem\",\"click\":\"llWin.show();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Starting point\",\"id\":\"originLocItem\",\"click\":\"map.setCenter(centerLatlng);\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Origin:\",\"type\":\"textItem\",\"id\":\"beginText\"},{\"xwlMeta\":\"text\",\"id\":\"startLoc\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Destination:\",\"type\":\"textItem\",\"id\":\"endText\"},{\"xwlMeta\":\"text\",\"id\":\"endLoc\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Navigate\",\"iconCls\":\"go_icon\",\"id\":\"navRouteItem\",\"click\":\"calRoute();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Map Type\",\"iconCls\":\"resource_icon\",\"id\":\"mapTypeItem\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Roadmap\",\"id\":\"roadMapItem\",\"group\":\"mapType\",\"checked\":\"true\",\"click\":\"map.setMapTypeId(google.maps.MapTypeId.ROADMAP);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Satellite\",\"id\":\"sateMapItem\",\"group\":\"mapType\",\"click\":\"map.setMapTypeId(google.maps.MapTypeId.SATELLITE);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Terrain\",\"id\":\"terrainMapItem\",\"group\":\"mapType\",\"click\":\"map.setMapTypeId(google.maps.MapTypeId.TERRAIN);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Hybrid\",\"id\":\"hybridMapItem\",\"group\":\"mapType\",\"click\":\"map.setMapTypeId(google.maps.MapTypeId.HYBRID);\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"edit_icon\",\"id\":\"editWin\",\"title\":\"Mark Point\",\"height\":151,\"layout\":\"absolute\",\"defaultFocus\":\"markLocale\",\"width\":277,\"clickOK\":\"createMapMark(hitLatLng,markLocale.getValue());\\neditWin.hide();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"*Place Name:\",\"width\":80,\"id\":\"label1\",\"height\":22,\"y\":16,\"x\":16},{\"xwlMeta\":\"text\",\"id\":\"markLocale\",\"height\":22,\"allowBlank\":\"false\",\"width\":232,\"y\":48,\"x\":16}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"edit_icon\",\"id\":\"llWin\",\"title\":\"Go to\",\"height\":178,\"layout\":\"absolute\",\"defaultFocus\":\"lngValue\",\"width\":325,\"clickOK\":\"var l=new google.maps.LatLng(latValue.getValue(),lngValue.getValue()),\\n    s=locName.getValue();\\n\\nif(!Wb.isEmpty(s))s='. '+s;\\ncreateMapMark(l,'Longitude: '+lngValue.getValue()+', Latitude: '+latValue.getValue()+s);\\nmap.setCenter(l);\\nllWin.hide();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"*Longitude:\",\"width\":72,\"align\":\"right\",\"id\":\"label2\",\"height\":22,\"y\":16,\"x\":16},{\"xwlMeta\":\"number\",\"id\":\"lngValue\",\"height\":22,\"allowBlank\":\"false\",\"width\":200,\"decimalPrecision\":\"5\",\"y\":16,\"x\":96},{\"xwlMeta\":\"label\",\"text\":\"*Latitude:\",\"width\":72,\"align\":\"right\",\"id\":\"label3\",\"height\":22,\"y\":48,\"x\":16},{\"xwlMeta\":\"number\",\"id\":\"latValue\",\"height\":22,\"allowBlank\":\"false\",\"width\":200,\"decimalPrecision\":\"5\",\"y\":48,\"x\":96},{\"xwlMeta\":\"label\",\"text\":\"Remark:\",\"width\":72,\"align\":\"right\",\"id\":\"label4\",\"height\":22,\"y\":80,\"x\":16},{\"xwlMeta\":\"text\",\"id\":\"locName\",\"height\":22,\"width\":200,\"y\":80,\"x\":96}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"tbar\":\"toolbar1\",\"id\":\"panel1\",\"html\":\"<div id=\\\"mapDiv\\\" style=\\\"width:100%;height:100%\\\"><\/div>\"}]}]}","GIS",null,0,0,"admin","2013-01-11 12:12:30.0","admin","2013-01-13 18:33:40.0",25],["13PSMZ8URAE1","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Data CRUD\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"proxy\":\"{\\ntype:\\\"ajax\\\",\\napi: {\\nread: 'main?xwl=13PSMZ8URAE8',\\nupdate: 'main?xwl=13PSMZ8URAF5',\\ncreate: 'main?xwl=13PSMZ8URAMI',\\ndestroy: 'main?xwl=13PSMZ8URAMK'\\n},\\nreader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\nlisteners:{\\nexception:function(proxy,response,operation,options){\\nWb.except(response.responseText);\\n}\\n}\\n}\",\"pageSize\":\"-1\",\"tagEvents\":\"beforesync:function(){Wb.mask();}\"},{\"xwlMeta\":\"folder\",\"id\":\"editors\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"numText\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"companyText\"}]},{\"xwlMeta\":\"array\",\"id\":\"columns1\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"CUST_NO\",\"id\":\"custNoCol\",\"text\":\"Customer No\",\"width\":\"100\",\"editor\":\"numText\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COMPANY\",\"id\":\"companyCol\",\"text\":\"Company\",\"width\":\"180\",\"editor\":\"companyText\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.insert\",\"iconCls\":\"plus_icon\",\"id\":\"insertBtn\",\"click\":\"var e=grid1.plugins[0],index=1;\\ne.completeEdit();\\nstore1.insert(0,{});\\nstore1.getAt(0).set('id','_'+Wb.getId());//temp id\\ne.startEditByPosition({row:0,column:0});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"minus_icon\",\"id\":\"deleteBtn\",\"click\":\"var m=grid1.getSelectionModel(),s=m.getSelection(),i,j;\\nif(s.length==0)return;\\ngrid1.plugins[0].completeEdit();\\ni=store1.indexOf(s[0]);\\nstore1.remove(s);\\nj = store1.getCount() - 1;\\nif (i > j)\\n  i = j;\\nif (i > -1)\\n  m.select(i);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"spaceItem\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.save\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"click\":\"grid1.plugins[0].completeEdit();\\nstore1.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n  });\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.refresh\",\"iconCls\":\"refresh_icon\",\"id\":\"refreshBtn\",\"click\":\"Wb.load(store1);\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"columns1\",\"pagingToolbar\":\"false\",\"pluginType\":\"cellediting\",\"id\":\"grid1\",\"tbar\":\"toolbar1\"}]}]}","Data CRUD",null,0,0,"admin","2013-01-28 10:50:31.0","admin","2014-03-28 08:53:26.0",17],["13PSMZ8URAE8","13PSMZ8URAF1","{\"id\":\"module\",\"title\":\"read\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select CUST_NO,COMPANY,CUST_ID,CUST_ID as \\\"id\\\" from WB_CUST\",\"xwlMeta\":\"dataProvider\"}]}","read",null,0,0,"admin","2013-01-28 10:55:54.0","admin","2013-01-29 10:03:45.0",1],["13PSMZ8URAF1","13MKV4HXEYPC",null,"Data CRUD Subs",null,1,0,"admin","2013-01-28 11:01:02.0","admin","2013-05-10 11:19:16.0",18],["13PSMZ8URAF5","13PSMZ8URAF1","{\"id\":\"module\",\"title\":\"update\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update WB_CUST set CUST_NO={?CUST_NO?}, COMPANY={?COMPANY?} where CUST_ID={?CUST_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\"}","update",null,0,0,"admin","2013-01-28 11:01:26.0","admin","2013-01-29 11:25:41.0",2],["13PSMZ8URAMI","13PSMZ8URAF1","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"create\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nvar i, r=Wb.decode(result);\\nfor(i in r){\\n  r[i].CUST_ID=SysUtil.getId();\\n}\\nr=Wb.encode(r);\\nrequest.setAttribute('returns',r);\\nrequest.setAttribute('rows',r);\\n//You can also use org.json package to process JSON.\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into WB_CUST(CUST_ID,CUST_NO,COMPANY) values({?CUST_ID?},{?CUST_NO?},{?COMPANY?})\",\"transaction\":\"start\",\"arrayName\":\"rows\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"object\":\"returns\"}]}","create",null,0,0,"admin","2013-01-28 11:28:32.0","admin","2013-07-10 10:39:33.0",3],["13PSMZ8URAMK","13PSMZ8URAF1","{\"id\":\"module\",\"title\":\"destroy\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from WB_CUST where CUST_ID={?CUST_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"initialize\":\"delete from WB_CUST where CUST_ID={?id?}\"}","destroy",null,0,0,"admin","2013-01-28 11:28:39.0","admin","2013-01-29 12:00:47.0",4],["13QBWH25O767","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Grid in ComboBox\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"grid\":\"grid1\",\"url\":\"#13QBWH25O76B (select)\",\"output\":\"menu1\",\"showMask\":\"false\",\"load\":\"menu1.showBy(findCombo);\\nfindCombo.focus(false,true);\"},{\"xwlMeta\":\"array\",\"id\":\"array1\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"COMPANY\",\"id\":\"column1\",\"text\":\"公司\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ADDR\",\"id\":\"column2\",\"text\":\"地址\"}]},{\"xwlMeta\":\"menu\",\"id\":\"menu1\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"height\":\"300\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"array1\",\"height\":\"500\",\"exportExcel\":\"false\",\"pageSizeMenu\":\"false\",\"forceFit\":\"true\",\"id\":\"grid1\",\"columnLines\":\"true\",\"autoLoad\":\"false\",\"exportPrint\":\"false\",\"select\":\"findCombo.setValue(record.get('COMPANY'));\\nmenu1.hide();\"}]}]},{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"height\":300,\"layout\":\"absolute\",\"width\":450,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Select:\",\"width\":128,\"id\":\"label1\",\"height\":22,\"y\":16,\"x\":24},{\"xwlMeta\":\"comboBox\",\"height\":22,\"queryDelay\":\"160\",\"width\":232,\"queryMode\":\"remote\",\"emptyText\":\"company\",\"id\":\"findCombo\",\"y\":48,\"x\":24,\"beforequery\":\"Wb.load(store1,{query:queryEvent.query});\"}]}]}","Grid in ComboBox",null,0,0,"admin","2013-03-26 09:30:06.0","23W0CDJH1JFU","2015-02-05 10:20:07.0",26],["13QBWH25O769","13MKV4HXEYPC",null,"Grid in ComboBox Subs",null,1,0,"admin","2013-03-26 09:30:41.0","admin","2013-05-10 11:19:22.0",27],["13QBWH25O76B","13QBWH25O769","{\"id\":\"module\",\"title\":\"select\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select * from WB_CUST where COMPANY like {?findKey?}\",\"xwlMeta\":\"dataProvider\"}]}","select",null,0,0,"admin","2013-03-26 09:30:56.0","admin","2013-05-10 10:44:37.0",2],["13QPP8T2LKLY","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Module Tree\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"#13QPP8T2LKM1 (tree source)\",\"id\":\"treeStore1\",\"beforeload\":\"operation.params.parentID=operation.node.get('MODULE_ID');\"},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"store\":\"treeStore1\",\"id\":\"treePanel1\",\"rootVisible\":\"false\"}]}]}","Module Tree",null,0,0,"admin","2013-05-10 10:52:35.0","admin","2013-05-10 10:53:49.0",36],["13QPP8T2LKM0","13MKV4HXEYPC",null,"Module Tree Subs",null,1,0,"admin","2013-05-10 10:52:52.0","admin","2013-05-10 11:19:49.0",37],["13QPP8T2LKM1","13QPP8T2LKM0","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"tree source\",\"initScript\":\"Wb.println(request,request.getParameter('parentID'));\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"tree\",\"id\":\"dataProvider1\",\"sql\":\"select DISPLAY_NAME as \\\"text\\\",DISPLAY_ICON as \\\"iconCls\\\", MODULE_ID,PARENT_ID,\\n case when (select count(*) from WB_MODULE t2 where t2.PARENT_ID=t1.MODULE_ID)>0 then '__false' else '__true' end as \\\"leaf\\\"\\n from WB_MODULE t1 where PARENT_ID={?parentID?} or ({?parentID?} is null and PARENT_ID='-1')\\n order by ORDER_INDEX\"}]}","tree source",null,0,0,"admin","2013-05-10 10:53:01.0","admin","2013-05-10 10:53:23.0",1],["13R6J53JI6N9","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Export SQL\",\"initScript\":\"Resource.set(request,'sys.dbe.sql',request.getParameter('sql'));\"}","Export SQL","set_icon",0,0,"admin","2013-07-04 10:00:01.0","admin","2013-07-04 10:05:46.0",13],["13R6J53JI6NB","13N52B6EN905","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Import SQL\",\"initScript\":\"WebUtil.response(response,StringUtil.optString(Resource.get(request,'sys.dbe.sql')));\"}","Import SQL","get_icon",0,0,"admin","2013-07-04 10:00:13.0","admin","2013-07-04 10:03:46.0",14],["13R8415QJDZX","13MKV4HXEYPC",null,"Touch Apps",null,0,0,"admin","2013-07-09 14:06:42.0","admin","2013-07-09 14:06:42.0",48],["13R8415QJE04","13R8415QJDZX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Form Panel\",\"description\":\"This app only available in touch device or modern browser.\",\"loginRequired\":\"false\",\"touchMode\":\"true\",\"children\":[{\"xwlMeta\":\"tviewport\",\"id\":\"tviewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tform\",\"id\":\"tform1\",\"children\":[{\"xwlMeta\":\"ttoolbar\",\"type\":\"titlebar\",\"id\":\"ttoolbar1\",\"title\":\"Form Panel\",\"children\":[{\"xwlMeta\":\"tbutton\",\"text\":\"Refresh\",\"align\":\"right\",\"width\":\"120\",\"id\":\"tbutton1\",\"badgeText\":\"6\"}]},{\"xwlMeta\":\"tfieldSet\",\"instructions\":\"Please enter the information above\",\"id\":\"tfieldSet1\",\"title\":\"Personal Info\",\"defaults\":\"{labelWidth:'35%'}\",\"children\":[{\"xwlMeta\":\"ttext\",\"label\":\"Name\",\"id\":\"name1\",\"placeHolder\":\"Tom Roy\",\"required\":\"true\",\"autoCapitalize\":\"true\"},{\"xwlMeta\":\"ttext\",\"label\":\"Password\",\"type\":\"password\",\"id\":\"password\"},{\"xwlMeta\":\"ttext\",\"label\":\"Email\",\"type\":\"email\",\"id\":\"email\",\"placeHolder\":\"contact@putdb.com\"},{\"xwlMeta\":\"ttext\",\"label\":\"Url\",\"type\":\"url\",\"id\":\"url\",\"placeHolder\":\"http://www.putdb.com\"},{\"xwlMeta\":\"tspinner\",\"stepValue\":\"1\",\"minValue\":\"0\",\"id\":\"tspinner1\",\"maxValue\":\"10\",\"label\":\"Spinner\"},{\"xwlMeta\":\"tcheck\",\"label\":\"Cool\",\"id\":\"cool\"},{\"xwlMeta\":\"tdate\",\"id\":\"tdate1\",\"label\":\"Start Date\",\"picker\":\"{yearFrom:1990}\"},{\"xwlMeta\":\"tselect\",\"id\":\"tselect1\",\"options\":\"[\\n{text:'Master',value:'master'},\\n{text:'Journeyman',value:'journeyman'},\\n{text:'Apprentice',value:'apprentice'}\\n]\",\"label\":\"Rank\"},{\"xwlMeta\":\"ttextArea\",\"id\":\"ttextArea1\",\"label\":\"Bio\"}]},{\"xwlMeta\":\"tfieldSet\",\"id\":\"tfieldSet2\",\"title\":\"Favorite color\",\"defaults\":\"{\\nlabelWidth:'35%'\\n}\",\"children\":[{\"xwlMeta\":\"tradio\",\"label\":\"Red\",\"id\":\"tradio1\",\"name\":\"color\",\"value\":\"red\"},{\"xwlMeta\":\"tradio\",\"label\":\"Blue\",\"id\":\"tradio2\",\"name\":\"color\",\"value\":\"blue\"},{\"xwlMeta\":\"tradio\",\"label\":\"Green\",\"id\":\"tradio3\",\"name\":\"color\",\"value\":\"green\"}]},{\"xwlMeta\":\"tcontainer\",\"id\":\"tcontainer1\",\"defaults\":\"{\\nstyle:'margin: .5em',\\nflex:1\\n}\",\"layout\":\"hbox\",\"children\":[{\"xwlMeta\":\"tbutton\",\"text\":\"Disable Fields\",\"id\":\"disableBtn\",\"tagProperties\":\"hasDisabled:false\",\"tap\":\"var fieldset1 = Ext.getCmp('fieldset1'),\\n    fieldset2 = Ext.getCmp('fieldset2');\\nif (comp.hasDisabled) {\\n  tfieldSet1.enable();\\n  tfieldSet2.enable();\\n  comp.hasDisabled = false;\\n  comp.setText('Disable fields');\\n} else {\\n  tfieldSet1.disable();\\n  tfieldSet2.disable();\\n  comp.hasDisabled = true;\\n  comp.setText('Enable fields');\\n}\"},{\"xwlMeta\":\"tbutton\",\"text\":\"Reset\",\"id\":\"resetBtn\",\"tap\":\"tform1.reset();\"}]}]}]}]}","Form Panel",null,0,0,"admin","2013-07-09 14:07:42.0","admin","2015-01-21 08:22:07.0",1],["13R86YZJMQXN","13POMOS7XZHP","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Tab Panel\",\"children\":[{\"xwlMeta\":\"panel\",\"autoCreate\":\"false\",\"id\":\"panel1\",\"title\":\"Tab Page\",\"closable\":\"true\",\"layout\":\"absolute\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"height\":300,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":450,\"y\":8,\"x\":8,\"children\":[{\"xwlMeta\":\"text\",\"id\":\"text1\",\"height\":22,\"width\":200,\"y\":16,\"x\":48},{\"xwlMeta\":\"text\",\"id\":\"text2\",\"height\":22,\"width\":200,\"y\":72,\"x\":48}]}]},{\"xwlMeta\":\"tabPanel\",\"id\":\"tabPanel1\",\"height\":\"300\",\"width\":\"500\"},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"text\":\"Add Panel\",\"click\":\"if(!Ext.getCmp('panel1'))\\n  tabPanel1.setActiveTab(tabPanel1.add(_panel1));\\n//If you want to add multiple panel1 to tabPanel1, you must use method Wb.toItemId\\n//eg: tabPanel1.setActiveTab(tabPanel1.add(Wb.toItemId(_panel1)));\"}]}","Tab Panel",null,0,0,"admin","2013-07-09 19:57:43.0","admin","2013-11-28 10:27:51.0",6],["13R86YZJMQY9","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Useful UI\",\"head\":\"<style type=\\\"text/css\\\">\\n  .v-css{border:1px solid #999;table-layout:fixed;line-height:18px;border-collapse:collapse;margin:5px;font-size:12px;}\\n  .v-css td{border:1px solid #999;word-wrap:break-word;word-break:break-all;padding:5px;}\\n  .v-title{font-size:13px;font-weight:700;background-color:#9C6}\\n  .v-fixed{background-color:#EEE;}\\n  .v-co td{border:0px;padding:0px;width:300px;}\\n  .v-center{text-align:center}\\n<\\/style>\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.newStr\",\"iconCls\":\"new_icon\",\"id\":\"newBtn\",\"click\":\"Wb.edit(editWin);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"Wb.edit(grid1,editWin,'COMPANY');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"Wb.confirm(grid1,deleteAjax.request,'COMPANY');\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"autoScroll\":\"true\",\"id\":\"panel1\",\"tagProperties\":\"minButtonWidth:100\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet1\",\"title\":\"Demo\",\"tagProperties\":\"margin:'5 20 5 5'\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel5\",\"height\":55,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":519,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"label1\",\"width\":48,\"id\":\"label1\",\"height\":22,\"y\":16,\"x\":16},{\"xwlMeta\":\"text\",\"id\":\"text1\",\"height\":22,\"width\":176,\"y\":16,\"x\":72},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"height\":22,\"text\":\"button1\",\"width\":80,\"y\":16,\"x\":256}]}]}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet2\",\"title\":\"Base\",\"tagProperties\":\"margin:'5 20 5 5'\",\"children\":[{\"xwlMeta\":\"panel\",\"bgColor\":\"#FFFFFF\",\"id\":\"panel3\",\"layout\":\"fit\",\"html\":\"<table class=\\\"v-css\\\">\\n  <tr><td colspan=\\\"8\\\" class=\\\"v-title\\\">General Info<\\/td><\\/tr>\\n  <tr>\\n    <td class=\\\"v-fixed\\\" width=\\\"8%\\\"><\\/td>\\n  \\t<td class=\\\"v-fixed\\\" width=\\\"8%\\\">Name<\\/td>\\n    <td class=\\\"v-fixed\\\" width=\\\"175\\\">ID<\\/td>\\n    <td class=\\\"v-fixed\\\" width=\\\"14%\\\">Birth Date<\\/td>\\n    <td class=\\\"v-fixed\\\" width=\\\"12%\\\">Holder<\\/td>\\n    <td class=\\\"v-fixed\\\" width=\\\"10%\\\">Nationality<\\/td>\\n    <td class=\\\"v-fixed\\\" width=\\\"14%\\\">occupation<\\/td>\\n    <td class=\\\"v-fixed\\\" width=\\\"18%\\\">Education<\\/td>\\n  <\\/tr>\\n  <tr>\\n    <td class=\\\"v-fixed\\\">Woman<\\/td>\\n  \\t<td id=\\\"tdfnxm\\\"><\\/td>\\n    <td id=\\\"tdfngmsfhm\\\"><\\/td>\\n    <td id=\\\"tdfncsrq\\\"><\\/td>\\n    <td id=\\\"tdfnhkxz_text\\\"><\\/td>\\n    <td id=\\\"tdfnmz_text\\\"><\\/td>\\n    <td id=\\\"tdfnzy\\\"><\\/td>\\n    <td id=\\\"tdfnwhcd_text\\\"><\\/td>\\n  <\\/tr>\\n  <tr>\\n    <td class=\\\"v-fixed\\\">Man<\\/td>\\n  \\t<td id=\\\"tdzfxm\\\"><\\/td>\\n    <td id=\\\"tdzfgmsfhm\\\"><\\/td>\\n    <td id=\\\"tdzfcsrq\\\"><\\/td>\\n    <td id=\\\"tdzfhkxz_text\\\"><\\/td>\\n    <td id=\\\"tdzfmz_text\\\"><\\/td>\\n    <td id=\\\"tdzfzy\\\"><\\/td>\\n    <td id=\\\"tdzfwhcd_text\\\"><\\/td>\\n  <\\/tr>\\n  <tr><td colspan=\\\"8\\\" class=\\\"v-title\\\">Address<\\/td><\\/tr>\\n  <tr>\\n    <td class=\\\"v-fixed\\\"><\\/td>\\n  \\t<td colspan='2' class=\\\"v-fixed\\\">House<\\/td>\\n    <td colspan='3' class=\\\"v-fixed\\\">Res.<\\/td>\\n    <td colspan='2' class=\\\"v-fixed\\\">Unit.<\\/td>\\n  <\\/tr>\\n  <tr>\\n    <td class=\\\"v-fixed\\\">Woman<\\/td>\\n  \\t<td id=\\\"tdfnhjd\\\" colspan='2'><\\/td>\\n    <td id=\\\"tdfnxjd\\\" colspan='3'><\\/td>\\n    <td id=\\\"tdfngzdw\\\" colspan='2'><\\/td>\\n  <\\/tr>\\n  <tr>\\n    <td class=\\\"v-fixed\\\">Man<\\/td>\\n  \\t<td id=\\\"tdzfhjd\\\" colspan='2'><\\/td>\\n    <td id=\\\"tdzfxjd\\\" colspan='3'><\\/td>\\n    <td id=\\\"tdzfgzdw\\\" colspan='2'><\\/td>\\n  <\\/tr>\\n<\\/table>\"}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet3\",\"title\":\"Summary\",\"tagProperties\":\"margin:'5 20 5 5'\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel6\",\"children\":[{\"xwlMeta\":\"panel\",\"bodyCls\":\"v-css\",\"padding\":\"0 10 0 0\",\"id\":\"panel4\",\"height\":\"120\",\"layout\":\"@{type:'table',columns:6,tdAttrs:{width:'80px'}}\",\"transparent\":\"true\",\"width\":\"850\",\"afterrender\":\"panel.items.each(function(c){\\n  c.addCls('v-co');\\n});\",\"children\":[{\"xwlMeta\":\"label\",\"width\":\"1\",\"id\":\"label4\"},{\"xwlMeta\":\"label\",\"text\":\"Date\",\"id\":\"lblldszrq\"},{\"xwlMeta\":\"label\",\"text\":\"Son.\",\"id\":\"lblhyzk\"},{\"xwlMeta\":\"label\",\"text\":\"S. Date\",\"align\":\"center\",\"id\":\"lbljhrq\"},{\"xwlMeta\":\"label\",\"text\":\"Report Date\",\"align\":\"left\",\"id\":\"lbljhsb\"},{\"xwlMeta\":\"label\",\"text\":\"Orders\",\"align\":\"center\",\"id\":\"lblhbcx\"},{\"xwlMeta\":\"label\",\"text\":\"Woman\",\"width\":\"1\",\"id\":\"label7\"},{\"xwlMeta\":\"date\",\"id\":\"datefnldszrq\"},{\"xwlMeta\":\"comboBox\",\"id\":\"combfnhyzk\",\"keyName\":\"DMHYZK\"},{\"xwlMeta\":\"date\",\"emptyText\":\"Date\",\"id\":\"datefnchrq\"},{\"xwlMeta\":\"check\",\"id\":\"chkfnchsb\",\"tagProperties\":\"cellCls:'v-center'\",\"boxLabel\":\"Up Level\"},{\"xwlMeta\":\"number\",\"id\":\"numberfnhbcx\"},{\"xwlMeta\":\"label\",\"text\":\"Man\",\"width\":\"1\",\"id\":\"label63\"},{\"xwlMeta\":\"date\",\"id\":\"datezfldszrq\"},{\"xwlMeta\":\"comboBox\",\"id\":\"combzfhyzk\",\"keyName\":\"DMHYZK\"},{\"xwlMeta\":\"date\",\"emptyText\":\"Change Date\",\"id\":\"datehbrq\"},{\"xwlMeta\":\"check\",\"id\":\"chkhbsb\",\"tagProperties\":\"cellCls:'v-center'\",\"boxLabel\":\"HB Date\"},{\"xwlMeta\":\"label\",\"id\":\"label8\"}]}]}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet4\",\"title\":\"Info\",\"layout\":\"fit\",\"tagProperties\":\"margin:'5 20 5 5'\",\"children\":[{\"xwlMeta\":\"grid\",\"height\":\"150\",\"id\":\"grid2\",\"tbar\":\"toolbar1\"}]}]}]}]}","Useful UI",null,0,0,"admin","2013-07-09 20:32:44.0","admin","2013-07-09 21:01:13.0",45],["13R8FBFMWN2P","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Module DataView\",\"head\":\"<style type=\\\"text/css\\\">\\n#dataview1 .x-panel-body{\\n    background: white;\\n    font: 11px Arial, Helvetica, sans-serif;\\n}\\n#dataview1 .thumb{\\n    background: #FFF;\\n    text-align:center;\\n    padding: 3px;\\n    padding-bottom: 0;\\n}\\n\\n.x-quirks #dataview1 .thumb {\\n    padding-bottom: 3px;\\n}\\n\\n#dataview1 .thumb img{\\n    height: 16px;\\n    width: 16px;\\n}\\n#dataview1 .thumb-wrap{\\n    float: left;\\n    margin: 4px;\\n    margin-right: 0;\\n    padding: 5px;\\n}\\n#dataview1 .thumb-wrap span {    \\n    display: block;\\n    overflow: hidden;\\n    text-align: center;\\n    width: 86px; /* for ie to ensure that the text is centered */\\n}\\n#dataview1 .x-item-selected{\\n    // background: #eff5fb url(webbuilder/images/ok.gif) no-repeat right bottom;\\n    border:1px solid #99bbe8;\\n    padding: 4px;\\n}\\n#dataview1 .x-item-selected .thumb{\\n    background:transparent;\\n}\\n\\n.x-view-selector {\\n    position:absolute;\\n    left:0;\\n    top:0;\\n    width:0;\\n    border:1px dotted;\\n    opacity: .5;\\n    -moz-opacity: .5;\\n    filter:alpha(opacity=50);\\n    zoom:1;\\n    background-color:#c3daf9;\\n    border-color:#3399bb;\\n}.ext-strict .ext-ie .x-tree .x-panel-bwrap{\\n    position:relative;\\n    overflow:hidden;\\n}\\n<\\/style>\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#13R8FBFMWN33 (view source)\"},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"dataview\",\"autoScroll\":\"true\",\"store\":\"store1\",\"padding\":\"8\",\"id\":\"dataview1\",\"itemSelector\":\"div.thumb-wrap\",\"tpl\":\"<tpl for=\\\".\\\">\\n  <div class=\\\"thumb-wrap\\\">\\n    <div class=\\\"thumb\\\">\\n      <img class=\\\"wb_icon {DISPLAY_ICON}\\\" src=\\\"webbuilder/images/app/s.gif\\\">\\n      <div>{DISPLAY_NAME}<\\/div>\\n    <\\/div>\\n  <\\/div>\\n<\\/tpl>\\n<div class=\\\"x-clear\\\"><\\/div>\"}]}]}","Module DataView",null,0,0,"admin","2013-07-10 14:38:03.0","admin","2013-07-12 09:26:51.0",34],["13R8FBFMWN32","13MKV4HXEYPC",null,"Module DataView Subs",null,1,0,"admin","2013-07-10 14:39:24.0","admin","2013-07-10 14:39:24.0",35],["13R8FBFMWN33","13R8FBFMWN32","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"view source\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select DISPLAY_NAME,case when DISPLAY_ICON is null then 'item_icon' else DISPLAY_ICON end as \\\"DISPLAY_ICON\\\"\\nfrom wb_module where MODULE_CONTENT is not null\"}]}","view source",null,0,0,"admin","2013-07-10 14:39:33.0","admin","2013-07-12 09:27:50.0",1],["13R8YWIGRZHJ","13R8415QJDZX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Address Book\",\"description\":\"This app only available in touch device or modern browser.\",\"loginRequired\":\"false\",\"touchMode\":\"true\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"autoLoad\":\"true\",\"url\":\"#13NY6A9O4XB8 (Customer/Select)\"},{\"xwlMeta\":\"tcontainer\",\"autoCreate\":\"false\",\"id\":\"contactShow\",\"title\":\"Information\",\"layout\":\"fit\",\"activate\":\"content.setRecord(selRecord);\",\"children\":[{\"xwlMeta\":\"tcontainer\",\"id\":\"content\",\"height\":\"200\",\"tpl\":\"<div style=\\\"text-align:center;margin:30px\\\">Your Selected Company: <span style=\\\"text-decoration:underline;\\\">{COMPANY}<\\/span>\\n<br>\\nPlease tap Edit button to continue.<\\/div>\"}]},{\"xwlMeta\":\"tcontainer\",\"autoCreate\":\"false\",\"id\":\"contactEdit\",\"title\":\"Edit\",\"layout\":\"fit\",\"tagProperties\":\"listeners: {\\n  delegate: 'textfield',\\n  keyup: 'onKeyUp'\\n},\\nrecord:null\",\"activate\":\"saveBtn.show();\",\"deactivate\":\"saveBtn.hide();\",\"children\":[{\"xwlMeta\":\"tform\",\"id\":\"tform1\",\"children\":[{\"xwlMeta\":\"tfieldSet\",\"id\":\"tfieldSet1\",\"title\":\"Information\",\"defaults\":\"{\\nlabelWidth:'35%'\\n}\",\"children\":[{\"xwlMeta\":\"ttext\",\"label\":\"First Name\",\"id\":\"ttext1\"},{\"xwlMeta\":\"ttext\",\"label\":\"Last Name\",\"id\":\"ttext2\"},{\"xwlMeta\":\"ttext\",\"label\":\"Title\",\"id\":\"ttext3\"}]},{\"xwlMeta\":\"tfieldSet\",\"id\":\"tfieldSet2\",\"title\":\"Contact Information\",\"defaults\":\"{labelWidth:'35%'}\",\"children\":[{\"xwlMeta\":\"ttext\",\"label\":\"Telephone\",\"id\":\"ttext4\"}]},{\"xwlMeta\":\"tfieldSet\",\"id\":\"tfieldSet3\",\"title\":\"Address\",\"defaults\":\"{labelWidth:'35%'}\",\"children\":[{\"xwlMeta\":\"ttext\",\"label\":\"City\",\"id\":\"ttext5\"},{\"xwlMeta\":\"ttext\",\"label\":\"State\",\"id\":\"ttext6\"},{\"xwlMeta\":\"ttext\",\"label\":\"Country\",\"id\":\"ttext7\"}]}]}]},{\"xwlMeta\":\"array\",\"id\":\"navBtns\",\"children\":[{\"xwlMeta\":\"tbutton\",\"text\":\"@Str.edit\",\"align\":\"right\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"hidden\":\"true\",\"tap\":\"mainView.push(_contactEdit);\"},{\"xwlMeta\":\"tbutton\",\"text\":\"@Str.save\",\"align\":\"right\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"tviewport\",\"id\":\"tviewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tnaviview\",\"navigationBar\":\"{items:navBtns}\",\"id\":\"mainView\",\"pop\":\"if(view == contactEdit) {\\n  if (!editBtn.isHidden()) return;\\n  editBtn.show();\\n} else {\\n  if (editBtn.isHidden())\\n    return;\\n  editBtn.hide();\\n}\",\"push\":\"if(view == contactShow) {\\n  contacts.deselectAll();\\n  if (!editBtn.isHidden()) return;\\n  editBtn.show();\\n}\\nelse{\\n  if(editBtn.isHidden())\\n    return;\\n  editBtn.hide();\\n}\\n\",\"children\":[{\"xwlMeta\":\"tlist\",\"store\":\"store1\",\"mode\":\"MULTI\",\"id\":\"contacts\",\"title\":\"Address Book\",\"variableHeights\":\"true\",\"itemTpl\":\"<div><img class=\\\"wb_icon\\\" src=\\\"webbuilder/images/item.gif\\\">{COMPANY}<\\/div>\",\"itemtap\":\"Wd.selRecord=record;\\nmainView.push(_contactShow);\\n//contanctShow point instance after render\\n//_contanctShow still point object(not instance)\"}]}]}]}","Address Book",null,0,0,"admin","2013-07-12 14:34:07.0","23W0CDJH1JFA","2015-02-06 14:49:47.0",2],["13TFDONIDIOT","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Control List\",\"head\":\"<style type=\\\"text/css\\\">\\n#dataview1 .x-panel-body{\\n    background: white;\\n    font: 11px Arial, Helvetica, sans-serif;\\n}\\n#dataview1 .thumb{\\n    background: #FFF;\\n    text-align:center;\\n    padding: 3px;\\n    padding-bottom: 0;\\n}\\n\\n.x-quirks #dataview1 .thumb {\\n    padding-bottom: 3px;\\n}\\n\\n#dataview1 .thumb img{\\n    height: 16px;\\n    width: 16px;\\n}\\n#dataview1 .thumb-wrap{\\n    float: left;\\n    margin: 4px;\\n    margin-right: 0;\\n    padding: 5px;\\n}\\n#dataview1 .thumb-wrap span {    \\n    display: block;\\n    overflow: hidden;\\n    text-align: center;\\n    width: 86px; /* for ie to ensure that the text is centered */\\n}\\n#dataview1 .x-item-selected{\\n    // background: #eff5fb url(webbuilder/images/ok.gif) no-repeat right bottom;\\n    border:1px solid #99bbe8;\\n    padding: 4px;\\n}\\n#dataview1 .x-item-selected .thumb{\\n    background:transparent;\\n}\\n\\n.x-view-selector {\\n    position:absolute;\\n    left:0;\\n    top:0;\\n    width:0;\\n    border:1px dotted;\\n    opacity: .5;\\n    -moz-opacity: .5;\\n    filter:alpha(opacity=50);\\n    zoom:1;\\n    background-color:#c3daf9;\\n    border-color:#3399bb;\\n}.ext-strict .ext-ie .x-tree .x-panel-bwrap{\\n    position:relative;\\n    overflow:hidden;\\n}\\n<\\/style>\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"components\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"select distinct COUNTRY from WB_CUST\"},{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#13TFDONIDIPC (Get List)\"},{\"xwlMeta\":\"store\",\"id\":\"store2\",\"url\":\"#13TFDONIDIPC (Get List)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"dataViewStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#13TFDONIDIPB (DataView Source)\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#13TFDONIDIPD (Tree Source)\",\"id\":\"treeStore1\",\"beforeload\":\"operation.params.parentID=operation.node.get('MODULE_ID');\"},{\"xwlMeta\":\"treeStore\",\"url\":\"main?xwl=13LTWX2EDCP6\",\"id\":\"moduleStore\",\"sorters\":\"{property:'ORDER_INDEX'}\",\"fields\":\"[{name:'text'},{name:'iconCls'},{name:'MODULE_ID'},{name:'PARENT_ID'},{name:'ORDER_INDEX'},{name:'IS_FOLDER'},{name:'NEW_WIN'}]\",\"beforeload\":\"operation.params.parentId=operation.node.get('MODULE_ID');\"},{\"xwlMeta\":\"menu\",\"id\":\"moduleMenu\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"moduleStore\",\"id\":\"moduleTree\",\"height\":\"150\",\"width\":\"260\",\"rootVisible\":\"false\",\"split\":\"true\",\"itemclick\":\"if(record.isLeaf()){\\n  comboBox6.setValue(record.get('text'));\\n  moduleMenu.hide();\\n}\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"titleBar\",\"titleToolbar\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"id\":\"gearItem\",\"toolType\":\"gear\",\"tooltip\":\"Setup\"},{\"xwlMeta\":\"menuItem\",\"id\":\"refreshItem\",\"toolType\":\"refresh\",\"tooltip\":\"Refresh\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"autoScroll\":\"true\",\"id\":\"panel1\",\"bgImage\":\"webbuilder/images/site/bg.gif\",\"children\":[{\"xwlMeta\":\"panel\",\"padding\":\"8\",\"id\":\"panel2\",\"style\":\"{marginLeft:'auto',marginRight:'auto'}\",\"transparent\":\"true\",\"width\":\"800\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet1\",\"title\":\"Label\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel3\",\"height\":47,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":550,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Common\",\"width\":56,\"id\":\"commonLabel\",\"height\":22,\"y\":8,\"x\":16},{\"xwlMeta\":\"label\",\"text\":\"Color Label\",\"width\":64,\"id\":\"colorLabel\",\"height\":22,\"color\":\"#FF0000\",\"y\":8,\"x\":88},{\"xwlMeta\":\"label\",\"width\":72,\"id\":\"lineLabel\",\"height\":22,\"html\":\"<div style=\\\"border-bottom:1px solid #AAA;padding-bottom:5px;\\\">Line<\\/div>\",\"y\":8,\"x\":168},{\"xwlMeta\":\"label\",\"width\":168,\"id\":\"htmlLabel\",\"height\":36,\"html\":\"<span style=\\\"font-style:italic;font-size:21px;border:1px dashed #000\\\">HTML Label<\\/span>\",\"y\":0,\"x\":256},{\"xwlMeta\":\"label\",\"width\":80,\"id\":\"buttonLabel\",\"height\":22,\"html\":\"<input type=\\\"button\\\" value=\\\"DOM Button\\\" style=\\\"width:80px\\\">\",\"y\":8,\"x\":440}]}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet2\",\"title\":\"Editor\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel4\",\"height\":50,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":720,\"children\":[{\"xwlMeta\":\"text\",\"id\":\"text1\",\"height\":22,\"value\":\"Common\",\"width\":104,\"y\":8,\"x\":16},{\"xwlMeta\":\"number\",\"emptyText\":\"Number\",\"id\":\"number1\",\"height\":22,\"width\":104,\"y\":8,\"x\":128},{\"xwlMeta\":\"text\",\"bgColor\":\"#FFFF00\",\"id\":\"text2\",\"height\":22,\"value\":\"Color Editor\",\"width\":136,\"color\":\"#FF0000\",\"y\":8,\"x\":240},{\"xwlMeta\":\"text\",\"fieldStyle\":\"font-weight:bold;font-style:italic;height:33px;font-size:25px;line-height:normal;\",\"id\":\"text3\",\"height\":22,\"value\":\"User Defined\",\"width\":208,\"y\":0,\"x\":392},{\"xwlMeta\":\"textArea\",\"id\":\"textArea1\",\"height\":40,\"value\":\"Multiple\\nLines\",\"width\":96,\"y\":0,\"x\":616}]}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet3\",\"title\":\"ComboBox\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel5\",\"height\":71,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":586,\"children\":[{\"xwlMeta\":\"comboBox\",\"height\":22,\"value\":\"Bind Query\",\"width\":128,\"query\":\"query1\",\"id\":\"comboBox1\",\"y\":8,\"x\":8},{\"xwlMeta\":\"comboBox\",\"height\":22,\"value\":\"Static Options\",\"width\":128,\"pickList\":\"[['value1','option1'],['value2','option2']]\\n/*also['option1','option2']*/\",\"id\":\"comboBox2\",\"y\":8,\"x\":144},{\"xwlMeta\":\"comboBox\",\"store\":\"store1\",\"listWidth\":\"200\",\"height\":22,\"value\":\"Dynamic Load\",\"valueField\":\"CUST_ID\",\"width\":128,\"id\":\"comboBox3\",\"displayField\":\"COMPANY\",\"y\":8,\"x\":280},{\"xwlMeta\":\"comboBox\",\"height\":22,\"value\":\"Use ListConfig\",\"width\":152,\"pickList\":\"['new.gif','copy.gif','cut.gif']\",\"id\":\"comboBox4\",\"listConfig\":\"{\\ngetInnerTpl : function() {\\nreturn '<div style=\\\"background-image:url(webbuilder/images/{field1});\\\" class=\\\"wb_combo_icon\\\" data-qtip=\\\"{field1}\\\">{field1}<\\/div>';\\n}\\n}\",\"y\":8,\"x\":416},{\"xwlMeta\":\"comboBox\",\"store\":\"store2\",\"height\":22,\"value\":\"Use TPL\",\"width\":320,\"id\":\"comboBox5\",\"displayField\":\"CUST_NO\",\"tpl\":\"<table width=\\\"100%\\\">\\n  <tpl for=\\\".\\\">\\n    <tr class=\\\"x-boundlist-item\\\" data-qtip=\\\"{ADDR} {COUNTRY}\\\">\\n      <td width=\\\"120px\\\">\\n        {CUST_NO}\\n      <\\/td>\\n      <td>\\n        {COMPANY}\\n      <\\/td>\\n    <\\/tr>\\n  <\\/tpl>\\n<\\/table>\",\"y\":40,\"x\":8},{\"xwlMeta\":\"comboBox\",\"height\":22,\"value\":\"Popup Tree\",\"width\":232,\"editable\":\"false\",\"onTriggerClick\":\"moduleMenu.showBy(this);\",\"id\":\"comboBox6\",\"y\":40,\"x\":336}]}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet4\",\"title\":\"Date and Time\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel6\",\"height\":40,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":705,\"children\":[{\"xwlMeta\":\"date\",\"id\":\"date1\",\"height\":22,\"value\":\"new Date()\",\"width\":104,\"y\":8,\"x\":16},{\"xwlMeta\":\"time\",\"id\":\"time1\",\"height\":22,\"value\":\"new Date()\",\"width\":88,\"y\":8,\"x\":128},{\"xwlMeta\":\"datetime\",\"id\":\"datetime1\",\"height\":22,\"value\":\"new Date()\",\"width\":200,\"y\":8,\"x\":248},{\"xwlMeta\":\"date\",\"id\":\"date2\",\"height\":22,\"value\":\"new Date()\",\"width\":104,\"format\":\"m/d/Y\",\"y\":8,\"x\":480},{\"xwlMeta\":\"time\",\"id\":\"time2\",\"height\":22,\"value\":\"new Date()\",\"width\":88,\"format\":\"H:i:s\",\"y\":8,\"x\":592}]}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet5\",\"title\":\"Menu, ToolBar and Button\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel7\",\"height\":94,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":731,\"children\":[{\"xwlMeta\":\"button\",\"id\":\"button1\",\"height\":22,\"text\":\"Common\",\"width\":80,\"y\":8,\"x\":8},{\"xwlMeta\":\"button\",\"iconCls\":\"check_icon\",\"id\":\"button2\",\"height\":22,\"text\":\"Icon\",\"width\":80,\"y\":8,\"x\":96},{\"xwlMeta\":\"button\",\"pressed\":\"true\",\"toggleGroup\":\"ga\",\"id\":\"button3\",\"height\":22,\"allowDepress\":\"false\",\"text\":\"Option A\",\"width\":80,\"y\":8,\"x\":192},{\"xwlMeta\":\"button\",\"toggleGroup\":\"ga\",\"id\":\"button4\",\"height\":22,\"allowDepress\":\"false\",\"text\":\"Option B\",\"width\":80,\"y\":8,\"x\":280},{\"xwlMeta\":\"button\",\"scale\":\"large\",\"id\":\"button5\",\"height\":36,\"icon\":\"webbuilder/images/app/excalmark.gif\",\"text\":\"Big\",\"width\":96,\"y\":0,\"x\":376},{\"xwlMeta\":\"toolbar\",\"width\":664,\"id\":\"toolbar1\",\"height\":30,\"y\":56,\"x\":8,\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Menu\",\"id\":\"menuItem1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Item\",\"iconCls\":\"grid_icon\",\"id\":\"menuItem7\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Sub Menu\",\"id\":\"menuItem5\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Item\",\"id\":\"menuItem6\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem8\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Color\",\"type\":\"colorPicker\",\"id\":\"menuItem9\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Date\",\"type\":\"datePicker\",\"id\":\"menuItem10\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"separatorItem\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Button\",\"iconCls\":\"seek_icon\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Label\",\"type\":\"textItem\",\"id\":\"menuItem22\"},{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"headerScript\":\",{text:'<span style=\\\"color:red\\\">Script<\\/span>',xtype:'tbtext'}\"},{\"xwlMeta\":\"menuItem\",\"text\":\" \",\"id\":\"blankItem\",\"tagProperties\":\"/*text is blank*/\"},{\"xwlMeta\":\"comboBox\",\"width\":\"60\",\"id\":\"comboBox11\"},{\"xwlMeta\":\"menuItem\",\"id\":\"menuItem14\",\"checked\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"fillItem\"},{\"xwlMeta\":\"menuItem\",\"pressed\":\"true\",\"iconCls\":\"list_icon\",\"id\":\"menuItem21\",\"enableToggle\":\"true\",\"tooltip\":\"Toggle\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Radio\",\"id\":\"radioMenu\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Option A\",\"pressed\":\"true\",\"id\":\"menuItem15\",\"group\":\"test\",\"checked\":\"false\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Option B\",\"pressed\":\"false\",\"id\":\"menuItem18\",\"group\":\"test\",\"checked\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem20\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Other\",\"id\":\"menuItem19\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"Check\",\"id\":\"menuItem16\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Option A\",\"id\":\"menuItem17\",\"checked\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Option B\",\"id\":\"menuItem171\",\"checked\":\"true\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"Split\",\"type\":\"split\",\"id\":\"menuItem3\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Item\",\"id\":\"menuItem4\"}]}]},{\"xwlMeta\":\"panel\",\"id\":\"panel8\",\"tools\":\"titleBar\",\"title\":\"Panel Title Tool Buttons\",\"height\":48,\"width\":168,\"frame\":\"true\",\"y\":0,\"x\":504}]}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet6\",\"title\":\"Radio and Check\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel9\",\"height\":41,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":762,\"children\":[{\"xwlMeta\":\"radio\",\"width\":88,\"id\":\"radio1\",\"height\":22,\"name\":\"radioA\",\"boxLabel\":\"Option A\",\"y\":8,\"x\":8},{\"xwlMeta\":\"radio\",\"width\":88,\"id\":\"radio2\",\"height\":22,\"name\":\"radioA\",\"boxLabel\":\"Option B\",\"y\":8,\"x\":104},{\"xwlMeta\":\"check\",\"width\":72,\"id\":\"check1\",\"height\":22,\"boxLabel\":\"Check A\",\"y\":8,\"x\":200},{\"xwlMeta\":\"radioGroup\",\"width\":232,\"columns\":\"3\",\"id\":\"radioGroup1\",\"height\":24,\"y\":8,\"x\":280,\"children\":[{\"xwlMeta\":\"radio\",\"id\":\"radio3\",\"boxLabel\":\"Check B\"},{\"xwlMeta\":\"radio\",\"id\":\"radio4\",\"boxLabel\":\"Check C\"}]},{\"xwlMeta\":\"checkGroup\",\"width\":232,\"columns\":\"3\",\"id\":\"checkGroup1\",\"height\":24,\"y\":8,\"x\":520,\"children\":[{\"xwlMeta\":\"check\",\"id\":\"check2\",\"boxLabel\":\"Check D\"},{\"xwlMeta\":\"check\",\"id\":\"check3\",\"boxLabel\":\"Check E\"}]}]}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet7\",\"title\":\"Tree and DataView\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel10\",\"height\":186,\"layout\":\"absolute\",\"transparent\":\"true\",\"width\":754,\"children\":[{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"root\":\"{text:'Node A',expanded:true,children:[{iconCls:'property_icon',text:'Node B',leaf:true},\\n{text:'Node C',checked:false,iconCls:'item_icon',leaf:true},\\n{text:'Node D'}\\n]}\",\"id\":\"treePanel1\",\"height\":168,\"width\":168,\"y\":8,\"x\":16},{\"xwlMeta\":\"panel\",\"id\":\"panel11\",\"title\":\"CSS define in module head property\",\"height\":168,\"layout\":\"fit\",\"width\":376,\"y\":8,\"x\":192,\"children\":[{\"xwlMeta\":\"dataview\",\"store\":\"dataViewStore\",\"autoScroll\":\"true\",\"padding\":\"8\",\"itemSelector\":\"div.thumb-wrap\",\"id\":\"dataview1\",\"frame\":\"true\",\"tpl\":\"<tpl for=\\\".\\\">\\n  <div class=\\\"thumb-wrap\\\">\\n    <div class=\\\"thumb\\\">\\n      <img class=\\\"wb_icon {DISPLAY_ICON}\\\" src=\\\"webbuilder/images/app/s.gif\\\">\\n      <div>{DISPLAY_NAME}<\\/div>\\n    <\\/div>\\n  <\\/div>\\n<\\/tpl>\\n<div class=\\\"x-clear\\\"><\\/div>\"}]},{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"store\":\"treeStore1\",\"id\":\"treePanel11\",\"height\":168,\"width\":168,\"rootVisible\":\"false\",\"y\":8,\"x\":576}]}]}]}]}]}]}","Control List",null,0,0,"admin","2014-03-25 10:36:06.0","admin","2014-03-27 14:05:00.0",10],["13TFDONIDIPA","13MKV4HXEYPC",null,"Control List Subs",null,1,0,"admin","2014-03-25 10:38:21.0","admin","2014-03-27 08:48:28.0",11],["13TFDONIDIPB","13TFDONIDIPA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"DataView Source\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select DISPLAY_NAME,case when DISPLAY_ICON is null then 'item_icon' else DISPLAY_ICON end as \\\"DISPLAY_ICON\\\"\\nfrom wb_module where MODULE_CONTENT is not null\"}]}","DataView Source",null,0,0,"admin","2014-03-25 10:38:21.0","admin","2014-03-25 13:14:15.0",2],["13TFDONIDIPC","13TFDONIDIPA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get List\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from WB_CUST order by COMPANY\"}]}","Get List",null,0,0,"admin","2014-03-25 10:38:21.0","admin","2014-03-25 10:38:44.0",1],["13TFDONIDIPD","13TFDONIDIPA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Tree Source\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"tree\",\"id\":\"dataProvider1\",\"sql\":\"select DISPLAY_NAME as \\\"text\\\",DISPLAY_ICON as \\\"iconCls\\\", MODULE_ID,PARENT_ID,\\n case when (select count(*) from WB_MODULE t2 where t2.PARENT_ID=t1.MODULE_ID)>0 then '__false' else '__true' end as \\\"leaf\\\"\\n from WB_MODULE t1 where PARENT_ID={?parentID?} or ({?parentID?} is null and PARENT_ID='-1')\\n order by ORDER_INDEX\"}]}","Tree Source",null,0,0,"admin","2014-03-25 10:38:21.0","admin","2014-03-25 10:39:10.0",3],["13TFPMW7TI2W","13MKV4HXEYPC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Customer Advance\",\"head\":\"<style type=\\\"text/css\\\">\\n.hl-row .x-grid-cell{background-color:#ECE}\\n<\\/style>\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"requests\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"sorters\":\"[{property:'CUST_NO'}]\",\"remoteSort\":\"true\",\"url\":\"#13TFPMW7TI4K (Select)\",\"output\":\"toolbar1\"},{\"xwlMeta\":\"store\",\"id\":\"countryStore\",\"fields\":\"['country','countryFullName']\",\"url\":\"#13TFPMW7TIJ4 (Select Country)\",\"showMask\":\"false\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Modify Country By Key Bind\",\"iconCls\":\"dp_icon\",\"id\":\"editBtn1\",\"click\":\"//Wb.edit(grid1,editWin1,'COMPANY'); equals the following code:\\nvar rs = Wb.getSelRec(grid1);\\nif (rs.length != 1) {\\n  Wb.warning('Please select a record.');\\n  return;\\n}\\neditWin1.show();\\nWb.setValue(rs[0].data);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Modify Country By Dynaimc Load\",\"iconCls\":\"db_icon\",\"id\":\"editBtn2\",\"click\":\"var r=Wb.getSelRec(grid1);\\nif(r.length==1){\\n  r=r[0];\\n  countryStore.add({country:r.get('COUNTRY'),countryFullName:r.get('countryFullName')});\\n  //Preload data for a_COUNTRY combobox displayName value mapping\\n}\\nWb.edit(grid1,editWin2,'COMPANY',false,'a_');\"}]},{\"xwlMeta\":\"array\",\"id\":\"customerColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CUST_NO2\",\"id\":\"custNoCol\",\"text\":\"Customer No\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COMPANY\",\"id\":\"companyCol\",\"renderer\":\"metaData.style='background-color:#EDED00';\\nreturn '<span style=\\\"color:red;\\\">'+value+'<\\/span>';\",\"text\":\"Company\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ADDR\",\"id\":\"addrCol\",\"text\":\"Address\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COUNTRY\",\"id\":\"countryCol\",\"keyName\":\"country\",\"text\":\"Country (Mapped)\",\"flex\":\"1\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"edit_icon\",\"id\":\"editWin1\",\"title\":\"Modify Country By Key Bind\",\"height\":267,\"layout\":\"absolute\",\"defaultFocus\":\"COUNTRY\",\"width\":467,\"clickOK\":\"Wb.request({url:'main?xwl=13TFPMW7TI4O'/*update1*/,output:editWin1,success:function(r){\\n  Wb.update(grid1, editWin1);//Apply editWin1 controls value to the record.\\n  editWin1.hide();\\n}});\",\"children\":[{\"xwlMeta\":\"label\",\"width\":424,\"id\":\"generalLabel\",\"height\":22,\"html\":\"<div style=\\\"border-bottom:1px solid #AAA;padding-bottom:5px;\\\">General Information：<\\/div>\",\"y\":16,\"x\":16},{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"defaults\":\"{labelWidth:80,labelAlign:'right',padding:'8 0 0 8'}\",\"height\":72,\"layout\":\"@{type:'table',columns:2}\",\"transparent\":\"true\",\"width\":424,\"y\":48,\"x\":16,\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"*Custom No\",\"id\":\"CUST_NO2\",\"readOnly\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"*Company\",\"id\":\"COMPANY\",\"readOnly\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"Address\",\"id\":\"ADDR\",\"tagProperties\":\"colspan:2\",\"width\":\"415\",\"readOnly\":\"true\"}]},{\"xwlMeta\":\"label\",\"width\":424,\"id\":\"countryLabel\",\"height\":22,\"html\":\"<div style=\\\"border-bottom:1px solid #AAA;padding-bottom:5px;\\\">Country：<\\/div>\",\"y\":128,\"x\":16},{\"xwlMeta\":\"comboBox\",\"height\":22,\"width\":424,\"id\":\"COUNTRY\",\"keyName\":\"country\",\"y\":166,\"x\":16},{\"xwlMeta\":\"hiddenField\",\"id\":\"CUST_ID\",\"height\":22,\"width\":100,\"y\":192,\"x\":16}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"edit_icon\",\"id\":\"editWin2\",\"title\":\"Modify Country By Key Bind\",\"height\":267,\"layout\":\"absolute\",\"defaultFocus\":\"COUNTRY\",\"width\":467,\"clickOK\":\"Wb.request({url:'main?xwl=13TFPMW7TIIF'/*update2*/,output:editWin2,success:function(r){\\n  Wb.update(grid1, editWin2, 'a_');//Apply editWin2 controls value to the record.\\n  editWin2.hide();\\n}});\",\"children\":[{\"xwlMeta\":\"label\",\"width\":424,\"id\":\"generalLabel1\",\"height\":22,\"html\":\"<div style=\\\"border-bottom:1px solid #AAA;padding-bottom:5px;\\\">General Information：<\\/div>\",\"y\":16,\"x\":16},{\"xwlMeta\":\"panel\",\"id\":\"panel11\",\"defaults\":\"{labelWidth:80,labelAlign:'right',padding:'8 0 0 8'}\",\"height\":72,\"layout\":\"@{type:'table',columns:2}\",\"transparent\":\"true\",\"width\":424,\"y\":48,\"x\":16,\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"*Custom No\",\"id\":\"a_CUST_NO2\",\"readOnly\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"*Company\",\"id\":\"a_COMPANY\",\"readOnly\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"Address\",\"id\":\"a_ADDR\",\"tagProperties\":\"colspan:2\",\"width\":\"415\",\"readOnly\":\"true\"}]},{\"xwlMeta\":\"label\",\"width\":424,\"id\":\"countryLabel1\",\"height\":22,\"html\":\"<div style=\\\"border-bottom:1px solid #AAA;padding-bottom:5px;\\\">Country：<\\/div>\",\"y\":128,\"x\":16},{\"xwlMeta\":\"comboBox\",\"store\":\"countryStore\",\"height\":22,\"forceList\":\"true\",\"valueField\":\"country\",\"queryDelay\":\"160\",\"width\":424,\"pageSize\":\"Wb.pageSize\",\"id\":\"a_COUNTRY\",\"displayField\":\"countryFullName\",\"y\":166,\"x\":16},{\"xwlMeta\":\"hiddenField\",\"id\":\"a_CUST_ID\",\"height\":22,\"width\":100,\"y\":192,\"x\":16}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"customerColumns\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"viewConfig\":\"{\\n  getRowClass:function(r){\\n    if(r.get('TAX_RATE')>5)return 'hl-row';\\n    else return '';\\n  }\\n}\\n\"}]}]}","Customer Advance",null,0,0,"admin","2014-03-26 12:08:18.0","admin","2014-04-03 15:26:10.0",15],["13TFPMW7TI2Y","13MKV4HXEYPC",null,"Customer Advance Subs",null,1,0,"admin","2014-03-26 12:08:28.0","admin","2014-03-26 17:41:52.0",16],["13TFPMW7TI4K","13TFPMW7TI2Y","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"findKey\",\"value\":\"%{#findCombo#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select a.CUST_ID,a.CUST_NO as \\\"CUST_NO2\\\",a.COMPANY,a.ADDR,a.COUNTRY,a.TAX_RATE,b.KEY_VALUE as \\\"countryFullName\\\"\\nfrom WB_CUST a, WB_KEY b where a.COUNTRY=b.KEY_NAME and b.KEY_TYPE='country' {#sql.orderBy#}\\n-- When encounter duplicate field-name for field-name control-id mapping,\\n-- you can use \\\"as\\\" (like CUST_NO) to rename field-name in SQL clause.\"}]}","Select",null,0,0,"admin","2014-03-26 12:18:32.0","admin","2014-03-26 15:51:54.0",1],["13TFPMW7TI4O","13TFPMW7TI2Y","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Update1\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update WB_CUST set COUNTRY={?COUNTRY?}\\nwhere CUST_ID={?CUST_ID?}\",\"uniqueUpdate\":\"true\"}]}","Update1",null,0,0,"admin","2014-03-26 12:18:36.0","admin","2014-03-26 13:51:59.0",4],["13TFPMW7TIIF","13TFPMW7TI2Y","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Update2\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update WB_CUST set COUNTRY={?a_COUNTRY?}\\nwhere CUST_ID={?a_CUST_ID?}\",\"uniqueUpdate\":\"true\"}]}","Update2",null,0,0,"admin","2014-03-26 15:09:38.0","admin","2014-03-26 17:12:43.0",5],["13TFPMW7TIJ4","13TFPMW7TI2Y","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select Country\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"findKey\",\"value\":\"{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select KEY_NAME as \\\"country\\\", KEY_VALUE as \\\"countryFullName\\\" from WB_KEY\\nwhere KEY_TYPE='country' and KEY_VALUE like {?findKey?} order by KEY_NAME\"}]}","Select Country",null,0,0,"admin","2014-03-26 15:38:29.0","admin","2014-03-26 17:00:28.0",3],["13TGAK6EQJMJ","13NR4T25XOYJ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Database Access\",\"initScript\":\"//*** Case 1: ***\\nvar resultSet=DbUtil.query(request,'select * from WB_CUST');\\n//DbUtil.query(request,'update WB_CUST set CUST_ID={?param1?} where CUST_ID={?param2}');\\nvar out=java.lang.System.out;\\nwhile(resultSet.next()){\\n  var s=resultSet.getString('CUST_ID');\\n  Wb.println(request,s);//WebBuilder console\\n  out.println(s);//System console\\n}\\n//ResultSet, Statement and Connection will auto close when use DbUtil.query method.\\n\\n\\n\\n\\n//*** Case 2: ***\\n//importPackage(java.util);\\nvar connection = DbUtil.getConnection(/*jndi, empty for the default database, a new Connection*/),statement;\\n//var conn=DbUtil.getConnection(request); //conn will share the same connection with resultSet \\n//and will auto close finally. see WebBuilder docs Database Access.\\ntry{\\n  connection.setAutoCommit(false);\\n  statement = connection.prepareStatement(\\\"update WB_CUST set CUST_ID='1' where 1=0\\\");\\n  statement.executeUpdate();\\n  connection.commit();\\n}catch (e) {\\n  Wb.error(e.message);\\n}finally {\\n  if(statement)DbUtil.closeStatement(statement);\\n  if(connection)DbUtil.closeConnection(connection);\\n  //The closeConnection method will roleback and close the connection\\n}\\nWebUtil.response(response, 'See module initScript property.');\"}","Database Access",null,0,0,"admin","2014-03-28 10:01:26.0","admin","2014-03-28 10:40:58.0",2],["13UABCDZ9IO6","13LRISKIV0QN","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Set Value\",\"initScript\":\"Value.set(request,request.getParameter('name'),request.getParameter('value'));\"}","Set Value","set_icon",0,0,"admin","2014-07-04 09:35:38.0","admin","2014-07-04 09:36:38.0",32],["23VKVPUL841U","23VL9CC5TPUO",null,"工作流","product_icon",0,0,"admin","2014-12-03 11:14:56.0","admin","2015-01-07 14:18:02.0",36],["23VKVPUL841X","23VKVPUL841U",null,"流程待办处理","folder_icon",0,0,"admin","2014-12-03 11:20:54.0","admin","2014-12-22 14:42:35.0",8],["23VKVPUL841Y","23VKVPUL841X","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"待办列表\",\"jsFiles\":\"[\\\"common/js/base64.js\\\",\\\"workflow/wbwf/wbwf.js\\\",\\\"workflow/workitem/extBatchTaskHandler.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n\\n\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"footer\":\"<script type=\\\"text/javascript\\\">\\n  function openNotice(id){\\n    //window.open('{#contextPath#}/main?xwl=23XUYE2ZOQBU&noticeId='+id ,\\\"_blank\\\");\\n    \\n    popTopWin({\\n      'title'\\t:\\t'通知',\\n      'url'\\t\\t:\\t'{#contextPath#}/main?xwl=23XUYE2ZOQBU&noticeId='+ id,\\n      'isMax'\\t:\\ttrue,\\n      closeCallback:function(){\\n        msgStore.load();\\n      }\\n    });    \\n    \\n  }\\n \\n<\\/script>\",\"header\":\"\\n\"},{\"xwlMeta\":\"folder\",\"id\":\"req\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23XUYE2ZOLUA (Close Notice)\",\"id\":\"closeNotice\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"通知关闭失败!\\\") ;\",\"success\":\"var rows = msyGrid.getSelectionModel().getSelection() ;\\nmsgStore.remove(rows) ;\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XUYE2ZOLU5 (Delete Notice)\",\"id\":\"delNotice\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"通知删除失败!\\\") ;\",\"success\":\"var rows = msyGrid.getSelectionModel().getSelection() ;\\nmsgStore.remove(rows) ;\\n\"}]},{\"xwlMeta\":\"store\",\"id\":\"msgStore1\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23XZBINAVBS3 (Select Notices noPage)\",\"load\":\"var msgCount = msgStore1.getCount();\\nmsgPanel.setTitle('通知'+ '<font color=\\\"red\\\"> '+ msgCount+'<\\/font>');\\n//msgPanel.setTitle('通知'+ '<sup><img src=\\\"pub/uip/common/icon/god_stop.jpg\\\"><font color=\\\"white\\\"> '+ msgCount+'<\\/font><\\/img><\\/sup>');\"},{\"xwlMeta\":\"store\",\"id\":\"taskStore1\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23XZBINAVBD6 (Select TaskList noPage)\",\"message\":\"数据加载中...\",\"timeout\":\"3600000\",\"showMask\":\"true\",\"load\":\"var taskCount = taskStore1.getCount();\\ntaskPanel.setTitle('待办'+ '<font color=\\\"red\\\"> '+ taskCount+'<\\/font>');\",\"beforeload\":\"//alert(66);\\n\"},{\"xwlMeta\":\"store\",\"id\":\"taskStore\",\"autoLoad\":\"true\",\"url\":\"#23VKVPUL8421 (Select TaskList)\",\"message\":\"数据加载中...\",\"output\":\"activityName,bizName,title\",\"timeout\":\"3600000\",\"showMask\":\"true\",\"load\":\"taskStore1.load();\\nmsgStore1.load();\\nmsgStore.load();\\n\"},{\"xwlMeta\":\"store\",\"id\":\"msgStore\",\"autoLoad\":\"true\",\"url\":\"#23XTQL2Z9TVD (Select Notices)\",\"output\":\"toolbar4Msg\",\"load\":\"msgStore1.load();\"},{\"xwlMeta\":\"store\",\"id\":\"hisTaskStore\",\"autoLoad\":\"true\",\"url\":\"#23VXQRIVI8Z3 (Select ClosedTaskList)\",\"output\":\"toolbar4his\",\"timeout\":\"3600000\"},{\"xwlMeta\":\"store\",\"id\":\"archTaskStore\",\"autoLoad\":\"true\",\"url\":\"#23WPZM3B5HXQ (Select ArchTaskList)\",\"output\":\"toolbar4arch\"},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window_none\",\"height\":\"260\",\"layout\":\"border\",\"width\":\"380\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"northPanel\",\"columnWidth\":\".5\",\"width\":\"'100%'\",\"hidden\":\"100\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"taskStore1\",\"id\":\"taskGrid_none\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"centerPanel\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"msgStore1\",\"id\":\"msgGrid_none\"}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem1\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"业务实体\",\"id\":\"bizName\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(taskStore);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem2\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点名称\",\"id\":\"activityName\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   Wb.load(taskStore);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem3\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"标题\",\"id\":\"title\",\"labelWidth\":\"30\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   Wb.load(taskStore);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem4\"},{\"xwlMeta\":\"menuItem\",\"text\":\"查询\",\"iconCls\":\"seek_icon\",\"id\":\"btnQuery\",\"click\":\"Wb.load(taskStore);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem5\"},{\"xwlMeta\":\"menuItem\",\"text\":\"批量审批\",\"iconCls\":\"ok_icon\",\"id\":\"btnApprove\",\"tooltip\":\"所选待办信息须为同一流程、同一流程版本、相同节点\",\"click\":\"var rows = taskGrid.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请先选择待办信息!');\\n  return false ;\\n  \\n}else{\\n  var params = '';\\n  for(var i=0; i<rows.length; i++){\\n  \\tparams = params + rows[i].data.TASKID + ',';\\n  }\\n  params = params.substring(0,params.length-1);\\n  \\n  \\n  // 执行批量审批处理\\n  WBWF.openBatchTaskPage('{#contextPath#}',params) ;\\n  \\n  Wb.load(taskStore);\\n  \\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem6\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TASKTITLE\",\"id\":\"TASKTITLE\",\"renderer\":\"var taskId = record.get('TASKID');\\nvar insCode = record.get('INSTANCECODE');\\nvar title = record.get('TASKTITLE');\\nvar bizId = record.get('BUSINESSID');\\nvar taskState = record.get('TASKSTATE');\\n  \\nvar beginDate = record.get('BEGINDATE');\\nbeginDate = Wb.formatDate(beginDate,'Y-m-d H:i:s') ;\\n\\nvar fromUserName = record.get('FROMUSERNAME') ;\\n\\nvar contextPath = '{#contextPath#}';\\n\\n//var newTitle = \\\"<a href=\\\\\\\"javascript:WBWF.openTaskPage('\\\"+contextPath+\\\"','\\\"+taskId+\\\"','\\\"+insCode+\\\"','\\\"+encode(title)+\\\"','\\\"+beginDate+\\\"','\\\"+bizId+\\\"','\\\"+encode(fromUserName)+\\\"','\\\"+taskState+\\\"');\\\\\\\" >\\\" + title + \\\"<\\/a>\\\";\\n\\nvar newTitle = \\\"<a href=\\\\\\\"javascript:WBWF.openTaskPage('\\\"+contextPath+\\\"','\\\"+taskId+\\\"','\\\"+taskState+\\\"');\\\\\\\" >\\\" + title + \\\"<\\/a>\\\";\\nmetaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:10px;';   \\nreturn newTitle;\",\"text\":\"标题\",\"align\":\"left\",\"width\":\"500\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE1\",\"id\":\"MEMO\",\"text\":\"征询/委派备注\",\"align\":\"left\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BEGINDATE\",\"id\":\"BEGINDATE\",\"text\":\"开始时间\",\"align\":\"center\",\"width\":\"150\",\"format\":\"Y-m-d H:i:s\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TASKSTATE\",\"id\":\"TASKSTATE\",\"renderer\":\"if (value == 'open') {\\n  return '<font color=\\\\\\\"green\\\\\\\">打开<\\/font>' ;\\n} else if (value == 'hung-up') {\\n  return '<font color=\\\\\\\"red\\\">挂起<\\/font>' ;\\n} else if (value == 'closed') {\\n  return '<font color=\\\\\\\"black\\\">关闭<\\/font>' ;\\n}\\nreturn value ;\",\"text\":\"状态\",\"align\":\"center\",\"width\":\"80\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FROMUSERNAME\",\"id\":\"FROMUSERNAME\",\"text\":\"待办发起人\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUSINESSID\",\"id\":\"BUSINESSID\",\"text\":\"业务ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUSINESSCODE\",\"id\":\"BUSINESSCODE\",\"text\":\"业务编码\",\"align\":\"left\",\"width\":\"150\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUSINESSNAME\",\"id\":\"BUSINESSNAME\",\"text\":\"业务名称\",\"align\":\"left\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITYNAME\",\"id\":\"ENTITYNAME\",\"text\":\"业务实体\",\"align\":\"left\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACTNAME\",\"id\":\"ACTNAME\",\"text\":\"节点名称\",\"align\":\"left\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ASSIGNUSERNAME\",\"id\":\"ASSIGNUSERNAME\",\"text\":\"待办所有者\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTEUSERNAME\",\"id\":\"EXECUTEUSERNAME\",\"text\":\"待办执行者\",\"align\":\"center\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TASKID\",\"id\":\"TASKID\",\"text\":\"待办ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INSTANCEID\",\"id\":\"INSTANCEID\",\"text\":\"实例ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INSTANCECODE\",\"id\":\"INSTANCECODE\",\"text\":\"实例编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar4Msg\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep1\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"标题\",\"id\":\"txtMsgTitle\",\"labelWidth\":\"40\",\"width\":\"250\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(msgStore) ;\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep2\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"seek_icon\",\"id\":\"btnQueryMsg\",\"click\":\"Wb.load(msgStore) ;\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"关闭\",\"iconCls\":\"close_icon\",\"id\":\"btnClose\",\"hidden\":\"true\",\"click\":\"var rows = msyGrid.getSelectionModel().getSelection() ;\\n\\nvar _userNoticeId = rows[0].data.USER_NOTICE_ID ;\\n\\nvar json = {'userNoticeId':_userNoticeId} ;\\n\\ncloseNotice.request(json) ;\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"delete_icon\",\"id\":\"btnDel\",\"hidden\":\"true\",\"click\":\"var rows = msyGrid.getSelectionModel().getSelection() ;\\n\\nvar _userNoticeId = rows[0].data.USER_NOTICE_ID ;\\n\\nvar json = {'userNoticeId':_userNoticeId} ;\\n\\nExt.Msg.confirm(\\\"提示\\\",\\\"您确定要删除此通知信息吗？\\\",function(a){\\n  if(a==='yes'){\\n    delNotice.request(json) ;\\n  }else{\\n  \\treturn  ;\\n  }\\n}) ;\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"msyArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"msyRowNum\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MSG_ID\",\"id\":\"MSG_ID\",\"text\":\"通知ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MSG_TITLE\",\"id\":\"MSG_TITLE\",\"renderer\":\"var id = record.get('MSG_ID');\\nvar title = record.get('MSG_TITLE');\\n\\nvar newTitle = \\\"<a href=\\\\\\\"javascript:openNotice('\\\"+id+\\\"');\\\\\\\" >\\\" + title + \\\"<\\/a>\\\";\\nmetaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:20px;';   \\nreturn newTitle ;\",\"text\":\"标题\",\"width\":\"400\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MSG_URL\",\"id\":\"MSG_URL\",\"text\":\"表单URL\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MSG_CONTENT\",\"id\":\"MSG_CONTENT\",\"text\":\"正文\",\"width\":\"450\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"USER_ID\",\"text\":\"用户ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME\",\"text\":\"用户名\",\"width\":\"150\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MSG_STATUS\",\"id\":\"MSG_STATUS\",\"renderer\":\"if(value === 'open'){\\n  return '打开'  ;\\n}else if(value === 'closed'){\\n  return '<font color=red> 关闭<\\/font>' ;\\n}else{\\n  return value ;\\n}\",\"text\":\"状态\",\"width\":\"150\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATION_DATE\",\"id\":\"CREATION_DATE\",\"text\":\"创建时间\",\"width\":\"150\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar4his\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item1\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"业务实体\",\"id\":\"hisTextEntityName\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(hisTaskStore);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item2\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"标题\",\"id\":\"hisTextTaskTitle\",\"labelWidth\":\"30\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(hisTaskStore);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item5\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"日期\",\"id\":\"hisBeginDate\",\"labelWidth\":\"30\",\"width\":\"150\",\"format\":\"Y-m-d\",\"labelAlign\":\"right\",\"select\":\"hisBeginDate.setValue(Ext.Date.format(value, 'Y-m-d')) ;\"},{\"xwlMeta\":\"label\",\"text\":\"-\",\"id\":\"label1\"},{\"xwlMeta\":\"date\",\"id\":\"hisEndDate\",\"width\":\"120\",\"format\":\"Y-m-d\",\"select\":\"hisEndDate.setValue(Ext.Date.format(value, 'Y-m-d')) ;\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"查询\",\"iconCls\":\"seek_icon\",\"id\":\"btnHisQuery\",\"click\":\"Wb.load(hisTaskStore);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item6\"}]},{\"xwlMeta\":\"array\",\"id\":\"hisColArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum1\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TASKTITLE1\",\"id\":\"TASKTITLE1\",\"renderer\":\"var taskId = record.get('TASKID1');\\nvar insCode = record.get('INSTANCECODE1');\\nvar title = record.get('TASKTITLE1');\\nvar bizId = record.get('BUSINESSID1');\\nvar taskState = record.get('TASKSTATE1');\\n\\nvar beginDate = record.get('BEGINDATE1');\\nbeginDate = Wb.formatDate(beginDate,'Y-m-d H:i:s') ;\\n\\nvar fromUserName = record.get('FROMUSERNAME1') ;\\n\\nvar contextPath = '{#contextPath#}';\\n\\n//var newTitle = \\\"<a href=\\\\\\\"javascript:WBWF.openTaskPage('\\\"+contextPath+\\\"','\\\"+taskId+\\\"','\\\"+insCode+\\\"','\\\"+encode(title)+\\\"','\\\"+beginDate+\\\"','\\\"+bizId+\\\"','\\\"+encode(fromUserName)+\\\"','\\\"+taskState+\\\"');\\\\\\\" >\\\" + title + \\\"<\\/a>\\\";\\nvar newTitle = \\\"<a href=\\\\\\\"javascript:WBWF.openTaskPage('\\\"+contextPath+\\\"','\\\"+taskId+\\\"','\\\"+taskState+\\\"');\\\\\\\" >\\\" + title + \\\"<\\/a>\\\";\\nmetaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:10px;';   \\nreturn newTitle;\",\"text\":\"标题\",\"align\":\"left\",\"width\":\"500\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE1\",\"id\":\"MEMO1\",\"text\":\"征询/委派备注\",\"align\":\"left\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENDDATE1\",\"id\":\"BEGINDATE1\",\"text\":\"结束时间\",\"align\":\"center\",\"width\":\"150\",\"format\":\"Y-m-d H:i:s\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FROMUSERNAME1\",\"id\":\"FROMUSERNAME1\",\"text\":\"发起人\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUSINESSID1\",\"id\":\"BUSINESSID1\",\"text\":\"业务ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUSINESSCODE1\",\"id\":\"BUSINESSCODE1\",\"text\":\"业务编码\",\"align\":\"left\",\"width\":\"150\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUSINESSNAME1\",\"id\":\"BUSINESSNAME1\",\"text\":\"业务名称\",\"align\":\"left\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITYNAME1\",\"id\":\"ENTITYNAME1\",\"text\":\"业务实体\",\"align\":\"left\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACTNAME1\",\"id\":\"ACTNAME1\",\"text\":\"节点名称\",\"align\":\"left\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ASSIGNUSERNAME1\",\"id\":\"ASSIGNUSERNAME1\",\"text\":\"所有者\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTEUSERNAME1\",\"id\":\"EXECUTEUSERNAME1\",\"text\":\"执行者\",\"align\":\"center\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TASKID1\",\"id\":\"TASKID1\",\"text\":\"待办ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INSTANCEID1\",\"id\":\"INSTANCEID1\",\"text\":\"实例ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INSTANCECODE1\",\"id\":\"INSTANCECODE1\",\"text\":\"实例编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TASKSTATE1\",\"id\":\"TASKSTATE1\",\"renderer\":\"return '<font color=\\\\\\\"black\\\">关闭<\\/font>' ;\",\"text\":\"状态\",\"align\":\"center\",\"width\":\"80\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar4arch\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item11\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"业务实体\",\"id\":\"hisTextEntityName1\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(archTaskStore);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item21\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"标题\",\"id\":\"hisTextTaskTitle1\",\"labelWidth\":\"30\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(archTaskStore);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item51\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"日期\",\"id\":\"archBeginDate\",\"labelWidth\":\"30\",\"width\":\"150\",\"format\":\"Y-m-d\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"label\",\"text\":\"-\",\"id\":\"label2\"},{\"xwlMeta\":\"date\",\"id\":\"archEndDate\",\"width\":\"120\",\"format\":\"Y-m-d\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"查询\",\"iconCls\":\"seek_icon\",\"id\":\"btnHisQuery1\",\"click\":\"Wb.load(archTaskStore);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item61\"}]},{\"xwlMeta\":\"array\",\"id\":\"archTaskArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum11\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TASKTITLE1\",\"id\":\"TASKTITLE11\",\"renderer\":\"var taskId = record.get('TASKID1');\\nvar insCode = record.get('INSTANCECODE1');\\nvar title = record.get('TASKTITLE1');\\nvar bizId = record.get('BUSINESSID1');\\nvar taskState = record.get('TASKSTATE1');\\n\\nvar beginDate = record.get('BEGINDATE1');\\nbeginDate = Wb.formatDate(beginDate,'Y-m-d H:i:s') ;\\n\\nvar fromUserName = record.get('FROMUSERNAME1') ;\\n\\nvar contextPath = '{#contextPath#}';\\n\\nvar newTitle = \\\"<a href=\\\\\\\"javascript:WBWF.openTaskPage('\\\"+contextPath+\\\"','\\\"+taskId+\\\"','\\\"+taskState+\\\"');\\\\\\\" >\\\" + title + \\\"<\\/a>\\\";\\nmetaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:20px;';   \\nreturn newTitle;\",\"text\":\"标题\",\"align\":\"left\",\"width\":\"500\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE1\",\"id\":\"MEMO11\",\"text\":\"征询/委派备注\",\"align\":\"left\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENDDATE1\",\"id\":\"BEGINDATE11\",\"text\":\"结束时间\",\"align\":\"center\",\"width\":\"150\",\"format\":\"Y-m-d H:i:s\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FROMUSERNAME1\",\"id\":\"FROMUSERNAME11\",\"text\":\"发起人\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUSINESSID1\",\"id\":\"BUSINESSID11\",\"text\":\"业务ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUSINESSCODE1\",\"id\":\"BUSINESSCODE11\",\"text\":\"业务编码\",\"align\":\"left\",\"width\":\"150\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUSINESSNAME1\",\"id\":\"BUSINESSNAME11\",\"text\":\"业务名称\",\"align\":\"left\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITYNAME1\",\"id\":\"ENTITYNAME11\",\"text\":\"业务实体\",\"align\":\"left\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACTNAME1\",\"id\":\"ACTNAME11\",\"text\":\"节点名称\",\"align\":\"left\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ASSIGNUSERNAME1\",\"id\":\"ASSIGNUSERNAME11\",\"text\":\"所有者\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTEUSERNAME1\",\"id\":\"EXECUTEUSERNAME11\",\"text\":\"执行者\",\"align\":\"center\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TASKID1\",\"id\":\"TASKID11\",\"text\":\"待办ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INSTANCEID1\",\"id\":\"INSTANCEID11\",\"text\":\"实例ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TASKSTATE1\",\"id\":\"TASKSTATE11\",\"renderer\":\"return '<font color=\\\\\\\"black\\\">关闭<\\/font>' ;\",\"text\":\"状态\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INSTANCECODE1\",\"id\":\"INSTANCECODE11\",\"text\":\"实例编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"tabPanel1\",\"activeTab\":\"taskPanel\",\"tabchange\":\"var tab = tabPanel1.getActiveTab();\\nif(tab.id === 'hisTaskPanel'){\\n  Wb.load(hisTaskStore);\\n}else{\\n  Wb.load(taskStore);\\n}\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"taskPanel\",\"title\":\"待办\",\"layout\":\"fit\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"taskStore\",\"columns\":\"colArray\",\"pagingToolbar\":\"true\",\"id\":\"taskGrid\",\"tbar\":\"toolbar1\",\"multiSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\"}]},{\"xwlMeta\":\"panel\",\"id\":\"msgPanel\",\"title\":\"通知\",\"layout\":\"fit\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"msgStore\",\"columns\":\"msyArray\",\"border\":\"false\",\"id\":\"msyGrid\",\"tbar\":\"toolbar4Msg\",\"multiSelect\":\"false\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\"}]},{\"xwlMeta\":\"panel\",\"id\":\"hisTaskPanel\",\"title\":\"已办\",\"layout\":\"fit\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"hisTaskStore\",\"columns\":\"hisColArray\",\"id\":\"hisTaskGrid\",\"tbar\":\"toolbar4his\",\"autoLoad\":\"true\",\"exportPrint\":\"false\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\"}]},{\"xwlMeta\":\"panel\",\"id\":\"archTaskPanel\",\"title\":\"归档\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"archTaskStore\",\"columns\":\"archTaskArray\",\"id\":\"archTaskGrid\",\"tbar\":\"toolbar4arch\",\"exportPrint\":\"false\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\"}]}]}]}]}","Task List",null,0,0,"admin","2014-12-03 11:21:09.0","23XQ4UO678F8","2015-10-26 16:40:55.0",2],["23VKVPUL8420","23VKVPUL841X",null,"Task List Subs","db_icon",1,0,"admin","2014-12-03 11:21:28.0","23XSWLY0BYLW","2015-08-25 10:31:21.0",8],["23VKVPUL8421","23VKVPUL8420","{\"id\":\"db_select_task\",\"title\":\"db_select_task\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select tsk.task_id TASKID,\\n       tsk.task_title TASKTITLE,\\n       tsk.attribute1 ATTRIBUTE1,\\n       tsk.task_state TASKSTATE,\\n       tsk.act_name ACTNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.from_user) FROMUSERNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.assign_user) ASSIGNUSERNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.execute_user) EXECUTEUSERNAME,\\n       pi.business_id BUSINESSID,\\n       pi.business_code BUSINESSCODE,\\n       pi.business_name BUSINESSNAME,\\n       e.entity_name ENTITYNAME,\\n       tsk.begin_date BEGINDATE,\\n       pi.instance_id INSTANCEID,\\n       pi.instance_code INSTANCECODE\\n  from xip_wf_ins_task tsk, xip_wf_process_instance pi, xip_wf_entities e\\n where tsk.instance_id = pi.instance_id\\n   and pi.entity_id = e.entity_id\\n   and (tsk.assign_user = {?XIP.userId?} or tsk.execute_user = {?XIP.userId?} )\\n   and tsk.task_state in ('open', 'hung-up')\\n   and e.entity_name like '%{#bizName#}%'\\n   and tsk.act_name like '%{#activityName#}%'  \\n   and tsk.task_title like '%{#title#}%'\\n order by tsk.begin_date desc\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Select TaskList",null,0,0,"admin","2014-12-03 11:21:41.0","admin","2015-05-04 15:19:16.0",1],["23VL9CC5TPUO","-1",null,"XIP2.0","home_icon",0,0,"admin","2014-12-04 16:16:59.0","admin","2014-12-08 11:10:28.0",22],["23VL9CC5TPV1","23VVZ3QMOKQA",null,"平台首页",null,0,0,"admin","2014-12-04 16:17:50.0","admin","2015-01-08 16:11:59.0",2],["23VL9CC5TPVB","23VL9CC5TPV1","{\"id\":\"module1\",\"title\":\"homePage\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"border\",\"children\":[{\"id\":\"panel1\",\"region\":\"center\",\"frame\":\"false\",\"xwlMeta\":\"panel\",\"width\":450,\"layout\":\"absolute\",\"html\":\"{#taskListUrl#}\"},{\"id\":\"panel2\",\"region\":\"south\",\"frame\":\"false\",\"height\":\"150\",\"xwlMeta\":\"panel\",\"layout\":\"fit\",\"html\":\"{#shortCutUrl#}\"}]}],\"initScript\":\"var contextPath = request.getContextPath();\\n\\nvar userId = request.getParameter(\\\"userId\\\");\\nvar userName = request.getParameter(\\\"userName\\\");\\nvar roleId = request.getParameter(\\\"roleId\\\");\\nvar roleCode = request.getParameter(\\\"roleCode\\\");\\n\\nvar taskUrl = contextPath + '/main?xwl=23VKVPUL841Y&userId='+userId+'&userName='+userName+'&roleId='+roleId+'&roleCode='+roleCode;\\nvar scUrl = contextPath + '/main?xwl=23VLH4ZGX3WU&userId='+userId+'&userName='+userName+'&roleId='+roleId+'&roleCode='+roleCode;\\n\\nvar taskListUrl = '<iframe name=\\\"taskListIframe\\\",style=\\\"border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; width: 100%; height: 100%; border-right-width: 0px\\\" src=\\\"'+taskUrl+'\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" scrolling=\\\"no\\\" height=\\\"100%\\\"><\\/iframe>';\\n\\nvar shortCutUrl = '<iframe id=\\\"shortCutIframe\\\" name=\\\"shortCutIframe\\\",style=\\\"border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; width: 100%; height: 150; border-right-width: 0px\\\" src=\\\"'+scUrl+'\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" scrolling=\\\"no\\\" height=\\\"100%\\\"><\\/iframe>';\\n\\nrequest.setAttribute(\\\"taskListUrl\\\",taskListUrl);\\nrequest.setAttribute(\\\"shortCutUrl\\\",shortCutUrl);\\n\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\\n\\n//Wb.print(request,contextPath);\\n//Wb.print(request,userId);\\n\",\"loginRequired\":\"false\"}","homePage",null,0,0,"admin","2014-12-04 16:43:08.0","admin","2015-06-16 16:08:19.0",1],["23VLH4ZGX3WN","23VVZ3QMOKQA",null,"收藏夹",null,0,0,"admin","2014-12-05 09:45:43.0","admin","2015-03-18 11:12:03.0",4],["23VLH4ZGX3WU","23VLH4ZGX3WN","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23XJBSONLAYE (navigatorCommonModal)\\\"]\",\"id\":\"module\",\"title\":\"collectionFold\",\"loginRequired\":\"false\",\"initScript\":\"var contextPath = request.getContextPath();\\nvar userId = request.getParameter(\\\"userId\\\");\\nvar userName = request.getParameter(\\\"userName\\\");\\nvar roleId = request.getParameter(\\\"roleId\\\");\\nvar roleCode = request.getParameter(\\\"roleCode\\\");\\nvar authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\nrequest.setAttribute(\\\"roleId\\\",roleId);\\nrequest.setAttribute(\\\"roleCode\\\",roleCode);\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\\nrequest.setAttribute(\\\"authModel\\\",authModel);\",\"head\":\"<style type=\\\"text/css\\\">\\n#dataview1 .x-panel-body{\\n    background: white;\\n    font: 11px Arial, Helvetica, sans-serif;\\n}\\n#dataview1 .thumb{\\n    background: #FFF;\\n    text-align:center;\\n    padding: 3px;\\n    padding-bottom: 0;\\n}\\n\\n.x-quirks #dataview1 .thumb {\\n    padding-bottom: 3px;\\n}\\n\\n#dataview1 .thumb img{\\n    height: 55px;\\n    width: 55px;\\n}\\n#dataview1 .thumb-wrap{\\n    float: left;\\n    margin: 4px;\\n    margin-right: 0;\\n    padding: 5px;\\n}\\n#dataview1 .thumb-wrap span {    \\n    display: block;\\n    overflow: hidden;\\n    text-align: center;\\n    width: 86px; /* for ie to ensure that the text is centered */\\n}\\n#dataview1 .x-item-selected{\\n    // background: #eff5fb url(webbuilder/images/ok.gif) no-repeat right bottom;\\n    border:1px solid #99bbe8;\\n    padding: 4px;\\n}\\n#dataview1 .x-item-selected .thumb{\\n    background:transparent;\\n}\\n\\n.x-view-selector {\\n    position:absolute;\\n    left:0;\\n    top:0;\\n    width:0;\\n    border:1px dotted;\\n    opacity: .5;\\n    -moz-opacity: .5;\\n    filter:alpha(opacity=50);\\n    zoom:1;\\n    background-color:#c3daf9;\\n    border-color:#3399bb;\\n}.ext-strict .ext-ie .x-tree .x-panel-bwrap{\\n    position:relative;\\n    overflow:hidden;\\n}\\n<\\/style>\",\"finalize\":\"var delId='';\\nvar curUser='{#userId#}';\\nWb.load(queryStore,{\\\"userId\\\":curUser});\\n\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"footer\":\"<script type=\\\"text/javascript\\\">\\n  \\tvar index = 0;\\n  \\n    /*function getState(e){\\n        var fun_id = e.fun_id;\\n        if(document.readyState!='complete'){\\n          Ext.Ajax.request({\\n              url : '{#contextPath#}' +'/frameAction.do?method=getButtonAuthorityList',\\n              params:{\\n                    funId:e.fun_id\\n              },\\n              method: 'POST',\\n              success: function(response,options){\\n                  var temp = response.responseText;\\n                  var obj = Ext.JSON.decode(temp);\\n                  if(obj.length==0)return;\\n                  var win = document.getElementById(fun_id).contentWindow;\\n                  for(var i=0;i<obj.length;i++){\\n                      var btn_code = obj[i].btnCode;\\n                      var btElement = win.document.getElementById(btn_code);\\n                      if(btElement){\\n                          btElement.disabled=true;\\n                      }\\n                  } \\n              },\\n              failure: function(response,options){\\n                  Ext.Msg.alert('错误','失败，服务器没有响应');\\n              }\\n          });\\n        };\\n    }*/\\n      \\n<\\/script>\"},{\"xwlMeta\":\"store\",\"id\":\"queryStore\",\"autoLoad\":\"true\",\"url\":\"#23VLH4ZGX3X3 (shortcuts_query)\",\"beforeload\":\"var _authModel = '{#authModel#}';\\nif(_authModel === 'ROLE'){\\n  var _roleId ='{#roleId#}';\\n  store.getProxy().url ='main?xwl=23X99X8TOY9V';\\n  store.getProxy().extraParams.roleId=_roleId;\\n}else{\\n   store.getProxy().url ='main?xwl=23VLH4ZGX3X3';\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VLH4ZGX3X6 (shortcuts_del)\",\"id\":\"delajax\",\"failure\":\"Ext.Msg.alert('提示','删除失败');\\nWb.load(queryStore,{\\\"userId\\\":curUser});\",\"success\":\"Ext.Msg.alert('提示','删除成功');\\nWb.load(queryStore,{\\\"userId\\\":curUser});\"},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"pressed\":\"true\",\"iconCls\":\"delete_icon\",\"id\":\"delbtn\",\"arrowAlign\":\"right\",\"text\":\"删除\",\"click\":\"if(delId===''){\\n  Ext.Msg.alert('提示', '请选择要删除的收藏！');\\n  return;\\n}\\t\\nExt.Msg.confirm('提示','确定要删除此收藏吗？',function(a){\\n  if(a=='yes'){\\n   \\n  \\t\\t      delajax.request({ID:delId});\\n    \\n  }\\n});\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"bgColor\":\"#FFFFFF\",\"tbar\":\"toolbar1\",\"id\":\"panel1\",\"title\":\"我的收藏\",\"layout\":\"border\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"dataview\",\"region\":\"center\",\"store\":\"queryStore\",\"autoScroll\":\"false\",\"padding\":\"8\",\"itemSelector\":\"div.thumb-wrap\",\"id\":\"dataview1\",\"multiSelect\":\"true\",\"frame\":\"true\",\"tpl\":\"<tpl for=\\\".\\\">\\n  <div class=\\\"thumb-wrap\\\" id=\\\"{user_shortcuts_id}\\\">\\n    <div class=\\\"thumb\\\">\\n       <img src=\\\"{CTX}/pub/uip/common/icon/<tpl if=\\\"LARGE_ICON!=''&&LARGE_ICON!=null\\\">{LARGE_ICON}<\\/tpl><tpl if=\\\"LARGE_ICON===''||LARGE_ICON===null\\\">commonDesk.png<\\/tpl>\\\" title=\\\"{MENUNAME}\\\">\\n    <\\/div>\\n    <span class=\\\"x-editable\\\">{MENUNAME}<\\/span>\\n  <\\/div>\\n<\\/tpl>\\n<div class=\\\"x-clear\\\"><\\/div>\",\"itemdblclick\":\"/*function _indexOf(tempArray,n){\\n  if(\\\"indexOf\\\" in tempArray){   \\n    return tempArray[\\\"indexOf\\\"](n);   \\n  }   \\n  \\n  for(var i=0;i<this.length;i++){   \\n    if(n===this[i]){   \\n      return i;   \\n    }   \\n  }   \\n  return -1;   \\t\\n};\\nvar currecord = queryStore.getAt(index);\\nvar id = \\\"tab$\\\" + currecord.data.FUNID;\\nvar funcId = currecord.data.FUNID;\\nvar appId = currecord.data.APPID;\\nvar appCode = currecord.data.APPCODE;\\nvar funCode = currecord.data.FUNCODE;\\nvar url = currecord.data.URL;\\nvar inXip = currecord.data.IN_XIP;\\nvar webHost = currecord.data.WEB_HOST;\\nif(inXip=='Y'){\\n  url = '{#contextPath#}' + url;\\n}else{\\n  url = webHost + url;\\n}\\nif(url.indexOf('?') != -1){\\n\\turl = url + '&';\\n}else{\\n\\turl = url + '?';\\n}\\nurl += 'userId='+'{#userId#}'+\\n       '&roleId='+'{#roleId#}'+\\n\\t   '&userName='+'{#userName#}'+\\n       '&roleCode='+'{#roleCode#}'+\\n       '&funId='+funcId+\\n       '&funCode='+funCode+\\n       '&appId='+appId+\\n       '&appCode='+appCode;\\nvar keys = window.parent.parent.funTabPanel.items.keys ;\\nif (_indexOf(keys,id) == -1) {\\n  var tab = {};\\n  tab.id = id;\\n  tab.title =currecord.data.MENUNAME;\\n  tab.closable=true;\\n  tab.tabUrl = url;\\n  tab.html='<iframe id=iframe'+funcId+'  fun_id ='+id+'  scrolling=\\\"auto\\\" onload=\\\"getState(this)\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\" src=\\\"'+ url+'\\\"><\\/iframe>';\\n  window.parent.parent.funTabPanel.add(tab);\\n}\\nwindow.parent.parent.funTabPanel.setActiveTab(id);\\nif(Ext.isChrome){\\n  var frame = window.parent.parent.frames['iframe'+funcId];\\n  frame.height = window.parent.parent.document.getElementById(id+\\\"-body\\\").style.height;\\n}*/\\n\\nvar currecord = queryStore.getAt(index);\\n\\nvar jsonData = {\\n  fun_id:currecord.data.FUNID,\\n  fun_code:currecord.data.FUNCODE,\\n  text:currecord.data.MENUNAME,\\n  in_xip:currecord.data.IN_XIP,\\n  url:currecord.data.URL,\\n  app_id:currecord.data.APPID,\\n  app_code:currecord.data.APPCODE,\\n  show_style:currecord.data.SHOW_STYLE\\n};\\n\\nif(currecord.data.SHOW_STYLE=='WIN'){\\n  window.parent.parent.window.showExtWindow({\\n    title:jsonData.text,\\n    url:createNewUrl(jsonData),\\n    isMax:true\\n  });\\n  return;\\n}\\n\\nif(currecord.data.SHOW_STYLE=='BRO'){\\n  var url = createNewUrl(jsonData);\\n  window.open(url,jsonData.text);\\n  return;\\n}\\n\\nfuncMenuClick4Page(jsonData, window.parent.parent.funTabPanel, window.parent.parent.document);    \",\"selectionchange\":\"if(selections.length>0){\\n  var record = selections[0];\\n  var val = record.data.USER_SHORTCUTS_ID;\\n  delId = val;\\n}else{\\n  delId='';\\n}\\n  \\n\\n\"},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"id\":\"panel2\",\"layout\":\"column\",\"border\":\"false\",\"width\":\"46\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel3\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"button1\",\"width\":\"23\",\"tooltipType\":\"qtip\",\"tooltip\":\"删除收藏\",\"click\":\"var rows = dataview1.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示', '请选择要删除的收藏！');\\n  return;\\n}\\nExt.Msg.confirm('提示','确定要删除此收藏吗？',function(a){\\n  if(a=='yes'){\\n    var _tmpStr = '';\\n    Ext.each(rows,function(a){\\n      _tmpStr += '\\\\''+a.data.USER_SHORTCUTS_ID+'\\\\',';\\n      \\n    });\\n    _tmpStr  = _tmpStr.substring(0,_tmpStr.length-1);  \\n    delajax.request({ID:_tmpStr});\\n    \\n  }\\n});\"}]},{\"xwlMeta\":\"panel\",\"id\":\"panel4\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"refBtn\",\"width\":\"23\",\"tooltipType\":\"qtip\",\"tooltip\":\"刷新收藏夹\",\"click\":\"Wb.load(queryStore);\"}]}]}]}]}]}","favorite",null,0,0,"admin","2014-12-05 10:01:22.0","23XQ4B4KHDBR","2015-10-26 14:49:23.0",4],["23VLH4ZGX3X1","23VLH4ZGX3WN",null,"favorite sub",null,1,0,"admin","2014-12-05 10:01:50.0","admin","2015-06-05 14:06:06.0",5],["23VLH4ZGX3X3","23VLH4ZGX3X1","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"shortcuts_query\",\"loginRequired\":\"false\",\"initScript\":\"var contextPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT S.USER_SHORTCUTS_ID,\\n       S.USER_ID,\\n       S.FUN_TREE_ID AS FUN_ID,\\n       M.MENUNAME,\\n       M.URL,\\n       M.FUNID,\\n       M.APPID,\\n       M.APPCODE,\\n       M.FUNCODE,\\n       M.WEB_HOST,\\n       M.IN_XIP,\\n       M.LARGE_ICON,\\n       M.SHOW_STYLE,\\n       {?contextPath?} CTX\\n  FROM XIP_PUB_USER_SHORTCUTS S,\\n       (SELECT T.UP_ID,\\n               T.APP_ID APPID,\\n               APP.APP_CODE APPCODE,\\n               T.FUN_TREE_ID FUNID,\\n               T.FUN_TREE_CODE FUNCODE,\\n               T.FUN_TREE_ID MEUNID,\\n               T.FUN_TREE_NAME MENUNAME,\\n               T.URL,\\n               APP.WEB_HOST,\\n               APP.IN_XIP,\\n               T.LARGE_ICON,\\n               T.SHOW_STYLE\\n          FROM XIP_PUB_FUN_TREE T\\n          LEFT JOIN XIP_PUB_APPS APP\\n            ON T.APP_ID = APP.APP_ID\\n           AND T.NODE_TYPE = 'F'\\n           AND T.ENABLE_FLAG = 'Y'\\n         WHERE T.FUN_TREE_ID IN\\n               (SELECT FUN_TREE_ID FUN_ID\\n                  FROM XIP_PUB_USER_FUNS UF\\n                 WHERE UF.TYPE = 'U'\\n                   AND UF.TARGET_ID = {?XIP.userId?}\\n                UNION\\n                SELECT FUN_TREE_ID FUN_ID\\n                  FROM XIP_PUB_USER_FUNS UF\\n                 WHERE UF.TYPE = 'P'\\n                   AND UF.TARGET_ID IN\\n                       (SELECT POST_ID\\n                          FROM XIP_PUB_EMP_ASG\\n                         WHERE EMP_ID = (SELECT EMP_ID\\n                                           FROM XIP_PUB_USERS\\n                                          WHERE USER_ID ={?XIP.userId?}))\\n                UNION\\n                SELECT FUN_TREE_ID FUN_ID\\n                  FROM XIP_PUB_USER_FUNS UF\\n                 WHERE UF.TYPE = 'D'\\n                   AND UF.TARGET_ID IN\\n                       (SELECT DEPT_ID\\n                          FROM XIP_PUB_EMP_ASG\\n                         WHERE EMP_ID = (SELECT EMP_ID\\n                                           FROM XIP_PUB_USERS\\n                                          WHERE USER_ID = {?XIP.userId?})))) M\\n where S.USER_ID = {?XIP.userId?}\\n   and S.FUN_TREE_ID = M.FUNID\"}]}","shortcuts_query",null,0,0,"admin","2014-12-05 10:02:21.0","admin","2015-10-13 17:09:37.0",1],["23VLH4ZGX3X6","23VLH4ZGX3X1","{\"id\":\"module\",\"title\":\"shortcuts_del\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"delsql\",\"sql\":\"delete from xip_pub_user_shortcuts  where user_shortcuts_id in ({#ID#})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","shortcuts_del",null,0,0,"admin","2014-12-05 10:03:12.0","admin","2015-05-25 10:44:56.0",2],["23VMFWQQLUK0","23VL9CC5TPUO",null,"用户数据库表","table_icon",0,0,"admin","2014-12-08 12:57:06.0","admin","2015-01-07 14:18:22.0",7],["23VMFWQQLUK1","23VMFWQQLUK0","{\"id\":\"module\",\"title\":\"userTables\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"win\",\"xwlMeta\":\"folder\"},{\"id\":\"data\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"store1\",\"xwlMeta\":\"store\",\"output\":\"fieldSet1\",\"url\":\"#23VMFWQQLUKC (db_select)\"}]},{\"id\":\"toolbars\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"toolbar1\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"sep1\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_zip\",\"text\":\"打包\",\"xwlMeta\":\"button\",\"click\":\"var url = '{#contextPath#}'+'/platformAction.do?method=exportPackage';\\n\\nwindow.open(url);\\nreturn;\\nWb.request({\\n  url:url,\\n  timeout: 3600 * 60 * 60,\\n  //params:{a:'foo', b:new Date()}, \\n  success:function(r){\\n    Ext.Msg.alert('提示','打包成功!');\\n  }\\n});\",\"iconCls\":\"zip_icon\"},{\"id\":\"sep2\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_export_tables\",\"text\":\"导出表\",\"xwlMeta\":\"button\",\"click\":\"var rows=grid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var params = '';\\n  for(var i=0; i<rows.length; i++){\\n  \\tparams = params + rows[i].data.TABLE_NAME + ',';\\n  }\\n  params = params.substring(0,params.length-1);\\n  \\n  var url = '{#contextPath#}'+'/platformAction.do?method=exportTables';\\n      \\n  Wb.download(url,{'tableNames':params});\\n}\",\"iconCls\":\"export_icon\"},{\"id\":\"sep3\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_export_to_project\",\"text\":\"导出表至工程目录\",\"xwlMeta\":\"button\",\"click\":\"var rows=grid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var params = '';\\n  for(var i=0; i<rows.length; i++){\\n  \\tparams = params + rows[i].data.TABLE_NAME + ',';\\n  }\\n  params = params.substring(0,params.length-1);\\n  \\n  var url = '{#contextPath#}'+'/platformAction.do?method=expTablesToProject';\\n  \\n  Wb.download(url,{'tableNames':params});\\n}\",\"iconCls\":\"export_icon\"},{\"id\":\"sep4\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_import_tables\",\"text\":\"导入表\",\"xwlMeta\":\"button\",\"click\":\"selectWin.show();\",\"iconCls\":\"import_icon\"},{\"id\":\"sep5\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"}]}]},{\"id\":\"requests\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"ajax_zip\",\"xwlMeta\":\"ajax\"}]},{\"id\":\"array1\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"column1\",\"text\":\"表名\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"TABLE_NAME\"},{\"id\":\"column2\",\"text\":\"备注\",\"xwlMeta\":\"column\",\"width\":\"300\",\"dataIndex\":\"COMMENTS\"}]},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"border\",\"children\":[{\"id\":\"fieldSet1\",\"region\":\"north\",\"xwlMeta\":\"fieldSet\",\"layout\":\"column\",\"children\":[{\"id\":\"table_name\",\"labelWidth\":\"60\",\"xwlMeta\":\"text\",\"labelAlign\":\"right\",\"fieldLabel\":\"表名\",\"specialkey\":\"var tableName = table_name.getValue();\\nif(tableName!=''){\\n\\ttableName = tableName.toUpperCase();\\n}\\nif(event.getKey() == 13){\\nstore1.load();\\n}\"},{\"id\":\"btn_query\",\"text\":\"查询\",\"xwlMeta\":\"button\",\"click\":\"var tableName = table_name.getValue();\\nif(tableName!=''){\\n\\ttableName = tableName.toUpperCase();\\n}\\nstore1.load();\",\"iconCls\":\"seek_icon\"}]},{\"tbar\":\"toolbar1\",\"id\":\"grid\",\"region\":\"center\",\"multiSelect\":\"true\",\"selType\":\"checkboxmodel\",\"store\":\"store1\",\"xwlMeta\":\"grid\",\"columns\":\"array1\",\"simpleSelect\":\"true\"}]}],\"initScript\":\"var contextPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\",\"loginRequired\":\"false\",\"initModules\":\"[\\\"#23VMH09B9BSU (selectFileWin)\\\"]\"}","userTables",null,0,0,"admin","2014-12-08 12:57:33.0","admin","2015-05-21 14:39:02.0",1],["23VMFWQQLUKB","23VMFWQQLUK0",null,"userTables_db",null,1,0,"admin","2014-12-08 13:02:59.0","admin","2015-06-05 14:05:36.0",3],["23VMFWQQLUKC","23VMFWQQLUKB","{\"id\":\"module\",\"title\":\"db_select\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select s.TABLE_NAME,\\n       (select c.comments from user_tab_comments c where c.table_name = s.TABLE_NAME) comments\\n  from user_tables s\\n where s.TABLE_NAME LIKE '%{#table_name#}%'\\n order by s.TABLE_NAME\",\"mysql\":\"select upper(s.TABLE_NAME) as TABLE_NAME,\\n       s.TABLE_COMMENT as COMMENTS\\n  from information_schema.TABLES s\\n where s.TABLE_NAME LIKE '%{#table_name#}%'\\n   and s.TABLE_SCHEMA ='xip'\\n order by s.TABLE_NAME\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","db_select",null,0,0,"admin","2014-12-08 13:18:27.0","admin","2015-05-14 09:58:48.0",1],["23VMH09B9BSU","23VMFWQQLUK0","{\"id\":\"module\",\"title\":\"selectFileWin\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"store1\",\"xwlMeta\":\"store\",\"data\":\"[['是','Y'],['否','N']]\",\"fields\":\"[\\\"display\\\", \\\"value\\\"]\"},{\"id\":\"selectWin\",\"title\":\"上传\",\"height\":\"140\",\"xwlMeta\":\"window\",\"width\":\"300\",\"layout\":\"absolute\",\"children\":[{\"id\":\"form1\",\"frame\":\"true\",\"height\":113,\"xwlMeta\":\"form\",\"width\":295,\"layout\":\"absolute\",\"children\":[{\"id\":\"label1\",\"text\":\"请选择文件\",\"height\":22,\"xwlMeta\":\"label\",\"width\":72,\"y\":8,\"x\":16},{\"id\":\"text1\",\"height\":22,\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"width\":176,\"inputType\":\"file\",\"y\":8,\"x\":96},{\"id\":\"label2\",\"text\":\"删除表内数据\",\"height\":22,\"xwlMeta\":\"label\",\"width\":72,\"y\":40,\"x\":16},{\"id\":\"comboBox1\",\"height\":22,\"allowBlank\":\"false\",\"store\":\"store1\",\"displayField\":\"display\",\"queryMode\":\"local\",\"xwlMeta\":\"comboBox\",\"width\":176,\"valueField\":\"value\",\"y\":40,\"x\":96},{\"id\":\"button2\",\"text\":\"导入\",\"height\":22,\"xwlMeta\":\"button\",\"width\":64,\"click\":\"var fileName = text1.getValue();\\nvar isDel = comboBox1.getValue();\\n\\nif(fileName==\\\"\\\"){\\n  Ext.Msg.alert('提示','请选择文件!');\\n  return;\\n}\\n\\nif(isDel==\\\"\\\"){\\n  Ext.Msg.alert('提示','请选择是否删除文件!');\\n  return;\\n}\\n\\nvar url = '{#url#}' + '&needDel='+isDel;\\n\\nform1.getForm().submit({\\n  url : url,\\n  //params : {'needDel' : isDel},\\n  waitTitle: '提示', //标题\\n  waitMsg: '正在处理请稍后...', //提示信息    \\n  method : 'POST',\\t\\t\\t\\t\\t\\t\\t\\n  success : function(from, action) {\\n    Ext.Msg.alert('提示','导入成功!');\\n    selectWin.close();\\n  },\\t\\t\\t\\t\\t\\t\\t\\n  failure : function(from, action) {\\n    Ext.Msg.alert('提示','导入成功!');\\n\\tselectWin.close();\\n  }\\t\\t\\t\\t\\t\\t\\n});\",\"y\":72,\"x\":112}]}],\"closeAction\":\"hide\",\"dialog\":\"false\"}],\"loginRequired\":\"false\",\"initScript\":\"var contextPath = request.getContextPath();\\nvar url = contextPath + '/platformAction.do?method=importTables';\\nrequest.setAttribute('url',url);\"}","selectFileWin",null,1,0,"admin","2014-12-08 15:58:46.0","23XSWLY0BYLW","2015-08-25 10:34:25.0",2],["23VMPVCRPO4Q","23VKVPUL841U",null,"流程运行监控",null,0,0,"admin","2014-12-09 10:44:42.0","admin","2014-12-22 14:42:42.0",12],["23VMPVCRPO4Y","23VKVPUL841X","{\"id\":\"module\",\"title\":\"审批历史\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"store1\",\"xwlMeta\":\"store\",\"params\":\"{varType:'{#varType#}',insCode:'{#insCode#}',taskId:'{#taskId#}'}\",\"url\":\"#23VMRZB0CK87 (Get ApprovedTasks)\"},{\"id\":\"colArray\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"rownum\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"align\":\"center\",\"type\":\"rowNumber\"},{\"id\":\"assignUserName\",\"text\":\"待办所有者\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"ASSIGNUSERNAME\"},{\"id\":\"executeUserName\",\"text\":\"待办执行人\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"EXECUTEUSERNAME\"},{\"id\":\"actName\",\"text\":\"审批阶段\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"ACTNAME\"},{\"id\":\"beginDate\",\"text\":\"开始时间\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"BEGINDATE\",\"format\":\"Y-m-d H:i:s\"},{\"id\":\"endDate\",\"text\":\"结束时间\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"ENDDATE\",\"format\":\"Y-m-d H:i:s\"},{\"id\":\"taskState\",\"text\":\"待办状态\",\"xwlMeta\":\"column\",\"width\":\"80\",\"dataIndex\":\"TASKSTATE\",\"renderer\":\"// open-打开，hung-up-挂起，closed-关闭\\nif(value == 'open'){\\n  value = '打开' ;\\n}else if(value == 'hung-up'){\\n  value = '挂起' ;\\n}else if(value == 'closed'){\\n  value = '关闭' ;\\n}\\nreturn value ; \"},{\"id\":\"result\",\"text\":\"结果\",\"xwlMeta\":\"column\",\"width\":\"120\",\"dataIndex\":\"RESULT\"},{\"id\":\"createType\",\"text\":\"待办分类\",\"xwlMeta\":\"column\",\"width\":\"100\",\"dataIndex\":\"CREATETYPE\",\"renderer\":\"// normal - 正常待办，consult - 征询待办，copyto - 抄送待办，avoid - 规避待办，start-提交人待办\\nif(value == 'normal'){\\n  value = '正常待办' ;\\n}else if(value == 'consult'){\\n  value = '征询待办' ;\\n}else if(value == 'copyto'){\\n  value = '抄送待办' ;\\n}else if(value == 'avoid'){\\n  value = '规避待办' ;\\n}else if(value == 'start'){\\n  value = '提交人待办' ;\\n}else{\\n  return value ;\\n}\\nreturn value ;\"},{\"id\":\"approveCommnet\",\"text\":\"审批意见\",\"xwlMeta\":\"column\",\"width\":\"300\",\"dataIndex\":\"APPROVECOMMNET\",\"renderer\":\"metaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:20px;';  \\nreturn value ;\"}]},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"panel1\",\"xwlMeta\":\"panel\",\"layout\":\"fit\",\"children\":[{\"id\":\"grid1\",\"store\":\"store1\",\"xwlMeta\":\"grid\",\"columns\":\"colArray\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\"}]}]}],\"initScript\":\"var _varType = request.getParameter(\\\"varType\\\") ;\\nvar _insCode = request.getParameter(\\\"insCode\\\") ;\\nvar _taskId = request.getParameter(\\\"taskId\\\") ;\\n\\nrequest.setAttribute(\\\"varType\\\",_varType);\\nrequest.setAttribute(\\\"insCode\\\",_insCode);\\nrequest.setAttribute(\\\"taskId\\\",_taskId);\",\"loginRequired\":\"false\"}","Approve History",null,0,0,"admin","2014-12-09 10:46:47.0","admin","2015-08-04 10:44:04.0",5],["23VMPVCRPO51","23VMPVCRPO4Q","{\"id\":\"module\",\"title\":\"流程运行监控处理\",\"xwlMeta\":\"module\",\"jsFiles\":\"[\\\"workflow/designer/js/swfobject.js\\\"]\",\"children\":[{\"footer\":\"<script type=\\\"text/javascript\\\">\\n  var so = new SWFObject(\\\"{#contextPath#}/workflow/designer/ProcessMonitorManager.swf\\\", \\\"mymovie\\\", \\\"100%\\\", \\\"100%\\\",  \\\"7\\\", \\\"\\\");\\n  so.addVariable(\\\"id\\\",\\\"{#varId#}\\\");\\n  so.addVariable(\\\"type\\\",\\\"{#varType#}\\\");\\n  \\n  so.addParam(\\\"wmode\\\", \\\"Opaque\\\");\\n  \\n  so.write(\\\"myContent\\\"); \\n<\\/script>\",\"id\":\"clientScript1\",\"height\":\"700\",\"xwlMeta\":\"clientScript\",\"header\":\"<div id=\\\"myContent\\\" >\\n  <h1>\\n    Alternative content\\n  <\\/h1>\\n  <p>\\n    <a href=\\\"http://www.adobe.com/go/getflashplayer\\\"><img\\n      src=\\\"http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif\\\"\\n      alt=\\\"Get Adobe Flash player\\\" />\\n      \\n    <\\/a>\\n  <\\/p>\\n<\\/div>\\n\\n\",\"initialize\":\"\\n\\n\"}],\"initScript\":\"var _ctxPath = request.getContextPath() ;\\nvar _varId = request.getParameter(\\\"varId\\\") ;\\nvar _varType = request.getParameter(\\\"varType\\\") ;\\n\\nrequest.setAttribute(\\\"varId\\\",_varId);\\nrequest.setAttribute(\\\"contextPath\\\",_ctxPath);\\nrequest.setAttribute(\\\"varType\\\",_varType);\",\"loginRequired\":\"false\",\"head\":\"<meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=10\\\" />\\n<style>\\n  body {\\n    margin: 0px;\\n    overflow: hidden\\n  }\\n<\\/style>\\n\\n\"}","Monitor Process",null,0,0,"admin","2014-12-09 10:47:12.0","admin","2015-06-11 14:58:45.0",5],["23VMPVCRPO56","23VKVPUL841X","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"待办/已办信息\",\"jsFiles\":\"[\\\"workflow/util/taskUtil.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"// session参数\\nvar _userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar _userName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userName');\\n\\n// url参数\\nvar _ctxPath = request.getContextPath() ;\\nvar _taskId = request.getParameter(\\\"taskId\\\") ;\\nvar _type = request.getParameter(\\\"type\\\") ;\\n// 当前打开待办的Window窗口的ID信息\\nvar _extWinId = request.getParameter(\\\"extWinId\\\") ;\\n\\n// 安全码(从邮件中链入)\\nvar secCode = request.getParameter(\\\"secCode\\\") ;\\n\\n// 查询参数\\nvar _title ;\\nvar _fromUserName ;\\nvar _attr1 ;\\nvar _beginDate ;\\nvar _insCode ;\\nvar _bizId ;\\nvar _taskState;\\nvar archFlag = 'N';\\nvar _createType ;\\n\\n// 判断是否已归档\\nvar isArchSql = \\\"select count(1) as TOTAL from xip_wf_ins_task a where a.task_id = '\\\"+ _taskId + \\\"'\\\" ;\\nvar rr = DbUtil.query(request, isArchSql);\\n// var out=java.lang.System.out;\\nwhile(rr.next()){\\n  var total = rr.getInt(\\\"TOTAL\\\") ;\\n  if(total.toString() === '0'){\\n    archFlag = 'Y';\\n  }\\n}\\n\\nvar sql ;\\nif(archFlag === 'Y'){\\n  // 已归档\\n  sql = \\\"SELECT XT.TASK_TITLE,XT.INSTANCE_CODE,XI.BUSINESS_ID,XT.BEGIN_DATE,XT.ATTRIBUTE1,XT.TASK_STATE,XT.CREATE_TYPE, \\\"+\\n          \\\"(select b.emp_name from xip_pub_users a, xip_pub_emps b where a.emp_id = b.emp_id and a.user_id = xi.created_by) SUBMITTER \\\"+\\n          \\\" FROM xip_wf_arch_task XT, xip_wf_arch_instance XI \\\"+\\n          \\\" WHERE XT.INSTANCE_ID = XI.INSTANCE_ID AND XT.TASK_ID = '\\\"+ _taskId + \\\"'\\\";\\n}else{\\n  // 未归档\\n  sql = \\\"SELECT XT.TASK_TITLE,XT.INSTANCE_CODE,XI.BUSINESS_ID,XT.BEGIN_DATE,XT.ATTRIBUTE1,XT.TASK_STATE,XT.CREATE_TYPE, \\\"+\\n          \\\"(select b.emp_name from xip_pub_users a, xip_pub_emps b where a.emp_id = b.emp_id and a.user_id = xi.created_by) SUBMITTER \\\"+\\n          \\\" FROM XIP_WF_INS_TASK XT, XIP_WF_PROCESS_INSTANCE XI \\\"+\\n          \\\" WHERE XT.INSTANCE_ID = XI.INSTANCE_ID AND XT.TASK_ID = '\\\"+ _taskId + \\\"'\\\";  \\n}\\nvar rs=DbUtil.query(request, sql);\\nwhile(rs.next()){\\n  _title = rs.getString('TASK_TITLE');\\n  _fromUserName = rs.getString('SUBMITTER');\\n  _bizId = rs.getString('BUSINESS_ID');\\n  _insCode = rs.getString('INSTANCE_CODE');\\n  _beginDate = DateUtil.formatDate(rs.getDate('BEGIN_DATE'), \\\"yyyy-MM-dd\\\");\\n  _attr1 = rs.getString('ATTRIBUTE1');\\n  _taskState = rs.getString('TASK_STATE') ;\\n  _createType = rs.getString('CREATE_TYPE') ;\\n}\\n\\n// 将数据保存在sessio中\\nrequest.setAttribute(\\\"userId\\\",_userId);\\nrequest.setAttribute(\\\"userName\\\",_userName);\\nrequest.setAttribute(\\\"contextPath\\\",_ctxPath);\\nrequest.setAttribute(\\\"taskId\\\",_taskId);\\nrequest.setAttribute(\\\"type\\\",_type);\\nrequest.setAttribute(\\\"title\\\",_title);\\nrequest.setAttribute(\\\"extWinId\\\",_extWinId);\\nrequest.setAttribute(\\\"beginDate\\\",_beginDate);\\nrequest.setAttribute(\\\"fromUserName\\\",_fromUserName);\\nrequest.setAttribute(\\\"insCode\\\",_insCode);\\nrequest.setAttribute(\\\"bizId\\\",_bizId);\\nrequest.setAttribute(\\\"taskState\\\",_taskState);\\nrequest.setAttribute(\\\"createType\\\",_createType);\\nrequest.setAttribute(\\\"attribute1\\\",_attr1);\\nrequest.setAttribute(\\\"secCode\\\",secCode);\\nrequest.setAttribute(\\\"archFlag\\\",archFlag);\",\"initialize\":\"// 初始化弹出窗口的ID信息\\nxz_ExtWind_soft = '{#extWinId#}';\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23XFORRAECHA (Insert UserComment)\",\"id\":\"ajax_add\",\"output\":\"textArea\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"常用意见保存失败!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"常用意见保存成功\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XFY10AML5B (Delete UserComment)\",\"id\":\"ajax_del\"},{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"footer\":\"<script type=\\\"text/javascript\\\">\\n  // 监测当前页面的关闭事件 \\n  window.onbeforeunload = function() {\\n     window.opener.taskStore.load();\\n     window.opener.hisTaskStore.load();\\n     window.opener.archTaskStore.load();\\n    \\n    //window.opener.location.reload();\\n  }\\n  // 定义全局变量，存储当前打开待办的Window窗口的ID信息\\n  var xz_ExtWind_soft ;\\n  \\n<\\/script>\"},{\"xwlMeta\":\"store\",\"id\":\"store4Comment\",\"url\":\"#23XFORRAEBK4 (Select UserComment)\",\"load\":\"menu4UC.showBy(textArea);\"},{\"xwlMeta\":\"array\",\"id\":\"delUC\",\"children\":[{\"xwlMeta\":\"actionItem\",\"id\":\"delComment\",\"iconCls\":\"delete_icon\",\"handler\":\"Ext.Msg.confirm('提示','您确定要删除此常用意见吗？',function(a){\\n  if(a=='yes'){\\n    var r = store4Comment.getAt(rowIndex) ;\\n    var json = {'name' : r.data.NAME} ;\\n    ajax_del.request(json);\\n    store4Comment.removeAt(rowIndex) ;\\n  }else{\\n    return false ;\\n  }\\n});\",\"tooltip\":\"删除此意见\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ID\",\"id\":\"ID\",\"text\":\"用户ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NAME\",\"id\":\"NAME\",\"text\":\"常用意见\",\"width\":\"350\"},{\"xwlMeta\":\"actionColumn\",\"align\":\"center\",\"width\":\"50\",\"id\":\"OP\",\"items\":\"delUC\"}]},{\"xwlMeta\":\"menu\",\"id\":\"menu4UC\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store4Comment\",\"columns\":\"colArray\",\"exportExcel\":\"false\",\"border\":\"false\",\"pagingToolbar\":\"false\",\"width\":\"435\",\"id\":\"grid1\",\"columnLines\":\"true\",\"autoLoad\":\"false\",\"exportPrint\":\"false\",\"x\":\"80\",\"select\":\"textArea.setValue(record.get('NAME')) ;\\nmenu4UC.hide();\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"5\",\"id\":\"topPanel\",\"border\":\"false\",\"frame\":\"true\",\"afterrender\":\"var _taskState = '{#taskState#}';\\nvar _attr1 = '{#attribute1#}';\\nif(_taskState === 'closed'){\\n  if(_attr1 !== null && _attr1 !== \\\"\\\"){\\n     tr21.columnWidth = 1 ;\\n     tr21.doLayout();\\n  \\t tr22.hide();\\n     tr23.hide();\\n     tr24.hide();   \\n  }else{\\n     tr2.hide() ;\\n  }  \\n}else{\\n    var buttons = TaskUtil.createButtons('{#taskId#}','{#bizId#}','{#insCode#}','{#taskState#}') ;\\n    if(buttons !== null && buttons.length > 0){\\n      var _items = [] ;\\n      var len = \\\"\\\" ;\\n      for(var i=0;i<buttons.length;i++){\\n        var rr = buttons[i] ;\\n        _items.push(rr) ;\\n        len += rr.text ;\\n        if(i !== (buttons.length-1)){\\n          _items.push('-');\\n          //len += '-' ;\\n        }else{\\n          len += '#';\\n        }\\n      }\\n      var _size = len.indexOf('#') ;\\n      var btnLen = _size*0.025 ;\\n      tr24.columnWidth =  btnLen;    \\n      if(_attr1 !== null && _attr1 !== \\\"\\\"){\\n        tr21.columnWidth = 0.35; \\n        tr22.columnWidth = 0.63-btnLen ;\\n      }else{\\n\\t\\ttr21.hide();\\n        tr22.columnWidth = 0.98-btnLen ;\\n      }\\n      \\n      var btnArray = {\\n        dockedItems : [{\\n          xtype : 'toolbar',\\n          items : _items\\n        }],\\n        dock \\t: 'top',\\n        height  :  24,\\n        baseCls\\t:  'my-panel-no-border',\\n        border\\t:  false\\n      } ;\\n      tr24.addDocked(btnArray) ;\\n      \\n    }else{\\n      if(_attr1 !== null && _attr1 !== \\\"\\\"){\\n        tr21.columnWidth = 1 ;\\n        tr22.hide();\\n        tr23.hide();\\n        tr24.hide();\\n      }else{\\n        tr2.hide();\\n        alert(\\\"计算处理按钮出错!\\\") ;\\n      }\\n    }\\n}\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr1\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr12\",\"layout\":\"fit\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"流程发起人\",\"id\":\"text1\",\"value\":\"{#fromUserName#}\",\"labelWidth\":\"90\",\"width\":\"document.body.clientWidth*(.2)\",\"readOnly\":\"true\",\"labelAlign\":\"right\",\"render\":\"\\n//var tt = '{#fromUserName#}' ;\\n//tt = tt.replace(new RegExp(\\\" \\\", 'g'), \\\"+\\\");\\n//text1.setValue(decode(tt));\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr11\",\"layout\":\"fit\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"待办标题\",\"id\":\"text2\",\"value\":\"{#title#}\",\"labelWidth\":\"90\",\"readOnly\":\"true\",\"labelAlign\":\"right\",\"afterrender\":\"      \",\"render\":\"// var tt = '{#title#}' ;\\n// tt = tt.replace(new RegExp(\\\" \\\", 'g'), \\\"+\\\");\\n// text2.setValue(decode(tt));\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr13\",\"layout\":\"fit\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"流程发起时间\",\"id\":\"text3\",\"value\":\"{#beginDate#}\",\"labelWidth\":\"90\",\"width\":\"document.body.clientWidth*(.15)\",\"readOnly\":\"true\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr2\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr21\",\"layout\":\"fit\",\"columnWidth\":\".3\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"征询/委派备注\",\"id\":\"textArea1\",\"value\":\"{#attribute1#}\",\"labelWidth\":\"90\",\"readOnly\":\"true\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr22\",\"layout\":\"fit\",\"columnWidth\":\".38\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"emptyText\":\"按回车[Enter]键可显示常用意见\",\"fieldLabel\":\"审批意见\",\"id\":\"textArea\",\"labelWidth\":\"90\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == event.ENTER) {\\n  Wb.load(store4Comment);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr23\",\"columnWidth\":\".02\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addComment\",\"tooltip\":\"添加为常用意见\",\"click\":\"var userComment = textArea.getValue();\\nif(userComment === null || userComment === \\\"\\\" || userComment === \\\"undefined\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请录入审批意见!\\\");\\n  return false ;\\n}else{\\n  ajax_add.request();\\n}\"}]},{\"xwlMeta\":\"panel\",\"id\":\"tr24\",\"layout\":\"column\",\"columnWidth\":\".016\",\"border\":\"false\"}]}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"tabPanel1\",\"activeTab\":\"panel1\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"taskPanel\",\"title\":\"业务详情\",\"layout\":\"fit\",\"html\":\"<iframe id=bizPanelFrame width=100% height=100% frameborder=0 scrolling=yes><\\/iframe>\",\"afterrender\":\"var formUrl = TaskUtil.getBizFormUrl('{#taskId#}') ;\\nif(formUrl===null){\\n  formUrl = '{#contextPath#}/workflow/workitem/extTaskMain.jsp?taskId={#taskId#}&type={#type#}&insCode={#insCode#}&bizId={#bizId#}&secCode={#secCode#}&taskState={#taskState#}';\\n}\\nExt.getDom('bizPanelFrame').src = formUrl ;\"},{\"xwlMeta\":\"panel\",\"id\":\"approverPanel\",\"title\":\"审批历史记录\",\"layout\":\"fit\",\"html\":\"<iframe id='task_sp_id' width=100% height=100% frameborder=0><\\/iframe>\",\"afterrender\":\"var _archflag = '{#archFlag#}' ;\\nvar _ctxpath = '{#contextPath#}';\\nvar _tskId = '{#taskId#}' ;\\n\\nif(_archflag == \\\"Y\\\"){\\n    // 已归档\\n  \\tExt.getDom(\\\"task_sp_id\\\").src = _ctxpath + '/main?xwl=23X432D7JXHQ&varType=task&taskId='+_tskId ;\\t\\n}else{\\n    // 未归档\\n    Ext.getDom(\\\"task_sp_id\\\").src = _ctxpath + '/main?xwl=23VMPVCRPO4Y&varType=task&taskId='+_tskId ;\\n}\"},{\"xwlMeta\":\"panel\",\"id\":\"monitorPanel\",\"title\":\"流程监控\",\"layout\":\"fit\",\"html\":\"<iframe src={#contextPath#}/workflow/task/processMonitor.jsp?varType=task&taskId={#taskId#} width=100% height=100% frameborder=0><\\/iframe>\"}]}]}]}","Task Frame",null,0,0,"admin","2014-12-09 10:48:02.0","23XQ4UO678F8","2015-10-15 11:07:54.0",3],["23VMRZB0CK87","23VKVPUL8420","{\"xwlMeta\":\"module\",\"id\":\"db_select_his\",\"title\":\"db_select_his\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"     select tsk.task_id TASKID,\\n         tsk.process_id PROCESSID,\\n         tsk.process_code PROCESSCODE,\\n         tsk.process_version PROCESSVERSION,\\n         tsk.instance_id INSTANCEID,\\n         tsk.instance_code INSTANCECODE,\\n         tsk.act_id ACTID,\\n         tsk.act_code ACTCODE,\\n         tsk.act_name ACTNAME,\\n         tsk.task_title TASKTITLE,\\n         tsk.from_user FROMUSER,\\n         (select b.emp_name from xip_pub_users a, xip_pub_emps b where a.emp_id = b.emp_id and a.user_id = tsk.from_user) FROMUSERNAME,\\n         tsk.assign_user ASSIGNUSER,\\n         (select b.emp_name from xip_pub_users a, xip_pub_emps b where a.emp_id = b.emp_id and a.user_id = tsk.assign_user) ASSIGNUSERNAME,\\n         tsk.execute_user EXECUTEUSER, \\n         (select b.emp_name from xip_pub_users a, xip_pub_emps b where a.emp_id = b.emp_id and a.user_id = tsk.execute_user) EXECUTEUSERNAME,\\n         tsk.task_state  TASKSTATE,\\n         tsk.from_task_id FROMTASKID,\\n         tsk.begin_date BEGINDATE,\\n         tsk.end_date ENDDATE,\\n         tsk.result RESULT,\\n         tsk.approve_comment APPROVECOMMNET,\\n         tsk.description DESCRIPTION,\\n         tsk.close_cause CLOSECAUSE,\\n         tsk.create_type CREATETYPE,\\n         tsk.task_effective TASKEFFECTIVE,\\n         tsk.creation_date CREATIONDATE,\\n         tsk.created_by CREATEBY,\\n         tsk.last_update_date LASTUPDATEDATE,\\n         tsk.last_updated_by LASTUPDATEDBY \\n      from xip_wf_ins_task tsk\\n     where tsk.instance_id = (case when {?varType?} = 'ins' then \\n                   (select x.instance_id from xip_wf_process_instance x where x.instance_code = {?insCode?})\\n              \\t\\t\\t\\t\\telse (select a.instance_id from xip_wf_ins_task a where a.task_id = {?taskId?}) end)\\n           and tsk.create_type != 'copyto'\\n           order by tsk.begin_date,tsk.end_date\"}]}","Select ApprovedTasks",null,0,0,"admin","2014-12-09 15:30:35.0","23XQ4UO678F8","2015-08-14 15:01:50.0",4],["23VNB76YLXKT","23VVN6VILZXO",null,"工作流采购订单","folder_icon",0,0,"admin","2014-12-11 09:21:49.0","admin","2014-12-25 11:02:30.0",4],["23VNB76YLXKV","23VNB76YLXKT",null,"DATA",null,1,0,"admin","2014-12-11 09:22:11.0","23XSWLY0BYLW","2015-08-25 10:33:03.0",14],["23VNB76YLXKZ","23VNB76YLXKT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"工作流调用演示\",\"jsFiles\":\"[\\\"workflow/util/workflowUtil4.0.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"userId\\\");\\n\\nvar protocol = request.getProtocol() ;\\nvar ipAddr = request.getServerName();\\nvar port = request.getServerPort() ;\\nvar ctxPath = request.getContextPath() ;\\n\\nprotocol = (protocol == \\\"HTTP/1.1\\\" ? \\\"http\\\" : \\\"https\\\") ;\\nvar url = protocol + \\\"://\\\" + ipAddr +\\\":\\\" + port + ctxPath ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"appIP\\\",url);\\n\\nrequest.setAttribute(\\\"funId\\\",request.getParameter('funId'));\\nrequest.setAttribute(\\\"appId\\\",request.getParameter('appId'));\",\"finalize\":\"var userId = '{#userId#}';\\n\\nvar curPoid=\\\"\\\";\\n\\nvar clickRowNum = 0;\\n\\n//设置总金额\\nfunction sumAmt(){\\n  grid2.plugins[0].completeEdit();\\n  \\n  var total = 0;\\n  for(var i=0; i<grid2stroe.getCount(); i++){\\n    var subRecord = grid2stroe.getAt(i);\\n    \\n    var subPrice = subRecord.get('PRICE');\\n    if(Ext.isEmpty(subPrice)){\\n      subPrice = 0;\\n    }\\n    \\n    var subCount = subRecord.get('CNT');\\n    if(Ext.isEmpty(subCount)){\\n      subCount = 0;\\n    }\\n    \\n    var subTotal = subPrice * subCount;\\n    \\n    total = total + subTotal;\\n  }\\n  \\n  AMT.setValue(total);\\n}\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23VOLTYRBKGH (poinsert)\",\"id\":\"ajax_add_po\",\"success\":\"var rec = grid2stroe.getModifiedRecords();\\nif(rec.length==0){\\n  window1.close();\\n  gride1store.load();\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n       if(rec[i].data.PO_L_ID==''){\\n        \\n         var json={PO_L_ID:Wb.getId(),PO_ID:curPoid,ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   CREATION_DATE:new Date(),CREATED_BY:userId,LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n         ajax_add_pol.request(json);\\n       }else{\\n          var json={PO_L_ID:Wb.getId(),ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n          ajax_update_pol.request(json);\\n       } \\n     }\\n      window1.close();\\n      gride1store.load();\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VOJCCPELDV (poldel)\",\"id\":\"hdel\",\"failure\":\"Ext.Msg.alert('提示','删除失败');\",\"success\":\"Ext.Msg.alert('提示','删除成功');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5NV3DHO5 (polinsert)\",\"id\":\"ajax_add_pol\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5ADLVOFY (polupdate)\",\"id\":\"ajax_update_pol\",\"success\":\"var rec = grid2stroe.getModifiedRecords();\\nif(rec.length==0){\\n  window1.close();\\n  gride1store.load();\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n       if(rec[i].data.PO_L_ID==''){\\n        \\n         var json={PO_L_ID:Wb.getId(),PO_ID:curPoid,ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   CREATION_DATE:new Date(),CREATED_BY:userId,LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n         ajax_add_pol.request(json);\\n       }else{\\n          var json={PO_L_ID:Wb.getId(),ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n          ajax_update_pol.request(json);\\n       } \\n     }\\n      window1.close();\\n      gride1store.load();\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5NV3DINS (poupdate)\",\"id\":\"ajax_update_po\",\"success\":\"var rec = grid2stroe.getModifiedRecords();\\nif(rec.length === 0){\\n  window1.close();\\n  gride1store.load();\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n    if(rec[i].data.PO_L_ID === ''){\\n      var json={PO_L_ID\\t\\t\\t\\t:\\tWb.getId(),\\n                PO_ID\\t\\t\\t\\t:\\tcurPoid,\\n                ITEM_NAME\\t\\t\\t:\\trec[i].data.ITEM_NAME,\\n                UNIT\\t\\t\\t\\t:\\trec[i].data.UNIT,\\n                PRICE\\t\\t\\t\\t:\\trec[i].data.PRICE,\\n                CNT\\t\\t\\t\\t\\t:\\trec[i].data.CNT,\\n                AMT\\t\\t\\t\\t\\t:\\trec[i].data.AMT,\\n                CREATION_DATE\\t\\t:\\tnew Date(),\\n                CREATED_BY\\t\\t\\t:\\tuserId,\\n                LAST_UPDATE_DATE\\t:\\tnew Date(),\\n                LAST_UPDATED_BY\\t\\t:\\tuserId,\\n                LAST_UPDATE_LOGIN\\t:\\tuserId};\\n      ajax_add_pol.request(json);\\n    }else{\\n      var json={PO_L_ID\\t\\t\\t\\t:\\trec[i].data.PO_L_ID,\\n                ITEM_NAME\\t\\t\\t:\\trec[i].data.ITEM_NAME,\\n                UNIT\\t\\t\\t\\t:\\trec[i].data.UNIT,\\n                PRICE\\t\\t\\t\\t:\\trec[i].data.PRICE,\\n                CNT\\t\\t\\t\\t\\t:\\trec[i].data.CNT,\\n                AMT\\t\\t\\t\\t\\t:\\trec[i].data.AMT,\\n                LAST_UPDATE_DATE\\t:\\tnew Date(),\\n                LAST_UPDATED_BY\\t\\t:\\tuserId,\\n                LAST_UPDATE_LOGIN\\t:\\tuserId};\\n      ajax_update_pol.request(json);\\n    } \\n  }\\n  window1.close();\\n  gride1store.load();\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5NV3DKGB (podel)\",\"id\":\"ajax_del_po\",\"success\":\" gride1store.load();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5NV3DKHG (poldel2)\",\"id\":\"ajax_del_pol\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP8D49UUO8 (instanceCode_insert_db)\",\"id\":\"saveInstanceCode_ajax\",\"success\":\"gride1store.load();\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"gride1store\",\"url\":\"#23VNB76YLXLF (poQuery)\",\"output\":\"form1\"},{\"xwlMeta\":\"store\",\"id\":\"grid2stroe\",\"pageSize\":\"-1\",\"url\":\"#23VNB76YM0N3 (polList)\"},{\"xwlMeta\":\"store\",\"id\":\"orgstore\",\"autoLoad\":\"true\",\"url\":\"#23VNMHKZ8ZBA (orgList)\",\"output\":\"form3,appId,funId\"},{\"xwlMeta\":\"store\",\"id\":\"deptstore\",\"autoLoad\":\"true\",\"url\":\"#23VNMHKZ8ZE5 (deptList)\",\"output\":\"ORG_ID,form31\"}]},{\"xwlMeta\":\"folder\",\"id\":\"grid2editor\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"itemnam\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"unittext\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"pickList\":\"[['T','台'],['G','个'],['X','箱']]\",\"id\":\"unitCombo\"},{\"xwlMeta\":\"number\",\"autoCreate\":\"false\",\"id\":\"pricetext\",\"blur\":\"var selectRecord = grid2stroe.getAt(clickRowNum);\\n\\nvar price = this.getValue();\\nif(Ext.isEmpty(price)){\\n  price = 0;\\n}\\n\\nvar count = selectRecord.get('CNT');\\nif(Ext.isEmpty(count)){\\n  count = 0;\\n}\\n\\nselectRecord.set('AMT',price * count);\\n\\nsumAmt();\"},{\"xwlMeta\":\"number\",\"autoCreate\":\"false\",\"id\":\"cnttext\",\"blur\":\"var selectRecord = grid2stroe.getAt(clickRowNum);\\n\\nvar price = selectRecord.get('PRICE');\\nif(Ext.isEmpty(price)){\\n  price = 0;\\n}\\n\\nvar count = this.getValue();\\nif(Ext.isEmpty(count)){\\n  count = 0;\\n}\\n\\nselectRecord.set('AMT',price * count);\\n\\nsumAmt();\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"amttext\"}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"gridbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep00\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addOrder\",\"text\":\"新增订单\",\"click\":\"curPoid=\\\"\\\";\\nwindow1.setTitle('新增采购订单') ;\\nwindow1.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep01\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"editeOrder\",\"text\":\"修改订单\",\"click\":\"var rows = Wb.getSelRec(grid1);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '请选择一条订单信息!');\\n  return;\\n}else{\\n  window1.setTitle('修改采购订单') ;\\n  form2.loadRecord(rows[0]);\\n  var poid = rows[0].data.PO_ID;\\n  curPoid = poid;\\n  Wb.load(grid2stroe,{\\\"poid\\\":poid});\\n  window1.show();\\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep02\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"deleteOrder\",\"text\":\"删除订单\",\"click\":\"\\n var m=grid1.getSelectionModel(),s=m.getSelection(),i,j;\\nif (s.length===0) {\\n  Ext.MessageBox.alert('提示', '请选择一条订单信息!');\\n  return;\\n  \\n}else{\\n    if(grid1.getSelectionModel().getSelection()[0].get('STATUS')==='运行中'){\\n     Ext.MessageBox.alert('提示', '运行中的订单不能删除!');\\n     return;\\n    }\\n  Ext.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n    if(a=='yes'){\\n\\n      i=gride1store.indexOf(s[0]);\\n      gride1store.remove(s);\\n      j = gride1store.getCount() - 1;\\n      if (i > j)\\n        i = j;\\n      if (i > -1)\\n        m.select(i);\\n\\n      var ids = [];\\n      for (var t = 0, l = s.length; t < l; t++) {\\n        var r = s[t];\\n\\n        var catid = r.data.PO_ID;\\n        if(catid !== '' && catid !== null){\\n          ids.push(\\\"'\\\"+catid+\\\"'\\\");\\n        }\\t\\n      }\\t\\t\\n      var sec_ids = ids.join(',');\\n      ajax_del_po.request({poids:sec_ids});\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep03\"},{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addAttachment\",\"text\":\"添加附件\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n    showAttachmentManager('{#XIP.userId#}',rows[0].data.PO_ID,rows[0].data.ORG_ID,'DEMO',rows[0].data.PO_NO,'Y','Y','Y',function(){},2); \\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep04\"},{\"xwlMeta\":\"button\",\"iconCls\":\"run_icon\",\"id\":\"startProcByEntityCode\",\"text\":\"按实体编码启动\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n        \\n        var json = {\\n          \\tAMT\\t\\t:\\trows[0].data.AMT,\\n          \\tPO_DESC\\t:\\trows[0].data.PO_DESC,\\n          \\tPO_NO\\t:\\trows[0].data.PO_NO,\\n         \\te_org\\t:\\trows[0].data.ORG_ID,\\n          \\te_dept\\t:\\trows[0].data.DEPT_ID,\\n          \\te_business_id\\t:\\trows[0].data.PO_ID,\\n          \\tAPP_IP\\t:\\t'{#appIP#}'\\n        };\\n        \\n        //2.通过entityCode创建实例\\n        createInstanceByEntityCode('XIP_DEMO',json,function(e){\\n            if(e.flag === \\\"1\\\"){\\n                 Ext.Msg.alert('提示','创建流程实例失败,原因：'+e.msg);\\n            }else if(e.flag === \\\"0\\\"){\\n                 Ext.Msg.alert('提示','流程实例创建成功,流程实例编码：'+e.instanceCode);\\n                 saveInstanceCode_ajax.request({PO_ID:rows[0].data.PO_ID,INST_CODE:e.instanceCode});\\n            }\\n        });\\n      }else{\\n         Ext.Msg.alert('提示','请选择一条未创建的流程实例');\\n      }\\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep05\"},{\"xwlMeta\":\"button\",\"iconCls\":\"run_icon\",\"id\":\"startProcByProcCode\",\"text\":\"按流程编码启动\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){       \\n        createInstanceByProcessCode('DM01',function(e){\\n            Ext.Msg.hide();\\n            if(e.flag == \\\"1\\\"){\\n                 Ext.Msg.alert('提示','创建流程实例失败,原因：'+e.msg);\\n            }else if(e.flag == \\\"0\\\"){\\n                 Ext.Msg.alert('提示','流程实例创建成功,流程实例编码：'+e.instanceCode);\\n                 saveInstanceCode_ajax.request({\\n                   PO_ID\\t:\\trows[0].data.PO_ID,\\n                   INST_CODE:\\te.instanceCode,\\n                   APP_IP\\t:\\t'{#appIP#}'\\n                 });\\n            }\\n        });\\n      }else{\\n         Ext.Msg.alert('提示','请选择一条未创建的流程实例');\\n      }\\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep06\"},{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"submitProcess\",\"text\":\"提交流程\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n          Ext.Msg.alert('提示','请选择一条已创建的流程实例的数据');\\n      }else if(Ext.isEmpty(rows[0].data.STATUS) || rows[0].data.STATUS === '起草'){\\n        //提交流程\\n        var json = {AMT\\t\\t:\\trows[0].data.AMT,\\n                    PO_DESC\\t:\\trows[0].data.PO_DESC,\\n                    PO_NO\\t:\\trows[0].data.PO_NO,\\n                    APP_IP\\t:\\t'{#appIP#}',\\n                    e_org\\t:\\trows[0].data.ORG_ID,\\n                    e_dept\\t:\\trows[0].data.DEPT_ID,\\n                    e_business_id\\t:\\trows[0].data.PO_ID,\\n                    e_business_code\\t:\\trows[0].data.PO_NO,\\n                    e_business_name\\t:\\trows[0].data.PO_DESC,\\n                    e_submitter_comment\\t:\\t'待办驳回重新提交'};\\n        \\n        submitInstance(rows[0].data.INST_CODE,json,function(e){\\n          if(e.flag === 0){\\n           \\tgride1store.load();\\n          }else if(e.flag === 1){\\n            Ext.Msg.alert('提示',e.msg);\\n          }else{\\n          }\\n        },null);\\n      }else{\\n        Wb.warning('流程已提交,请重新选择！');\\n        return false;\\n      }\\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep07\"},{\"xwlMeta\":\"button\",\"iconCls\":\"check_icon\",\"id\":\"startAndsubmitProcess\",\"text\":\"启动并提交流程\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n          //按实体编码启动并提交流程\\n         var json = {\\n             AMT\\t\\t\\t:\\trows[0].data.AMT,\\n           \\t APP_IP\\t\\t\\t:\\t'{#appIP#}',\\n             PO_DESC\\t\\t:\\trows[0].data.PO_DESC,\\n             PO_NO\\t\\t\\t:\\trows[0].data.PO_NO,\\n             e_org\\t\\t\\t:\\trows[0].data.ORG_ID,\\n             e_dept\\t\\t\\t:\\trows[0].data.DEPT_ID,\\n             e_business_id\\t:\\trows[0].data.PO_ID,\\n             e_business_code:\\trows[0].data.PO_NO,\\n             e_business_name:\\trows[0].data.PO_DESC\\n         };\\n        \\n        startAndSubmitByEntityCode('XIP_DEMO',json,function(e){\\n          if(e.flag === 0){\\n             var pjson = {\\n                 PO_ID\\t\\t\\t\\t:\\trows[0].data.PO_ID,\\n                 LAST_UPDATED_BY\\t:\\t'{#userId#}',\\n                 INST_CODE\\t\\t\\t:\\te.instanceCode\\n             } ;\\n             saveInstanceCode_ajax.request(pjson);\\n          }else if(e.flag === 1){\\n            Ext.Msg.alert(\\\"提示\\\",e.msg) ;\\n          }else{\\n          }\\n        });\\n        \\n      }else{\\n         Ext.Msg.alert('提示','此订单已启动流程,请确认！');\\n      }\\n  }else{\\n      Ext.Msg.alert('提示','请保存订单数据信息后再启动流程！');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep08\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"revokeProcess\",\"text\":\"撤回流程\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n  return false ;\\n}\\nif(rows[0].data.ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n          Ext.Msg.alert('提示','此订单未启动流程,请确认!');\\n          return false ;\\n        \\t\\n      }else if(rows[0].data.ATTRIBUTE10 === 'A'){\\n        Wb.warning('该订单的流程未提交,请重新选择!');\\n        return false;\\n      }else{\\n         //撤回流程\\n        revokeByInstanceCode(rows[0].data.INST_CODE,function(e){\\n          Ext.Msg.alert('提示',e.msg);\\n          store.load();\\n        });\\n      }\\n  }else{\\n      Ext.Msg.alert('提示','请先保存订单信息,再启动流程!');\\n  }\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep09\"},{\"xwlMeta\":\"button\",\"iconCls\":\"resume_icon\",\"id\":\"resetProcess\",\"text\":\"重启流程\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n          Ext.Msg.alert('提示','请选择一条已撤销的流程实例的数据');\\n        \\n      }else{\\n        \\n       var json = {\\n         AMT\\t\\t\\t:\\trows[0].data.AMT,\\n         APP_IP\\t\\t\\t:\\t'{#appIP#}',\\n         PO_DESC\\t\\t:\\trows[0].data.PO_DESC,\\n         PO_NO\\t\\t\\t:\\trows[0].data.PO_NO,\\n         e_org\\t\\t\\t:\\trows[0].data.ORG_ID,\\n         e_dept\\t\\t\\t:\\trows[0].data.DEPT_ID,\\n         e_business_id\\t:\\trows[0].data.PO_ID,\\n         e_business_code:\\trows[0].data.PO_NO,\\n         e_business_name:\\trows[0].data.PO_DESC};\\n        \\n        getProcessIdByEntityCode('XIP_DEMO',json,function(e){\\n              if(e.flag == \\\"0\\\"){\\n                    restartInstanceSubmit(rows[0].data.INST_CODE,e.processId,json,function(data){\\n                          gride1store.load();\\n                    });\\n              }else if(e.flag == \\\"1\\\"){\\n                 Ext.Msg.alert('提示',e.msg);\\n              }\\n        });\\n      } \\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep10\"},{\"xwlMeta\":\"button\",\"iconCls\":\"viewport_icon\",\"id\":\"openProcessMonitor\",\"text\":\"流程监控\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n          Ext.Msg.alert('提示','请选择一条已创建的流程实例的数据');\\n      }else{\\n          //提交流程\\n        showMonitorPage(rows[0].data.INST_CODE);\\n      }   \\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep11\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"formBar\",\"children\":[{\"xwlMeta\":\"button\",\"pressed\":\"false\",\"iconCls\":\"save_icon\",\"id\":\"saveAllbtn\",\"text\":\"保存\",\"click\":\"if(curPoid===\\\"\\\"){\\n  curPoid = Wb.getId();\\n  var val = PO_NO.getValue();\\n  var now = new Date();\\n  var lastdate =now;\\n  var podate = PO_DATE.getValue();\\n  var json={PO_ID\\t:\\tcurPoid,\\n            PO_NO\\t:\\tPO_NO.getValue(),\\n            PO_DESC\\t:\\tPO_DESC.getValue(),\\n            VENDOR\\t:\\tVENDOR.getValue(),\\n            ORG_ID\\t:\\tORG_ID.getValue(),\\n            DEPT_ID\\t:\\tDEPT_ID.getValue(),\\n            BUYER\\t:\\tBUYER.getValue(),\\n            AMT\\t\\t:\\tAMT.getValue(),\\n            PO_DATE\\t:\\tpodate,\\n            CREATION_DATE\\t:\\tlastdate,\\n            CREATED_BY\\t\\t:\\tuserId,\\n            LAST_UPDATE_DATE:\\tlastdate,\\n            LAST_UPDATED_BY\\t:\\tuserId,\\n            LAST_UPDATE_LOGIN\\t:\\tuserId\\n           };\\n  // 提交请求\\n  ajax_add_po.request(json);\\n}else{\\n  var podate = PO_DATE.getValue();\\n  var json={PO_ID:curPoid,\\n            PO_NO:PO_NO.getValue(),\\n            PO_DESC:PO_DESC.getValue(),\\n            VENDOR:VENDOR.getValue(),\\n            ORG_ID:ORG_ID.getValue(),\\n            DEPT_ID:DEPT_ID.getValue(),\\n            BUYER:BUYER.getValue(),\\n            AMT:AMT.getValue(),\\n            PO_DATE:podate,\\n            LAST_UPDATE_DATE:lastdate,\\n            LAST_UPDATED_BY:userId,\\n            LAST_UPDATE_LOGIN:userId\\n           };\\n  // 提交请求\\n  ajax_update_po.request(json);\\n}\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"grid2toolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"pressed\":\"false\",\"iconCls\":\"new_icon\",\"id\":\"addlBtn\",\"text\":\"新增\",\"click\":\"var e=grid2.plugins[0],index=1;\\ne.completeEdit();\\ngrid2stroe.insert(0,{});\\n//deptAndPostGridStore.getAt(0).set('id','_'+Wb.getId());//temp id\\ngrid2stroe.getAt(0).set('PO_ID',curPoid);\\ne.startEditByPosition({row:0,column:3});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"pressed\":\"false\",\"iconCls\":\"delete_icon\",\"id\":\"dellBtn\",\"text\":\"删除\",\"click\":\"\\n var m=grid2.getSelectionModel(),s=m.getSelection(),i,j;\\nif (s.length==0) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n  \\n\\t\\tExt.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n\\t\\t\\t\\t\\tif(a=='yes'){\\n                      grid2.plugins[0].completeEdit();\\n                      i=grid2stroe.indexOf(s[0]);\\n                      grid2stroe.remove(s);\\n                      j = grid2stroe.getCount() - 1;\\n                      if (i > j)\\n                        i = j;\\n                      if (i > -1)\\n                        m.select(i);\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\tvar ids = [];\\n\\t\\t\\t\\t\\t\\tfor (var t = 0, l = s.length; t < l; t++) {\\n\\t\\t\\t\\t\\t\\t\\tvar r = s[t];\\n\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                \\tvar catid = r.data.PO_L_ID;\\n                          if(catid!=''&&catid!=null){\\n                            \\tids.push(\\\"'\\\"+catid+\\\"'\\\");\\n                          }\\n\\t\\t    \\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                }\\n\\t\\t\\t\\t\\t\\t\\n                      var sec_ids = ids.join(',');\\n                      hdel.request({poids:sec_ids});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\n  \\n  \\n\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"orgbar\",\"children\":[{\"xwlMeta\":\"button\",\"pressed\":\"true\",\"id\":\"okbtn\",\"text\":\"确定\",\"click\":\"var rows = Wb.getSelRec(orgGrid);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n \\n  form2.loadRecord(rows[0]);\\n  orgWin.close();\\n  \\n}\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"deptbar\",\"children\":[{\"xwlMeta\":\"button\",\"pressed\":\"true\",\"id\":\"okbtn1\",\"text\":\"确定\",\"click\":\"var rows = Wb.getSelRec(deptGrid);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n \\n  form2.loadRecord(rows[0]);\\n  deptWin.close();\\n}\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"grid1Colum\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_ID\",\"id\":\"PO_ID_COL\",\"text\":\"订单ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_NO\",\"id\":\"PO_NO_COL\",\"text\":\"订单编号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_DESC\",\"id\":\"PO_DESC_COL\",\"text\":\"订单说明\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VENDOR\",\"id\":\"VENDOR_COL\",\"text\":\"供应商\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ORG_ID_COL\",\"text\":\"组织id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_COL\",\"text\":\"组织\",\"width\":\"220\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_ID\",\"id\":\"DEPT_ID_COL\",\"text\":\"部门id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_COL\",\"text\":\"部门\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUYER\",\"id\":\"BUYER_COL\",\"text\":\"采购员\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"AMT\",\"id\":\"AMT_COL\",\"text\":\"金额\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_DATE\",\"id\":\"PO_DATE_COL\",\"text\":\"采购日期\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"STATUS\",\"id\":\"STATUS_COL\",\"renderer\":\"if(value===null){\\n\\treturn '';\\n}\\nvar value = value.replace(' ','');\\nif(value=='A'){\\n\\treturn '起草';\\n}else if(value=='C'){\\n\\treturn '审批中';\\n}else if(value=='E'){\\n\\treturn '审批通过';\\n}else{\\n  return value ;\\n}\",\"text\":\"状态\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid2Colum\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column2\",\"text\":\"序号\",\"width\":\"40\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_ID\",\"id\":\"PO_ID_M_COL\",\"text\":\"采购订单ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_L_ID\",\"id\":\"PO_L_ID_COL\",\"text\":\"主键ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ITEM_NAME\",\"id\":\"ITEM_NAME_COL\",\"text\":\"物资\",\"width\":\"200\",\"editor\":\"itemnam\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"UNIT\",\"id\":\"UNIT_COL\",\"renderer\":\"if(value=='T'){\\n  return '台';\\n} else if(value=='G'){\\n  return '个';\\n} else if(value=='X'){\\n  return '箱';\\n} else {\\n  return value;\\n}\",\"text\":\"单位\",\"width\":\"80\",\"editor\":\"unitCombo\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRICE\",\"id\":\"PRICE_COL\",\"text\":\"单价\",\"width\":\"120\",\"editor\":\"pricetext\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CNT\",\"id\":\"CNT_COL\",\"text\":\"数量\",\"width\":\"120\",\"editor\":\"cnttext\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"AMT\",\"id\":\"AMT_COLL\",\"text\":\"金额\",\"width\":\"120\",\"editor\":\"amttext\"}]},{\"xwlMeta\":\"array\",\"id\":\"orgcolum\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column3\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_CODE\",\"id\":\"ORG_CODE_COL\",\"text\":\"组织编码\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ORG_ID_COL1\",\"text\":\"组织ID\",\"flex\":\"1\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_COL1\",\"text\":\"组织名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"deptcolum\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column31\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_CODE\",\"id\":\"DEPT_CODE_COL\",\"text\":\"部门编码\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_ID\",\"id\":\"DEPT_ID_COL11\",\"text\":\"部门ID\",\"flex\":\"1\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_COL11\",\"text\":\"部门名称\",\"flex\":\"1\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"popWins\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"orgWin\",\"title\":\"组织列表\",\"height\":\"400\",\"dialog\":\"false\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel6\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form3\",\"height\":\"33\",\"layout\":\"column\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织名称\",\"id\":\"orgname\",\"labelWidth\":\"80\",\"width\":\"220\",\"labelAlign\":\"right\",\"specialkey\":\"orgstore.load();\"},{\"xwlMeta\":\"button\",\"id\":\"orgqueryBtn\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"orgstore.load();\"}]},{\"xwlMeta\":\"grid\",\"store\":\"orgstore\",\"columns\":\"orgcolum\",\"height\":\"330\",\"exportExcel\":\"false\",\"id\":\"orgGrid\",\"tbar\":\"orgbar\",\"exportPrint\":\"false\",\"itemdblclick\":\"okbtn.fireEvent('click');\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"deptWin\",\"title\":\"部门列表\",\"height\":\"400\",\"dialog\":\"false\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel61\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form31\",\"height\":\"33\",\"layout\":\"column\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门名称\",\"id\":\"deptname\",\"labelWidth\":\"80\",\"width\":\"220\",\"labelAlign\":\"right\",\"specialkey\":\"deptstore.load();\"},{\"xwlMeta\":\"button\",\"id\":\"deptqueryBtn\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"deptstore.load();\"}]},{\"xwlMeta\":\"grid\",\"store\":\"deptstore\",\"columns\":\"deptcolum\",\"height\":\"330\",\"exportExcel\":\"false\",\"id\":\"deptGrid\",\"tbar\":\"deptbar\",\"exportPrint\":\"false\",\"itemdblclick\":\"okbtn1.fireEvent('click');\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"viewport_icon\",\"id\":\"window1\",\"height\":\"450\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"900\",\"close\":\"gride1store.load();\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"layout\":\"border\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form2\",\"tbar\":\"formBar\",\"height\":\"100\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel3\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"订单编号\",\"id\":\"PO_NO\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"订单说明\",\"id\":\"PO_DESC\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"供应商\",\"id\":\"VENDOR\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"采购员\",\"id\":\"BUYER\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel4\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织\",\"id\":\"ORG_NAME\",\"labelWidth\":\"70\",\"width\":\"175\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"orgBtn\",\"width\":\"25\",\"click\":\"\\norgWin.show();\\norgstore.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门\",\"id\":\"DEPT_NAME\",\"labelWidth\":\"70\",\"width\":\"175\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"deptBtn\",\"width\":\"25\",\"click\":\"var orgname=ORG_NAME.getValue();\\nif(orgname !==\\\"\\\" &&  orgname !==null){\\n  deptWin.show();\\n  deptstore.load();\\n}else{\\n  Ext.Msg.alert('提示', '请先选择组织' );\\n}\\n\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"总金额\",\"id\":\"AMT\",\"labelWidth\":\"70\",\"width\":\"200\",\"readOnly\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"采购日期\",\"id\":\"PO_DATE\",\"value\":\"new Date()\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"id\":\"panel5\",\"layout\":\"column\",\"border\":\"false\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织ID\",\"id\":\"ORG_ID\",\"labelWidth\":\"80\",\"width\":\"220\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门ID\",\"id\":\"DEPT_ID\",\"labelWidth\":\"80\",\"width\":\"220\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"grid2stroe\",\"columns\":\"grid2Colum\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"grid2\",\"tbar\":\"grid2toolbar\",\"multiSelect\":\"true\",\"cellclick\":\"clickRowNum = rowIndex;\\n\\nif(cellIndex==7){\\n  return false;\\n}\"}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"layout\":\"border\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"iconCls\":\"find_icon\",\"id\":\"form1\",\"height\":\"85\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"queryFiledSet\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"订单编号\",\"id\":\"ddbh\",\"labelWidth\":\"70\",\"labelAlign\":\"right\",\"specialkey\":\"gride1store.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"订单说明\",\"id\":\"desc\",\"labelWidth\":\"70\",\"labelAlign\":\"right\",\"specialkey\":\"gride1store.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"供应商\",\"id\":\"vendor1\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"gride1store.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"gride1store.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"form1.getForm().reset();\\ngride1store.load();\"},{\"xwlMeta\":\"text\",\"id\":\"appId\",\"value\":\"{#appId#}\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"funId\",\"value\":\"{#funId#}\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"gride1store\",\"columns\":\"grid1Colum\",\"iconCls\":\"grid_icon\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"gridbar\",\"viewConfig\":\"{enableTextSelection:true}\",\"itemdblclick\":\"\\n  window1.setTitle('修改采购订单') ;\\n  form2.loadRecord(record);\\n  var poid = record.get('PO_ID');\\n  curPoid = poid;\\n  Wb.load(grid2stroe,{\\\"poid\\\":poid});\\n  window1.show();\\n\\n\\n\"}]}]}]}","采购订单",null,0,0,"admin","2014-12-11 09:23:20.0","23XQ4UO678F5","2015-10-27 16:49:35.0",10],["23VNB76YLXLF","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"poQuery\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT P.PO_ID,\\n       P.PO_NO,\\n       P.PO_DESC,\\n       P.VENDOR,\\n       P.ORG_ID,\\n       T.ORG_NAME,\\n       P.DEPT_ID,\\n       D.DEPT_NAME,\\n       P.BUYER,\\n       P.AMT,\\n       P.PO_DATE,\\n       P.INST_CODE,\\n       P.STATUS,\\n       P.ATTRIBUTE10\\n  FROM XIP_DEMO_PO_H P\\n  LEFT JOIN XIP_PUB_ORGS T\\n    ON P.ORG_ID = T.ORG_ID\\n  LEFT JOIN XIP_PUB_DEPTS D\\n    ON P.DEPT_ID = D.DEPT_ID\\n WHERE (P.PO_NO LIKE '%{#ddbh#}%' OR P.PO_NO IS NULL)\\n   AND (P.PO_DESC LIKE '%{#desc#}%' OR P.PO_DESC IS NULL)\\n   AND (P.VENDOR LIKE '%{#vendor1#}%' OR P.VENDOR IS NULL)\\n ORDER BY P.LAST_UPDATE_DATE DESC\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","poQuery",null,0,0,"admin","2014-12-11 09:49:59.0","admin","2015-06-17 16:18:29.0",2],["23VNB76YM0N3","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"polList\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select * from  XIP_DEMO_PO_L l where l.po_id={?poid?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","polList",null,0,0,"admin","2014-12-11 14:16:13.0","admin","2015-01-22 16:09:53.0",1],["23VNMHKZ8ZBA","23VNB76YLXKV","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"orgList\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * \\n  from xip_pub_orgs g \\n where (g.org_name like '%{#orgname#}%' or g.org_name is null)\\n   and g.org_id in (\\n     select s.org_id \\n       from xip_pub_org_sec s\\n      where s.TARGET_ID = {?XIP.userId?}\\n        and s.TYPE = 'U'\\n     \\n     union \\n     \\n     select s1.org_id \\n       from xip_pub_org_sec s1\\n      where s1.TARGET_ID = {?funId?}\\n        and s1.TYPE = 'F'\\n     \\n     union \\n     \\n     select s2.org_id \\n       from xip_pub_org_sec s2\\n      where s2.TARGET_ID = {?XIP.roleId?}\\n        and s2.TYPE = 'D'\\n     \\n     union \\n     \\n     select s3.org_id \\n       from xip_pub_org_sec s3\\n      where s3.TARGET_ID = {?appId?}\\n        and s3.TYPE = 'A'\\n   )\"}]}","orgList",null,0,0,"admin","2014-12-12 11:04:13.0","23XQ4UO678F0","2015-09-11 14:08:18.0",3],["23VNMHKZ8ZE5","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"orgList\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT G.DEPT_ID, G.DEPT_CODE, G.DEPT_NAME\\n  FROM XIP_PUB_DEPTS G\\n WHERE (G.DEPT_NAME LIKE '%{#deptname#}%' OR G.DEPT_NAME IS NULL)\\n   AND G.ORG_ID = ( CASE WHEN {?ORG_ID?} != '' THEN {?ORG_ID?} ELSE G.ORG_ID END )\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","deptList",null,0,0,"admin","2014-12-12 13:58:38.0","admin","2015-05-21 15:14:30.0",4],["23VOJCCPELDV","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"hdel\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from  XIP_DEMO_PO_L where po_l_id in ({#poids#})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","poldel",null,0,0,"admin","2014-12-15 09:29:45.0","admin","2015-06-04 16:37:15.0",5],["23VOLTYRBKGH","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"poinsert\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_DEMO_PO_H\\n  (PO_ID,PO_NO,PO_DESC,VENDOR,ORG_ID,DEPT_ID,BUYER,AMT,PO_DATE,CREATION_DATE,CREATED_BY,LAST_UPDATE_DATE,LAST_UPDATED_BY,ATTRIBUTE10,STATUS)\\nvalues\\n  ({?PO_ID?},\\n   {?PO_NO?},\\n   {?PO_DESC?},\\n   {?VENDOR?},\\n   {?ORG_ID?},\\n   {?DEPT_ID?},\\n   {?BUYER?},\\n   {?AMT?},\\n   {?timestamp.PO_DATE?},\\n   {?Timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?Timestamp.sys.date?},\\n   {?XIP.userId?},\\n  'A',\\n  '起草')\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","poinsert",null,0,0,"admin","2014-12-15 15:43:08.0","admin","2015-06-17 16:12:46.0",6],["23VP5ADLVOFY","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"polupdate\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update  XIP_DEMO_PO_L\\n set   ITEM_NAME = {?ITEM_NAME?},\\n       UNIT = {?UNIT?},\\n       PRICE = {?PRICE?},\\n       CNT = {?CNT?},\\n       AMT = {?AMT?},\\n       LAST_UPDATE_DATE = {?Timestamp.sys.date?},\\n       LAST_UPDATED_BY = {?XIP.userId?}\\n where PO_L_ID = {?PO_L_ID?}\\n \\n \\n \",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","polupdate",null,0,0,"admin","2014-12-17 09:06:37.0","admin","2015-06-04 16:53:59.0",8],["23VP5NV3DHO5","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"polinsert\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_DEMO_PO_L \\n    (PO_L_ID,PO_ID,ITEM_NAME,UNIT,PRICE,CNT,AMT,CREATION_DATE,CREATED_BY,LAST_UPDATE_DATE,LAST_UPDATED_BY)\\n    values\\n  ({?PO_L_ID?},\\n   {?PO_ID?},\\n   {?ITEM_NAME?},\\n   {?UNIT?},\\n   {?PRICE?},\\n   {?CNT?},\\n   {?AMT?},\\n   {?Timestamp.sys.date?},\\n   {?XIP.userId?},\\n  {?Timestamp.sys.date?},\\n   {?XIP.userId?})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","polinsert",null,0,0,"admin","2014-12-17 12:21:09.0","admin","2015-06-17 16:12:16.0",7],["23VP5NV3DINS","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"poupdate\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"update  XIP_DEMO_PO_H set\\n       PO_NO = {?PO_NO?},\\n       PO_DESC = {?PO_DESC?},\\n       DEPT_ID = {?DEPT_ID?},\\n       VENDOR = {?VENDOR?},\\n       ORG_ID = {?ORG_ID?},\\n\\t   AMT = {?AMT?},\\n\\t   BUYER = {?BUYER?},\\n       PO_DATE = {?Timestamp.PO_DATE?},\\n       LAST_UPDATE_DATE = {?Timestamp.sys.date?},\\n       LAST_UPDATE_LOGIN={?XIP.userId?},\\n       LAST_UPDATED_BY = {?XIP.userId?}\\n where PO_ID = {?PO_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","poupdate",null,0,0,"admin","2014-12-17 13:22:32.0","admin","2015-02-06 16:11:58.0",9],["23VP5NV3DKGB","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"podel\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from  XIP_DEMO_PO_H  where po_id in ({#poids#})\",\"xwlMeta\":\"query\"}]}","podel",null,0,0,"admin","2014-12-17 14:28:36.0","admin","2015-04-24 15:17:24.0",10],["23VP5NV3DKHG","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"poldel2\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from  XIP_DEMO_PO_L where po_id in ({#poids#})\",\"xwlMeta\":\"query\"}]}","poldel2",null,0,0,"admin","2014-12-17 14:29:51.0","admin","2015-04-24 15:17:52.0",11],["23VP6VH4OAJC","23VNB76YLXKT",null,"wfview",null,0,0,"admin","2014-12-17 12:27:27.0","admin","2014-12-17 12:27:27.0",16],["23VP6VH4OAJD","23VP6VH4OAJC","{\"id\":\"module\",\"title\":\"viewPage\",\"xwlMeta\":\"module\",\"jsFiles\":\"[\\\"workflow/util/preAndAfterCallback.js\\\"]\",\"children\":[{\"id\":\"request\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"grid2store\",\"xwlMeta\":\"store\",\"params\":\"{poid:'{#poid#}'}\",\"url\":\"#23VP6VH4OAL2 (queryGrid)\"},{\"id\":\"formStore\",\"xwlMeta\":\"store\",\"load\":\"if(formStore.getAt(0)) {\\n\\n  form2.loadRecord(formStore.getAt(0));\\n}\",\"params\":\"{poid:'{#poid#}'}\",\"url\":\"#23VP6VH4OAL0 (queryform)\"}]},{\"id\":\"grid2editor\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"itemnam\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"},{\"id\":\"amttext\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"},{\"id\":\"unittext\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"},{\"id\":\"cnttext\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"}]},{\"id\":\"formBar\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"saveAllbtn\",\"text\":\"保存\",\"pressed\":\"true\",\"xwlMeta\":\"button\",\"hidden\":\"true\",\"click\":\"if(curPoid==\\\"\\\"){\\n  //全部执行保存\\n  //表单保存\\n  // curPoid=SysUtil.getUuid(); //对于新增的数据赋值\\n   curPoid = Wb.getId();\\n  var val = PO_NO.getValue();\\n  var now = new Date();\\n var lastdate =now;\\n  var podate = PO_DATE.getValue();\\n // if(podate!=\\\"\\\"&&podate!=null){\\n   // podate = podate.split(' ')[0];\\n  //}\\n   var json={PO_ID:curPoid,PO_NO:PO_NO.getValue(),PO_DESC:PO_DESC.getValue(),VENDOR:VENDOR.getValue(),\\n                   ORG_ID:ORG_ID.getValue(),DEPT_ID:DEPT_ID.getValue(),BUYER:BUYER.getValue(),\\n             AMT:AMT.getValue(),PO_DATE:podate,CREATION_DATE:lastdate,CREATED_BY:userId,LAST_UPDATE_DATE:lastdate,\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n           ajax_add_po.request(json);\\n  \\n  //子表要保存的数据\\n  \\n  \\n}else{\\n  \\n  \\n}\"}]},{\"id\":\"grid2toolbar\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"addlBtn\",\"text\":\"新增\",\"pressed\":\"true\",\"xwlMeta\":\"button\",\"hidden\":\"true\",\"click\":\"var e=grid2.plugins[0],index=1;\\ne.completeEdit();\\ngrid2stroe.insert(0,{});\\n//deptAndPostGridStore.getAt(0).set('id','_'+Wb.getId());//temp id\\ngrid2stroe.getAt(0).set('PO_ID',curPoid);\\ne.startEditByPosition({row:0,column:3});\"},{\"id\":\"dellBtn\",\"text\":\"删除\",\"pressed\":\"true\",\"xwlMeta\":\"button\",\"hidden\":\"true\",\"click\":\"\\n var m=grid2.getSelectionModel(),s=m.getSelection(),i,j;\\nif (s.length==0) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n  \\n\\t\\tExt.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n\\t\\t\\t\\t\\tif(a=='yes'){\\n                      grid2.plugins[0].completeEdit();\\n                      i=grid2stroe.indexOf(s[0]);\\n                      grid2stroe.remove(s);\\n                      j = store1.getCount() - 1;\\n                      if (i > j)\\n                        i = j;\\n                      if (i > -1)\\n                        m.select(i);\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\tvar ids = [];\\n\\t\\t\\t\\t\\t\\tfor (var t = 0, l = s.length; t < l; t++) {\\n\\t\\t\\t\\t\\t\\t\\tvar r = s[t];\\n\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                \\tvar catid = r.data.PO_L_ID;\\n                          if(catid!=''&&catid!=null){\\n                            \\tids.push(\\\"'\\\"+catid+\\\"'\\\");\\n                          }\\n\\t\\t    \\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                }\\n\\t\\t\\t\\t\\t\\t\\n                      var sec_ids = ids.join(',');\\n                      hdel.request({poids:sec_ids});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\n  \\n  \\n\\n}\\n\"}]},{\"id\":\"grid2Colum\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"column2\",\"xwlMeta\":\"column\",\"type\":\"rowNumber\"},{\"id\":\"PO_ID_M_COL\",\"text\":\"采购订单ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"PO_ID\",\"flex\":\"1\"},{\"id\":\"PO_L_ID_COL\",\"text\":\"主键ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"PO_L_ID\",\"flex\":\"1\"},{\"id\":\"ITEM_NAME_COL\",\"editor\":\"itemnam\",\"text\":\"物资\",\"xwlMeta\":\"column\",\"dataIndex\":\"ITEM_NAME\",\"flex\":\"1\"},{\"id\":\"AMT_COLL\",\"editor\":\"amttext\",\"text\":\"金额\",\"xwlMeta\":\"column\",\"dataIndex\":\"AMT\",\"flex\":\"1\"},{\"id\":\"PRICE_COL\",\"text\":\"单价\",\"xwlMeta\":\"column\",\"dataIndex\":\"PRICE\",\"flex\":\"1\"},{\"id\":\"UNIT_COL\",\"editor\":\"unittext\",\"text\":\"单位\",\"xwlMeta\":\"column\",\"dataIndex\":\"UNIT\",\"flex\":\"1\"},{\"id\":\"CNT_COL\",\"editor\":\"unittext\",\"text\":\"数量\",\"xwlMeta\":\"column\",\"dataIndex\":\"CNT\",\"flex\":\"1\"}]},{\"id\":\"viewport1\",\"afterrender\":\"//alert('{#poid#}');\\n//Wb.load(form2,{\\\"poid\\\":'{#poid#}'});\\n//Wb.load(grid2stroe,{\\\"poid\\\":poid});\\n//form2.load();\\nformStore.load();\\n//form2.getForm().load({ \\n//  url:'main?xwl=23VP6VH4OAL0', \\n//  params:{poid:'{#poid#}'}, \\n//}); \\n\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"panel2\",\"xwlMeta\":\"panel\",\"layout\":\"border\",\"children\":[{\"tbar\":\"formBar\",\"id\":\"form2\",\"region\":\"north\",\"height\":\"80\",\"xwlMeta\":\"form\",\"layout\":\"form\",\"children\":[{\"id\":\"panel3\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"children\":[{\"id\":\"PO_NO\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"220\",\"value\":\"{#PO_NO#}\",\"labelAlign\":\"right\",\"fieldLabel\":\"订单编号\"},{\"id\":\"PO_DESC\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"订单说明\"},{\"id\":\"VENDOR\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"供应商\"},{\"id\":\"BUYER\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"采购员\"}],\"border\":\"false\"},{\"id\":\"panel4\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"children\":[{\"id\":\"ORG_NAME\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"195\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织\"},{\"id\":\"orgBtn\",\"xwlMeta\":\"button\",\"width\":\"25\",\"click\":\"\\norgWin.show();\\norgstore.load();\",\"iconCls\":\"preview_icon\"},{\"id\":\"DEPT_NAME\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"195\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门\"},{\"id\":\"deptBtn\",\"xwlMeta\":\"button\",\"width\":\"25\",\"click\":\"\\ndeptWin.show();\\ndeptstore.load();\",\"iconCls\":\"preview_icon\"},{\"id\":\"AMT\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"金额\"},{\"id\":\"PO_DATE\",\"labelWidth\":\"80\",\"xwlMeta\":\"date\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"采购日期\"}],\"border\":\"false\"},{\"id\":\"panel5\",\"xwlMeta\":\"panel\",\"hidden\":\"false\",\"layout\":\"column\",\"children\":[{\"id\":\"ORG_ID\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织ID\"},{\"id\":\"DEPT_ID\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门ID\"}],\"border\":\"false\"}],\"border\":\"false\"},{\"tbar\":\"grid2toolbar\",\"id\":\"grid2\",\"region\":\"center\",\"multiSelect\":\"true\",\"selType\":\"checkboxmodel\",\"frame\":\"false\",\"store\":\"grid2store\",\"xwlMeta\":\"grid\",\"pagingToolbar\":\"true\",\"columns\":\"grid2Colum\",\"simpleSelect\":\"true\",\"pluginType\":\"cellediting\"}]}]}],\"initScript\":\"var insCode = request.getParameter(\\\"instanceCode\\\");\\nvar businessId = request.getParameter(\\\"businessId\\\");\\nvar userName = request.getParameter(\\\"username\\\");\\n\\nrequest.setAttribute(\\\"insCode\\\",insCode);\\nrequest.setAttribute(\\\"poid\\\",businessId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\n\",\"loginRequired\":\"false\"}","viewPage",null,0,0,"admin","2014-12-17 12:27:58.0","admin","2015-05-11 15:03:56.0",1],["23VP6VH4OAKY","23VP6VH4OAJC",null,"data",null,1,0,"admin","2014-12-17 12:54:02.0","23XSWLY0BYLW","2015-08-25 10:33:17.0",2],["23VP6VH4OAL0","23VP6VH4OAKY","{\"id\":\"module\",\"title\":\"queryform\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT P.PO_ID,\\n       P.PO_NO,\\n       P.PO_DESC,\\n       P.VENDOR,\\n       P.ORG_ID,\\n       T.ORG_NAME,\\n       P.DEPT_ID,\\n       D.DEPT_NAME,\\n       P.BUYER,\\n       P.AMT,\\n       P.PO_DATE\\n  FROM XIP_DEMO_PO_H P\\nLEFT JOIN XIP_PUB_ORGS T ON T.ORG_ID = P.ORG_ID\\nLEFT JOIN XIP_PUB_DEPTS D ON D.DEPT_ID = P.DEPT_ID\\n WHERE P.PO_ID = {?poid?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","queryform",null,0,0,"admin","2014-12-17 12:54:28.0","admin","2015-05-26 18:44:15.0",1],["23VP6VH4OAL2","23VP6VH4OAKY","{\"id\":\"module\",\"title\":\"queryGrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select * from  XIP_DEMO_PO_L l where l.po_id= {?poid?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","queryGrid",null,0,0,"admin","2014-12-17 12:54:38.0","admin","2014-12-30 14:08:04.0",2],["23VP6VH4ODCJ","23VP6VH4ODJV","{\"id\":\"module\",\"title\":\"客户化待办\",\"xwlMeta\":\"module\",\"jsFiles\":\"[\\\"workflow/util/workflowWebServiceUtil4.0.js\\\"]\",\"children\":[{\"footer\":\"<script type=\\\"text/javascript\\\">\\n  // 监测当前页面的关闭事件 \\n  window.onbeforeunload = function() {\\n     window.opener.taskStore.load();\\n     window.opener.hisTaskStore.load();\\n     window.opener.archTaskStore.load();\\n  }\\n<\\/script>\",\"id\":\"clientScript1\",\"xwlMeta\":\"clientScript\"},{\"id\":\"request\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"grid2store\",\"xwlMeta\":\"store\",\"params\":\"{poid:'{#poid#}'}\",\"url\":\"#23VP6VH4OAL2 (queryGrid)\"},{\"id\":\"formStore\",\"xwlMeta\":\"store\",\"load\":\"if(formStore.getAt(0)) {\\n\\n  form2.loadRecord(formStore.getAt(0));\\n}\",\"params\":\"{poid:'{#poid#}'}\",\"url\":\"#23VP6VH4OAL0 (queryform)\"}]},{\"id\":\"grid2editor\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"itemnam\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"},{\"id\":\"amttext\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"},{\"id\":\"unittext\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"},{\"id\":\"cnttext\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"}]},{\"id\":\"formBar\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"sep1\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"text1\",\"labelWidth\":\"60\",\"xwlMeta\":\"text\",\"width\":\"300\",\"fieldLabel\":\"审批意见\"},{\"id\":\"sep2\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_agree\",\"text\":\"同意\",\"xwlMeta\":\"button\",\"click\":\"var taskId = '{#taskId#}';\\nvar loginName = '{#userName#}';\\nvar comment = text1.getValue();\\nif(comment === null ||  comment === \\\"\\\" ||　comment === \\\"undefined\\\"){\\n  \\tExt.Msg.alert(\\\"提示\\\",\\\"请录入审批意见!\\\") ;\\n  \\treturn false ;\\n}else{\\n   \\tvar callback = function(){\\n      \\tvar resp = Ext.JSON.decode(str) ;\\n        Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n          if(resp.flag === 0){\\t\\n            window.close();\\n          }\\n        }) ;\\n  \\t} ;\\n  \\tcompleteWorkItem(taskId,'agree2',comment,loginName,callback);\\n}\",\"iconCls\":\"ok_icon\"},{\"id\":\"sep3\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_disagree\",\"text\":\"不同意\",\"xwlMeta\":\"button\",\"click\":\"var taskId = '{#taskId#}' ;\\nvar loginName = '{#userName#}';\\nvar comment = text1.getValue();\\nif(comment === null || comment === ''){\\n  Ext.Msg.alert('提示','请录入审批意见!');\\n  return;\\n}else{\\n   \\tvar callback = function(){\\n      \\tvar resp = Ext.JSON.decode(str) ;\\n        Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n          if(resp.flag === 0){\\t\\n            window.close();\\n          }\\n        }) ;\\n  \\t} ;\\n  \\tdoRejectProcess(taskId,comment,loginName,callback);\\n}\",\"iconCls\":\"cancel_icon\"},{\"id\":\"sep4\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_consult\",\"text\":\"征询\",\"xwlMeta\":\"button\",\"click\":\"var taskId = '{#taskId#}' ;\\nvar loginName = '{#userName#}';\\n\\nvar comment = text1.getValue();\\nif(comment === null || comment === ''){\\n  \\tExt.Msg.alert('提示','请在审批意见框中录入征询备注信息!');\\n  \\treturn;\\n}else{\\n \\tvar callback = function(resp){\\n      if(resp.flag === \\\"0\\\"){\\t\\n        window.close();\\n      }\\n  \\t} ;\\n\\tdoConsult(taskId,loginName,callback,comment);\\n}\",\"iconCls\":\"help_icon\"},{\"id\":\"sep5\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_delegate\",\"text\":\"委派\",\"xwlMeta\":\"button\",\"click\":\"var taskId = '{#taskId#}' ;\\nvar loginName = '{#userName#}' ;\\n\\nvar comment = text1.getValue();\\nif(comment === null || comment === ''){\\n  \\tExt.Msg.alert('提示','请在审批意见框中录入委派备注信息!');\\n  \\treturn;\\n}else{\\n  \\tvar callback = function(resp){\\n      \\tif(resp.flag === \\\"0\\\"){\\t\\n        \\twindow.close();\\n      \\t}\\n  \\t} ;\\n  \\tdoDelegate(taskId,loginName,callback,comment) ;\\n}\",\"iconCls\":\"list_icon\"},{\"id\":\"sep6\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"saveAllbtn\",\"text\":\"保存\",\"pressed\":\"true\",\"xwlMeta\":\"button\",\"hidden\":\"true\",\"click\":\"if(curPoid===\\\"\\\"){\\n  //全部执行保存\\n  //表单保存\\n  // curPoid=SysUtil.getUuid(); //对于新增的数据赋值\\n   curPoid = Wb.getId();\\n  var val = PO_NO.getValue();\\n  var now = new Date();\\n var lastdate =now;\\n  var podate = PO_DATE.getValue();\\n // if(podate!=\\\"\\\"&&podate!=null){\\n   // podate = podate.split(' ')[0];\\n  //}\\n   var json={PO_ID:curPoid,PO_NO:PO_NO.getValue(),PO_DESC:PO_DESC.getValue(),VENDOR:VENDOR.getValue(),\\n                   ORG_ID:ORG_ID.getValue(),DEPT_ID:DEPT_ID.getValue(),BUYER:BUYER.getValue(),\\n             AMT:AMT.getValue(),PO_DATE:podate,CREATION_DATE:lastdate,CREATED_BY:userId,LAST_UPDATE_DATE:lastdate,\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n           ajax_add_po.request(json);\\n  \\n  //子表要保存的数据\\n  \\n  \\n}else{\\n  \\n  \\n}\"}]},{\"id\":\"grid2toolbar\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"addlBtn\",\"text\":\"新增\",\"pressed\":\"true\",\"xwlMeta\":\"button\",\"hidden\":\"true\",\"click\":\"var e=grid2.plugins[0],index=1;\\ne.completeEdit();\\ngrid2stroe.insert(0,{});\\n//deptAndPostGridStore.getAt(0).set('id','_'+Wb.getId());//temp id\\ngrid2stroe.getAt(0).set('PO_ID',curPoid);\\ne.startEditByPosition({row:0,column:3});\"},{\"id\":\"dellBtn\",\"text\":\"删除\",\"pressed\":\"true\",\"xwlMeta\":\"button\",\"hidden\":\"true\",\"click\":\"\\n var m=grid2.getSelectionModel(),s=m.getSelection(),i,j;\\nif (s.length==0) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n  \\n\\t\\tExt.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n\\t\\t\\t\\t\\tif(a=='yes'){\\n                      grid2.plugins[0].completeEdit();\\n                      i=grid2stroe.indexOf(s[0]);\\n                      grid2stroe.remove(s);\\n                      j = store1.getCount() - 1;\\n                      if (i > j)\\n                        i = j;\\n                      if (i > -1)\\n                        m.select(i);\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\tvar ids = [];\\n\\t\\t\\t\\t\\t\\tfor (var t = 0, l = s.length; t < l; t++) {\\n\\t\\t\\t\\t\\t\\t\\tvar r = s[t];\\n\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                \\tvar catid = r.data.PO_L_ID;\\n                          if(catid!=''&&catid!=null){\\n                            \\tids.push(\\\"'\\\"+catid+\\\"'\\\");\\n                          }\\n\\t\\t    \\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                }\\n\\t\\t\\t\\t\\t\\t\\n                      var sec_ids = ids.join(',');\\n                      hdel.request({poids:sec_ids});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\n  \\n  \\n\\n}\\n\"}]},{\"id\":\"grid2Colum\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"column2\",\"xwlMeta\":\"column\",\"type\":\"rowNumber\"},{\"id\":\"PO_ID_M_COL\",\"text\":\"采购订单ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"PO_ID\",\"flex\":\"1\"},{\"id\":\"PO_L_ID_COL\",\"text\":\"主键ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"PO_L_ID\",\"flex\":\"1\"},{\"id\":\"ITEM_NAME_COL\",\"editor\":\"itemnam\",\"text\":\"物资\",\"xwlMeta\":\"column\",\"dataIndex\":\"ITEM_NAME\",\"flex\":\"1\"},{\"id\":\"AMT_COLL\",\"editor\":\"amttext\",\"text\":\"金额\",\"xwlMeta\":\"column\",\"dataIndex\":\"AMT\",\"flex\":\"1\"},{\"id\":\"PRICE_COL\",\"text\":\"单价\",\"xwlMeta\":\"column\",\"dataIndex\":\"PRICE\",\"flex\":\"1\"},{\"id\":\"UNIT_COL\",\"editor\":\"unittext\",\"text\":\"单位\",\"xwlMeta\":\"column\",\"dataIndex\":\"UNIT\",\"flex\":\"1\"},{\"id\":\"CNT_COL\",\"editor\":\"unittext\",\"text\":\"数量\",\"xwlMeta\":\"column\",\"dataIndex\":\"CNT\",\"flex\":\"1\"}]},{\"id\":\"viewport1\",\"afterrender\":\"//alert('{#poid#}');\\n//Wb.load(form2,{\\\"poid\\\":'{#poid#}'});\\n//Wb.load(grid2stroe,{\\\"poid\\\":poid});\\n//form2.load();\\nformStore.load();\\n//form2.getForm().load({ \\n//  url:'main?xwl=23VP6VH4OAL0', \\n//  params:{poid:'{#poid#}'}, \\n//}); \\n\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"panel2\",\"xwlMeta\":\"panel\",\"layout\":\"border\",\"children\":[{\"tbar\":\"formBar\",\"id\":\"form2\",\"region\":\"north\",\"title\":\"订单信息\",\"height\":\"110\",\"xwlMeta\":\"form\",\"layout\":\"form\",\"children\":[{\"id\":\"panel3\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"children\":[{\"id\":\"PO_NO\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"220\",\"value\":\"{#PO_NO#}\",\"labelAlign\":\"right\",\"fieldLabel\":\"订单编号\"},{\"id\":\"PO_DESC\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"订单说明\"},{\"id\":\"VENDOR\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"供应商\"},{\"id\":\"BUYER\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"采购员\"}],\"border\":\"false\"},{\"id\":\"panel4\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"children\":[{\"id\":\"ORG_NAME\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"195\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织\"},{\"id\":\"orgBtn\",\"xwlMeta\":\"button\",\"width\":\"25\",\"click\":\"\\norgWin.show();\\norgstore.load();\",\"iconCls\":\"preview_icon\"},{\"id\":\"DEPT_NAME\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"width\":\"195\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门\"},{\"id\":\"deptBtn\",\"xwlMeta\":\"button\",\"width\":\"25\",\"click\":\"\\ndeptWin.show();\\ndeptstore.load();\",\"iconCls\":\"preview_icon\"},{\"id\":\"AMT\",\"labelWidth\":\"80\",\"readOnly\":\"true\",\"xwlMeta\":\"text\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"金额\"},{\"id\":\"PO_DATE\",\"labelWidth\":\"80\",\"xwlMeta\":\"date\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"采购日期\"}],\"border\":\"false\"},{\"id\":\"panel5\",\"xwlMeta\":\"panel\",\"hidden\":\"false\",\"layout\":\"column\",\"children\":[{\"id\":\"ORG_ID\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织ID\"},{\"id\":\"DEPT_ID\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"width\":\"220\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门ID\"}],\"border\":\"false\"}],\"border\":\"false\",\"bodyPadding\":\"5\"},{\"region\":\"center\",\"selType\":\"checkboxmodel\",\"store\":\"grid2store\",\"xwlMeta\":\"grid\",\"pagingToolbar\":\"true\",\"columns\":\"grid2Colum\",\"id\":\"grid2\",\"tbar\":\"grid2toolbar\",\"afterrender\":\"var taskState = '{#taskState#}' ;\\nvar isConsult = '{#isConsult#}' ;\\n\\nif(taskState == \\\"closed\\\"){\\n  formBar.hide() ;\\n}else if(taskState == \\\"hung-up\\\"){\\n  formBar.show() ;\\n  //formBar.removeAll() ; \\n  \\n  btn_agree.hide() ;\\n  sep3.hide() ;\\n  btn_disagree.hide() ;\\n  sep4.hide() ;\\n  btn_consult.hide() ;\\n  sep5.hide() ;\\n  btn_delegate.hide();\\n  sep6.hide();\\n  \\n  var btnRevokeConsult = Ext.create('Ext.Button', {\\n    text\\t: \\t'撤销征询',\\n    iconCls\\t:\\t'cancel_icon',\\n    handler\\t: \\tfunction() {\\n      var callback = function(str){\\n        if(str.flag === \\\"0\\\"){\\t\\n          Ext.Msg.alert(\\\"提示\\\",str.msg,function(){window.close();});\\n        }\\n      } ;\\n      revokeConsultTask('{#taskId#}',text1.getValue(),'{#userName#}',callback) ;\\n    }\\n  });\\n  formBar.add(btnRevokeConsult,'-') ;\\n}else{\\n  formBar.show() ;\\n}\",\"multiSelect\":\"true\",\"title\":\"订单明细行\",\"frame\":\"false\",\"border\":\"false\",\"simpleSelect\":\"true\",\"pluginType\":\"cellediting\"}],\"border\":\"false\"}]}],\"initScript\":\"var _taskId = request.getParameter(\\\"taskId\\\");\\nvar _insCode = request.getParameter(\\\"instanceCode\\\");\\nvar _businessId = request.getParameter(\\\"businessId\\\");\\nvar _userName = request.getParameter(\\\"username\\\");\\nvar _taskState = request.getParameter(\\\"taskState\\\");\\nvar _actCode = request.getParameter(\\\"actCode\\\");\\nvar _ctxPath = request.getParameter(\\\"contextPath\\\");\\n\\n\\n  var sql = \\\"select count(1) TOTAL from xip_wf_ins_task t where t.FROM_TASK_ID = '\\\" + _taskId +\\\"'\\\" ;\\n  var rr = DbUtil.query(request, sql);\\n  var isConsult = \\\"N\\\" ;\\n  while(rr.next()){\\n    var total = rr.getInt(\\\"TOTAL\\\") ;\\n    if(total.toString() === '1'){\\n      isConsult = 'Y';\\n    }\\n  }\\n\\n\\nrequest.setAttribute(\\\"taskId\\\",_taskId);\\nrequest.setAttribute(\\\"insCode\\\",_insCode);\\nrequest.setAttribute(\\\"poid\\\",_businessId);\\nrequest.setAttribute(\\\"userName\\\",_userName);\\nrequest.setAttribute(\\\"taskState\\\",_taskState);\\nrequest.setAttribute(\\\"actCode\\\",_actCode);\\nrequest.setAttribute(\\\"ctxPath\\\",_ctxPath);\\nrequest.setAttribute(\\\"isConsult\\\",isConsult);\",\"loginRequired\":\"false\"}","客户化审批页",null,0,0,"admin","2014-12-17 15:01:32.0","admin","2015-06-25 15:44:44.0",1],["23VP6VH4ODJV","23VNB76YLXKT",null,"待办审批",null,0,0,"admin","2014-12-17 15:09:23.0","admin","2015-06-23 17:54:23.0",15],["23VP8D49UUO8","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"instanceCode_insert_db\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update XIP_DEMO_PO_H\\n   set INST_CODE = {?INST_CODE?}\\n where PO_ID = {?PO_ID?}\",\"xwlMeta\":\"query\"}]}","instanceCode_insert_db",null,0,0,"admin","2014-12-17 15:48:05.0","admin","2014-12-17 17:31:16.0",12],["23VP8D49UUP6","23VNB76YLXKT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"工作流调用演示(WS)\",\"jsFiles\":\"[\\\"workflow/util/workflowWebServiceUtil4.0.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar userName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userName');\\n\\nvar protocol = request.getProtocol() ;\\nvar ipAddr = request.getServerName();\\nvar port = request.getServerPort() ;\\nvar ctxPath = request.getContextPath() ;\\n\\nprotocol = (protocol == \\\"HTTP/1.1\\\" ? \\\"http\\\" : \\\"https\\\") ;\\nvar url = protocol + \\\"://\\\" + ipAddr +\\\":\\\" + port + ctxPath ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\nrequest.setAttribute(\\\"appIP\\\",url);\\n\\nrequest.setAttribute(\\\"funId\\\",request.getParameter('funId'));\\nrequest.setAttribute(\\\"appId\\\",request.getParameter('appId'));\\n\",\"finalize\":\"var userId = '{#userId#}';\\n\\nvar curPoid=\\\"\\\";\\n\\nvar clickRowNum = 0;\\n\\n//设置总金额\\nfunction sumAmt(){\\n  grid2.plugins[0].completeEdit();\\n  \\n  var total = 0;\\n  for(var i=0; i<grid2stroe.getCount(); i++){\\n    var subRecord = grid2stroe.getAt(i);\\n    \\n    var subPrice = subRecord.get('PRICE');\\n    if(Ext.isEmpty(subPrice)){\\n      subPrice = 0;\\n    }\\n    \\n    var subCount = subRecord.get('CNT');\\n    if(Ext.isEmpty(subCount)){\\n      subCount = 0;\\n    }\\n    \\n    var subTotal = subPrice * subCount;\\n    \\n    total = total + subTotal;\\n  }\\n  \\n  AMT.setValue(total);\\n}\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23VOLTYRBKGH (poinsert)\",\"id\":\"ajax_add_po\",\"success\":\"var rec = grid2stroe.getModifiedRecords();\\nif(rec.length==0){\\n  window1.close();\\n  gride1store.load();\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n       if(rec[i].data.PO_L_ID==''){\\n        \\n         var json={PO_L_ID:Wb.getId(),PO_ID:curPoid,ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   CREATION_DATE:new Date(),CREATED_BY:userId,LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n         ajax_add_pol.request(json);\\n       }else{\\n          var json={PO_L_ID:Wb.getId(),ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n          ajax_update_pol.request(json);\\n       } \\n     }\\n      window1.close();\\n      gride1store.load();\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VOJCCPELDV (poldel)\",\"id\":\"hdel\",\"failure\":\"Ext.Msg.alert('提示','删除失败');\",\"success\":\"Ext.Msg.alert('提示','删除成功');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5NV3DHO5 (polinsert)\",\"id\":\"ajax_add_pol\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5ADLVOFY (polupdate)\",\"id\":\"ajax_update_pol\",\"success\":\"var rec = grid2stroe.getModifiedRecords();\\nif(rec.length==0){\\n  window1.close();\\n  gride1store.load();\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n       if(rec[i].data.PO_L_ID==''){\\n        \\n         var json={PO_L_ID:Wb.getId(),PO_ID:curPoid,ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   CREATION_DATE:new Date(),CREATED_BY:userId,LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n         ajax_add_pol.request(json);\\n       }else{\\n          var json={PO_L_ID:Wb.getId(),ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n          ajax_update_pol.request(json);\\n       } \\n     }\\n      window1.close();\\n      gride1store.load();\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5NV3DINS (poupdate)\",\"id\":\"ajax_update_po\",\"success\":\"var rec = grid2stroe.getModifiedRecords();\\nif(rec.length==0){\\n  window1.close();\\n  gride1store.load();\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n       if(rec[i].data.PO_L_ID==''){\\n        \\n         var json={PO_L_ID:Wb.getId(),PO_ID:curPoid,ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   CREATION_DATE:new Date(),CREATED_BY:userId,LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n         ajax_add_pol.request(json);\\n       }else{\\n          var json={PO_L_ID:rec[i].data.PO_L_ID,ITEM_NAME:rec[i].data.ITEM_NAME,UNIT:rec[i].data.UNIT,\\n                   PRICE:rec[i].data.PRICE,CNT:rec[i].data.CNT,AMT:rec[i].data.AMT,\\n                   LAST_UPDATE_DATE:new Date(),\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n          ajax_update_pol.request(json);\\n       } \\n     }\\n      window1.close();\\n      gride1store.load();\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5NV3DKGB (podel)\",\"id\":\"ajax_del_po\",\"success\":\" gride1store.load();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP5NV3DKHG (poldel2)\",\"id\":\"ajax_del_pol\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VP8D49UUO8 (instanceCode_insert_db)\",\"id\":\"saveInstanceCode_ajax\",\"success\":\"gride1store.load();\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"gride1store\",\"url\":\"#23VNB76YLXLF (poQuery)\",\"output\":\"form1\"},{\"xwlMeta\":\"store\",\"id\":\"grid2stroe\",\"url\":\"#23VNB76YM0N3 (polList)\"},{\"xwlMeta\":\"store\",\"id\":\"orgstore\",\"autoLoad\":\"true\",\"url\":\"#23VNMHKZ8ZBA (orgList)\",\"output\":\"form3,appId,funId\"},{\"xwlMeta\":\"store\",\"id\":\"deptstore\",\"autoLoad\":\"true\",\"url\":\"#23VNMHKZ8ZE5 (deptList)\",\"output\":\"form31\"}]},{\"xwlMeta\":\"folder\",\"id\":\"grid2editor\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"itemnam\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"unittext\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"pickList\":\"[['T','台'],['G','个'],['X','箱']]\",\"id\":\"unitCombo\"},{\"xwlMeta\":\"number\",\"autoCreate\":\"false\",\"id\":\"pricetext\",\"blur\":\"var selectRecord = grid2stroe.getAt(clickRowNum);\\n\\nvar price = this.getValue();\\nif(Ext.isEmpty(price)){\\n  price = 0;\\n}\\n\\nvar count = selectRecord.get('CNT');\\nif(Ext.isEmpty(count)){\\n  count = 0;\\n}\\n\\nselectRecord.set('AMT',price * count);\\n\\nsumAmt();\"},{\"xwlMeta\":\"number\",\"autoCreate\":\"false\",\"id\":\"cnttext\",\"blur\":\"var selectRecord = grid2stroe.getAt(clickRowNum);\\n\\nvar price = selectRecord.get('PRICE');\\nif(Ext.isEmpty(price)){\\n  price = 0;\\n}\\n\\nvar count = this.getValue();\\nif(Ext.isEmpty(count)){\\n  count = 0;\\n}\\n\\nselectRecord.set('AMT',price * count);\\n\\nsumAmt();\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"amttext\"}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"gridbar\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addBtn\",\"text\":\"新增订单\",\"click\":\"curPoid=\\\"\\\";\\nwindow1.title=\\\"新增采购订单\\\";\\nwindow1.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep00\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"editeBtn\",\"text\":\"修改订单\",\"click\":\"var rows = Wb.getSelRec(grid1);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n\\n  window1.title=\\\"修改采购订单\\\";\\n  form2.loadRecord(rows[0]);\\n  var poid = rows[0].data.PO_ID;\\n  curPoid = poid;\\n  Wb.load(grid2stroe,{\\\"poid\\\":poid});\\n  window1.show();\\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep001\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn1\",\"text\":\"删除订单\",\"click\":\"\\n var m=grid1.getSelectionModel(),s=m.getSelection(),i,j;\\nif (s.length==0) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n          if(grid1.getSelectionModel().getSelection()[0].get('STATUS')==='运行中'){\\n           Ext.MessageBox.alert('提示', '运行中的订单不能删除!');\\n           return;\\n          }\\n\\t\\tExt.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n\\t\\t\\t\\t\\tif(a=='yes'){\\n                 \\n                      i=gride1store.indexOf(s[0]);\\n                      gride1store.remove(s);\\n                      j = gride1store.getCount() - 1;\\n                      if (i > j)\\n                        i = j;\\n                      if (i > -1)\\n                        m.select(i);\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\tvar ids = [];\\n\\t\\t\\t\\t\\t\\tfor (var t = 0, l = s.length; t < l; t++) {\\n\\t\\t\\t\\t\\t\\t\\tvar r = s[t];\\n\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                \\tvar catid = r.data.PO_ID;\\n                          if(catid!=''&&catid!=null){\\n                            \\tids.push(\\\"'\\\"+catid+\\\"'\\\");\\n                          }\\n\\t\\t    \\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                }\\n\\t\\t\\t\\t\\t\\t\\n                      var sec_ids = ids.join(',');\\n                      ajax_del_po.request({poids:sec_ids});\\n                      ajax_del_pol.request({poids:sec_ids});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\n  \\n  \\n\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep002\",\"hidden\":\"true\"},{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"attachment\",\"text\":\"添加附件\",\"hidden\":\"true\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条数据');\\n}else{\\n  if(rows[0].data.PO_ID!=''){\\n       var json = {userId:'{#userId#}',src_id:rows[0].data.PO_ID,org_id:rows[0].data.ORG_ID,att_cat:'DEMO',bus_no:rows[0].data.PO_DESC,canUp:'Y',canDown:'Y',canDel:'Y',closeCallback:function(){}};\\n          showAttachmentManager(json); \\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep003\"},{\"xwlMeta\":\"button\",\"iconCls\":\"run_icon\",\"id\":\"start_ws\",\"text\":\"根据实体编码启动\",\"click\":\"\\nvar rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n        \\n        //var json = {AMT:rows[0].data.AMT,PO_DESC:rows[0].data.PO_DESC,PO_NO:rows[0].data.PO_NO,e_org:rows[0].data.ORG_ID,e_dept:rows[0].data.DEPT_ID,e_business_id:rows[0].data.PO_ID};\\n        \\n        var json = \\\"{AMT:'\\\"+rows[0].data.AMT+\\n            \\t   \\\"',PO_DESC:'\\\"+rows[0].data.PO_DESC+\\n                   \\\"',PO_NO:'\\\"+rows[0].data.PO_NO+\\n            \\t   \\\"',e_org:'\\\"+rows[0].data.ORG_ID+\\n                   \\\"',e_submitter_name:'{#userName#}\\\"+\\n            \\t   \\\"',APP_IP:'{#appIp#}\\\"+\\n            \\t   \\\"',e_dept:'\\\"+rows[0].data.DEPT_ID+\\n                   \\\"',e_business_id:'\\\"+rows[0].data.PO_ID+\\\"'}\\\";\\n        \\n        //2.通过entityCode创建实例\\n        createInstanceByEntityCode('XIP_DEMO',json,'{#userName#}',function(e){\\n            if(e.flag === \\\"1\\\"){\\n                 Ext.Msg.alert('提示','创建流程实例失败,原因：'+e.msg);\\n            }else if(e.flag === \\\"0\\\"){\\n                 Ext.Msg.alert('提示','流程实例创建成功,流程实例编码：'+e.instanceCode);\\n                 saveInstanceCode_ajax.request({\\n                   PO_ID\\t:\\trows[0].data.PO_ID,\\n                   INST_CODE:\\te.instanceCode,\\n                   APP_IP\\t:\\t'{#appIP#}'\\n                 });\\n            }\\n        });\\n      }else{\\n         Ext.Msg.alert('提示','请选择一条未创建的流程实例');\\n      }\\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep004\"},{\"xwlMeta\":\"button\",\"iconCls\":\"run_icon\",\"id\":\"startProcByProcCode\",\"text\":\"按流程编码启动\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){       \\n        createInstanceByProcessCode('XIP_WF_DEMO','{#userName#}',function(e){\\n            Ext.Msg.hide();\\n            if(e.flag == \\\"1\\\"){\\n                 Ext.Msg.alert('提示','创建流程实例失败,原因：'+e.msg);\\n            }else if(e.flag == \\\"0\\\"){\\n                 Ext.Msg.alert('提示','流程实例创建成功,流程实例编码：'+e.instanceCode);\\n                 saveInstanceCode_ajax.request({\\n                   \\tPO_ID\\t\\t:\\trows[0].data.PO_ID,\\n                   \\tINST_CODE\\t:\\te.instanceCode,\\n                 \\tAPP_IP\\t\\t:\\t'{#appIP#}'\\n                 });\\n            }\\n        });\\n      }else{\\n         Ext.Msg.alert('提示','请选择一条未创建的流程实例');\\n      }\\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep005\"},{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"submit_ws\",\"text\":\"提交流程\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条数据');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n          Ext.Msg.alert('提示','请选择一条已创建的流程实例的数据');\\n        \\n      }else if(Ext.isEmpty(rows[0].data.STATUS) || rows[0].data.STATUS === '起草'){\\n        \\n        //提交流程\\n       var json = \\\"{AMT:'\\\"+rows[0].data.AMT+\\n           \\t\\\"',PO_DESC:'\\\"+rows[0].data.PO_DESC+\\n           \\t\\\"',PO_NO:'\\\"+ rows[0].data.PO_NO+\\n           \\t\\\"',e_org:'\\\"+rows[0].data.ORG_ID+\\n           \\t\\\"',e_dept:'\\\"+rows[0].data.DEPT_ID+\\n           \\t\\\"',e_business_id:'\\\"+rows[0].data.PO_ID+\\n         \\t\\\"',e_business_code:'\\\"+rows[0].data.PO_NO+\\n         \\t\\\"',e_business_name:'\\\"+rows[0].data.PO_DESC+\\n           \\t\\\"',APP_IP:'{#appIP#}'}\\\";\\n        \\n        submitInstance(rows[0].data.INST_CODE,json,'{#userName#}',function(e){\\n          gride1store.load();\\n        },null);\\n      }else{\\n       Wb.warning('流程已提交,请重新选择！');\\n        return false;\\n      }\\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep006\"},{\"xwlMeta\":\"button\",\"iconCls\":\"check_icon\",\"id\":\"startAndsubmitProcess\",\"text\":\"启动并提交流程\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条订单信息');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n          //按实体编码启动并提交流程\\n         var json = \\\"{AMT:'\\\"+rows[0].data.AMT+\\n             \\t\\t\\\"',APP_IP:'{#appIP#}\\\"+\\n             \\t\\t\\\"',PO_DESC:'\\\"+rows[0].data.PO_DESC+\\n             \\t\\t\\\"',PO_NO:'\\\"+rows[0].data.PO_NO+\\n             \\t\\t\\\"',e_org:'\\\"+rows[0].data.ORG_ID+\\n             \\t\\t\\\"',e_dept:'\\\"+rows[0].data.DEPT_ID+\\n             \\t\\t\\\"',e_business_id:'\\\"+rows[0].data.PO_ID+\\n             \\t\\t\\\"',e_business_code:'\\\"+rows[0].data.PO_NO+\\n             \\t\\t\\\"',e_business_name:'\\\"+rows[0].data.PO_DESC+\\\"'}\\\";\\n        \\n        startAndSubmitByEntityCode('XIP_DEMO',json,'{#userName#}',function(e){\\n           var pjson = {\\n               PO_ID\\t\\t\\t\\t:\\trows[0].data.PO_ID,\\n               LAST_UPDATED_BY\\t:\\t'{#userId#}',\\n               INST_CODE\\t\\t\\t:\\te.instanceCode\\n           } ;\\n           saveInstanceCode_ajax.request(pjson);\\n        });\\n        \\n      }else{\\n         Ext.Msg.alert('提示','此订单已启动流程,请确认！');\\n      }\\n  }else{\\n      Ext.Msg.alert('提示','请保存订单数据信息后再启动流程！');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep007\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"revoke_ws\",\"text\":\"撤回流程\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条数据');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.ATTRIBUTE10 === 'A'){\\n        Wb.warning('该订单的流程未提交,请重新选择!');\\n        return false;\\n      }\\n      if(rows[0].data.INST_CODE === null){\\n          Ext.Msg.alert('提示','请选择一条已创建的流程实例的数据');\\n      }\\n         //撤回流程\\n        revokeByInstanceCode(rows[0].data.INST_CODE,'{#userName#}',function(e){\\n          Ext.Msg.alert('提示',e.msg);\\n          gride1store.load();\\n        });\\n      //}\\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep008\"},{\"xwlMeta\":\"button\",\"iconCls\":\"resume_icon\",\"id\":\"reset_ws\",\"text\":\"重启流程\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条数据');\\n}else{\\n  if(rows[0].data.PO_ID!==''){\\n      if(rows[0].data.INST_CODE===null){\\n          Ext.Msg.alert('提示','请选择一条已撤销的流程实例的数据');\\n          return;\\n      }//else if(rows[0].data.STATUS!=null){\\n          //重启流程并提交\\n        \\n        //不选择流程，按原来默认的流程方式\\n      //   var json = {create_user:rows[0].data.STR_VAL,inv_val:rows[0].data.NUMBER_VAL,userId:'{#userId#}',e_business_id:rows[0].data.ID};\\n      //   restartInstanceSubmit_ws(rows[0].data.INST_CODE,null,json,function(e){\\n     //     store.load();\\n     //   });\\n       //选择某个流程重启并提交 \\n        \\n        var json = \\\"{AMT:'\\\"+rows[0].data.AMT+\\n            \\t\\t\\\"',PO_DESC:'\\\"+rows[0].data.PO_DESC+\\n            \\t\\t\\\"',PO_NO:'\\\"+rows[0].data.PO_NO+\\n            \\t\\t\\\"',e_org:'\\\"+rows[0].data.ORG_ID+\\n            \\t\\t\\\"',e_dept:'\\\"+rows[0].data.DEPT_ID+\\n            \\t\\t\\\"',e_business_id:'\\\"+rows[0].data.PO_ID+\\n           \\t\\t \\t\\\"',e_business_code:'\\\"+rows[0].data.PO_NO+\\n            \\t\\t\\\"',e_business_name:'\\\"+rows[0].data.PO_DESC+\\n            \\t\\t\\\"',APP_IP:'{#appIP#}'}\\\"; \\n        \\n        getProcessIdByEntityCode('XIP_DEMO',json,'{#userName#}',function(e){\\n              if(e.flag===0){\\n                    restartInstanceSubmit(rows[0].data.INST_CODE,e.processId,json,'{#userName#}',function(e){ \\n                        gride1store.load();\\n                    });\\n              }else if(e.flag==1){\\n                 Ext.Msg.alert('提示',e.msg);\\n              }\\n        });\\n        \\n        \\n      //} \\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep009\"},{\"xwlMeta\":\"button\",\"iconCls\":\"viewport_icon\",\"id\":\"showMonitor\",\"text\":\"流程监控\",\"click\":\"var rows=grid1.getSelectionModel().getSelection();\\nif(rows.length!=1){\\n  Ext.Msg.alert('提示','请选择一条数据');\\n}else{\\n  if(rows[0].data.PO_ID !== ''){\\n      if(rows[0].data.INST_CODE === null){\\n          Ext.Msg.alert('提示','请选择一条已创建的流程实例的数据');\\n      }else{\\n          //提交流程\\n       \\n        showMonitorPage(rows[0].data.INST_CODE);\\n      }   \\n  }else{\\n      Ext.Msg.alert('提示','请先保存数据');\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep0010\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"formBar\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveAllbtn\",\"text\":\"保存\",\"click\":\"if(curPoid==\\\"\\\"){\\n  //全部执行保存\\n  //表单保存\\n  // curPoid=SysUtil.getUuid(); //对于新增的数据赋值\\n   curPoid = Wb.getId();\\n  var val = PO_NO.getValue();\\n  var now = new Date();\\n var lastdate =now;\\n  var podate = PO_DATE.getValue();\\n // if(podate!=\\\"\\\"&&podate!=null){\\n   // podate = podate.split(' ')[0];\\n  //}\\n   var json={PO_ID:curPoid,PO_NO:PO_NO.getValue(),PO_DESC:PO_DESC.getValue(),VENDOR:VENDOR.getValue(),\\n                   ORG_ID:ORG_ID.getValue(),DEPT_ID:DEPT_ID.getValue(),BUYER:BUYER.getValue(),\\n             AMT:AMT.getValue(),PO_DATE:podate,CREATION_DATE:lastdate,CREATED_BY:userId,LAST_UPDATE_DATE:lastdate,\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n           ajax_add_po.request(json);\\n  \\n  //子表要保存的数据\\n  \\n  \\n}else{\\n    var podate = PO_DATE.getValue();\\n    var json={PO_ID:curPoid,PO_NO:PO_NO.getValue(),PO_DESC:PO_DESC.getValue(),VENDOR:VENDOR.getValue(),\\n                   ORG_ID:ORG_ID.getValue(),DEPT_ID:DEPT_ID.getValue(),BUYER:BUYER.getValue(),\\n             AMT:AMT.getValue(),PO_DATE:podate,LAST_UPDATE_DATE:lastdate,\\n             LAST_UPDATED_BY:userId,LAST_UPDATE_LOGIN:userId};\\n           ajax_update_po.request(json);\\n  \\n}\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"grid2toolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addlBtn\",\"text\":\"新增\",\"click\":\"var e=grid2.plugins[0],index=1;\\ne.completeEdit();\\ngrid2stroe.insert(0,{});\\n//deptAndPostGridStore.getAt(0).set('id','_'+Wb.getId());//temp id\\ngrid2stroe.getAt(0).set('PO_ID',curPoid);\\ne.startEditByPosition({row:0,column:3});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem11\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"dellBtn\",\"text\":\"删除\",\"click\":\"\\n var m=grid2.getSelectionModel(),s=m.getSelection(),i,j;\\nif (s.length==0) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n  \\n\\t\\tExt.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n\\t\\t\\t\\t\\tif(a=='yes'){\\n                      grid2.plugins[0].completeEdit();\\n                      i=grid2stroe.indexOf(s[0]);\\n                      grid2stroe.remove(s);\\n                      j = grid2stroe.getCount() - 1;\\n                      if (i > j)\\n                        i = j;\\n                      if (i > -1)\\n                        m.select(i);\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\tvar ids = [];\\n\\t\\t\\t\\t\\t\\tfor (var t = 0, l = s.length; t < l; t++) {\\n\\t\\t\\t\\t\\t\\t\\tvar r = s[t];\\n\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                \\tvar catid = r.data.PO_L_ID;\\n                          if(catid!=''&&catid!=null){\\n                            \\tids.push(\\\"'\\\"+catid+\\\"'\\\");\\n                          }\\n\\t\\t    \\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t                }\\n\\t\\t\\t\\t\\t\\t\\n                      var sec_ids = ids.join(',');\\n                      hdel.request({poids:sec_ids});\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t});\\n\\n\\n  \\n  \\n\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem12\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"orgbar\",\"children\":[{\"xwlMeta\":\"button\",\"pressed\":\"true\",\"id\":\"okbtn\",\"text\":\"确定\",\"click\":\"var rows = Wb.getSelRec(orgGrid);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n \\n  form2.loadRecord(rows[0]);\\n  orgWin.close();\\n  \\n}\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"deptbar\",\"children\":[{\"xwlMeta\":\"button\",\"pressed\":\"true\",\"id\":\"okbtn1\",\"text\":\"确定\",\"click\":\"var rows = Wb.getSelRec(deptGrid);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}else{\\n \\n  form2.loadRecord(rows[0]);\\n  deptWin.close();\\n}\"}]},{\"xwlMeta\":\"array\",\"id\":\"panel1Btn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"queryBtn\",\"text\":\"查询\",\"click\":\"gride1store.load();\"},{\"xwlMeta\":\"button\",\"id\":\"resetBtn\",\"text\":\"重置\",\"click\":\"form1.getForm().reset();\\ngride1store.load();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"grid1Colum\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_ID\",\"id\":\"PO_ID_COL\",\"text\":\"订单ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_NO\",\"id\":\"PO_NO_COL\",\"text\":\"订单编号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_DESC\",\"id\":\"PO_DESC_COL\",\"text\":\"订单说明\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VENDOR\",\"id\":\"VENDOR_COL\",\"text\":\"供应商\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ORG_ID_COL\",\"text\":\"组织id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_COL\",\"text\":\"组织\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_ID\",\"id\":\"DEPT_ID_COL\",\"text\":\"部门id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_COL\",\"text\":\"部门\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUYER\",\"id\":\"BUYER_COL\",\"text\":\"采购员\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"AMT\",\"id\":\"AMT_COL\",\"text\":\"金额\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_DATE\",\"id\":\"PO_DATE_COL\",\"text\":\"采购日期\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"STATUS\",\"id\":\"STATUS_COL\",\"renderer\":\"if(value===null){\\n\\treturn '';\\n}\\nvar value = value.replace(' ','');\\nif(value=='A'){\\n\\treturn '起草';\\n}else if(value=='C'){\\n\\treturn '审批中';\\n}else if(value=='E'){\\n\\treturn '审批通过';\\n}else{\\n  return value ;\\n}\",\"text\":\"状态\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid2Colum\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column2\",\"text\":\"序号\",\"width\":\"40\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_ID\",\"id\":\"PO_ID_M_COL\",\"text\":\"采购订单ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PO_L_ID\",\"id\":\"PO_L_ID_COL\",\"text\":\"主键ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ITEM_NAME\",\"id\":\"ITEM_NAME_COL\",\"text\":\"物资\",\"width\":\"200\",\"editor\":\"itemnam\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"UNIT\",\"id\":\"UNIT_COL\",\"renderer\":\"if(value=='T'){\\n  return '台';\\n} else if(value=='G'){\\n  return '个';\\n} else if(value=='X'){\\n  return '箱';\\n} else {\\n  return value;\\n}\",\"text\":\"单位\",\"width\":\"80\",\"editor\":\"unitCombo\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRICE\",\"id\":\"PRICE_COL\",\"text\":\"单价\",\"width\":\"120\",\"editor\":\"pricetext\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CNT\",\"id\":\"CNT_COL\",\"text\":\"数量\",\"width\":\"120\",\"editor\":\"cnttext\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"AMT\",\"id\":\"AMT_COLL\",\"text\":\"金额\",\"width\":\"120\",\"editor\":\"amttext\"}]},{\"xwlMeta\":\"array\",\"id\":\"orgcolum\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column3\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_CODE\",\"id\":\"ORG_CODE_COL\",\"text\":\"组织编码\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ORG_ID_COL1\",\"text\":\"组织ID\",\"flex\":\"1\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_COL1\",\"text\":\"组织名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"deptcolum\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column31\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_CODE\",\"id\":\"DEPT_CODE_COL\",\"text\":\"部门编码\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_ID\",\"id\":\"DEPT_ID_COL11\",\"text\":\"部门ID\",\"flex\":\"1\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_COL11\",\"text\":\"部门名称\",\"flex\":\"1\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"popWins\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"orgWin\",\"title\":\"组织列表\",\"height\":\"400\",\"dialog\":\"false\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel6\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form3\",\"height\":\"35\",\"layout\":\"column\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织名称\",\"id\":\"orgname\",\"labelWidth\":\"80\",\"width\":\"220\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"id\":\"orgqueryBtn\",\"text\":\"查询\",\"click\":\"orgstore.load();\"}]},{\"xwlMeta\":\"grid\",\"store\":\"orgstore\",\"columns\":\"orgcolum\",\"height\":\"330\",\"id\":\"orgGrid\",\"tbar\":\"orgbar\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"deptWin\",\"title\":\"部门列表\",\"height\":\"400\",\"dialog\":\"false\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel61\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form31\",\"height\":\"35\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门名称\",\"id\":\"deptname\",\"labelWidth\":\"80\",\"width\":\"220\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"id\":\"deptqueryBtn\",\"text\":\"查询\",\"click\":\"deptstore.load();\"}]},{\"xwlMeta\":\"grid\",\"store\":\"deptstore\",\"columns\":\"deptcolum\",\"id\":\"deptGrid\",\"tbar\":\"deptbar\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"viewport_icon\",\"id\":\"window1\",\"height\":\"450\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"900\",\"close\":\"gride1store.load();\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"layout\":\"border\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form2\",\"tbar\":\"formBar\",\"height\":\"100\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel3\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"订单编号\",\"id\":\"PO_NO\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"订单说明\",\"id\":\"PO_DESC\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"供应商\",\"id\":\"VENDOR\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"采购员\",\"id\":\"BUYER\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel4\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织\",\"id\":\"ORG_NAME\",\"labelWidth\":\"70\",\"width\":\"175\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"orgBtn\",\"width\":\"25\",\"click\":\"\\norgWin.show();\\n\\norgstore.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门\",\"id\":\"DEPT_NAME\",\"labelWidth\":\"70\",\"width\":\"175\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"deptBtn\",\"width\":\"25\",\"click\":\"var orgname=ORG_NAME.getValue();\\nif(orgname !==\\\"\\\" &&  orgname !==null){\\n  deptWin.show();\\n  deptstore.load();\\n}else{\\n\\n  Ext.Msg.alert('提示', '请先选择组织' );\\n}\\n\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"总金额\",\"id\":\"AMT\",\"labelWidth\":\"70\",\"width\":\"200\",\"readOnly\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"采购日期\",\"id\":\"PO_DATE\",\"value\":\"new Date()\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"id\":\"panel5\",\"layout\":\"column\",\"border\":\"false\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织ID\",\"id\":\"ORG_ID\",\"labelWidth\":\"80\",\"width\":\"220\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门ID\",\"id\":\"DEPT_ID\",\"labelWidth\":\"80\",\"width\":\"220\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"grid2stroe\",\"columns\":\"grid2Colum\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"grid2\",\"tbar\":\"grid2toolbar\",\"multiSelect\":\"true\",\"cellclick\":\"clickRowNum = rowIndex;\\n\\nif(cellIndex==7){\\n  return false;\\n}\"}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"layout\":\"border\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"iconCls\":\"find_icon\",\"id\":\"form1\",\"height\":\"85\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"queryFiledSet\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"订单编号\",\"id\":\"ddbh\",\"labelWidth\":\"70\",\"labelAlign\":\"right\",\"specialkey\":\"gride1store.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"订单说明\",\"id\":\"desc\",\"labelWidth\":\"70\",\"labelAlign\":\"right\",\"specialkey\":\"gride1store.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"供应商\",\"id\":\"vendor1\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"gride1store.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn1\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"gride1store.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"minus_icon\",\"id\":\"resetBtn1\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"form1.getForm().reset();\\ngride1store.load();\"},{\"xwlMeta\":\"text\",\"id\":\"appId\",\"value\":\"{#appId#}\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"funId\",\"value\":\"{#funId#}\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"gride1store\",\"columns\":\"grid1Colum\",\"iconCls\":\"grid_icon\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"gridbar\",\"viewConfig\":\"{enableTextSelection:true}\",\"itemdblclick\":\"\\n  window1.setTitle('修改采购订单') ;\\n  form2.loadRecord(record);\\n  var poid = record.get('PO_ID');\\n  curPoid = poid;\\n  Wb.load(grid2stroe,{\\\"poid\\\":poid});\\n  window1.show();\\n\\n\\n\"}]}]}]}","采购订单(WS)",null,0,0,"admin","2014-12-17 16:00:25.0","23XQ4UO678F5","2015-10-27 16:50:12.0",12],["23VQQJ1QCUKP","23VMPVCRPO4Q","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"流程运行监控\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n\\n\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store4App\",\"pageSize\":\"-1\",\"params\":\"{'userId':'{#userId#}'}\",\"url\":\"#23VQR5C6E74L (db_select_apps)\"},{\"xwlMeta\":\"store\",\"id\":\"store4Entity\",\"pageSize\":\"-1\",\"url\":\"#23VQR5C6E74Q (db_select_entities)\",\"output\":\"cbxAppl\",\"load\":\"\\n\"},{\"xwlMeta\":\"store\",\"id\":\"store4Process\",\"pageSize\":\"-1\",\"url\":\"#23VTHW5ET8XF (db_select_pro)\",\"output\":\"cbxEntities\"},{\"xwlMeta\":\"store\",\"id\":\"store4ProVer\",\"pageSize\":\"-1\",\"url\":\"#23VUZFHBKQFZ (db_select_proVer)\",\"output\":\"cbxProcesses\"},{\"xwlMeta\":\"store\",\"id\":\"store4Acts\",\"pageSize\":\"-1\",\"url\":\"#23VTHW5ET9AF (db_select_acts)\",\"output\":\"cbxProcesses,cbxProVer\"},{\"xwlMeta\":\"store\",\"data\":\"[['','--请选择--'],['started','开始'],['running','运行'],['completed','完成'],['canceled','撤销'],['terminate','中断']]\\n\",\"id\":\"store4ActStatus\",\"fields\":\"['CODE', 'NAME']\"},{\"xwlMeta\":\"store\",\"id\":\"store4Grid\",\"fields\":\"[{name:'processId'},{name:'processCode'},{name:'processVersion'},{name:'instanceId'},{name:'instanceCode'},{name:'instanceTitle'},{name:'instanceState'},{name:'businessId'},{name:'businessCode'},{name:'businessName'}]\",\"url\":\"#23VTHW5ET94P (db_select_grid)\",\"output\":\"cbxEntities,cbxInsActs,cbxInsActStatus,cbxProcesses,cbxProVer,txtBiz,txtInsCode\"}]},{\"xwlMeta\":\"folder\",\"id\":\"req\",\"children\":[{\"xwlMeta\":\"ajax\",\"mask\":\"panel\",\"url\":\"#23VVBWCBSPQD (db_ajax_stop)\",\"id\":\"ajax_stop\",\"method\":\"POST\",\"timeout\":\"3600000\",\"showMask\":\"true\",\"failure\":\"Ext.Msg.alert('提示','流程实例终止失败!');  \",\"success\":\"var resp = Ext.JSON.decode(response.responseText) ;\\nif(resp.flag === '0'){\\n  Wb.load(store4Grid) ;\\n}\\nExt.Msg.alert('提示',resp.msg);  \"}]},{\"xwlMeta\":\"array\",\"id\":\"queryFormButtons\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btnQuery\",\"text\":\"查询\",\"click\":\"var appId = cbxAppl.getValue() ;\\nif(appId === '' || appId === null){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择应用!\\\");\\n  return false ;\\n}\\n\\nvar entityId = cbxEntities.getValue();\\nif(entityId === '' || entityId === null){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择业务实体!\\\");\\n  return false ;\\n}\\n\\nWb.load(store4Grid);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btnReset\",\"text\":\"重置\",\"click\":\"queryForm.form.reset();\\n\\ncbxEntities.disable();\\ncbxProcesses.disable();\\ncbxProVer.disable();\\ncbxInsActs.disable();\\ncbxInsActStatus.disable();\\n\\nstore4Grid.removeAll();\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"监控处理\",\"iconCls\":\"tool_icon\",\"id\":\"btnExecMonitor\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择流程实例信息!');\\n  return false ;\\n}else if(rows.length > 1){\\n  Ext.Msg.alert('提示','请选择一个流程实例信息!');\\n  return false ;  \\n}else{\\n  var insCode = rows[0].data.instanceCode ;\\n  var proId = rows[0].data.processId ;\\n  \\n  window.open('{#contextPath#}' + \\\"/workflow/task/RunningMonitor.jsp?varId=\\\"+insCode+\\\"&processId=\\\"+proId+\\\"&varType=ins\\\",\\\"_blank\\\");\\n  \\n  //window.open('{#contextPath#}' + \\\"/main?xwl=23VMPVCRPO51&varId=\\\"+insCode+ \\\"&varType=ins\\\",\\\"_blank\\\");\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"终止流程\",\"iconCls\":\"stop_icon\",\"id\":\"btnStopProcess\",\"tooltip\":\"终止流程按流程撤回处理\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择流程实例信息!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要终止所选的流程实例吗？',function(a){\\n    if(a=='yes'){\\n      var idList = \\\"\\\" ;\\n      Ext.each(rows,function(r){\\n      \\tvar insId = r.data.instanceId ;\\n        if(idList === \\\"\\\"){\\n          idList = insId ;\\n        }else{\\n          idList = idList+\\\",\\\"+insId ;\\n        }\\n      });\\n      var json = {'ids' : idList} ;\\n      ajax_stop.request(json);\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line3\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rowno\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"30\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"processId\",\"id\":\"pro_id\",\"text\":\"流程ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"processVersion\",\"id\":\"pro_ver\",\"text\":\"流程版本号\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"instanceId\",\"id\":\"ins_id\",\"text\":\"实例ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"instanceCode\",\"id\":\"ins_code\",\"text\":\"实例编码\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"instanceTitle\",\"id\":\"ins_title\",\"text\":\"实例标题\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"instanceState\",\"id\":\"ins_state\",\"renderer\":\"var insState = record.get('instanceState');\\n\\nif(insState == 'running'){\\n  return '运行中' ;\\n}else if(insState == 'started'){\\n  return '<font color=\\\\\\\"blue\\\">已启动<\\/font>' ;\\n}else{\\n  return insState ;\\n}\",\"text\":\"实例状态\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"businessId\",\"id\":\"biz_id\",\"text\":\"业务ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"businessCode\",\"id\":\"biz_code\",\"text\":\"业务编码\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"businessName\",\"id\":\"biz_name\",\"text\":\"业务名称\",\"width\":\"200\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"collapsible\":\"true\",\"id\":\"queryForm\",\"title\":\"查询条件\",\"buttons\":\"queryFormButtons\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1_1\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4App\",\"valueField\":\"APPID\",\"labelAlign\":\"right\",\"fieldLabel\":\"选择应用\",\"id\":\"cbxAppl\",\"displayField\":\"APPNAME\",\"labelWidth\":\"80\",\"select\":\"cbxEntities.setValue();\\ncbxEntities.enable();\\nWb.load(store4Entity);\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1_2\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4Entity\",\"valueField\":\"ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务实体\",\"id\":\"cbxEntities\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"disabled\":\"true\",\"select\":\"cbxProcesses.enable();\\n\\ncbxProcesses.setValue('');\\nstore4Process.removeAll();\\n\\nWb.load(store4Process);\\n\\nWb.load(store4Grid);\\n\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1_3\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4Process\",\"valueField\":\"ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务流程\",\"id\":\"cbxProcesses\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"disabled\":\"true\",\"select\":\"cbxProVer.enable();\\n\\nWb.load(store4ProVer) ;\\n\\nWb.load(store4Grid);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1_4\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4ProVer\",\"valueField\":\"CODE\",\"labelAlign\":\"right\",\"fieldLabel\":\"流程版本\",\"id\":\"cbxProVer\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"disabled\":\"true\",\"select\":\"cbxInsActs.enable();\\n\\nWb.load(store4Acts);\\n\\nWb.load(store4Grid);\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2_1\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4Acts\",\"valueField\":\"ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"流程节点\",\"id\":\"cbxInsActs\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"disabled\":\"true\",\"select\":\"cbxInsActStatus.enable();\\n\\nWb.load(store4Grid);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2_2\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4ActStatus\",\"valueField\":\"CODE\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"节点状态\",\"id\":\"cbxInsActStatus\",\"queryLike\":\"true\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"disabled\":\"true\",\"select\":\"Wb.load(store4Grid);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2_3\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"实例编码\",\"id\":\"txtInsCode\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(store4Grid);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2_4\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"业务信息\",\"id\":\"txtBiz\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(store4Grid);\\n}\"}]}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel\",\"title\":\"流程实例信息\",\"layout\":\"fit\",\"border\":\"true\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store4Grid\",\"columns\":\"colArray\",\"exportExcel\":\"false\",\"forceFit\":\"true\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"outputType\":\"all\",\"autoLoad\":\"false\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"var insCode = record.data.instanceCode ; \\nwindow.open('{#contextPath#}' + \\\"/workflow/task/RunningMonitor.jsp?varId=\\\"+insCode+\\\"&varType=ins\\\",\\\"_blank\\\");\"}]}]}]}","Running Monitor",null,0,0,"admin","2014-12-22 13:59:23.0","23XQ4UO678F8","2015-08-26 09:53:41.0",2],["23VQQJ1QCUKU","23VMPVCRPO4Q",null,"Running Monitor Subs","db_icon",1,0,"admin","2014-12-22 14:01:22.0","23XSWLY0BYLW","2015-08-25 10:31:32.0",4],["23VQR0HS5LT5","23VKVPUL841U",null,"流程测试管理",null,1,0,"admin","2014-12-22 14:44:22.0","23XSWLY0BYLW","2015-08-25 10:32:11.0",13],["23VQR0HS5LT6","23VQR0HS5LT8","{\"id\":\"module\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.attr_id ATTR_ID,\\n       t.attr_code ATTR_CODE,\\n       t.attr_name ATTR_NAME,\\n       t.attr_category ATTR_CATEGORY,\\n       t.func_type FUNC_TYPE,\\n       t.func_value FUNC_VALUE\\n  from xip_wf_entity_attrs t\\n where t.ENTITY_ID = (select a.ENTITY_ID from xip_wf_processes a\\n                       where t.ENTITY_ID = a.entity_id\\n                         and a.process_id = {?procId?})\\n   and t.attr_category = 'static'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Get EntityAttrs",null,0,0,"admin","2014-12-22 14:44:43.0","admin","2015-05-12 11:05:24.0",1],["23VQR0HS5LT8","23VQR0HS5LT5",null,"DATA",null,1,0,"admin","2014-12-22 14:44:57.0","23XSWLY0BYLW","2015-08-25 10:31:47.0",3],["23VQR0HS5LTB","23VQR0HS5LT5","{\"id\":\"module\",\"title\":\"流程测试管理\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attrValue\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"},{\"id\":\"req\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"ajax_test\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"流程测试失败!\\\") ;\",\"xwlMeta\":\"ajax\",\"success\":\"var response = Ext.JSON.decode(response.responseText);\\nvar flag = response.flag ;\\n\\nif(flag === \\\"0\\\"){\\n  resultStore.loadData(response.data);\\n  resultWin.show() ;\\n  \\n}else{\\n  Ext.Msg.alert(\\\"提示\\\",\\\"流程测试失败:\\\"+response.msg) ;\\n}\\n\",\"url\":\"#23WW4NT1ZPJY (Test Process)\"}]},{\"id\":\"stores\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"store1\",\"xwlMeta\":\"store\",\"pageSize\":\"-1\",\"output\":\"procId\",\"url\":\"#23VQR0HS5LT6 (Get EntityAttrs)\"},{\"id\":\"resultStore\",\"xwlMeta\":\"store\",\"fields\":\"['step','actCode','actName','actType','approver']\"},{\"id\":\"store4Orgs\",\"xwlMeta\":\"store\",\"pageSize\":\"20\",\"load\":\"menu4Org.showBy(cbx_org);\\n\\ncbx_org.blur(false,true);\\n\\n\",\"output\":\"orgName\",\"url\":\"#23WYJMWGPGFW (Get Orgs)\"},{\"id\":\"store4Depts\",\"xwlMeta\":\"store\",\"load\":\"menu4Dept.showBy(cbx_dept);\\n\\ncbx_dept.blur(false,true);\\n\\n\",\"output\":\"e_org,deptName\",\"url\":\"#23WYJMWGPGZN (Get Depts)\"},{\"id\":\"store4Users\",\"xwlMeta\":\"store\"}]},{\"id\":\"toolbars\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"toolbar4Org\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"orgName\",\"labelWidth\":\"40\",\"xwlMeta\":\"text\",\"width\":\"300\",\"labelAlign\":\"right\",\"fieldLabel\":\"名称 \",\"specialkey\":\"Wb.load(store4Orgs) ; \"}]},{\"id\":\"toolbar4Dept\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"deptName\",\"labelWidth\":\"40\",\"xwlMeta\":\"text\",\"width\":\"300\",\"labelAlign\":\"right\",\"fieldLabel\":\"名称\",\"specialkey\":\"Wb.load(store4Depts) ; \"}]}]},{\"id\":\"arrays\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"array4org\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"ID\",\"text\":\"组织ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"ID\"},{\"id\":\"CODE\",\"text\":\"编码\",\"xwlMeta\":\"column\",\"width\":\"100\",\"dataIndex\":\"CODE\"},{\"id\":\"NAME\",\"text\":\"名称\",\"xwlMeta\":\"column\",\"width\":\"250\",\"dataIndex\":\"NAME\"},{\"id\":\"SHORT_NAME\",\"text\":\"简称\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"SHORT_NAME\"}]},{\"id\":\"array4dept\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"DEPT_ID\",\"text\":\"部门ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"ID\"},{\"id\":\"DEPT_CODE\",\"text\":\"编码\",\"xwlMeta\":\"column\",\"width\":\"100\",\"dataIndex\":\"CODE\"},{\"id\":\"DEPT_NAME\",\"text\":\"名称\",\"xwlMeta\":\"column\",\"width\":\"250\",\"dataIndex\":\"NAME\"},{\"id\":\"DEPT_SHORT_NAME\",\"text\":\"简称\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"SHORT_NAME\"}]}]},{\"id\":\"meuns\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"menu4Org\",\"xwlMeta\":\"menu\",\"children\":[{\"store\":\"store4Orgs\",\"xwlMeta\":\"grid\",\"select\":\"cbx_org.setValue(record.get('NAME')) ;\\ne_org.setValue(record.get('ID'));\\nmenu4Org.hide();\\n\\ncbx_dept.setValue();\\ne_dept.setValue();\",\"width\":\"500\",\"columns\":\"array4org\",\"forceFit\":\"true\",\"id\":\"grid4org\",\"tbar\":\"toolbar4Org\",\"columnLines\":\"true\",\"title\":\"组织信息\",\"height\":\"400\",\"frame\":\"false\",\"exportExcel\":\"false\",\"autoLoad\":\"false\",\"exportPrint\":\"false\"}]},{\"id\":\"menu4Dept\",\"xwlMeta\":\"menu\",\"children\":[{\"store\":\"store4Depts\",\"xwlMeta\":\"grid\",\"select\":\"e_dept.setValue(record.get('ID'));\\ncbx_dept.setValue(record.get('NAME')) ;\\nmenu4Dept.hide();\",\"width\":\"500\",\"columns\":\"array4dept\",\"forceFit\":\"true\",\"id\":\"grid4dept\",\"tbar\":\"toolbar4Dept\",\"columnLines\":\"true\",\"title\":\"部门信息\",\"height\":\"400\",\"frame\":\"false\",\"exportExcel\":\"false\",\"autoLoad\":\"false\",\"exportPrint\":\"false\"}]}]},{\"id\":\"buttonArray\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"btnTest\",\"text\":\"测试\",\"xwlMeta\":\"button\",\"click\":\"// 获取内置参数\\nvar _e_submitter = e_submitter.getValue() ;\\nvar _e_org = e_org.getValue() ;\\nvar _e_dept = e_dept.getValue() ;\\nvar _e_business_id = e_business_id.getValue() ;\\nvar _e_business_code = e_business_code.getValue() ;\\nvar _e_business_name = e_business_name.getValue() ;\\nvar _processId = procId.getValue() ;\\n\\nvar json = {\\n  'e_submitter'\\t\\t:\\t_e_submitter,\\n  'e_org'\\t\\t\\t:\\t_e_org,\\n  'e_dept'\\t\\t\\t:\\t_e_dept,\\n  'e_business_id'\\t:\\t_e_business_id,\\n  'e_business_code'\\t:\\t_e_business_code,\\n  'e_business_name'\\t:\\t_e_business_name,\\n  'processId'\\t\\t:_processId\\n} ;\\n\\n// 获取自定义参数\\nvar rows = store1.data.items ;\\nExt.each(rows , function(r){\\n  var attrCode = r.get('ATTR_CODE') ;\\n  var attrResult = r.get('FUNC_VALUE') ;  \\n  \\n  json[attrCode] = attrResult ;\\n}) ;\\n\\n//var jsonstr = JSON.stringify(json) ;\\nvar attrs = Ext.JSON.encode(json) ;\\n\\nvar p = {'attributes':attrs} ;\\n\\n// 提交ajax请求\\najax_test.request(p);\",\"iconCls\":\"ok_icon\"},{\"id\":\"btnReset\",\"text\":\"重置\",\"xwlMeta\":\"button\",\"click\":\"form1.form.reset() ;\\nWb.load(store1);\",\"iconCls\":\"minus_icon\"}]},{\"id\":\"resultBtnArray\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"btnClose\",\"text\":\"关闭\",\"xwlMeta\":\"button\",\"click\":\"resultWin.hide();\",\"iconCls\":\"logout_icon\"}]},{\"id\":\"colArray\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"rowno\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"width\":\"35\",\"type\":\"rowNumber\"},{\"id\":\"ATTR_ID\",\"text\":\"属性ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"ATTR_ID\"},{\"id\":\"ATTR_CODE\",\"text\":\"编码\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"ATTR_CODE\"},{\"id\":\"ATTR_NAME\",\"text\":\"属性名\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"ATTR_NAME\"},{\"id\":\"ATTR_CATEGORY\",\"text\":\"属性类型\",\"xwlMeta\":\"column\",\"width\":\"80\",\"align\":\"center\",\"dataIndex\":\"ATTR_CATEGORY\",\"renderer\":\"if(value === 'static'){\\n  return '静态属性' ;\\n}else if(value === 'dynamic'){\\n  return '动态属性' ;\\n}else{\\n  return value ;\\n}\"},{\"id\":\"FUNC_TYPE\",\"text\":\"函数类型\",\"xwlMeta\":\"column\",\"width\":\"80\",\"align\":\"center\",\"dataIndex\":\"FUNC_TYPE\",\"renderer\":\"if(value === 'PROC'){\\n  return '存储过程' ;\\n}else if(value === 'WEB'){\\n  return 'Web服务' ;\\n}else{\\n  return value ;\\n}\"},{\"id\":\"FUNC_VALUE\",\"editor\":\"attrValue\",\"text\":\"函数名/属性值\",\"xwlMeta\":\"column\",\"width\":\"350\",\"dataIndex\":\"FUNC_VALUE\",\"renderer\":\"metaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:18px;';   \\nreturn value; \"}]},{\"id\":\"resultArray\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"step\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"width\":\"35\",\"align\":\"center\",\"dataIndex\":\"step\"},{\"id\":\"actCode\",\"text\":\"节点编码\",\"xwlMeta\":\"column\",\"width\":\"80\",\"dataIndex\":\"actCode\"},{\"id\":\"actName\",\"text\":\"节点名称\",\"xwlMeta\":\"column\",\"width\":\"100\",\"dataIndex\":\"actName\"},{\"id\":\"actType\",\"text\":\"节点类型\",\"xwlMeta\":\"column\",\"width\":\"70\",\"align\":\"center\",\"dataIndex\":\"actType\",\"renderer\":\"if(value === 'Start'){\\n  return '开始节点' ;\\n}else if(value === 'Notice'){\\n  return '通知节点' ;\\n}else if(value === 'Switch'){\\n  return '判断节点' ;\\n}else if(value === 'End'){\\n  return '结束节点' ;\\n}else if(value === 'Response'){\\n  return '抄送节点' ;\\n}else if(value === 'Function'){\\n  return '功能节点' ;\\n}else if(value === 'Countersign'){\\n  return '会签节点' ;\\n}else{\\n  return value ;\\n}\\n  \"},{\"id\":\"approver\",\"text\":\"执行人 (<font color=red><i>数据格式:用户名-员工姓名<\\/i><\\/font>)\",\"xwlMeta\":\"column\",\"width\":\"300\",\"dataIndex\":\"approver\",\"renderer\":\"metaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:20px;';   \\nreturn value; \"}]},{\"id\":\"resultWin\",\"title\":\"测试结果\",\"height\":\"450\",\"xwlMeta\":\"window\",\"width\":\"document.body.clientWidth*(.9)\",\"layout\":\"fit\",\"children\":[{\"id\":\"resultGrid\",\"store\":\"resultStore\",\"xwlMeta\":\"grid\",\"pagingToolbar\":\"false\",\"exportExcel\":\"false\",\"columns\":\"resultArray\",\"autoLoad\":\"false\",\"forceFit\":\"true\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\",\"exportPrint\":\"false\"}],\"closeAction\":\"hide\",\"buttonAlign\":\"righ\",\"buttons\":\"resultBtnArray\",\"dialog\":\"false\",\"modal\":\"true\"},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"border\",\"children\":[{\"id\":\"form1\",\"region\":\"north\",\"frame\":\"true\",\"xwlMeta\":\"form\",\"layout\":\"fit\",\"children\":[{\"id\":\"fieldSet1\",\"title\":\"流程内置属性\",\"height\":\"100\",\"xwlMeta\":\"fieldSet\",\"layout\":\"form\",\"children\":[{\"id\":\"cbx_org\",\"labelWidth\":\"180\",\"queryDelay\":\"160\",\"displayField\":\"NAME\",\"queryMode\":\"remote\",\"xwlMeta\":\"comboBox\",\"beforequery\":\"Wb.load(store4Orgs,{query:queryEvent.query});\",\"valueField\":\"ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织ID【e_org】\",\"editable\":\"false\"},{\"id\":\"cbx_dept\",\"labelWidth\":\"180\",\"queryDelay\":\"160\",\"displayField\":\"NMAE\",\"queryMode\":\"remote\",\"xwlMeta\":\"comboBox\",\"beforequery\":\"var e_org_id = e_org.getValue();\\nif(e_org_id === '' || e_org_id === null || e_org_id === 'undefined'){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择组织!\\\");\\n  return false ;\\n}\\n\\nWb.load(store4Depts,{query:queryEvent.query});\",\"valueField\":\"ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门ID【e_dept】\",\"editable\":\"false\"},{\"id\":\"e_submitter\",\"labelWidth\":\"180\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"fieldLabel\":\"提交人ID【e_submitter】\"},{\"id\":\"e_business_id\",\"labelWidth\":\"180\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务ID【e_business_id】\"},{\"id\":\"e_business_code\",\"labelWidth\":\"180\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务编码【e_business_code】\"},{\"id\":\"e_business_name\",\"labelWidth\":\"180\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务名称【e_business_name】\"},{\"id\":\"procId\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"value\":\"{#processId#}\",\"labelAlign\":\"right\",\"fieldLabel\":\"流程ID\"},{\"id\":\"e_org\",\"labelWidth\":\"180\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织ID\"},{\"id\":\"e_dept\",\"labelWidth\":\"180\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门ID\"}]}]},{\"region\":\"center\",\"store\":\"store1\",\"xwlMeta\":\"grid\",\"pagingToolbar\":\"false\",\"columns\":\"colArray\",\"buttons\":\"buttonArray\",\"forceFit\":\"true\",\"id\":\"grid1\",\"title\":\"自定义属性\",\"frame\":\"false\",\"exportExcel\":\"false\",\"buttonAlign\":\"righ\",\"pluginType\":\"cellediting\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\",\"exportPrint\":\"false\"}]}],\"initScript\":\"var processId = request.getParameter(\\\"processId\\\") ;\\n\\nrequest.setAttribute(\\\"processId\\\",processId) ;\",\"loginRequired\":\"false\"}","流程测试",null,0,0,"admin","2014-12-22 14:45:38.0","admin","2015-05-14 17:27:50.0",1],["23VQR5C6E74L","23VQQJ1QCUKU","{\"id\":\"module\",\"title\":\"db_select_appl\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT A.APP_ID APPID, A.APP_CODE APPCODE, A.APP_NAME APPNAME\\n  FROM XIP_PUB_APPS A\\n WHERE EXISTS (SELECT 1\\n          FROM XIP_PUB_APP_SEC B\\n         WHERE A.APP_ID = B.APP_ID\\n           AND B.USER_ID = {?userId?})\\n   AND A.ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}]}","db_select_apps",null,0,0,"admin","2014-12-22 15:54:31.0","admin","2015-04-24 14:52:21.0",2],["23VQR5C6E74Q","23VQQJ1QCUKU","{\"id\":\"module\",\"title\":\"db_select_entity\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT S.ENTITY_ID ID, S.ENTITY_CODE CODE, S.ENTITY_NAME NAME\\n  FROM XIP_WF_ENTITIES S\\n WHERE S.APP_ID = {?cbxAppl?}\",\"xwlMeta\":\"dataProvider\"}]}","db_select_entities",null,0,0,"admin","2014-12-22 15:54:45.0","admin","2015-04-24 14:53:23.0",3],["23VRM7XF4LFL","23VVZ3QMOKQA",null,"平台导航",null,0,0,"admin","2014-12-25 10:56:00.0","admin","2015-01-08 16:11:53.0",1],["23VRM7XF4LFO","23VRM7XF4LFL","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23VVWZNQT0YA (modifyPassword)\\\",\\\"#23XJBSONLAYE (navigatorCommonModal)\\\"]\",\"id\":\"module\",\"title\":\"{#mainPageTitle#}\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/Math.uuid.js\\\",\\\"pub/uip/common/scripts/md5.js\\\",\\\"pub/uip/common/scripts/TabCloseMenu.js\\\",\\\"platform/util/platformUtil.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar userName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userName');\\n\\nvar authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\n//var roleId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleId');\\nvar roleId = com.xzsoft.xip.platform.util.PlatformUtil.getUserRole(userId) ;\\nvar roleName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleName');\\nvar roleCode = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleCode');\\n\\n\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\n\\nrequest.setAttribute(\\\"authModel\\\",authModel);\\nrequest.setAttribute(\\\"roleId\\\",roleId);\\nrequest.setAttribute(\\\"roleName\\\",roleName);\\nrequest.setAttribute(\\\"roleCode\\\",roleCode);\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nvar pwdLenLimit= com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_LEN_LIMIT\\\");\\nvar pwdIncludeChar =  com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_INCLUDE_CHAR\\\");\\nvar homePage =  com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"HOME_PAGE\\\");\\nvar title = com.xzsoft.xip.platform.util.PlatformUtil.getXipConfigVal(\\\"loginPage.appName\\\");\\nrequest.setAttribute(\\\"mainPageTitle\\\",title);\\nrequest.setAttribute(\\\"PW_LEN_LIMIT\\\",pwdLenLimit);\\nrequest.setAttribute(\\\"PW_INCLUDE_CHAR\\\",pwdIncludeChar);\\nrequest.setAttribute(\\\"HOME_PAGE\\\",homePage);\\n\\nvar isShowBanner = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"SHOW_TOP_BANNER\\\");\\nrequest.setAttribute(\\\"isShowBanner\\\",isShowBanner);\\n\\nvar topBannerHeight = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"TOP_BANNER_HEIGHT\\\");\\n\\nif(topBannerHeight==null || \\\"\\\".equals(topBannerHeight)){\\n  topBannerHeight = 120;\\n}\\n\\nrequest.setAttribute(\\\"topBannerHeight\\\",topBannerHeight);\",\"finalize\":\"// window.onbeforeunload = function(event){\\n//   event = event || window.event;\\n//   var _x = event.clientX;\\n//   var _y = event.clientY;\\n\\n  \\n// };\",\"beforeunload\":\"// var n = window.event.screenX - window.screenLeft;  \\n// var tmpN = document.documentElement.scrollWidth-100;\\n// var b = false;\\n// if(Number(n)>Number(tmpN)){\\n//     b = true;\\n//   }\\n// if(b){\\n//   Ext.Ajax.request({\\n//   url : '{#contextPath#}' +'/frameAction.do?method=logout',\\n//   method: 'POST',\\n//   async:false,\\n//   success: function(response,options){\\n//     var temp = response.responseText;\\n//     var responseTmp = Ext.JSON.decode(temp);\\n//     if(responseTmp.flag=='1'){\\n//       var logoutUrl = responseTmp.logoutUrl ;\\n//       var callbackUrl = responseTmp.callbackUrl ;\\n//       window.location.href = logoutUrl + callbackUrl ;\\n//     }else{\\n//       Ext.Msg.alert(\\\"提示\\\",responseTmp.msg);\\n//     }\\n//   },\\n//   failure: function(response,options){\\n//     Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应,退出失败\\\");\\n//   }\\n// }); \\n// }\\n\\n\\n\\n\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"{#contextPath#}/frameAction.do?method=loadNavigatorTree\",\"id\":\"treeStore1\",\"autoLoad\":\"true\",\"fields\":\"[{name:'text'},{name:'fun_id'},{name:'url'},{name:'app_id'},{name:'fun_code'},{name:'app_code'},{name:'in_xip'},{name:'show_style'}]\"},{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"footer\":\"<script type=\\\"text/javascript\\\">\\n  \\n\\tvar index = 0;\\n  \\n    /*function createNewUrl(node){\\n        var newUrl ;\\n        if(node.in_xip == 'Y'){\\n            newUrl = '{#contextPath#}'+ node.url;\\n        }else{\\n            newUrl = node.url;\\n        }\\n        if(node.url.indexOf('?')>0){\\n            newUrl = newUrl+'&';\\n        }else{\\n            newUrl = newUrl+'?';\\n        }\\n        newUrl = newUrl+'userId='+'{#userId#}'+'&roleId='+'{#roleId#}'+'&funId='+node.fun_id+'&appId='+node.app_id+\\n        '&userName='+'{#userName#}'+'&roleCode='+'{#roleCode#}'+'&funCode='+node.fun_code+'&appCode='+node.app_code;\\n    \\n        return newUrl;\\n    }\\n    \\n    \\n    function getState(e){\\n        var fun_id = e.fun_id;\\n        if(document.readyState!='complete'){\\n          Ext.Ajax.request({\\n              url : '{#contextPath#}' +'/frameAction.do?method=getButtonAuthorityList',\\n              params:{\\n                    funId:e.fun_id\\n              },\\n              method: 'POST',\\n              success: function(response,options){\\n                  var temp = response.responseText;\\n                  var obj = Ext.JSON.decode(temp);\\n                  if(obj.length==0)return;\\n                  var win = document.getElementById(fun_id).contentWindow;\\n                  for(var i=0;i<obj.length;i++){\\n                      var btn_code = obj[i].btnCode;\\n                      var btElement = win.document.getElementById(btn_code);\\n                      if(btElement){\\n                          btElement.disabled=true;\\n                      }\\n                  } \\n              },\\n              failure: function(response,options){\\n                  Ext.Msg.alert('错误','失败，服务器没有响应');\\n              }\\n          });\\n        };\\n    }\\n  \\n    Array.prototype._indexOf = function(n){   \\n      if(\\\"indexOf\\\" in this){   \\n      \\treturn this[\\\"indexOf\\\"](n);   \\n      }   \\n      for(var i=0;i<this.length;i++){   \\n      \\tif(n===this[i]){   \\n      \\t\\treturn i;   \\n      \\t}   \\n      }   \\n      return -1;   \\n    }*/\\n  \\n      \\n<\\/script>\"},{\"xwlMeta\":\"store\",\"id\":\"roleStore\",\"params\":\"{userId:'{#userId#}'}\",\"url\":\"#23VRZHIK91WZ (Get Roles)\",\"load\":\"comboBox1.setValue('{#roleId#}');\\n \"},{\"xwlMeta\":\"toolbar\",\"id\":\"top_tbar\",\"afterrender\":\"if('{#authModel#}' == 'USER'){\\n  toolbar.remove(comboBox1);\\n}\\n\\nExt.Ajax.request({\\n  url : '{#contextPath#}' +'/main?xwl=23XRWETM8OYV',\\n  async: false, //发送同步请求\\n  method: 'POST',\\n  success: function(response,options){\\n    var linkResp = Ext.JSON.decode(response.responseText);\\n\\n    if(linkResp.rows.length==0){\\n      return;\\n    }\\n\\n    var linkItems = new Array();\\n\\n    for(var i=0; i<linkResp.rows.length; i++){\\n      var linkItem = linkResp.rows[i];\\n      \\n      linkItems.push({\\n        id:linkItem.CODE,\\n        text:linkItem.NAME,\\n        url:linkItem.URL,\\n        listeners:{\\n          'click':function(){\\n            window.open(this.url);\\n          }\\n        }\\n      });\\n    }\\n    \\n    var iMenu = {\\n      xtype:\\\"menu\\\",\\n      items:linkItems\\n    };\\n    \\n    top_tbar.add({\\n      id:\\\"links\\\",\\n      text:\\\"\\\",\\n      iconCls:'web_icon',\\n      listeners:{\\n        'mouseover':mouseOverEvent\\n      },\\n      menu:{\\n        xtype:\\\"menu\\\",\\n        items:linkItems\\n      }\\n    });\\n    \\n    top_tbar.add({id:\\\"line5\\\",xtype:\\\"tbseparator\\\"});\\n    top_tbar.add(btnModifyPwd);\\n    top_tbar.add(line3); \\n    top_tbar.add(btnExit);\\n    top_tbar.add(line4);\\n    \\n    links.doAutoRender();\\n  },\\n  failure: function(response,options){\\n  }\\n});\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"roleStore\",\"valueField\":\"ROLE_ID\",\"width\":\"250\",\"labelAlign\":\"right\",\"fieldLabel\":\"切换职责\",\"id\":\"comboBox1\",\"displayField\":\"ROLE_NAME\",\"labelWidth\":\"60\",\"select\":\"Ext.MessageBox.confirm('提示', '您确定要切换职责吗?', function (opt) {\\n   if (opt == 'yes') {\\t\\n     \\n     var selectRoleId = comboBox1.getValue();\\n     var selectRoleCode = '';\\n     var selectRoleName = '';\\n     \\n     var rowIndex = roleStore.findBy(function(record){\\n       if(record.get('ROLE_ID')==selectRoleId){\\n         selectRoleCode = record.get('ROLE_CODE');\\n       \\t selectRoleName = record.get('ROLE_NAME');\\n       }\\n     });\\n     \\n     var msg = Ext.MessageBox.show({\\n       title \\t: \\t'请等待',\\n       msg \\t \\t: \\t'正在提交请求.......',\\n       width \\t: \\t240,\\n       wait\\t \\t: \\ttrue,\\n       progress : \\ttrue,\\n       closable : \\tfalse\\n     });\\n     \\n     Ext.Ajax.request({\\n       url : '{#contextPath#}'+'/frameAction.do?method=switchRole',\\n       params:{\\\"roleId\\\":selectRoleId,\\\"roleName\\\":selectRoleName,\\\"roleCode\\\":selectRoleCode},\\n       method: 'POST',\\n       success: function(response,options){\\n         msg.hide();\\n         var temp = response.responseText;\\n         var response = Ext.JSON.decode(temp);\\n         if(response.flag=='1'){\\n           window.location.reload();\\n           comboBox1.setValue(selectRoleId);\\n         }else{\\n           Ext.Msg.alert(\\\"提示\\\",response.msg);\\n         }\\n       },\\n       failure: function(response,options){\\n         msg.hide();\\n         Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应,退出失败\\\");\\n       }\\n     });\\n     \\n   }  \\n });\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"line1\"},{\"xwlMeta\":\"label\",\"text\":\"当前用户:{#XIP.empName#}\",\"id\":\"currentUser\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line2\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"key_icon\",\"id\":\"btnModifyPwd\",\"tooltip\":\"修改密码\",\"click\":\"modifyPwdWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line3\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"logout_icon\",\"id\":\"btnExit\",\"tooltip\":\"退出系统\",\"click\":\" Ext.MessageBox.confirm('提示', '您确定要退出吗?', function (opt) {\\n   if (opt == 'yes') {\\n     var msg = Ext.MessageBox.show({\\n       title \\t: \\t'请等待',\\n       msg \\t \\t: \\t'正在提交请求.......',\\n       width \\t: \\t240,\\n       wait\\t \\t: \\ttrue,\\n       progress : \\ttrue,\\n       closable : \\tfalse\\n     });\\t\\n     \\n     Ext.Ajax.request({\\n       url : '{#contextPath#}'+'/frameAction.do?method=logout',\\n       method: 'POST',\\n       success: function(response,options){\\n         msg.hide();\\n         var temp = response.responseText;\\n         var response = Ext.JSON.decode(temp);\\n         if(response.flag=='1'){\\n           var logoutUrl = response.logoutUrl ;\\n           var callbackUrl = response.callbackUrl ;\\n           window.location.href = logoutUrl + callbackUrl ;\\n           \\n         }else{\\n           Ext.Msg.alert(\\\"提示\\\",response.msg);\\n         }\\n       },\\n       failure: function(response,options){\\n         msg.hide();\\n         Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应,退出失败\\\");\\n       }\\n     });\\n   }\\n });\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line4\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"afterrender\":\"roleStore.load();\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"bgColor\":\"#dff1fb\",\"id\":\"topPanel\",\"height\":\"({#topBannerHeight#}>120 ) ? 120: {#topBannerHeight#}\",\"bodyStyle\":\"background-repeat:no-repeat\",\"hidden\":\"'{#isShowBanner#}'=='Y' ? false: true\",\"split\":\"true\",\"html\":\"<img src='{#contextPath#}/images/top.png'>\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"tbar\":\"top_tbar\",\"id\":\"mainPanel\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"treeStore1\",\"collapsible\":\"true\",\"root\":\"{text:Str.all,itemId:-1,expanded:true}\",\"id\":\"treePanel1\",\"title\":\"系统导航\",\"scroll\":\"both\",\"width\":\"document.body.clientWidth*(.18)\",\"rootVisible\":\"false\",\"split\":\"true\",\"viewConfig\":\"{\\n\\tplugins:{pluginId:'ddPlug',ptype:'treeviewdragdrop'},\\n\\tlisteners:{\\n\\t\\tbeforedrop:function(node,data,om,dp){\\n\\t\\t\\tvar s=Wb.getNode(node),d=Wb.getNode(data.item);\\n\\t\\t\\tif(!s||!d)return false;\\n\\t\\t\\tWb.saveNodePos(d);\\n\\t\\t\\treturn dp=='append'&&d.parentNode!=s||dp!='append'&&d.parentNode!=s.parentNode;\\n\\t\\t},\\n\\t\\tdrop:function(node,data,om,dp){\\n\\t\\t\\tvar d=Wb.getNode(data.item),pi=d.parentNode.get('itemId');\\n\\t\\t\\tWb.request({url:'main?xwl=13MQDOSBYDRH',mask:tree1,\\n\\t\\t\\tparams:{itemId:d.get('itemId'),parentId:pi},\\n\\t\\t\\tfailure:function(){Wb.revertNodePos(d);},\\n\\t\\t\\tsuccess:function(){d.set('PARENT_ID',pi);d.commit();}});\\n\\t\\t}\\n\\t}\\n}\",\"itemclick\":\"var isleaf = record.data.leaf ;\\nif(isleaf){\\n  var frame = window.frames['iframe'+record.data.fun_id];\\n  funcMenuClick4Page(record.data, funTabPanel, document); \\n  /*var id = \\\"tab$\\\" + record.data.fun_id; \\n  var keys = funTabPanel.items.keys ; \\n  if (keys._indexOf(id) == -1) {\\n    var tab = {};\\n    tab.id = id;\\n    tab.title = record.data.text;\\n    tab.closable=true;\\n    tab.tabUrl = createNewUrl(record.data);\\n    tab.html='<iframe id=iframe'+record.data.fun_id+' fun_id ='+record.data.fun_id+' scrolling=\\\"auto\\\" onload=\\\"getState(record.data)\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\" src=\\\"'+ createNewUrl(record.data)+'\\\"><\\/iframe>';\\n    funTabPanel.add(tab);  \\n  }\\n  funTabPanel.setActiveTab(id);\\n    var frame = window.frames['iframe'+record.data.fun_id];\\n    frame.height = document.getElementById(id+\\\"-body\\\").style.height;*/\\n}\"},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"autoScroll\":\"true\",\"plugins\":\"{ptype:'tabclosemenu'}\",\"id\":\"funTabPanel\",\"activeTab\":\"panel1\",\"afterrender\":\"tab.mon(tab.tabBar,'dblclick',function(sender, newCard) {\\n  //alert(tab.getActiveTab().tabUrl);\\n  if(tab.getActiveTab().getId() != 'indexPanel'){\\n    window.open(tab.getActiveTab().tabUrl);\\n  }\\n},tab);\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"indexPanel\",\"title\":\"首页\",\"height\":\"'100%'\",\"border\":\"false\",\"html\":\"<iframe  scrolling=auto frameborder=0 width=100% height=100% id=idx_page onmouseover = hideMenus()><\\/iframe>\",\"activate\":\"if(Ext.isChrome){\\n  var frame =document.getElementById('idx_page');\\n  frame.height = document.getElementById(\\\"indexPanel-body\\\").style.height;\\n}\\n\",\"afterrender\":\"var mainPage = '{#contextPath#}' + '/frame/black.jsp' ;\\nvar homePage ='{#HOME_PAGE#}';\\nif(homePage!==null && homePage!==\\\"\\\" && homePage!==\\\"undefined\\\"){\\n                   mainPage = '{#contextPath#}' + homePage;\\n                   if(mainPage.indexOf('?')!=-1){\\n                     mainPage = mainPage + '&userId=' + '{#userId#}' + '&roleId=' + '{#roleId#}' + '&userName=' + '{#userName#}' + '&roleCode=' + '{#roleCode#}' ;\\n                   }else{\\n                       mainPage = mainPage + '?userId=' + '{#userId#}' + '&roleId=' + '{#roleId#}' + '&userName=' + '{#userName#}' + '&roleCode=' + '{#roleCode#}' ;\\n                   }\\n}\\nvar frame =document.getElementById('idx_page');\\nif(Ext.isChrome){\\n  var _tmpHeight = document.getElementById(\\\"indexPanel-body\\\").style.height;\\n  if(Ext.isEmpty(_tmpHeight)){\\n    var topHeightVar = topPanel.getHeight();\\n    _tmpHeight = document.body.clientHeight -top_tbar.getHeight()*4-funTabPanel.getTabBar().getHeight()-topHeightVar;\\n    frame.height =_tmpHeight;\\n    \\n  }\\n}\\nframe.src = mainPage ;\\n\\n\\n\\n\\n\\n\\n\"}]}]}]}]}","Tree Navigator",null,0,0,"admin","2014-12-25 10:58:14.0","23XQ4B4KHDBR","2015-10-26 14:51:56.0",1],["23VRM7XF4LFR","23VRM7XF4LFL",null,"Tree Navigator Subs","db_icon",1,0,"admin","2014-12-25 10:58:42.0","admin","2015-06-05 14:05:56.0",2],["23VRM7XF4LFS","23VRM7XF4LFR","{\"id\":\"module\",\"title\":\"Get Navigator Tree\",\"initMethod\":\"com.xzsoft.xip.platform.action.FrameAction.loadNavigatorTree\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"initScript\":\"\\n\"}","Get Navigator Tree",null,0,0,"admin","2014-12-25 10:58:50.0","admin","2014-12-30 14:15:48.0",1],["23VRZHIK91WZ","23VRM7XF4LFR","{\"id\":\"module\",\"title\":\"Get Roles\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select ur.USER_ROLE_ID,\\n       ur.USER_ID,\\n       ur.ROLE_ID,\\n       ur.ISDEFAUT,\\n       ur.ORDERBY,\\n       r.ROLE_CODE,\\n       r.ROLE_NAME\\n  from xip_pub_user_roles ur, xip_pub_role r\\n where ur.enable_flag = 'Y'\\n   and ur.user_id = {?userId?}\\n   and ur.role_id = r.role_id\\n\\nunion\\n\\t\\t \\n\\t\\t select '' USER_ROLE_ID,\\n\\t\\t        {?userId?} USER_ID,\\n\\t\\t        r.role_id ROLE_ID,\\n\\t\\t        'N' ISDEFAUT,\\n\\t\\t        '20' ORDERBY,\\n\\t\\t        r.role_code ROLE_CODE,\\n\\t\\t        r.role_name ROLE_NAME\\n\\t\\t   from xip_pub_role r\\n\\t\\t  where r.ATTRIBUTE1 = 'S'\\n\\t\\t    and (select u.user_type from xip_pub_users u where u.user_id = {?userId?}) = 'S'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Get Roles",null,0,0,"admin","2014-12-26 15:35:16.0","admin","2015-06-10 15:57:56.0",3],["23VTFTNDAVRS","23VL9CC5TPUO",null,"系统配置文件","property_icon",1,0,"admin","2014-12-31 09:22:47.0","23XSWLY0BYLW","2015-08-25 10:26:11.0",8],["23VTFTNDAVRY","23VTFTNDAVRS","{\"id\":\"module\",\"title\":\"propertyList\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"store\",\"xwlMeta\":\"store\",\"url\":\"{#contextPath#}/platformAction.do?method=getProperties\",\"fields\":\"[{name:'name'},{name:'value'},{name:'note'}]\"},{\"id\":\"editors\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"text1\",\"xwlMeta\":\"text\"}]},{\"id\":\"columns\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"rownumber\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"width\":\"35\",\"type\":\"rowNumber\"},{\"id\":\"nameColumn\",\"text\":\"配置项\",\"xwlMeta\":\"column\",\"width\":\"220\",\"dataIndex\":\"name\"},{\"id\":\"valueCoumn\",\"editor\":\"text1\",\"text\":\"值\",\"xwlMeta\":\"column\",\"width\":\"320\",\"dataIndex\":\"value\"},{\"id\":\"noteColumn\",\"text\":\"说明\",\"xwlMeta\":\"column\",\"width\":\"400\",\"dataIndex\":\"note\"}]},{\"id\":\"toolbar1\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"menuItem1\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_save\",\"text\":\"保存\",\"xwlMeta\":\"button\",\"click\":\"var modifies = store.getModifiedRecords();\\n\\nif(modifies==='' || modifies.length===0){\\n  Ext.Msg.alert('提示','没有修改保存的记录!');\\n  return;\\n}\\n\\nvar json = \\\"{\\\";\\n\\nfor(var i=0; i<modifies.length; i++){\\n  var record = modifies[i];\\n  json = json + \\\"'\\\" +record.get('name') + \\\"':'\\\" + encodeURI(record.get('value')).replace(/\\\\'/g,\\\"\\\\\\\\'\\\") + \\\"',\\\";\\n}\\n\\njson = json.substring(0, json.length-1);\\n\\njson = json + \\\"}\\\";\\n\\n//var json = Ext.JSON.encode(json);\\n\\nvar msg = Ext.MessageBox.show({\\n  title \\t: \\t'请等待',\\n  msg \\t \\t: \\t'正在提交请求.......',\\n  width \\t: \\t240,\\n  wait\\t \\t: \\ttrue,\\n  progress : \\ttrue,\\n  closable : \\tfalse\\n});\\n\\nExt.Ajax.request({\\n  url : '{#contextPath#}'+'/platformAction.do?method=saveProperties',\\n  params:{\\\"modifyJson\\\":json},\\n  method: 'POST',\\n  success: function(response,options){\\n    msg.hide();\\n    var temp = response.responseText;\\n    var resp = Ext.JSON.decode(temp);\\n    if(resp.flag=='0'){\\n      Ext.Msg.alert(\\\"提示\\\",'保存成功!');\\n      store.load();\\n    }else{\\n      Ext.Msg.alert(\\\"提示\\\",'保存失败:'+resp.msg);\\n    }\\n  },\\n  failure: function(response,options){\\n    msg.hide();\\n    Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应!\\\");\\n  }\\n});\",\"iconCls\":\"save_icon\"},{\"id\":\"menuItem2\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"}]},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"tbar\":\"toolbar1\",\"id\":\"grid\",\"multiSelect\":\"false\",\"selType\":\"checkboxmodel\",\"store\":\"store\",\"xwlMeta\":\"grid\",\"sortableColumns\":\"true\",\"columns\":\"columns\",\"pluginType\":\"cellediting\"}]}],\"initScript\":\"var contextPath = request.getContextPath();\\n\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\"}","propertyList",null,0,0,"admin","2014-12-31 09:23:34.0","admin","2015-06-29 09:59:52.0",1],["23VTFTNDAVSF","23VTFTNDAVRS",null,"data",null,1,0,"admin","2014-12-31 09:57:59.0","admin","2015-06-05 14:05:43.0",2],["23VTFTNDAVSG","23VTFTNDAVSF","{\"id\":\"module\",\"title\":\"getProperty\",\"finalMethod\":\"com.xzsoft.xip.platform.action.PlatformAction.getProperties\",\"xwlMeta\":\"module\"}","getProperty",null,0,0,"admin","2014-12-31 09:59:05.0","admin","2014-12-31 10:07:12.0",1],["23VTHW5ET8XF","23VQQJ1QCUKU","{\"id\":\"module\",\"title\":\"db_select_pro\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT T.PROCESS_ID   ID,\\n       T.ENTITY_ID    ENTITYID,\\n       T.PROCESS_CODE CODE,\\n       T.PROCESS_NAME NAME\\n  FROM XIP_WF_PROCESSES T\\n WHERE T.ENTITY_ID = {?cbxEntities?}\",\"xwlMeta\":\"dataProvider\"}]}","db_select_pro",null,0,0,"admin","2014-12-31 15:33:43.0","admin","2015-04-24 14:55:25.0",4],["23VTHW5ET94P","23VQQJ1QCUKU","{\"id\":\"module\",\"title\":\"db_select_grid\",\"initMethod\":\"com.xzsoft.xip.wf.action.RunningMonitorAction.getInstances4Monitor\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\"}","db_select_grid",null,0,0,"admin","2014-12-31 16:33:28.0","admin","2015-01-06 15:09:10.0",7],["23VTHW5ET9AF","23VQQJ1QCUKU","{\"id\":\"module\",\"title\":\"db_select_acts\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\" select distinct t.act_id id,'【'||t.act_code||'】-'||t.act_name name\\n   from xip_wf_ins_acts t\\n  where t.process_id = {?cbxProcesses?}\\n    and exists (select 1\\n           from xip_wf_process_instance a\\n          where t.process_id = a.process_id\\n            and t.instance_id = a.instance_id\\n            and a.instance_state = 'running'\\n            and a.process_version = {?cbxProVer?})\",\"mysql\":\" select distinct t.act_id ID,concat('【',t.act_code,'】-',t.act_name) NAME\\n   from xip_wf_ins_acts t\\n  where t.process_id = {?cbxProcesses?}\\n    and exists (select 1\\n           from xip_wf_process_instance a\\n          where t.process_id = a.process_id\\n            and t.instance_id = a.instance_id\\n            and a.instance_state = 'running'\\n            and a.process_version = {?cbxProVer?})\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}]}","db_select_acts",null,0,0,"admin","2014-12-31 17:12:00.0","admin","2015-04-24 14:47:36.0",6],["23VUZFHBKQFZ","23VQQJ1QCUKU","{\"id\":\"module\",\"title\":\"db_select_proVer\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT DISTINCT T.PROCESS_VERSION CODE, T.PROCESS_VERSION NAME\\n  FROM XIP_WF_PROCESS_INSTANCE T\\n WHERE T.PROCESS_ID = '{#cbxProcesses#}'\\n   AND T.INSTANCE_STATE = 'running'\\n ORDER BY T.PROCESS_VERSION\",\"xwlMeta\":\"dataProvider\"}]}","db_select_proVer",null,0,0,"admin","2015-01-05 10:29:13.0","admin","2015-04-24 14:45:00.0",5],["23VVBWCBSPQD","23VQQJ1QCUKU","{\"id\":\"module\",\"title\":\"db_ajax_stop\",\"initMethod\":\"com.xzsoft.xip.wf.action.RunningMonitorAction.stopProcessInstance\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\"}","db_ajax_stop",null,0,0,"admin","2015-01-06 14:57:00.0","admin","2015-01-06 15:23:46.0",8],["23VVL2NDQLT5","23VRM7XF4LFL","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23VVWZNQT0YA (modifyPassword)\\\",\\\"#23XJBSONLAYE (navigatorCommonModal)\\\"]\",\"id\":\"module\",\"title\":\"{#mainPageTitle#}\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/Math.uuid.js\\\",\\\"pub/uip/common/scripts/md5.js\\\",\\\"pub/uip/common/scripts/TabCloseMenu.js\\\",\\\"platform/util/platformUtil.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar userName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userName');\\nvar empName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('empName');\\n\\nvar authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nvar roleId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleId');\\nvar roleName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleName');\\nvar roleCode = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleCode');\\n\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\nrequest.setAttribute(\\\"empName\\\",empName);\\n\\nrequest.setAttribute(\\\"authModel\\\",authModel);\\nrequest.setAttribute(\\\"roleId\\\",roleId);\\nrequest.setAttribute(\\\"roleName\\\",roleName);\\nrequest.setAttribute(\\\"roleCode\\\",roleCode);\\n\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n\\nvar pwdLenLimit= com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_LEN_LIMIT\\\");\\nvar pwdIncludeChar =  com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_INCLUDE_CHAR\\\");\\nvar homePage =  com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"HOME_PAGE\\\");\\nvar title = com.xzsoft.xip.platform.util.PlatformUtil.getXipConfigVal(\\\"loginPage.appName\\\");\\nrequest.setAttribute(\\\"mainPageTitle\\\",title);\\nrequest.setAttribute(\\\"PW_LEN_LIMIT\\\",pwdLenLimit);\\nrequest.setAttribute(\\\"PW_INCLUDE_CHAR\\\",pwdIncludeChar);\\nrequest.setAttribute(\\\"HOME_PAGE\\\",homePage);\\n\\nvar isShowBanner = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"SHOW_TOP_BANNER\\\");\\nrequest.setAttribute(\\\"isShowBanner\\\",isShowBanner);\\n\\nvar topBannerHeight = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"TOP_BANNER_HEIGHT\\\");\\n\\nif(topBannerHeight==null || \\\"\\\".equals(topBannerHeight)){\\n  topBannerHeight = 120;\\n}\\n\\nrequest.setAttribute(\\\"topBannerHeight\\\",topBannerHeight);\\n\\n\",\"head\":\"<style>\\nhtml,body{height:100%;}\\n<\\/style>\\n\\n\",\"cssFiles\":\"[\\\"common/css/default.css\\\",\\\"common/css/font.css\\\"]\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"footer\":\"<script>\\n  var index = 0;\\n  var personalToolBar = \\\"\\\";\\n  \\n  var pwdLength = 200;//密码最大长度\\n  var complexityPwd = '{#PW_INCLUDE_CHAR#}';\\n  \\n  if('{#PW_LEN_LIMIT#}'!=0 && '{#PW_LEN_LIMIT#}'!=null){\\n    pwdLength = '{#PW_LEN_LIMIT#}';\\n  }\\n\\t\\t\\n  function mouseOverEvent(obj,e){\\n    if(!obj.menu.isVisible()){\\n      obj.showMenu();\\n  }};\\n  \\n  function mouseoutEvent(obj,e){\\n  }\\n\\t     \\n  //菜单点击事件   当点击的是功能才触发，菜单不会触发\\n  function clickFunc(item,e){\\n    funcMenuClick4Page(this, funTabPanel, document);  \\n  };\\n\\t     \\n  //退出登录\\n  function logout(){\\n    Ext.MessageBox.minWidth = 200 ;\\n    Ext.MessageBox.confirm('提示', '您确定要退出吗?', function (opt) {\\n      if (opt == 'yes') {\\n        var msg = Ext.MessageBox.show({\\n          title \\t : \\t'请等待',\\n          msg \\t : \\t'正在提交请求.......',\\n          width \\t : \\t240,\\n          wait\\t : \\ttrue,\\n          progress : \\ttrue,\\n          closable : \\tfalse\\n        });\\t\\n\\n        Ext.Ajax.request({\\n          url : '{#contextPath#}' +'/frameAction.do?method=logout',\\n          method: 'POST',\\n          success: function(response,options){\\n            msg.hide();\\n            var temp = response.responseText;\\n            var response = Ext.JSON.decode(temp);\\n            if(response.flag=='1'){\\n              // window.location.href=\\\"http://219.141.183.220:9092/cas-server-webapp-3.5.2/logout\\\";\\n\\n              // modified by linp 20141106\\n              var logoutUrl = response.logoutUrl ;\\n              var callbackUrl = response.callbackUrl ;\\n              window.location.href = logoutUrl + callbackUrl ;\\n\\n            }else{\\n              Ext.Msg.alert(\\\"提示\\\",response.msg);\\n            }\\n          },\\n          failure: function(response,options){\\n            msg.hide();\\n            Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应,退出失败\\\");\\n          }\\n        });\\n      }\\n    });\\n  }\\n  \\n  var comboxStore = new Ext.data.Store({\\n    proxy:{\\n      url:'{#contextPath#}' + '/frameAction.do?method=getRolesByUserId&userId=' + '{#userId#}',\\n      async: false, //发送同步请求\\n      type:\\\"ajax\\\",\\n      reader:{\\n        type:\\\"json\\\",\\n        root:\\\"rows\\\",\\n        rootProperty:\\\"rows\\\",\\n        totalProperty:\\\"total\\\"\\n      }\\n    },\\n    fields:[{name:'roleId'},{name:'roleCode'},{name:'roleName'}],\\n    listeners:{\\n      beforeload:function(store,operation,options){\\n      },\\n      load:function(store,records,successful,operation,options){\\n      }\\n    }\\n  });\\n  \\n  Ext.Ajax.request({\\n    url : '{#contextPath#}' + '/frameAction.do?method=loadMenuTree',\\n    method: 'POST',\\n    async: false, //发送同步请求\\n    success: function(response,options){\\n      var temp = response.responseText;\\n      temp = Ext.JSON.decode(temp);\\n      \\n      temp.push({xtype:'tbfill'});\\n      \\n      temp.push(\\\"<p style=';font-family:verdana'>当前用户: \\\"+\\\"<b><i>{#userName#}<\\/i><\\/b><\\/p>\\\");\\n      \\n      if('{#authModel#}'=='ROLE'){\\n      \\ttemp.push({\\n          id:\\\"comboBox1\\\",\\n          displayField:\\\"roleName\\\",\\n          valueField:\\\"roleId\\\",\\n          fieldLabel:\\\"切换职责\\\",\\n          labelWidth:60,\\n          labelAlign:'right',\\n          xtype:\\\"combobox\\\",\\n          minChars:0,\\n          store:comboxStore,\\n          //forceList:false,\\n          forceSelection:true,\\n          //editable:false,\\n          listeners:{\\n            select:function(comboBox,records,options){\\n              var roleId = this.getValue();\\n              var roleCode = '';\\n              var roleName = '';\\n              var index = comboxStore.find('roleId',roleId);\\n              var roleRecord = comboxStore.getAt(index);\\n              if(roleRecord){\\n                roleCode = roleRecord.get('roleCode');\\n                roleName = roleRecord.get('roleName');\\n              }\\n              \\n              Ext.Msg.wait(\\\"提示\\\",\\\"正在切换职责，请等待...\\\");\\n              Ext.Ajax.request({\\n                url : '{#contextPath#}' +'/frameAction.do?method=switchRole',\\n                method: 'POST',\\n                params:{\\\"roleId\\\":roleId,\\\"roleName\\\":roleName,\\\"roleCode\\\":roleCode},\\n                success: function(response,options){\\n                  Ext.Msg.hide();\\n                  var temp = response.responseText;\\n                  var resp = Ext.JSON.decode(temp);\\n                  if(resp.flag=='1'){\\n                    window.location.href = '{#contextPath#}'+'/frame/navigator.jsp'; \\n                  }else{\\n                    Ext.Msg.alert('提示',resp.msg);\\n                  }\\n                },\\n                failure: function(response,options){\\n                  msg.hide();\\n                  Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应,退出失败\\\");\\n                }\\n              });\\n              \\n            }\\n          }\\n        });\\n      }\\n      \\n      Ext.Ajax.request({\\n        url : '{#contextPath#}' +'/main?xwl=23XRWETM8OYV',\\n        async: false, //发送同步请求\\n        method: 'POST',\\n        success: function(response,options){\\n          var linkResp = Ext.JSON.decode(response.responseText);\\n          \\n          if(linkResp.rows.length==0){\\n            return;\\n          }\\n          \\n          var linkItems = new Array();\\n          \\n          for(var i=0; i<linkResp.rows.length; i++){\\n            var linkItem = linkResp.rows[i];\\n            linkItems.push({\\n              id:linkItem.CODE,\\n              text:linkItem.NAME,\\n              url:linkItem.URL,\\n              listeners:{\\n                'click':function(){\\n                  window.open(this.url);\\n                }\\n              }\\n            });\\n          }\\n          \\n          temp.push('-');\\n          temp.push({\\n            id:\\\"links\\\",\\n            text:\\\"\\\",\\n            iconCls:'web_icon',\\n            listeners:{\\n              'mouseover':mouseOverEvent\\n            },\\n            menu:{\\n              xtype:\\\"menu\\\",\\n              items:linkItems\\n            }\\n          });\\n          \\n        },\\n        failure: function(response,options){\\n          Ext.Msg.alert(\\\"提示\\\",\\\"\\\");\\n        }\\n      });\\n      \\n      temp.push('-');\\n      // 修改密码\\n      temp.push({\\n        text\\t:\\t'',\\n        iconCls\\t:\\t'incon-wb-key',\\n        tooltip :\\t'修改密码',\\n        handler\\t:\\tfunction(){\\n          modifyPwdWin.show();\\t\\t\\t\\t\\t\\n        }\\n      });\\n      temp.push('-'); \\t\\t\\t\\t\\n      // 退出\\n      temp.push({\\n        text\\t:\\t'',\\n        iconCls\\t:\\t'incon-wb-logout',\\n        tooltip :\\t'退出系统',\\n        handler\\t:\\tlogout\\n      });\\n      temp.push('-');\\n      \\n      personalToolBar = new Ext.toolbar.Toolbar({\\n        id:\\\"toolbar1\\\",\\t\\n        items:temp\\n      });\\n    },\\n    failure: function(response,options){\\n      Ext.Msg.hide();\\n      alert('加载菜单失败，服务器没有响应');\\n    }\\n  });\\n  \\n<\\/script>\"},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"afterrender\":\"if(Ext.getCmp('comboBox1')){\\n  if('{#roleId#}' != null){\\n    Ext.getCmp('comboBox1').setValue('{#roleId#}');\\n    Ext.getCmp('comboBox1').setRawValue('{#roleName#}');\\n  }\\n}\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"bgColor\":\"#dff1fb\",\"id\":\"topPanel\",\"height\":\"({#topBannerHeight#}>120 ) ? 120: {#topBannerHeight#}\",\"bodyStyle\":\"background-repeat:no-repeat\",\"hidden\":\"'{#isShowBanner#}'=='Y' ? false: true\",\"split\":\"true\",\"html\":\"<img src='{#contextPath#}/images/top.png'>\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"tbar\":\"personalToolBar\",\"id\":\"panel1\",\"height\":\"'100%'\",\"layout\":\"fit\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"tabPanel\",\"plugins\":\"{ptype:'tabclosemenu'}\",\"bgColor\":\"#787878\",\"id\":\"funTabPanel\",\"height\":\"'100%'\",\"border\":\"false\",\"afterrender\":\"tab.mon(tab.tabBar,'dblclick',function(sender, newCard) {\\n  //alert(tab.getActiveTab().tabUrl);\\n  if(tab.getActiveTab().getId() != 'indexPanel'){\\n    window.open(tab.getActiveTab().tabUrl);\\n  }\\n},tab);\",\"tabchange\":\"\\n  \\n\\n\\n\\n\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"autoCreate\":\"true\",\"id\":\"indexPanel\",\"title\":\"首页\",\"height\":\"'100%'\",\"border\":\"false\",\"html\":\"<iframe  scrolling=auto frameborder=0 width=100% height=100% id=idx_page onmouseover = hideMenus()><\\/iframe>\",\"activate\":\"if(Ext.isChrome){\\n  var frame =document.getElementById('idx_page');\\n  frame.height = document.getElementById(\\\"indexPanel-body\\\").style.height;\\n}\\n\",\"afterrender\":\"var mainPage = '{#contextPath#}' + '/frame/black.jsp' ;\\nvar homePage ='{#HOME_PAGE#}';\\nif(homePage!=null && homePage!=\\\"\\\" && homePage!=\\\"undefined\\\"){\\n                   mainPage = '{#contextPath#}' + homePage;\\n                   if(mainPage.indexOf('?')!=-1){\\n                     mainPage = mainPage + '&userId=' + '{#userId#}' + '&roleId=' + '{#roleId#}' + '&userName=' + '{#userName#}' + '&roleCode=' + '{#roleCode#}' ;\\n                   }else{\\n                       mainPage = mainPage + '?userId=' + '{#userId#}' + '&roleId=' + '{#roleId#}' + '&userName=' + '{#userName#}' + '&roleCode=' + '{#roleCode#}' ;\\n                   }\\n}\\nvar frame =document.getElementById('idx_page');\\nframe.src = mainPage ;\\n\\n\"}]}]}]}]}","Menu Navigator",null,0,0,"admin","2015-01-07 09:32:48.0","23XQ4UO678F8","2015-10-15 10:10:13.0",3],["23VVN6VILZXO","23VL9CC5TPUO",null,"系统示例","model_icon",0,0,"admin","2015-01-07 14:10:20.0","admin","2015-01-13 13:35:52.0",54],["23VVNO0XHLZ5","23VRM7XF4LFL","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"设置默认角色\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar enUrl = request.getParameter('url');\\nvar url = java.net.URLDecoder.decode(enUrl,'UTF-8');\\nvar isResetPassword = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('isResetPassword').toLowerCase();\\nvar isIneffective = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('isIneffective').toLowerCase();\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nrequest.setAttribute(\\\"url\\\",url);\\nrequest.setAttribute(\\\"enUrl\\\",enUrl);\\nrequest.setAttribute(\\\"isResetPassword\\\",isResetPassword);\\nrequest.setAttribute(\\\"isIneffective\\\",isIneffective);\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"header\":\"<script>\\n  /*var navigatorType = '';\\n  \\n  Ext.Ajax.request({\\n    url : '{#contextPath#}' +'/frameAction.do?method=getSysVariable',\\n    method: 'POST',\\n    success: function(response,options){\\n      var temp = response.responseText;\\n      var resp = Ext.JSON.decode(temp);\\n      navigatorType = resp.navigatorType;\\n    },\\n    failure: function(response,options){\\n    }\\n  });*/\\n<\\/script>\"},{\"xwlMeta\":\"store\",\"id\":\"roleStore\",\"params\":\"{userId:'{#userId#}'}\",\"url\":\"#23VRZHIK91WZ (Get Roles)\"},{\"xwlMeta\":\"array\",\"id\":\"array11\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"text\":\"保存\",\"click\":\"var roleValue = userRoles.getValue();\\nvar url ='{#url#}';\\nvar enUrl ='{#enUrl#}';\\nvar isResetPassword = '{#isResetPassword#}';\\nvar isIneffective = '{#isIneffective#}';\\n\\nif(roleValue==null || roleValue=='undefined' || roleValue==''){\\n  Ext.Msg.alert('提示','请选择一个角色!');\\n  return;\\n}\\n\\n// 等待框\\nvar msg = Ext.MessageBox.show({\\n  title \\t : \\t'请等待',\\n  msg \\t : \\t'正在提交请求.......',\\n  width \\t : \\t240,\\n  wait\\t : \\ttrue,\\n  progress : \\ttrue,\\n  closable : \\tfalse\\n});\\t\\n\\n// 提交请求\\nExt.Ajax.request({\\n  url \\t: '{#contextPath#}' + '/frameAction.do?method=saveDefaultRole',\\n  params\\t: {\\n    'roleId' : \\troleValue\\n  },\\n  method \\t: 'post',\\n  timeout : 3600000,\\n  success : function(response, options) {\\n    msg.hide();\\n    var response = Ext.JSON.decode(response.responseText);\\n    if(response.flag==1){\\n      if('true'===isResetPassword||'true'===isIneffective){\\n        window.location.href=\\\"{#contextPath#}/main?xwl=23WNUSJRZOSI&url=\\\"+enUrl;\\t\\n      }else{\\n        window.location.href=url;\\t\\n      }\\n    }else{\\n      Ext.Msg.alert(\\\"提示\\\", response.msg);\\n    }\\n  },\\n  failure : function(reponse, options) {\\n    msg.hide();\\n    var response = Ext.util.JSON.decode(response.responseText);\\n    Ext.Msg.alert(\\\"提示\\\", response.msg);\\n  }\\n});\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"destroy\",\"id\":\"setDefaultRoleWin\",\"bgColor\":\"#CCFFFF\",\"autoShow\":\"true\",\"title\":\"默认角色设置\",\"height\":\"150\",\"closable\":\"false\",\"layout\":\"fit\",\"resizable\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"360\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"setDefaultRoleForm\",\"height\":\"200\",\"layout\":\"fit\",\"width\":\"400\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"setDefaultRolePanel\",\"columnWidth\":\".5\",\"border\":\"false\",\"bodyStyle\":\"padding: 20px 50px 0px\",\"buttons\":\"array11\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"roleStore\",\"valueField\":\"ROLE_ID\",\"fieldLabel\":\"角色名称\",\"id\":\"userRoles\",\"displayField\":\"ROLE_NAME\",\"labelWidth\":\"60\"}]}]}]}]}","setDefaultRole",null,0,0,"admin","2015-01-07 15:31:03.0","23XQ4UO678FP","2015-08-26 17:27:30.0",8],["23VVWZNQT0YA","23VRM7XF4LFL","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"密码修改\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n\\nvar pwdLenLimit= com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_LEN_LIMIT\\\");\\nrequest.setAttribute(\\\"PW_LEN_LIMIT\\\",pwdLenLimit);\\n\\nvar pwdIncludeChar =  com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_INCLUDE_CHAR\\\");\\nrequest.setAttribute(\\\"PW_INCLUDE_CHAR\\\",pwdIncludeChar);\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"btnArrays\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"text\":\"保存\",\"click\":\"var op = Ext.getCmp('oldPwd').getValue(); \\nif(op === null || op === \\\"\\\" || op === \\\"undefined\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入原密码!\\\") ;\\n  return false;\\n}\\t\\t\\t\\t\\t\\nvar np = Ext.getCmp('newPwd').getValue(); \\nif(np === null || np === \\\"\\\" || np === \\\"undefined\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入新密码!\\\") ;\\n  return false;\\n}\\nvar cnp = Ext.getCmp('confirmNewPwd').getValue();\\nvar _tmpLen = '{#PW_LEN_LIMIT#}';\\nif(cnp === null || cnp === \\\"\\\" || cnp === \\\"undefined\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入确认密码!\\\") ;\\n  return false;\\t\\t\\t\\t\\n}\\n\\nif(!modifyPwdForm.getForm().isValid()){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"密码长度不正确!\\\") ;\\n  return false;\\n}\\n\\nif('{#PW_INCLUDE_CHAR#}'=='Y'){\\n  var re = new RegExp(\\\"[A-Za-z\\\\x21-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\x7e]\\\");\\n  if(!re.test(np)){\\n    Ext.Msg.alert(\\\"提示\\\",\\\"新密码必须要包含字母或者特殊字符!\\\");\\n    return;\\n  }\\n}\\nif(!modifyPwdForm.getForm().isValid()){\\n  if(Ext.isEmpty(_tmpLen) || _tmpLen===0){\\n  Wb.warning('密码长度不能少于6位！');\\n    return false;\\n  }else{\\n      Wb.warning('密码长度不能少于'+_tmpLen+'位！');\\n    return false;\\n  }\\n}\\n\\nif(np != cnp){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"新密码与确认密码不一致!\\\") ;\\n  return false;\\t\\t\\t\\t\\t\\n}\\n\\nExt.Msg.wait('正在修改,请稍后...');\\n\\n// 提交请求\\nExt.Ajax.request({\\n  url \\t: '{#contextPath#}' + '/frameAction.do?method=modifyUserPassword',\\n  params\\t: {\\n    'oldPwd'   :\\thex_md5(op),\\n    'password' : \\thex_md5(cnp)\\n  },\\n  method \\t: 'post',\\n  //timeout : 3600000,\\n  success : function(response, options) {\\n    //Ext.Msg.hide();\\n    var resp = Ext.JSON.decode(response.responseText);\\n    \\n    if(resp.flag == 1){\\n      var logoutUrl = resp.logoutUrl ;\\n      var callbackUrl = resp.callbackUrl ;\\n      // 对于open , window.opener\\n      Ext.Msg.alert(\\\"提示\\\", \\\"密码修改成功！\\\",function(){\\n        modifyPwdWin.hide();\\n      });\\n    }else{\\n      Ext.Msg.alert(\\\"提示\\\", resp.msg);\\n    }\\n  },\\n  failure : function(reponse, options) {\\n    Ext.Msg.hide();\\n    var response = Ext.JSON.decode(response.responseText);\\n    Ext.Msg.alert(\\\"提示\\\", response.msg);\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"cancelBtn\",\"text\":\"重置\",\"click\":\"modifyPwdForm.getForm().reset();\\n\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"modifyPwdWin\",\"bgColor\":\"#CCFFFF\",\"autoShow\":\"false\",\"title\":\"密码修改\",\"height\":\"200\",\"layout\":\"fit\",\"resizable\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"380\",\"buttons\":\"btnArrays\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"modifyPwdForm\",\"height\":\"200\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"width\":\"400\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"modifyPwdPanel\",\"columnWidth\":\".5\",\"border\":\"false\",\"bodyStyle\":\"padding: 20px 50px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color=red>*<\\/font>原密码\",\"id\":\"oldPwd\",\"inputType\":\"password\",\"labelWidth\":\"80\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color=red>*<\\/font>新密码\",\"id\":\"newPwd\",\"minLength\":\"('{#PW_LEN_LIMIT#}'==0 || '{#PW_LEN_LIMIT#}'==null) ? 6: '{#PW_LEN_LIMIT#}'\",\"inputType\":\"password\",\"labelWidth\":\"80\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color=red>*<\\/font>确认密码\",\"id\":\"confirmNewPwd\",\"minLength\":\"('{#PW_LEN_LIMIT#}'==0 || '{#PW_LEN_LIMIT#}'==null) ? 6: '{#PW_LEN_LIMIT#}'\",\"inputType\":\"password\",\"labelWidth\":\"80\"}]}]}]}]}","modifyPassword",null,1,0,"admin","2015-01-08 14:00:19.0","23XQ4B4KHDBR","2015-08-28 11:09:58.0",7],["23VVZ3QMOKQ2","23VL9CC5TPUO",null,"HR信息","userGroup_icon",0,0,"admin","2015-01-08 16:09:07.0","admin","2015-01-08 16:09:19.0",33],["23VVZ3QMOKQA","23VL9CC5TPUO",null,"基础设置","tool_icon",0,0,"admin","2015-01-08 16:10:19.0","admin","2015-03-18 11:14:16.0",19],["23VVZ3QMOKQM","23VL9CC5TPUO",null,"权限管理","key_icon",0,0,"admin","2015-01-08 16:13:10.0","admin","2015-01-08 16:13:10.0",31],["23VVZ3QMOKQQ","23VL9CC5TPUO",null,"附件管理","attach_icon",0,0,"admin","2015-01-08 16:13:55.0","admin","2015-01-08 16:13:55.0",35],["23VVZ3QMOKQV","23VVZ3QMOKQM",null,"用户管理",null,0,0,"admin","2015-01-08 16:14:29.0","admin","2015-01-08 16:14:29.0",5],["23VVZ3QMOKQW","23VVZ3QMOKQ2",null,"员工管理",null,0,0,"admin","2015-01-08 16:14:42.0","admin","2015-01-08 16:14:42.0",6],["23VVZ3QMOKQX","23VVZ3QMOKQQ",null,"附件服务器管理",null,0,0,"admin","2015-01-08 16:14:52.0","admin","2015-01-08 16:14:52.0",1],["23VVZ3QMOKSV","23VVZ3QMOKQW",null,"DATA",null,1,0,"admin","2015-01-08 16:26:16.0","admin","2015-06-02 15:16:18.0",3],["23VVZ3QMOKSW","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"Select\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT EMP_ID,\\n       EMP_CODE,\\n       EMP_NAME,\\n       EMP_SEX,\\n       ID_NO,\\n       PHONE_NO,\\n       ADDRESS,\\n       EMAIL,\\n       BIRTHDAY,\\n       ATTRIBUTE1,\\n       ATTRIBUTE2,\\n       ATTRIBUTE3,\\n       ATTRIBUTE4,\\n       ATTRIBUTE5,\\n       ATTRIBUTE6,\\n       ATTRIBUTE7,\\n       ATTRIBUTE8,\\n       ATTRIBUTE9,\\n       ATTRIBUTE10,\\n       CREATION_DATE,\\n       CREATED_BY,\\n       LAST_UPDATE_DATE,\\n       LAST_UPDATED_BY,\\n       LAST_UPDATE_LOGIN\\n  FROM XIP_PUB_EMPS \\n  WHERE (EMP_CODE LIKE '%{#text1#}%' or EMP_NAME like '%{#text1#}%')\\norder by emp_code desc \\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Select",null,0,0,"admin","2015-01-08 16:27:29.0","admin","2015-01-20 10:38:59.0",2],["23VVZ3QMOKSY","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"Insert\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkEmpCode\",\"sql\":\"  select count(1) as \\\"V\\\" from xip_pub_emps t where t.emp_code = {?empCode?} and t.emp_id <> {?empId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"员工编码已存在！\\\"]\",\"id\":\"empCodeExists\",\"xwlMeta\":\"except\",\"name\":\"checkEmpCode.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"saveEmp\",\"sql\":\"insert into xip_pub_emps\\n  (emp_id,\\n   emp_code,\\n   emp_name,\\n   emp_sex,\\n   id_no,\\n   phone_no,\\n   address,\\n   email,\\n   attribute1,\\n   attribute2,\\n   attribute3,\\n   attribute4,\\n   attribute5,\\n   attribute6,\\n   attribute7,\\n   attribute8,\\n   attribute9,\\n   attribute10,\\n   creation_date,\\n   created_by,\\n   birthday)\\nvalues\\n  ({?empId?},\\n   {?empCode?},\\n   {?empName?},\\n   {?_sex?},\\n   {?empIdNumber?},\\n   {?empMobilePhone?},\\n   {?empAddress?},\\n   {?empEmail?},\\n   {?empTelephone?},\\n   {?empStatus?},\\n   '',\\n   '',\\n   '',\\n   '',\\n   '',\\n   '',\\n   '',\\n   '',\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?date.empBirthday?})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Insert",null,0,0,"admin","2015-01-08 16:27:47.0","admin","2015-02-27 09:08:01.0",3],["23VVZ3QMOKT0","23VVZ3QMOKQW","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"员工管理\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"loginRequired\":\"false\",\"initialize\":\"var nametype='';\\nvar checktype='0';\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"req\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23VVZ3QMOKSY (Insert)\",\"id\":\"ajax_add\",\"output\":\"empAddress,empBirthday,empCode,empEmail,empIdNumber,empMobilePhone,empName,empSex,empStatus,empTelephone\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"员工信息保存失败!\\\");\",\"success\":\"//保存默认用户\\nif('edit' != opType.getValue()){\\nif(checktype=='1'){\\nvar _password = hex_md5('11111'); // md5加密\\nvar _primaryKey = Wb.getUuid();\\n\\nvar json = {password:_password,primaryKey:_primaryKey} ;  \\najax_add_user.request(json);\\n  \\n    }\\n}\\n//设置标志位\\nopType.setValue('edit');\\n//保存员工分配信息\\ngrid4EmpAsg.plugins[0].completeEdit();\\nstore4EmpAsg.sync({\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n});\\n//win.hide();\\n\\n\\n//tr_6.hide();\\n\\n\\nWb.load(store4Grid);\\nExt.Msg.alert(\\\"提示\\\",\\\"员工信息保存成功!\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VVZ3QMOKSY (Insert)\",\"id\":\"ajax_addMore\",\"output\":\"empAddress,empBirthday,empCode,empEmail,empIdNumber,empMobilePhone,empName,empSex,empStatus,empTelephone\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"员工信息保存失败!\\\");\",\"success\":\"//保存默认用户\\n\\nif('edit' != opType.getValue()){\\nif(checktype=='1'){\\n\\nvar _password = hex_md5('11111'); // md5加密\\nvar _primaryKey = Wb.getUuid();\\n\\nvar json = {password:_password,primaryKey:_primaryKey} ;  \\najax_add_user.request(json);\\n  \\n    }\\n}\\n\\n//保存员工分配信息\\ngrid4EmpAsg.plugins[0].completeEdit();\\nstore4EmpAsg.sync({\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n});\\n\\n\\n// 刷新主表Grid信息\\nWb.load(store4Grid);\\n// 清空表单信息\\nempCode.setValue() ;\\nempName.setValue() ;\\nempBirthday.setValue() ;\\nempStatus.setValue('Y') ;\\nempMobilePhone.setValue() ;\\nempTelephone.setValue() ;\\nempIdNumber.setValue() ;\\nempEmail.setValue() ;\\nempAddress.setValue() ;\\n//清空默认用户表单\\nuserName.setValue();\\n\\nvar _empId = Wb.getUuid() ;\\nempId.setValue(_empId) ;\\nopType.setValue('add');\\n// 加载员工分配信息\\nWb.load(store4EmpAsg,{'empId':_empId});\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VXF440TC7M (Update)\",\"id\":\"ajax_updMore\",\"output\":\"empAddress,empBirthday,empCode,empEmail,empIdNumber,empMobilePhone,empName,empSex,empStatus,empTelephone\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"员工信息保存失败!\\\");\",\"success\":\"//保存员工分配信息\\ngrid4EmpAsg.plugins[0].completeEdit();\\nstore4EmpAsg.sync({\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n});\\n//禁用员工后禁用用户\\nvar type =empStatus.getValue();\\n var d=new Date();\\nif(type=='N'){\\n \\n  var date=new Date(d.getFullYear(),d.getMonth(),d.getDate()-1);\\n  var json={end_date:date};\\n  ajax_user_update.request(json);\\n}else{\\nvar date1=new Date(d.getFullYear()+20,d.getMonth(),d.getDate());\\n var json1={end_date:date1};\\n  ajax_user_update.request(json1);\\n}\\n\\n// 刷新主表Grid信息\\nWb.load(store4Grid);\\n// 清空表单信息\\nempCode.setValue() ;\\nempName.setValue() ;\\nempBirthday.setValue() ;\\nempStatus.setValue('Y') ;\\nempMobilePhone.setValue() ;\\nempTelephone.setValue() ;\\nempIdNumber.setValue() ;\\nempEmail.setValue() ;\\nempAddress.setValue() ;\\n//清空默认用户表单\\nuserName.setValue();\\n\\nvar _empId = Wb.getUuid() ;\\nempId.setValue(_empId) ;\\nopType.setValue('add');\\n// 加载员工分配信息\\nWb.load(store4EmpAsg,{'empId':_empId});\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VXF440TC7M (Update)\",\"id\":\"ajax_upd\",\"output\":\"empAddress,empBirthday,empCode,empEmail,empId,empIdNumber,empMobilePhone,empName,empSex,empStatus,empTelephone\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"员工信息修改失败!\\\");\",\"success\":\"//保存员工分配信息\\ngrid4EmpAsg.plugins[0].completeEdit();\\nstore4EmpAsg.sync({\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n});\\n//win.hide();\\n//禁用员工后禁用用户\\nvar type =empStatus.getValue();\\n var d=new Date();\\nif(type=='N'){\\n \\n  var date=new Date(d.getFullYear(),d.getMonth(),d.getDate()-1);\\n  var json={end_date:date};\\n  ajax_user_update.request(json);\\n}else{\\nvar date1=new Date(d.getFullYear()+20,d.getMonth(),d.getDate());\\n var json1={end_date:date1};\\n  ajax_user_update.request(json1);\\n}\\n//--------------\\nWb.load(store4Grid);\\nExt.Msg.alert(\\\"提示\\\",\\\"员工信息修改成功!\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23YB767SFISN (updateUser)\",\"id\":\"ajax_user_update\",\"output\":\"empId\"},{\"xwlMeta\":\"ajax\",\"mask\":\"grid1\",\"url\":\"#23VVZ3QMOKTS (Delete)\",\"id\":\"ajax_del\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"员工信息删除失败!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"员工信息删除成功!\\\");\\nwin.hide();\\nWb.load(store4Grid);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WXX3ALONXX (Delete EmpAsg)\",\"id\":\"ajax_del_asg\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23YAVVQEJXUS (InsertUser)\",\"id\":\"ajax_add_user\",\"output\":\"userName,empId,endDate\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"用户信息保存失败!\\\");\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store4Grid\",\"url\":\"#23VVZ3QMOKSW (Select)\",\"output\":\"text1\"},{\"xwlMeta\":\"store\",\"id\":\"store4EmpAsg\",\"proxy\":\"{\\n  type:\\\"ajax\\\",\\n  api: {\\n    read: 'main?xwl=23W4UO78MP43',\\n    update: 'main?xwl=23WAWZLZBBKZ',\\n\\tcreate: 'main?xwl=23WAWZLZBBKV',\\n\\tdestroy: 'main?xwl=23WAWZLZBBKX'\\n  },\\n  reader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\n  listeners:{\\n  \\texception:function(proxy,response,operation,options){\\n  \\t\\tWb.except(response.responseText);\\n  \\t}\\n  }\\n}\",\"pageSize\":\"-1\",\"tagEvents\":\"beforesync:function(){Wb.mask();}\"},{\"xwlMeta\":\"store\",\"id\":\"store4Orgs\",\"autoLoad\":\"true\",\"url\":\"#23W4UO78MY9U (Select Orgs)\"},{\"xwlMeta\":\"store\",\"id\":\"store4Depts\",\"url\":\"#23W4UO78MY9X (Select Depts)\"},{\"xwlMeta\":\"store\",\"id\":\"store4Posts\",\"url\":\"#23W4UO78MY9Z (Select Posts)\"},{\"xwlMeta\":\"store\",\"data\":\"[['Y','已启用'],['N','未启用']]\",\"id\":\"store4Enabled\",\"fields\":\"['CODE','NAME']\"}]},{\"xwlMeta\":\"folder\",\"id\":\"comboBox\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4Orgs\",\"autoCreate\":\"false\",\"valueField\":\"ID\",\"id\":\"cbx4Orgs\",\"queryLike\":\"true\",\"displayField\":\"NAME\",\"select\":\"var r = grid4EmpAsg.getSelectionModel().getSelection();\\nr[0].data.ORG_ID = cbx4Orgs.getValue() ;\\ncbx4Orgs.setValue(cbx4Orgs.getRawValue());\\n\\nr[0].data.DEPT_ID = '' ;\\nr[0].data.DEPT_NAME = '' ;\\nr[0].data.POST_ID = '' ;\\nr[0].data.POST_NAME = '' ;\\n\\n//Wb.load(store4Depts ,{'orgId':r[0].data.ORG_ID});\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4Depts\",\"autoCreate\":\"false\",\"valueField\":\"ID\",\"id\":\"cbx4Depts\",\"queryLike\":\"true\",\"displayField\":\"NAME\",\"select\":\"var r = grid4EmpAsg.getSelectionModel().getSelection();\\nr[0].data.DEPT_ID = cbx4Depts.getValue() ;\\ncbx4Depts.setValue(cbx4Depts.getRawValue());\\n\\nr[0].data.POST_ID = '' ;\\nr[0].data.POST_NAME = '' ;\\n\\n//Wb.load(store4Posts ,{'orgId':r[0].data.ORG_ID,'deptId':r[0].data.DEPT_ID});\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4Posts\",\"autoCreate\":\"false\",\"valueField\":\"ID\",\"id\":\"cbx4Posts\",\"queryLike\":\"true\",\"displayField\":\"NAME\",\"select\":\"var r = grid4EmpAsg.getSelectionModel().getSelection();\\nr[0].data.POST_ID = cbx4Posts.getValue() ;\\ncbx4Posts.setValue(cbx4Posts.getRawValue());\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4Enabled\",\"autoCreate\":\"false\",\"value\":\"Y\",\"valueField\":\"CODE\",\"editable\":\"false\",\"queryMode\":\"local\",\"id\":\"cbx4Enabled\",\"displayField\":\"NAME\"}]},{\"xwlMeta\":\"array\",\"id\":\"btn4AddForm\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btnSave\",\"text\":\"保存\",\"click\":\"\\nvar emp_Id=empId.getValue();\\nvar _empCode = empCode.getValue();\\nif(_empCode === null || _empCode === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请录入员工编码\\\") ;\\n  return false ;\\n}\\n\\nvar _empName = empName.getValue();\\nif(_empName === null || _empName === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请录入员工名称\\\") ;\\n  return false ;\\n}\\n\\nvar _empMobilePhone = empMobilePhone.getValue();\\nvar phonePatrn= /^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;\\nif(!Ext.isEmpty(_empMobilePhone)){\\n  if(!phonePatrn.test(_empMobilePhone)){\\n    Wb.warning('手机号格式不合法!');\\n    return;\\n  }\\n}\\n\\nvar _empTelephone = empTelephone.getValue();\\nvar telPatrn=/^[+]{0,1}(\\\\d){1,3}[ ]?([-]?((\\\\d)|[ ]){1,12})+$/;\\nif(!Ext.isEmpty(_empTelephone)){\\n  if(!telPatrn.test(_empTelephone)){\\n    Wb.warning('固定电话格式不合法!');\\n    return;\\n  }\\n}\\n\\nvar _empEmail = empEmail.getValue();\\nvar emailPatrn= /^([a-zA-Z0-9_\\\\.\\\\-])+\\\\@(([a-zA-Z0-9\\\\-])+\\\\.)+([a-zA-Z0-9]{2,4})+$/;\\nif(!Ext.isEmpty(_empEmail)){\\n  if(!emailPatrn.test(_empEmail)){\\n    Wb.warning('邮箱格式不合法!');\\n    return;\\n  }\\n}\\n\\nvar _empIdNumber = empIdNumber.getValue();\\nvar idNumPatrn = /(^\\\\d{15}$)|(^\\\\d{18}$)|(^\\\\d{17}(\\\\d|X|x)$)/;\\nif(!Ext.isEmpty(_empIdNumber)){\\n  if(!idNumPatrn.test(_empIdNumber)){\\n    Wb.warning('身份证格式不合法!');\\n    return;\\n  }\\n}\\n//判断创建用户是否隐藏\\nif('edit' != opType.getValue()){\\n \\ntr_6.show();\\n}else{\\n \\ntr_6.hide();\\n}\\n  \\n// 执行保存处理\\nvar _sex = '1';\\nif(radio2.checked){\\n  _sex = '2';\\n}\\nvar json = {'_sex':_sex,empId:empId.getValue()} ;  \\nif('edit' != opType.getValue()){\\n tr_6.hide();\\n  var _empId=Wb.getUuid() ;\\n  json.empId=_empId;\\n  empId.setValue(_empId); \\n  ajax_add.request(json);\\n}else{\\n \\n\\tajax_upd.request(json);\\n\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"saveAll_icon\",\"id\":\"btnSaveMore\",\"text\":\"保存并添加下一个\",\"click\":\"\\nvar emp_Id = empId.getValue();\\n\\nvar _empCode = empCode.getValue();\\nif(_empCode === null || _empCode === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请录入员工编码\\\") ;\\n  return false ;\\n}\\n\\nvar _empName = empName.getValue();\\nif(_empName === null || _empName === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请录入员工名称\\\") ;\\n  return false ;\\n}\\nvar _empMobilePhone = empMobilePhone.getValue();\\nvar phonePatrn= /^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;\\nif(!Ext.isEmpty(_empMobilePhone)){\\n  if(!phonePatrn.test(_empMobilePhone)){\\n    Wb.warning('手机号格式不合法!');\\n    return;\\n  }\\n}\\n\\nvar _empTelephone = empTelephone.getValue();\\nvar telPatrn=/^[+]{0,1}(\\\\d){1,3}[ ]?([-]?((\\\\d)|[ ]){1,12})+$/;\\nif(!Ext.isEmpty(_empTelephone)){\\n  if(!telPatrn.test(_empTelephone)){\\n    Wb.warning('固定电话格式不合法!');\\n    return;\\n  }\\n}\\n\\nvar _empEmail = empEmail.getValue();\\nvar emailPatrn= /^([a-zA-Z0-9_\\\\.\\\\-])+\\\\@(([a-zA-Z0-9\\\\-])+\\\\.)+([a-zA-Z0-9]{2,4})+$/;\\nif(!Ext.isEmpty(_empEmail)){\\n  if(!emailPatrn.test(_empEmail)){\\n    Wb.warning('邮箱格式不合法!');\\n    return;\\n  }\\n}\\n\\nvar _empIdNumber = empIdNumber.getValue();\\nvar idNumPatrn = /(^\\\\d{15}$)|(^\\\\d{18}$)|(^\\\\d{17}(\\\\d|X|x)$)/;\\nif(!Ext.isEmpty(_empIdNumber)){\\n  if(!idNumPatrn.test(_empIdNumber)){\\n    Wb.warning('身份证格式不合法!');\\n    return;\\n  }\\n}\\n\\nnametype=userName.getValue();\\n//判断创建用户是否隐藏\\n\\n \\ntr_6.show();\\n\\n// 执行保存处理\\nvar _sex = '1';\\nif(radio2.checked){\\n  _sex = '2';\\n}\\n\\nvar json = {'_sex':_sex,empId:emp_Id} ; \\n//新增\\n\\nif('edit' != opType.getValue()){\\n  if(emp_Id===null || emp_Id===''){\\n   \\n    var _empId=Wb.getUuid() ;\\n    json.empId=_empId;\\n    empId.setValue(_empId); \\n  \\n  }\\n  \\n   ajax_addMore.request(json);\\n}else{\\n   ajax_updMore.request(json);\\n}\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btnCancel\",\"text\":\"关闭\",\"click\":\"win.hide();\"}]},{\"xwlMeta\":\"array\",\"id\":\"action4Enabled\",\"children\":[{\"xwlMeta\":\"actionItem\",\"id\":\"actionDel\",\"iconCls\":\"delete_icon\",\"handler\":\"Ext.Msg.confirm('提示','您确定要删除此分配信息吗？',function(a){\\n  if(a=='yes'){\\n    var r = store4EmpAsg.getAt(rowIndex) ;\\n    var json = {'asg_id' : r.data.ASG_ID} ;\\n    ajax_del_asg.request(json);\\n    store4EmpAsg.removeAt(rowIndex) ;\\n  }else{\\n    return false ;\\n  }\\n});\",\"tooltip\":\"删除员工分配信息\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray4Asg\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum2\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"40\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ASG_ID\",\"id\":\"ASG_ID\",\"text\":\"分配ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_ID\",\"id\":\"ASG_EMP_ID\",\"text\":\"员工ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_ID\",\"id\":\"ASG_POST_ID\",\"text\":\"岗位ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_ID\",\"id\":\"ASG_DEPT_ID\",\"text\":\"部门ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ASG_ORG_ID\",\"text\":\"组织ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ASG_ORG_NAME\",\"text\":\"组织\",\"width\":\"200\",\"editor\":\"cbx4Orgs\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"ASG_DEPT_NAME\",\"text\":\"部门\",\"width\":\"150\",\"editor\":\"cbx4Depts\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_NAME\",\"id\":\"ASG_POST_NAME\",\"text\":\"岗位\",\"width\":\"150\",\"editor\":\"cbx4Posts\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLED\",\"id\":\"ASG_ENABLED\",\"renderer\":\"if(value === 'Y'){\\n  return '已启用';\\n}else if(value === 'N'){\\n  return '未启用';\\n}else{\\n  return value ;\\n}\",\"text\":\"是否启用\",\"align\":\"center\",\"width\":\"70\",\"editor\":\"cbx4Enabled\"},{\"xwlMeta\":\"actionColumn\",\"align\":\"center\",\"width\":\"30\",\"id\":\"Operation\",\"items\":\"action4Enabled\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_ID\",\"id\":\"EMP_ID\",\"text\":\"员工ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"EMP_CODE\",\"text\":\"员工编号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME\",\"text\":\"员工姓名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_SEX\",\"id\":\"EMP_SEX\",\"renderer\":\"var sex = record.get('EMP_SEX');\\n\\nif(sex == '1'){\\n  return '男' ;\\n}else if(sex == '2'){\\n  return '女' ;\\n}else{\\n  return sex ;\\n}\",\"text\":\"性别\",\"width\":\"60\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ID_NO\",\"id\":\"ID_NO\",\"text\":\"身份证\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PHONE_NO\",\"id\":\"PHONE_NO\",\"text\":\"手机\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ADDRESS\",\"id\":\"ADDRESS\",\"text\":\"地址\",\"width\":\"350\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMAIL\",\"id\":\"EMAIL\",\"text\":\"邮箱\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BIRTHDAY\",\"id\":\"BIRTHDAY\",\"text\":\"出生日期\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE1\",\"id\":\"ATTRIBUTE1\",\"text\":\"固定电话\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ATTRIBUTE2\",\"id\":\"ATTRIBUTE2\",\"renderer\":\"if(value == 'Y'){\\n  return '已启用' ;\\n}else if(value == 'N'){\\n  return '<font color=red>未启用<\\/font>' ;\\n}else{\\n  return value;\\n}\",\"text\":\"员工状态\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE3\",\"id\":\"ATTRIBUTE3\",\"text\":\"弹性扩展字段3\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE4\",\"id\":\"ATTRIBUTE4\",\"text\":\"弹性扩展字段4\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE5\",\"id\":\"ATTRIBUTE5\",\"text\":\"弹性扩展字段5\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE6\",\"id\":\"ATTRIBUTE6\",\"text\":\"弹性扩展字段6\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE7\",\"id\":\"ATTRIBUTE7\",\"text\":\"弹性扩展字段7\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE8\",\"id\":\"ATTRIBUTE8\",\"text\":\"弹性扩展字段8\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE9\",\"id\":\"ATTRIBUTE9\",\"text\":\"弹性扩展字段9\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE10\",\"id\":\"ATTRIBUTE10\",\"text\":\"弹性扩展字段10\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar3\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem21\"},{\"xwlMeta\":\"button\",\"id\":\"userBtn\",\"text\":\"用户信息\",\"click\":\"winDefaultUser.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem22\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar2\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"plus_icon\",\"id\":\"addEmpAsg\",\"tooltip\":\"新增员工分配信息\",\"click\":\"var e=grid4EmpAsg.plugins[0],index=1;\\ne.completeEdit();\\nExt.define('EmpAsgModel', {  \\n    extend: 'Ext.data.Model',  \\n    fields: [  \\n        {name: 'ASG_ID'},  \\n        {name: 'EMP_ID'},  \\n        {name: 'POST_ID'},  \\n        {name: 'DEPT_ID'},  \\n        {name: 'ORG_ID'},  \\n        {name: 'ORG_NAME'},  \\n        {name: 'DEPT_NAME'},  \\n        {name: 'POST_NAME'},  \\n        {name: 'ENABLED'}\\n     ]  \\n});\\nvar p = Ext.create('EmpAsgModel', {ASG_ID:Wb.getUuid(),EMP_ID:empId.getValue(), ENABLED: 'Y'});\\nstore4EmpAsg.insert(0,p);\\ne.startEditByPosition({row:0,column:0});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"win\",\"title\":\"新增员工\",\"height\":\"490\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"720\",\"buttons\":\"btn4AddForm\",\"buttonAlign\":\"center\",\"beforeclose\":\"btnQuery.fireEvent('click');\",\"show\":\"/*\\nvar e=grid4EmpAsg.plugins[0],index=1;\\ne.completeEdit();\\nExt.define('EmpAsgModel', {  \\n    extend: 'Ext.data.Model',  \\n    fields: [  \\n        {name: 'ASG_ID'},  \\n        {name: 'EMP_ID'},  \\n        {name: 'POST_ID'},  \\n        {name: 'DEPT_ID'},  \\n        {name: 'ORG_ID'},  \\n        {name: 'ORG_NAME'},  \\n        {name: 'DEPT_NAME'},  \\n        {name: 'POST_NAME'},  \\n        {name: 'ENABLED'}\\n     ]  \\n});\\nvar p = Ext.create('EmpAsgModel', {ASG_ID:Wb.getUuid(), ENABLED: 'Y'});\\nstore4EmpAsg.insert(0,p);\\ne.startEditByPosition({row:0,column:0});\\n*/\",\"beforehide\":\"btnQuery.fireEvent('click');\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"center\",\"bodyPadding\":\"5px\",\"id\":\"addForm\",\"style\":\"border-width:0px\",\"layout\":\"border\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"northPanel\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>员工编号\",\"id\":\"empCode\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"blur\":\"var empcode=empCode.getValue();\\n\\nuserName.setValue(empcode);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>员工姓名\",\"id\":\"empName\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2_1\",\"layout\":\"form\",\"columnWidth\":\".3\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"date\",\"fieldLabel\":\"出生日期\",\"id\":\"empBirthday\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2_3\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4Enabled\",\"value\":\"Y\",\"valueField\":\"CODE\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"状态\",\"id\":\"empStatus\",\"displayField\":\"NAME\",\"labelWidth\":\"60\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"radioGroup\",\"labelWidth\":\"80\",\"columns\":\"2\",\"fieldLabel\":\"性　　别\",\"id\":\"empSex\",\"labelAlign\":\"right\",\"children\":[{\"xwlMeta\":\"radio\",\"id\":\"radio1\",\"name\":\"radioSex\",\"boxLabel\":\"男\",\"checked\":\"true\"},{\"xwlMeta\":\"radio\",\"id\":\"radio2\",\"name\":\"radioSex\",\"boxLabel\":\"女\"}]}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_3\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_3_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"手　　机\",\"id\":\"empMobilePhone\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_3_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"固定电话\",\"id\":\"empTelephone\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_4\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_4_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"身 份 证 \",\"id\":\"empIdNumber\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_4_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"邮　　箱\",\"id\":\"empEmail\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_5\",\"height\":\"40\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_5_1\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"家庭地址\",\"id\":\"empAddress\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_5_2\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"员工ID\",\"id\":\"empId\",\"labelWidth\":\"80\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"id\":\"opType\",\"value\":\"add\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_6\",\"height\":\"40\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_6_1\",\"layout\":\"form\",\"columnWidth\":\"0.5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"check\",\"labelWidth\":\"80\",\"fieldLabel\":\"创建用户\",\"id\":\"empcheck\",\"labelAlign\":\"right\",\"change\":\"var type=check.getValue();\\nif(type==true){\\n\\n  tr_6_2.show();\\n  checktype='1';\\n}else{\\ntr_6_2.hide();\\n\\nchecktype='0';\\n}\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_6_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"userName\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"结束时间        \",\"id\":\"endDate\",\"hidden\":\"true\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"fieldSet\",\"region\":\"center\",\"collapsible\":\"true\",\"id\":\"gridInfoFieldSet\",\"title\":\"员工分配\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store4EmpAsg\",\"columns\":\"colArray4Asg\",\"iconCls\":\"grid_icon\",\"pagingToolbar\":\"false\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"forceFit\":\"true\",\"id\":\"grid4EmpAsg\",\"tbar\":\"toolbar2\",\"autoLoad\":\"false\",\"selType\":\"rowmodel\",\"hidden\":\"false\",\"cellclick\":\"var selectedRecord = store4EmpAsg.getAt(rowIndex);\\nif(cellIndex==7){\\n  if(Ext.isEmpty(selectedRecord.get('ORG_ID'))){\\n    Wb.message('请选择组织!');\\n    return false;\\n  }else{\\n    Wb.load(store4Depts ,{'orgId':selectedRecord.get('ORG_ID')});\\n  }\\n}else if(cellIndex==8){\\n  if(Ext.isEmpty(selectedRecord.get('ORG_ID'))){\\n    Wb.message('请选择组织!');\\n    return false;\\n  }\\n  \\n  if(Ext.isEmpty(selectedRecord.get('DEPT_ID'))){\\n    Wb.message('请选择部门!');\\n    return false;\\n  }\\n  \\n  Wb.load(store4Posts ,{'orgId':selectedRecord.get('ORG_ID'),'deptId':selectedRecord.get('DEPT_ID')});\\n}\\n\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"winDefaultUser\",\"title\":\"默认创建用户\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"620\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"layout\":\"column\",\"bodyStyle\":\"padding: 10px 10px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"tr_11\",\"columnWidth\":\"0.5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"date\",\"fieldLabel\":\"<font color='red'>*<\\/font>开始时间\",\"id\":\"startDate\",\"value\":\"new Date()\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"tr_21\",\"columnWidth\":\"0.5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"value\":\"U\",\"width\":\"280\",\"labelAlign\":\"right\",\"pickList\":\"[['S','系统用户'],['U','自定义用户']]\",\"fieldLabel\":\"用户类型\",\"id\":\"userType\",\"readOnly\":\"true\"}]}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line1l\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"new_icon\",\"id\":\"btnAdd\",\"click\":\"\\ntoolbar3.show();\\ntr_6.show();\\nwin.setTitle('新增员工') ;\\nbtnSaveMore.show();\\nwin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"修改\",\"iconCls\":\"edit_icon\",\"id\":\"btnEdit\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\ntoolbar3.hide();\\ntr_6.hide();\\nif(rows.length === 0 || rows.length > 1){\\n  Ext.Msg.alert('提示','请选择一条员工信息!');\\n  return false ;  \\n  \\n}else{\\n  var _empId = rows[0].data.EMP_ID ;\\n  var _empCode = rows[0].data.EMP_CODE ;\\n  var _empName = rows[0].data.EMP_NAME ;\\n  var _empSex = rows[0].data.EMP_SEX ;\\n  var _empIdNO = rows[0].data.ID_NO ;\\n  var _empMobilePhone = rows[0].data.PHONE_NO ;\\n  var _empAddress = rows[0].data.ADDRESS ;\\n  var _empEmail = rows[0].data.EMAIL ;\\n  var _empBirthday = rows[0].data.BIRTHDAY ;\\n  var _empTelePhone = rows[0].data.ATTRIBUTE1 ;\\n  var _empStatus = rows[0].data.ATTRIBUTE2 ;\\n\\n  empId.setValue(_empId) ;\\n  empCode.setValue(_empCode) ;\\n  empName.setValue(_empName) ;\\n  empBirthday.setValue(_empBirthday) ;\\n  empStatus.setValue(_empStatus) ;\\n  \\n  if(_empSex === '1'){\\n    radio1.setValue(true) ;\\n  }else{\\n    radio2.setValue(true) ;\\n  }\\n\\n  empMobilePhone.setValue(_empMobilePhone) ;\\n  empTelephone.setValue(_empTelePhone) ;\\n  empIdNumber.setValue(_empIdNO) ;\\n  empEmail.setValue(_empEmail) ;\\n  empAddress.setValue(_empAddress) ;\\n  \\n  opType.setValue('edit') ;\\n  \\n  // 加载分配信息\\n  Wb.load(store4EmpAsg,{'empId':_empId}) ;\\n  \\n  win.setTitle('修改员工') ;\\n  btnSaveMore.hide();\\n  win.show();\\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"delete_icon\",\"id\":\"btnDelete\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择员工信息!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的员工信息吗？',function(a){\\n    if(a=='yes'){\\n      var idList = \\\"\\\" ;\\n      Ext.each(rows,function(r){\\n      \\tvar id = \\\"'\\\" + r.data.EMP_ID + \\\"'\\\";\\n        if(idList === \\\"\\\"){\\n          idList = id ;\\n        }else{\\n          idList = idList+\\\",\\\"+id ;\\n        }\\n      });\\n      var json = {'ids' : idList} ;\\n      ajax_del.request(json);\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line4\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"员工编号/员工姓名\",\"id\":\"text1\",\"labelWidth\":\"120\",\"width\":\"document.body.clientWidth*(.3)\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(store4Grid);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btnQuery\",\"text\":\"查询\",\"click\":\"Wb.load(store4Grid);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btnReset\",\"text\":\"重置\",\"click\":\"text1.setValue('');\\n\\nstore4Grid.removeAll();\\n\\nWb.load(store4Grid) ;\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"layout\":\"fit\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store4Grid\",\"columns\":\"colArray\",\"exportExcel\":\"true\",\"border\":\"false\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"multiSelect\":\"true\",\"autoLoad\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\",\"itemdblclick\":\"var rows = grid1.getSelectionModel().getSelection();\\ntr_6.hide();\\nif(rows.length === 0 || rows.length > 1){\\n  Ext.Msg.alert('提示','请选择一条员工信息!');\\n  return false ;  \\n  \\n}else{\\n  var _empId = rows[0].data.EMP_ID ;\\n  var _empCode = rows[0].data.EMP_CODE ;\\n  var _empName = rows[0].data.EMP_NAME ;\\n  var _empSex = rows[0].data.EMP_SEX ;\\n  var _empIdNO = rows[0].data.ID_NO ;\\n  var _empMobilePhone = rows[0].data.PHONE_NO ;\\n  var _empAddress = rows[0].data.ADDRESS ;\\n  var _empEmail = rows[0].data.EMAIL ;\\n  var _empBirthday = rows[0].data.BIRTHDAY ;\\n  var _empTelePhone = rows[0].data.ATTRIBUTE1 ;\\n  var _empStatus = rows[0].data.ATTRIBUTE2 ;\\n\\n  empId.setValue(_empId) ;\\n  empCode.setValue(_empCode) ;\\n  empName.setValue(_empName) ;\\n  empBirthday.setValue(_empBirthday) ;\\n  empStatus.setValue(_empStatus) ;\\n  \\n  if(_empSex === '1'){\\n    radio1.setValue(true) ;\\n  }else{\\n    radio2.setValue(true) ;\\n  }\\n\\n  empMobilePhone.setValue(_empMobilePhone) ;\\n  empTelephone.setValue(_empTelePhone) ;\\n  empIdNumber.setValue(_empIdNO) ;\\n  empEmail.setValue(_empEmail) ;\\n  empAddress.setValue(_empAddress) ;\\n  \\n  opType.setValue('edit') ;\\n  \\n  // 加载分配信息\\n  Wb.load(store4EmpAsg,{'empId':_empId}) ;\\n  \\n  win.setTitle('修改员工') ;\\n  btnSaveMore.hide();\\n  win.show();\\n}\\n\\n\"}]}]}]}","员工管理",null,0,0,"admin","2015-01-08 16:27:54.0","23XQ4UO678F0","2015-10-27 10:52:42.0",2],["23VVZ3QMOKTS","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"Delete\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkUser\",\"sql\":\"select count(1) as \\\"V\\\" from xip_pub_users t where t.emp_id in ({#ids#})\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"所选员工已关联用户不能执行删除！\\\"]\",\"id\":\"userExists\",\"xwlMeta\":\"except\",\"name\":\"checkUser.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"deleteEmpAsg\",\"sql\":\"  delete from xip_pub_emp_asg  where emp_id in ({#ids#})\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"deleteEmps\",\"sql\":\"delete from xip_pub_emps  where emp_id in ({#ids#})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Delete",null,0,0,"admin","2015-01-08 16:39:07.0","admin","2015-06-01 16:31:47.0",5],["23VXF440TC7M","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"Update\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkEmpCode\",\"sql\":\"  select count(1) as \\\"V\\\" from xip_pub_emps t where t.emp_code = {?empCode?} and t.emp_id <> {?empId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"员工编码已存在！\\\"]\",\"id\":\"empCodeExists\",\"xwlMeta\":\"except\",\"name\":\"checkEmpCode.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"updateEmp\",\"sql\":\"update xip_pub_emps\\n   set emp_code          = {?empCode?},\\n       emp_name          = {?empName?},\\n       emp_sex           = {?_sex?},\\n       id_no             = {?empIdNumber?},\\n       phone_no          = {?empMobilePhone?},\\n       address           = {?empAddress?},\\n       email             = {?empEmail?},\\n       attribute1        = {?empTelephone?},\\n       attribute2        = {?empStatus?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?},\\n       birthday          = {?timestamp.empBirthday?}\\n where emp_id = {?empId?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Update",null,0,0,"admin","2015-01-13 10:40:13.0","admin","2015-02-10 16:14:55.0",4],["23VXQRIVI8Z3","23VKVPUL8420","{\"id\":\"module\",\"title\":\"db_select_his_task\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select tsk.task_id TASKID1,\\n       tsk.task_title TASKTITLE1,\\n       tsk.attribute1 ATTRIBUTE1,\\n       tsk.task_state TASKSTATE1,\\n       tsk.act_name ACTNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.from_user) FROMUSERNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.assign_user) ASSIGNUSERNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.execute_user) EXECUTEUSERNAME1,\\n       pi.business_id BUSINESSID1,\\n       pi.business_code BUSINESSCODE1,\\n       pi.business_name BUSINESSNAME1,\\n       e.entity_name ENTITYNAME1,\\n       tsk.begin_date BEGINDATE1,\\n\\t   tsk.end_date ENDDATE1,\\n       pi.instance_id INSTANCEID1,\\n       pi.instance_code INSTANCECODE1\\n  from xip_wf_ins_task tsk, xip_wf_process_instance pi, xip_wf_entities e\\n where tsk.instance_id = pi.instance_id\\n   and pi.entity_id = e.entity_id\\n   and (tsk.assign_user = {?XIP.userId?} or tsk.execute_user = {?XIP.userId?} )\\n   and tsk.task_state = 'closed'\\n   and tsk.task_effective = 'Y'\\n   and tsk.END_DATE >= to_date(substr(nvl({?hisBeginDate?},'1900-01-01'),0,10),'yyyy-mm-dd')\\n   and tsk.END_DATE < to_date(substr(nvl({?hisEndDate?},'9999-01-01'),0,10),'yyyy-mm-dd')\\n   and e.entity_name like '%{#hisTextEntityName#}%'\\n   and tsk.task_title like '%{#hisTextTaskTitle#}%'\\n order by tsk.begin_date desc\\n\",\"mysql\":\"select tsk.task_id TASKID1,\\n       tsk.task_title TASKTITLE1,\\n       tsk.attribute1 ATTRIBUTE1,\\n       tsk.task_state TASKSTATE1,\\n       tsk.act_name ACTNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.from_user) FROMUSERNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.assign_user) ASSIGNUSERNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.execute_user) EXECUTEUSERNAME1,\\n       pi.business_id BUSINESSID1,\\n       pi.business_code BUSINESSCODE1,\\n       pi.business_name BUSINESSNAME1,\\n       e.entity_name ENTITYNAME1,\\n       tsk.begin_date BEGINDATE1,\\n\\t   tsk.end_date ENDDATE1,\\n       pi.instance_id INSTANCEID1,\\n       pi.instance_code INSTANCECODE1\\n  from xip_wf_ins_task tsk, xip_wf_process_instance pi, xip_wf_entities e\\n where tsk.instance_id = pi.instance_id\\n   and pi.entity_id = e.entity_id\\n   and (tsk.assign_user = {?XIP.userId?} or tsk.execute_user = {?XIP.userId?} )\\n   and tsk.task_state = 'closed'\\n   and tsk.task_effective = 'Y'\\n   and tsk.END_DATE >= DATE_FORMAT(SUBSTR(IF({?hisBeginDate?},{?hisBeginDate?},'1900-01-01'), 1 , 10),'%Y-%m-%d')\\n   and tsk.END_DATE < DATE_FORMAT(SUBSTR(IF({?hisEndDate?},{?hisEndDate?},'9999-01-01') , 1 , 10),'%Y-%m-%d')\\n   and e.entity_name like '%{#hisTextEntityName#}%'\\n   and tsk.task_title like '%{#hisTextTaskTitle#}%'\\n order by tsk.begin_date desc\\n\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Select ClosedTaskList",null,0,0,"admin","2015-01-15 17:42:30.0","admin","2015-08-04 10:39:37.0",3],["23VZKU3HBH92","23VVZ3QMOKQV","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"用户管理\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nvar sysMode = request.getSession().getAttribute(\\\"XzSessionVars\\\");\\nrequest.setAttribute(\\\"sysMode\\\",sysMode.get(\\\"godMode\\\"));\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23VZKU3HBH97 (Insert)\",\"id\":\"ajax_add\",\"output\":\"attribute,endDate,startDate,userName,empId\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"添加用户信息保存失败!\\\");\",\"success\":\"var tmp =  Ext.JSON.decode(response.responseText);\\nuserId.setValue(tmp.id);\\nExt.Msg.alert(\\\"提示\\\",\\\"用户信息保存成功!\\\");\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VZKU3HBH97 (Insert)\",\"id\":\"ajax_add_continue\",\"output\":\"attribute,endDate,startDate,userName,empId\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"用户信息保存失败!\\\");\",\"success\":\"form1.getForm().reset();\\nuserName.setReadOnly(false);\\nuserType.setValue('U');\\nuserId.setValue('');\\nExt.Msg.alert(\\\"提示\\\",\\\"用户信息保存成功!\\\");\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VZKU3HBH98 (Update)\",\"id\":\"ajax_edit\",\"output\":\"userId,userName,startDate,endDate,attribute,empId\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"用户信息保存失败!\\\");\",\"success\":\"var tmp =  Ext.JSON.decode(response.responseText);\\nuserId.setValue(tmp.id);\\nExt.Msg.alert(\\\"提示\\\",\\\"用户信息保存成功!\\\");\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VZKU3HBH98 (Update)\",\"id\":\"ajax_edit_continue\",\"output\":\"userId,userName,startDate,endDate,attribute,empId\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"用户信息保存失败!\\\");\",\"success\":\"form1.getForm().reset();\\nuserName.setReadOnly(false);\\nuserType.setValue('U');\\nuserId.setValue('');\\nExt.Msg.alert(\\\"提示\\\",\\\"用户信息保存成功!\\\");\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23VZKU3HBH95 (ModifyPasswoord)\",\"id\":\"ajax_pwd_edit\",\"output\":\"userId11\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"密码修改成功!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"密码修改成功!\\\");\\npwdWin.hide();\\nWb.load(userStore);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0MGAAYK1S (insertFun)\",\"id\":\"addFunAjax\",\"failure\":\"Wb.message('授权失败！');\",\"success\":\"var _userId = hidenuserid.getValue();\\nmenuFunctionAllStore.load({params:{userId:_userId,isGranted:'N'}});\\nmenuFunctionStore.load({params:{userId:_userId,isGranted:'Y'}});\\nWb.message('授权成功！');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X64X5AE5EJ (delFun)\",\"id\":\"delFunAjax\",\"failure\":\"Wb.message('删除授权失败！');\",\"success\":\"var _userId = hidenuserid.getValue();\\nmenuFunctionStore.load({params:{userId:_userId,isGranted:'Y'}});\\nWb.message('删除授权成功！');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKUF1G (insertrole)\",\"id\":\"roleAddAjax\",\"success\":\"Wb.message('授权成功！');\\nvar _userId = hidenuserid.getValue();\\nWb.load(storeRoleAll,{USER_ID:_userId});\\nWb.load(storeRole);\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKUKKZ (insertOrg)\",\"id\":\"orgAddAjax\",\"success\":\"Wb.message('新增授权成功！');\\nWb.load(storeOrg);\\nvar _userId = hidenuserid.getValue();\\nWb.load(storeOrgAll,{USER_ID:_userId});\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKULJ8 (insertapp)\",\"id\":\"appAddAjax\",\"success\":\"Wb.message('应用授权成功！');\\nvar _userId = hidenuserid.getValue();\\nWb.load(storeAppAll,{USER_ID:_userId});\\nWb.load(storeApp);\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0MGAAYM0N (deleteFun)\",\"id\":\"ajax_fun_del\",\"success\":\"//更新树\\nvar node = Wb.getSelNode(menuFunctionTree);\\n\\nvar parentNode = node.parentNode;\\n\\nparentNode.removeChild(node);\\nparentNode.commit();\\nExt.Msg.alert(\\\"提示\\\",\\\"删除成功!\\\");\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKUFJ5 (deleterole)\",\"id\":\"ajax_role_del\",\"output\":\"Rolegrid\",\"success\":\"//Wb.remove(Rolegrid);\\nWb.load(storeRole);\\nWb.message('删除成功');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKUKWE (deleteorg)\",\"id\":\"ajax_org_del\",\"output\":\"Orggrid\",\"success\":\"Wb.remove(Orggrid);\\n//Wb.load(storeRole);\\nWb.message('删除成功');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKULMR (deleteapp)\",\"id\":\"ajax_app_del\",\"output\":\"Appgrid\",\"success\":\"Wb.remove(Appgrid);\\n//Wb.load(storeRole);\\nWb.message('删除成功');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0PQ9562LX (deleterolerepeat)\",\"id\":\"ajax_role_repeat_del\",\"success\":\"//Wb.remove(Rolegrid);\\nWb.load(storeRole);\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0PQ95632V (deleteorgrepeat)\",\"id\":\"ajax_org_repeat_del\",\"success\":\"//Wb.remove(Rolegrid);\\nWb.load(storeOrg);\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0PQ95640V (deleteapprepeat)\",\"id\":\"ajax_app_repeat_del\",\"success\":\"//Wb.remove(Rolegrid);\\nWb.load(storeApp);\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0MGAAYK1S (insertFun)\",\"id\":\"addCopyUserAjax\",\"failure\":\"Wb.message('权限复制失败!');\",\"success\":\"Wb.message('权限复制成功！');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKUF1G (insertrole)\",\"id\":\"addCopyRoleAjax\",\"failure\":\"Wb.message('权限复制失败!');\",\"success\":\"Wb.message('权限复制成功！');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKUKKZ (insertOrg)\",\"id\":\"addCopyOrgAjax\",\"failure\":\"Wb.message('权限复制失败!');\",\"success\":\"Wb.message('权限复制成功！');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKULJ8 (insertapp)\",\"id\":\"addCopyAppAjax\",\"failure\":\"Wb.message('权限复制失败!');\",\"success\":\"Wb.message('权限复制成功！');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WZPVCKUNYT (insertUserRole)\",\"id\":\"insert_user_role_ajax\",\"success\":\"\\nWb.message('授权成功');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X03HFUVIG7 (insertUserOrg)\",\"id\":\"insert_user_org_ajax\",\"success\":\"\\nWb.message('授权成功');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X03SSA2IGH (insertUserApp)\",\"id\":\"insert_user_app_ajax\",\"success\":\"\\nWb.message('授权成功');\\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"staticStore\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"userGrantedFunStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23X64X5AE63F (userGrantedFunStore)\"},{\"xwlMeta\":\"store\",\"id\":\"userGrantedRoleStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23X64X5AE6NB (userGrantedRoleStore)\"},{\"xwlMeta\":\"store\",\"id\":\"userGrantedOrgStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23X64X5AE74R (userGrantedoRGStore)\"},{\"xwlMeta\":\"store\",\"id\":\"userGrantedAppStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23X64X5AE7KQ (userGrantedAppStore)\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"{#contextPath#}/userAuthoriseTreeCreateAction.do?method=getUserFunTreeById\",\"id\":\"menuFunctionStore\",\"autoLoad\":\"false\",\"fields\":\"[{name:'text'},{name:'id'},{name:'parent_id'},{name:'node_type'},{name:'node_order'}]\\n\",\"load\":\"menuFunctionTree.expandAll();\"},{\"xwlMeta\":\"treeStore\",\"url\":\"{#contextPath#}/userAuthoriseTreeCreateAction.do?method=getUserFunTreeById\",\"id\":\"menuFunctionAllStore\",\"autoLoad\":\"false\",\"fields\":\"[{name:'text'},{name:'id'},{name:'parent_id'},{name:'node_type'},{name:'node_order'}]\",\"load\":\"menuFunctionTreeAll.expandAll();\",\"beforeload\":\"operation.params.parentID=operation.node.get('ID');\\n\\n\\t\\n\\n\\n\\n\"},{\"xwlMeta\":\"store\",\"id\":\"storeRole\",\"url\":\"#23WWPO1ZO742 (selectRole)\"},{\"xwlMeta\":\"store\",\"id\":\"storeOrg\",\"url\":\"#23WWPO1ZO747 (selectOrg)\",\"output\":\"wincopyfun\"},{\"xwlMeta\":\"store\",\"id\":\"storeApp\",\"url\":\"#23WWPO1ZO749 (selectApp)\"},{\"xwlMeta\":\"store\",\"id\":\"storeUser\",\"autoLoad\":\"false\",\"url\":\"#23X6JDTEN5QC (noOrgDeptGridUser)\",\"output\":\"Userform\",\"beforeload\":\"var whereSql= ' AND 1=1';\\nif(Ext.isEmpty(orgComboBox.getValue()) && Ext.isEmpty(deptCombobox.getValue())){\\n  store.getProxy().url='main?xwl=23X6JDTEN5QC';  //noOrgDeptGridUser\\n}else{\\n  store.getProxy().url='main?xwl=23X6JDTEN5QA';  //orgDeptGridUser\\n}\\nif(!Ext.isEmpty(orgComboBox.getValue())){\\n  \\n  whereSql +=' AND b.ORG_ID =\\\\''+orgComboBox.getValue()+'\\\\'';\\n}\\nif(!Ext.isEmpty(deptCombobox.getValue())){\\n  whereSql +=' AND b.DEPT_ID =\\\\''+deptCombobox.getValue()+'\\\\'';\\n}\\nstore.getProxy().extraParams.WHERESQL = whereSql;\"},{\"xwlMeta\":\"store\",\"id\":\"storeorgs\",\"pageSize\":\"-1\",\"url\":\"#23WY8FJ3Z8UL (selectOrgs)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"storedeptname\",\"pageSize\":\"-1\",\"url\":\"#23WY8FJ3Z8UN (selectDeptName)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"storeRoleAll\",\"autoLoad\":\"false\",\"url\":\"#23WYSJFPCSOL (selectRoleAll)\",\"output\":\"Roleform\"},{\"xwlMeta\":\"store\",\"id\":\"storeOrgAll\",\"autoLoad\":\"false\",\"url\":\"#23WYSJFPCSOP (selectOrgAll)\",\"output\":\"Orgform\"},{\"xwlMeta\":\"store\",\"id\":\"storeAppAll\",\"url\":\"#23WYSJFPCSON (selectAppAll)\",\"output\":\"Appform\"},{\"xwlMeta\":\"store\",\"id\":\"userStore\",\"url\":\"#23VZKU3HBH96 (Select)\",\"output\":\"text1,text2,text1Upper\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#23X7D36B73XH (getRoleFunctionsTree)\",\"id\":\"menuFunctionStore1\",\"beforeload\":\"operation.params.parentID=operation.node.get('ID');\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#23X7D36B73XJ (getMenuGroupTree)\",\"id\":\"menuGroupStore\",\"load\":\"menuGroupTree.getRootNode().expand();\",\"beforeload\":\"operation.params.parentID=operation.node.get('ID');\"}]},{\"xwlMeta\":\"folder\",\"id\":\"selectComb\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"grid\":\"selectGrid\",\"pageSize\":\"10\",\"url\":\"#23VZKU3HBHXH (CodeNameSelect)\",\"output\":\"menu1\",\"showMask\":\"false\",\"load\":\"menu1.showBy(empCodeName);\\nempCodeName.focus(false,true);\"},{\"xwlMeta\":\"array\",\"id\":\"array1\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_ID\",\"id\":\"column1\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"column2\",\"text\":\"员工编号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE_NAME\",\"id\":\"column4\",\"text\":\"员工编号/姓名\"}]},{\"xwlMeta\":\"menu\",\"id\":\"menu1\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"height\":\"260\",\"layout\":\"border\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"array1\",\"exportExcel\":\"true\",\"border\":\"false\",\"scroll\":\"both\",\"pagingToolbar\":\"true\",\"width\":\"500\",\"pageSizeMenu\":\"true\",\"region\":\"center\",\"forceFit\":\"true\",\"id\":\"selectGrid\",\"columnLines\":\"true\",\"autoLoad\":\"false\",\"exportPrint\":\"true\",\"select\":\"empCodeName.setValue(record.get('EMP_CODE_NAME'));\\nempId.setValue(record.get('EMP_ID'));\\nmenu1.hide();\"}]}]}]},{\"xwlMeta\":\"folder\",\"id\":\"copyfuncolumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"Orggridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber2\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"orgid1\",\"text\":\"组织id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_CODE\",\"id\":\"orgcode\",\"text\":\"组织编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_SEC_ID\",\"id\":\"orgsecid\",\"text\":\"org_sec_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"orgname1\",\"text\":\"组织名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Orggridcolumn1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber21\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"orgid11\",\"text\":\"组织id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_CODE\",\"id\":\"orgcode1\",\"text\":\"组织编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"orgname11\",\"text\":\"组织名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Rolegridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column12\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"column22\",\"text\":\"ROLE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"roleNA1\",\"text\":\"角色名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ROLE_ID\",\"id\":\"userroleid\",\"text\":\"user_role_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"roleDesctiption\",\"text\":\"角色说明\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Rolegridcolumn1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column121\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"column221\",\"text\":\"ROLE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"roleNA11\",\"text\":\"角色名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"roleDesctiption1\",\"text\":\"角色说明\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Appgridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SEC_ID\",\"id\":\"secid\",\"text\":\"secid\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"appid\",\"text\":\"应用id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"appName\",\"text\":\"应用名称\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_DESC\",\"id\":\"appdesc\",\"text\":\"应用描述\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Appgridcolumn1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"appid1\",\"text\":\"应用id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"appName1\",\"text\":\"应用名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_DESC\",\"id\":\"appdesc1\",\"text\":\"应用描述\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"Usergridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column1111\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"column2112\",\"text\":\"USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USERNAME11\",\"text\":\"用户名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"YGXM11\",\"text\":\"员工姓名\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Usergridcolumn1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column11111\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"column21121\",\"text\":\"USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USERNAME111\",\"text\":\"用户名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"YGXM111\",\"text\":\"员工姓名\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Usergridcolumn2\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column11112\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"column21122\",\"text\":\"USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USERNAME112\",\"text\":\"用户名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"YGXM112\",\"text\":\"员工姓名\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Usergridcolumn3\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column11113\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"column21123\",\"text\":\"USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USERNAME113\",\"text\":\"用户名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"YGXM113\",\"text\":\"员工姓名\",\"flex\":\"1\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"copyfunbuttons\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"allfunbtnbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"copyallbtn\",\"text\":\"复制选中权限给其他用户\"}]},{\"xwlMeta\":\"folder\",\"id\":\"addfunbuttons\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"winfunbtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"saveFunBtn\",\"text\":\"确定\",\"click\":\"var selectLength = menuFunctionTreeAll.getChecked().length;\\nif(selectLength===0){\\n  Wb.warning('请选择添加的授权功能！');\\n  return;\\n}  \\nvar user_id=hidenuserid.getValue();\\n//========为用户添加授权功能================\\nvar _addSelectRecord = menuFunctionTreeAll.getChecked();\\nvar _addArray = [];\\nvar _addUnit;\\nfor(var i = 0;i<selectLength;i++){\\n  var item = _addSelectRecord[i];\\n  if(item.data.node_type === 'F'){  \\n    _addUnit = {FUN_TREE_ID:item.data.id,TARGET_ID:user_id};\\n    _addArray.push(_addUnit);\\n  } \\n}\\n//==============执行请求操作=================\\n\\naddFunAjax.params.newArray = Ext.JSON.encode(_addArray);\\naddFunAjax.request();\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closeFunWin\",\"text\":\"关闭\",\"click\":\"winfun.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"winrolebtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"confirmbtn\",\"text\":\"确定\",\"click\":\"//==============添加角色授权==================\\nvar _userId = hidenuserid.getValue();\\nvar rows = Wb.getSelRec(RolegridAll);\\nif(rows.length === 0){\\n  Wb.warning('请选择要授权的角色！');\\n  return false;\\n}\\nvar _tmpJson;\\nvar _addArray = [];\\nExt.each(rows,function(a){\\n  _tmpJson = {ROLE_ID:a.data.ROLE_ID,USER_ID:_userId};\\n  _addArray.push(_tmpJson); \\n});\\nroleAddAjax.params.newArray = Ext.JSON.encode(_addArray);\\nroleAddAjax.request();\\n\\n      \\n      \\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closebtn\",\"text\":\"关闭\",\"click\":\"winrole.close();\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"winorgbtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"orgSavebtn\",\"text\":\"确定\",\"click\":\"//==============添加组织授权==================\\nvar _userId = hidenuserid.getValue();\\nvar rows = Wb.getSelRec(OrggridAll);\\nif(rows.length === 0){\\n  Wb.warning('请选择要授权组织！');\\n  return false;\\n}\\nvar _tmpJson;\\nvar _addArray = [];\\nExt.each(rows,function(a){\\n  _tmpJson = {ORG_ID:a.data.ORG_ID,TARGET_ID:_userId};\\n  _addArray.push(_tmpJson); \\n});\\norgAddAjax.params.newArray = Ext.JSON.encode(_addArray);\\norgAddAjax.request();\\n      \\n      \\n      \\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closebtn1\",\"text\":\"关闭\",\"click\":\"winorg.close();\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"winappbtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"appSaveBtn\",\"text\":\"确定\",\"click\":\"//==============添加组织授权==================\\nvar _userId = hidenuserid.getValue();\\nvar rows = Wb.getSelRec(AppgridAll);\\nif(rows.length === 0){\\n  Wb.warning('请选择要授权的应用！');\\n  return false;\\n}\\nvar _tmpJson;\\nvar _addArray = [];\\nExt.each(rows,function(a){\\n  _tmpJson = {APP_ID:a.data.APP_ID,USER_ID:_userId};\\n  _addArray.push(_tmpJson); \\n});\\nappAddAjax.params.newArray = Ext.JSON.encode(_addArray);\\nappAddAjax.request();\\n\\n     \\n      \\n        \\n      \\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closeAppWin\",\"text\":\"关闭\",\"click\":\"winapp.close();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winuserbuttons\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"winuserbtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"insert_icon\",\"id\":\"revokeuser\",\"text\":\"授权\",\"click\":\"//************************公共变量部分**************************\\n//************************************************************\\nvar _userRows = Wb.getSelRec(Usergrid);\\nif(_userRows.length === 0){\\n  Wb.warning('请选择要授权的用户！');\\n  return false;\\n}\\nvar _userIds = '';\\nExt.each(_userRows,function(c){\\n    _userIds += '\\\\''+c.data.USER_ID+'\\\\',';\\n});\\n_userIds = _userIds.substring(0,_userIds.length-1);\\n//************************复制功能权限**************************\\n//************************************************************\\nif(winTypeHidden.getValue() === 'FUN'){\\n//==============授权的功能=======================\\nvar _selectedFun = menuFunctionTree.getChecked();\\n//==============授权的用户=======================\\nvar _funIds = '';\\nExt.each(_selectedFun,function(b){\\n  _funIds += '\\\\''+b.data.id+'\\\\',';\\n});\\n_funIds = _funIds.substring(0,_funIds.length-1);\\nvar _validArray = [];\\nvar _validUnit= '';\\nExt.each(_selectedFun,function(item){\\n  Ext.each(_userRows,function(a){\\n    _validUnit = item.data.id+','+a.data.USER_ID;\\n    _validArray.push(_validUnit);\\n           });\\n});\\n //insert_user_fun_ajax.request(json);\\n//================校验授权的重复性================\\nuserGrantedFunStore.load({params:{userIds:_userIds,funIds:_funIds},callback:function(){\\n  userGrantedFunStore.each(function(d){\\n    _validUnit = d.data.FUN_TREE_ID+','+d.data.TARGET_ID;\\n    if(Ext.Array.contains(_validArray,_validUnit)){\\n       Ext.Array.remove(_validArray,_validUnit);\\n    } \\n  });\\n//================授权已经存在==================\\n  if(_validArray.length === 0){\\n   Wb.warning('授权已存在，请重新选择！');\\n   return false;\\n }\\n var _copyArray = [];\\n var _tmpUnit; \\n var _tmpStr;\\n Ext.each(_validArray,function(tmpItem){\\n     _tmpStr = tmpItem.split(',');\\n     _tmpUnit= {USER_FUN_ID:'',FUN_TREE_ID:_tmpStr[0],TARGET_ID:_tmpStr[1]};\\n     _copyArray.push(_tmpUnit);\\n   });  \\n//==============执行请求操作=================\\n addCopyUserAjax.params.newArray = Ext.JSON.encode(_copyArray);\\n addCopyUserAjax.request();  \\n}});\\n}\\n//************************复制角色权限**************************\\n//************************************************************\\nelse if(winTypeHidden.getValue() === 'ROLE'){\\n  //==============获取授权的角色============\\n  var _rows=Wb.getSelRec(Rolegrid);\\n  var _roleIds ='';\\n  Ext.each(_rows,function(r){\\n    _roleIds +='\\\\''+r.data.ROLE_ID+'\\\\',';\\n  });\\n  _roleIds = _roleIds.substring(0,_roleIds.length-1);\\n  //==============校验授权的重复性============\\n  var roleValidStr ='';\\n  var roleValidArray = [];\\n  Ext.each(_userRows,function(u){\\n    Ext.each(_rows,function(r){\\n      roleValidStr = r.data.ROLE_ID+','+u.data.USER_ID;\\n      roleValidArray.push(roleValidStr);\\n    });\\n  });\\n  //=================load校验store============\\n  userGrantedRoleStore.load({params:{userIds:_userIds,roleIds:_roleIds},callback:function(){\\n    userGrantedRoleStore.each(function(role){\\n      roleValidStr = role.data.ROLE_ID+','+role.data.USER_ID;\\n      if(Ext.Array.contains(roleValidArray,roleValidStr)){\\n        Ext.Array.remove(roleValidArray,roleValidStr);\\n      }\\n    });\\n //=================无需授权================\\n if(roleValidArray.length === 0){\\n   Wb.warning('授权已存在，请重新选择！');\\n   return false;\\n }\\n //==============校验完毕，执行角色授权复制操作==============\\n  var _roleStrArray = [];\\n  var _roleStr='';\\n  var _roleUnit;\\n Ext.each(roleValidArray,function(tmpItem){\\n     _roleStr = tmpItem.split(',');\\n     _roleUnit= {USER_ROLE_ID:'',ROLE_ID:_roleStr[0],USER_ID:_roleStr[1]};\\n     _roleStrArray.push(_roleUnit);\\n   });  \\n//==============执行请求操作=================\\n addCopyRoleAjax.params.newArray = Ext.JSON.encode(_roleStrArray);\\n addCopyRoleAjax.request();      \\n  }});\\n }\\n//************************复制组织权限**************************\\n//************************************************************\\nelse if(winTypeHidden.getValue() === 'ORG'){\\n//==============授权的组织=======================\\nvar _selectedOrg = Wb.getSelRec(Orggrid);\\nvar _orgIds = '';\\nExt.each(_selectedOrg,function(b){\\n  _orgIds += '\\\\''+b.data.ORG_ID+'\\\\',';\\n});\\n_orgIds = _orgIds.substring(0,_orgIds.length-1);\\nvar _validArray = [];\\nvar _validUnit= '';\\nExt.each(_selectedOrg,function(item){\\n  Ext.each(_userRows,function(a){\\n    _validUnit = item.data.ORG_ID+','+a.data.USER_ID;\\n    _validArray.push(_validUnit);\\n           });\\n});\\n\\n//================校验授权的重复性================\\nuserGrantedOrgStore.load({params:{userIds:_userIds,orgIds:_orgIds},callback:function(){\\n  userGrantedOrgStore.each(function(d){\\n    _validUnit = d.data.ORG_ID+','+d.data.TARGET_ID;\\n    if(Ext.Array.contains(_validArray,_validUnit)){\\n       Ext.Array.remove(_validArray,_validUnit);\\n    } \\n  });\\n//================授权已经存在==================\\n  if(_validArray.length === 0){\\n   Wb.warning('授权已存在，请重新选择！');\\n   return false;\\n }\\n var _copyArray = [];\\n var _tmpUnit; \\n var _tmpStr;\\n Ext.each(_validArray,function(tmpItem){\\n     _tmpStr = tmpItem.split(',');\\n     _tmpUnit= {ORG_SEC_ID:'',ORG_ID:_tmpStr[0],TARGET_ID:_tmpStr[1]};\\n     _copyArray.push(_tmpUnit);\\n   });  \\n//==============执行请求操作=================\\n addCopyOrgAjax.params.newArray = Ext.JSON.encode(_copyArray);\\n addCopyOrgAjax.request();  \\n}});    \\n}\\n//************************复制应用权限**************************\\n//************************************************************\\nelse{\\n  //==============授权的应用=======================\\nvar _selectedApp = Wb.getSelRec(Appgrid);\\nvar _appIds = '';\\nExt.each(_selectedApp,function(b){\\n  _appIds += '\\\\''+b.data.APP_ID+'\\\\',';\\n});\\n_appIds = _appIds.substring(0,_appIds.length-1);\\nvar _validArray = [];\\nvar _validUnit= '';\\nExt.each(_selectedApp,function(item){\\n  Ext.each(_userRows,function(a){\\n    _validUnit = item.data.APP_ID+','+a.data.USER_ID;\\n    _validArray.push(_validUnit);\\n           });\\n});\\n\\n//================校验授权的重复性================\\nuserGrantedAppStore.load({params:{userIds:_userIds,appIds:_appIds},callback:function(){\\n  userGrantedAppStore.each(function(d){\\n    _validUnit = d.data.APP_ID+','+d.data.USER_ID;\\n    if(Ext.Array.contains(_validArray,_validUnit)){\\n       Ext.Array.remove(_validArray,_validUnit);\\n    } \\n  });\\n//================授权已经存在==================\\n  if(_validArray.length === 0){\\n   Wb.warning('授权已存在，请重新选择！');\\n   return false;\\n }\\n var _copyArray = [];\\n var _tmpUnit; \\n var _tmpStr;\\n Ext.each(_validArray,function(tmpItem){\\n     _tmpStr = tmpItem.split(',');\\n     _tmpUnit= {SEC_ID:'',APP_ID:_tmpStr[0],USER_ID:_tmpStr[1]};\\n     _copyArray.push(_tmpUnit);\\n   });  \\n//==============执行请求操作=================\\n addCopyAppAjax.params.newArray = Ext.JSON.encode(_copyArray);\\n addCopyAppAjax.request();  \\n}}); \\n}\"}]}]}]},{\"xwlMeta\":\"folder\",\"id\":\"copyfuntoolbar\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"funtoolbar\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"queryFun\",\"specialkey\":\"if(event.getKey() === event.ENTER){\\n   queryFunTree.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryFunTree\",\"text\":\"查询\",\"click\":\"treeNodeQuery(queryFun.getValue(),'text','menuFunctionTree');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line0\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"plus_icon\",\"id\":\"addFunGrant\",\"click\":\"var _userId = hidenuserid.getValue();\\nmenuFunctionAllStore.load({params:{userId:_userId,isGranted:'N'}});\\nwinfun.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line7\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"minus_icon\",\"id\":\"delFunGrant\",\"click\":\"var selectLength = menuFunctionTree.getChecked().length;\\nif(selectLength===0){\\n  Wb.warning('请选择删除的功能！');\\n  return;\\n}\\nExt.MessageBox.confirm('提示','确定要删除所选记录？',function(a){\\n  if(a === 'yes'){\\n    var user_id=hidenuserid.getValue();\\n    var _delSelectRecord = menuFunctionTree.getChecked();\\n    var _delArray = [];\\n    var _delUnit;\\n    for(var i = 0;i<selectLength;i++){\\n      var item = _delSelectRecord[i];\\n      if(item.data.node_type === 'F'){  \\n      _delUnit = {FUN_TREE_ID:item.data.id,TARGET_ID:user_id};\\n      _delArray.push(_delUnit);\\n  } \\n}\\n//==============执行请求操作=================\\ndelFunAjax.params.newArray = Ext.JSON.encode(_delArray);\\ndelFunAjax.request();\\n    \\n  }\\n});\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line6\"},{\"xwlMeta\":\"button\",\"iconCls\":\"copy_icon\",\"id\":\"copyFunButton\",\"text\":\"复制权限\",\"click\":\"var selectLength = menuFunctionTree.getChecked().length;\\nif(selectLength===0){\\n  Wb.warning('请选择要复制的功能！');\\n  return false;\\n}\\nWb.load(storeUser);\\nwinTypeHidden.setValue('FUN');\\nwinuser.show();\\n\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line8\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"addFunGrantBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line20\"},{\"xwlMeta\":\"text\",\"id\":\"funName\",\"specialkey\":\"if(event.getKey() === event.ENTER){\\n   grantQueryBtn.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"grantQueryBtn\",\"text\":\"查询\",\"click\":\"treeNodeQuery(funName.getValue(),'text','menuFunctionTreeAll');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line21\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"roletoolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line11\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"plus_icon\",\"id\":\"roleAddBtn\",\"click\":\"var _userId = hidenuserid.getValue();\\nWb.load(storeRoleAll,{USER_ID:_userId});\\nwinrole.show();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line12\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"minus_icon\",\"id\":\"deletebtn\",\"click\":\"var rows=Wb.getSelRec(Rolegrid);\\nif(Ext.isEmpty(rows)){\\n  Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n}\\nelse{\\n   Ext.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n     ajax_role_del.request();\\n  \\n    }else{\\n      return false ;\\n    }\\n   \\n   });\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line13\"},{\"xwlMeta\":\"button\",\"iconCls\":\"copy_icon\",\"id\":\"copyRoleBtn\",\"text\":\"复制权限\",\"click\":\"var rows=Wb.getSelRec(Rolegrid);\\nif(Ext.isEmpty(rows)){\\n  Wb.warning('请选择要授权的角色！'); \\n  return false;\\n}\\nwinTypeHidden.setValue('ROLE');\\nWb.load(storeUser);\\nwinuser.show();\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line24\"},{\"xwlMeta\":\"text\",\"id\":\"hidenuserid\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"orgtoolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line14\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"plus_icon\",\"id\":\"addOrgBtn\",\"click\":\"var _userId = hidenuserid.getValue();\\nWb.load(storeOrgAll,{USER_ID:_userId});\\nwinorg.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line15\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"minus_icon\",\"id\":\"delOrgBtn\",\"click\":\"var rows=Wb.getSelRec(Orggrid);\\nif(Ext.isEmpty(rows)){\\n  Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n}\\nelse{\\n   Ext.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n   ajax_org_del.request();\\n  \\n    }else{\\n      return false ;\\n    }\\n   \\n   });\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line16\"},{\"xwlMeta\":\"button\",\"iconCls\":\"copy_icon\",\"id\":\"orgCopyBtn\",\"text\":\"复制权限\",\"click\":\"var rows=Wb.getSelRec(Orggrid);\\nif(Ext.isEmpty(rows)){\\n  Wb.message('请选择要授权的组织！');\\n}else{\\n  winTypeHidden.setValue('ORG');\\n  Wb.load(storeUser);\\n  winuser.show();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line22\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"apptoolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line17\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"plus_icon\",\"id\":\"addAppBtn\",\"click\":\"var _userId = hidenuserid.getValue();\\nWb.load(storeAppAll,{USER_ID:_userId});\\nwinapp.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line18\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"minus_icon\",\"id\":\"delAppBtn\",\"click\":\"var rows=Wb.getSelRec(Appgrid);\\nif(Ext.isEmpty(rows)){\\n  Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n}\\nelse{\\n   Ext.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n   ajax_app_del.request();\\n  \\n    }else{\\n      return false ;\\n    }\\n   \\n   });\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line19\"},{\"xwlMeta\":\"button\",\"iconCls\":\"copy_icon\",\"id\":\"copyAppSecBtn\",\"text\":\"复制权限\",\"click\":\"var rows=Wb.getSelRec(Appgrid);\\nif(Ext.isEmpty(rows)){\\n Wb.message('请选择要授权的应用！');\\n}else{\\n  winTypeHidden.setValue('APP');\\n  Wb.load(storeUser);\\n  winuser.show();\\n\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line26\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"windowBtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"winBtnSave\",\"text\":\"保存\",\"click\":\"// 为员工创建登录信息\\nvar _userName = userName.getValue(); \\t// 登录名\\nvar _empId = empId.getValue();    \\t\\t// 员工标识(ID)\\nvar _userId = userId.getValue();  \\t\\t// 用户标识(ID)\\nvar _attribute = attribute.getValue();\\t// 说明\\nvar _userType = userType.getValue();    // 用户类型\\nvar _startDate = startDate.getValue();\\nvar _endDate = endDate.getValue();\\nif(!form1.getForm().isValid()){\\n  Wb.warning('请填写所有必填项！');\\n  return false;\\n}\\n\\nif(_endDate !== null && _endDate!==''&&_endDate!=='null'){\\n  if(_endDate<_startDate){\\n    Ext.Msg.alert(\\\"提示\\\",\\\"结束时间应大于开始时间！\\\") ;\\n    return false ;\\n      }\\n  }\\nvar _password = hex_md5('11111'); // md5加密\\nvar _primaryKey = Wb.getUuid();\\n\\n// 执行保存处理\\nif(Ext.isEmpty(_userId)){\\n  \\t// 更新\\n  \\tvar json = {userType:_userType,password:_password,primaryKey:_primaryKey};  \\n  \\tajax_add.request(json); \\n  //为新增用户增加默认权限\\n     Ext.Ajax.request({ \\n\\t\\t  url:'{#contextPath#}'+'/platformAction.do?method=defaultUserRoleFun',\\n           params: { userId:_primaryKey\\n             },\\t\\t\\n\\t\\t\\tmethod: 'POST',\\t\\t\\n\\t\\t\\tsuccess: function(response, options) {  \\n\\t\\t\\t},\\n\\t\\t\\tfailure: function(response, options) {\\n\\t\\t\\t\\n\\t\\t\\t}\\n   });\\n  \\n}else{\\n   // 新增\\n   var json = {userType:_userType};\\n   ajax_edit.request(json); \\n}\\n   \\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"winBtnCancel\",\"text\":\"保存并添加下一个\",\"click\":\"if(!form1.getForm().isValid()){\\n  Wb.warning('请填写所有必填项！');\\n  return false;\\n}\\nvar _userName = userName.getValue(); \\t// 登录名\\nvar _empId = empId.getValue();    \\t\\t// 员工标识(ID)\\nvar _userId = userId.getValue();  \\t\\t// 用户标识(ID)\\nvar _attribute = attribute.getValue();\\t// 说明\\nvar _userType = userType.getValue();    // 用户类型\\nvar _startDate = startDate.getValue();\\nvar _endDate = endDate.getValue();\\n\\nif(!Ext.isEmpty(_endDate)){\\n  if(_endDate<_startDate){\\n    Wb.warning('结束时间应大于开始时间！') ;\\n    return false ;\\n      }\\n  }\\nvar _password = hex_md5('11111'); \\nvar _primaryKey = Wb.getUuid();\\nif(Ext.isEmpty(_userId)){\\n  \\tvar json = {userType:_userType,password:_password,primaryKey:_primaryKey};  \\n  \\tajax_add_continue.request(json); \\n  //为新增用户增加默认权限\\n     Ext.Ajax.request({ \\n\\t\\t  url:'{#contextPath#}'+'/platformAction.do?method=defaultUserRoleFun',\\n           params: { userId:_primaryKey\\n             },\\t\\t\\n\\t\\t\\tmethod: 'POST',\\t\\t\\n\\t\\t\\tsuccess: function(response, options) { // 回调函数有2个参数  \\n\\t\\t\\t},\\n\\t\\t\\tfailure: function(response, options) {\\n\\t\\t\\t\\n\\t\\t\\t}\\n      });\\n}else{\\n   var json = {userType:_userType};\\n   ajax_edit_continue.request(json); \\n}\\n   \\n\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"winBtnClose\",\"text\":\"关闭\",\"click\":\"window1.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"pwdWinBtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"pwdBtnSave\",\"text\":\"保存\",\"click\":\"/*------修改用户密码------*/\\nvar userId = userId11.getValue();  /*---用户ID---*/\\nvar modifyPwd = newPwd.getValue();    /*---新密码---*/\\nvar conPwd = confirmPwd.getValue();  /*---确认密码---*/\\nif(modifyPwd === null || modifyPwd === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请设置新的密码！\\\") ;\\n  return false ;\\n}\\nif(conPwd === null || conPwd === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请确认新密码！\\\") ;\\n  return false ;\\n}\\nif(modifyPwd!==conPwd){\\n   Ext.Msg.alert(\\\"提示\\\",\\\"密码输入不一致！\\\") ;\\n   confirmPwd.setValue('');\\n   return false ;\\n}\\nmodifyPwd = hex_md5(modifyPwd);\\n/**------执行Update操作------*/\\nvar json = {newPwd:modifyPwd};  \\n  ajax_pwd_edit.request(json); \\n  \\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"pwdBtnCancel\",\"text\":\"取消\",\"click\":\"pwdWin.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"roleWinBtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"colseRoleWinBtn\",\"text\":\"关闭\",\"click\":\"roleWin.close();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"roleWin\",\"title\":\"角色详情\",\"height\":\"500\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"650\",\"buttons\":\"roleWinBtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"roleForm\",\"layout\":\"anchor\",\"frame\":\"true\",\"afterrender\":\"roleForm.getForm().trackResetOnLoad = true;\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"ROLE_ID\",\"tagProperties\":\"anchor:'100%'\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"MNU_GROUP_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet2\",\"title\":\"角色信息\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%'\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel12\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色编码\",\"id\":\"ROLE_CODE\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"描　　述\",\"id\":\"DESCRIPTION\",\"width\":\"280\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel24\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色名称\",\"id\":\"ROLE_NAME\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"width\":\"280\",\"fieldLabel\":\"启用状态\",\"id\":\"ENABLE_FLAG1\",\"labelAlign\":\"right\",\"checked\":\"true\"}]}]},{\"xwlMeta\":\"fieldSet\",\"autoScroll\":\"true\",\"id\":\"fieldSet3\",\"title\":\"菜单组信息\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%'\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel3\",\"layout\":\"fit\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"center\",\"animate\":\"false\",\"store\":\"menuFunctionStore1\",\"root\":\"{id:'rootNode',text:'功能菜单',expanded:true}\",\"id\":\"menuFunctionTree1\",\"height\":\"300\",\"tagProperties\":\"anchor:'100%'\",\"width\":\"300\",\"rootVisible\":\"false\"}]},{\"xwlMeta\":\"panel\",\"id\":\"sepPanel\",\"width\":\"10\"},{\"xwlMeta\":\"panel\",\"id\":\"panel4\",\"layout\":\"fit\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"store\":\"menuGroupStore\",\"root\":\"{id:'groupRootNode',text:'菜单组',expanded:true}\",\"id\":\"menuGroupTree\",\"height\":\"300\",\"width\":\"300\",\"checkchange\":\"node.cascadeBy(function(n){\\n    n.set('checked', checked); \\n});\\n    checkParent(node);\\nfunction checkParent(node){\\n  node = node.parentNode;\\n  if(!node) return;\\n  var checkP=false;\\n  node.cascadeBy(function (n)\\n  {\\n  if (n != node) {\\n  if (n.get('checked') == true) {\\n  checkP = true;\\n  }\\n  }\\n  });\\n  node.set('checked', checkP);\\n  checkParent(node);\\n}\\n\",\"itemcontextmenu\":\"event.preventDefault();\\nevent.stopEvent();\\n\\nvar id = record.get('id');\\nvar nodeType = record.get('NODE_TYPE');\\nvar parentId = record.get('parent_id');\\nvar nodeId = record.get('ID');\\nvar nodemenu;\\n\\nif(id == 'groupRootNode'){//跟节点\\n  nodemenu = new Ext.menu.Menu({\\n    items:[\\n      {text: '新增下级菜单',handler:function(){\\n        \\n        if(!roleForm.getForm().isValid()){\\n          Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n          return false;\\n        }\\n        \\n        //rightMenuCode.show();\\n        //rightClickWin.setHeight(125);\\n        \\n        Wb.getSelNode(menuGroupTree).expand();\\n        rightClickWin.show();\\n        Ext.getCmp('rightType').setValue('_append');\\n        Ext.getCmp('rightUpId').setValue(-1);\\n        Ext.getCmp('rightMenuId').setValue(Wb.getUuid());\\n        Ext.getCmp('rightMenuCode').setValue('addMenu'+new Date().getTime());\\n      }}\\n    ]\\n  });\\n}else{\\n  if(nodeType == 'M'){//菜单\\n    nodemenu = new Ext.menu.Menu({\\n      items:[\\n        {text: '新增同级菜单',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          \\n          //rightMenuCode.show();\\n          //rightClickWin.setHeight(125);\\n          \\n          rightClickWin.show();\\n          Ext.getCmp('rightType').setValue('_after');\\n          Ext.getCmp('rightUpId').setValue(parentId);   \\n          Ext.getCmp('rightMenuId').setValue(Wb.getUuid());\\n          Ext.getCmp('rightMenuCode').setValue('addMenu'+new Date().getTime());\\n        }},\\n        {text: '新增下级菜单',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          \\n          //rightMenuCode.show();\\n          //rightClickWin.setHeight(125);\\n          \\n          Wb.getSelNode(menuGroupTree).expand();\\n          rightClickWin.show();\\n          Ext.getCmp('rightType').setValue('_append');\\n          Ext.getCmp('rightUpId').setValue(nodeId);   \\n          Ext.getCmp('rightMenuId').setValue(Wb.getUuid());\\n          Ext.getCmp('rightMenuCode').setValue('addMenu'+new Date().getTime());\\n        }},\\n        {text: '重命名',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          \\n          //rightMenuCode.hide();\\n          //rightClickWin.setHeight(100);\\n          \\n          rightClickWin.show();\\n          Ext.getCmp('rightType').setValue('_reName');\\n          Ext.getCmp('rightUpId').setValue(parentId);   \\n          Ext.getCmp('rightMenuId').setValue(nodeId); \\n        }},\\n        {text: '删除菜单',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          Ext.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n            if(a=='yes'){\\n              Ext.Ajax.request({\\n                url : '{#contextPath#}' +'/menuGroupEgisAction.do?method=deleteMenuFuncById',\\n                params:{\\n                  menuFuncId:nodeId\\n                },\\n                method: 'POST',\\n                success: function(response,options){\\n                  //var temp = response.responseText;\\n                  //var obj = Ext.JSON.decode(temp);\\n                  \\n                  var n = Wb.getSelNode(menuGroupTree);\\n\\n                  var nParentNode = n.parentNode;\\n\\n                  nParentNode.removeChild(n);\\n\\n                  nParentNode.commit();\\n\\n\\t\\t\\t\\t  Ext.Msg.alert('提示','删除成功!');\\n                  \\n                  menuFunctionStore.load();\\n                },\\n                failure: function(response,options){\\n                  Ext.Msg.alert('错误','失败，服务器没有响应');\\n                }\\n              });\\n            }\\n          });\\n        }}\\n      ]\\n    });\\n  }else if(nodeType == 'F'){//功能\\n    nodemenu = new Ext.menu.Menu({\\n      items:[\\n        {text: '删除功能',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          var selectLength = menuGroupTree.getChecked().length;\\n          if(selectLength==0){\\n            Ext.Msg.alert('提示','请选择删除的功能');\\n            return;\\n          }\\n          Ext.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n            if(a=='yes'){\\n              //删除功能\\n              var delIds = \\\"\\\";\\n              \\n              for(var i=0; i<selectLength; i++){\\n                var n = menuGroupTree.getChecked()[i];\\n                if(n.data.NODE_TYPE == 'F'){\\n                  var id = \\\"'\\\" + n.data.ID + \\\"'\\\";\\n                  if(delIds==''){\\n                    delIds = id;\\n                  }else{\\n                    delIds = delIds + ',' + id;    \\n                  }\\n                }\\n              }\\n              \\n              deleteFuns.request({delIds:delIds});\\n            }\\n          });\\n        }}\\n      ]\\n    });\\n  }\\n}\\nnodemenu.showAt(event.getPoint());\"}]}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"wincopyfun\",\"title\":\"权限详情\",\"height\":\"550\",\"layout\":\"border\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"750\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"children\":[{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"copyfuntabpanel\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"funpanel\",\"title\":\"功能权限\",\"layout\":\"fit\",\"columnWidth\":\"1\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"center\",\"animate\":\"false\",\"store\":\"menuFunctionStore\",\"root\":\"{id:'groupRootNode',text:'功能树',expanded:true,checked:false}\",\"id\":\"menuFunctionTree\",\"tbar\":\"funtoolbar\",\"border\":\"false\",\"rootVisible\":\"true\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"checkchange\":\"node.cascadeBy(function(n){\\n    n.set('checked', checked); \\n});\\n    checkParent(node);\\nfunction checkParent(node){\\n  node = node.parentNode;\\n  if(!node) return;\\n  var checkP=false;\\n  node.cascadeBy(function (n)\\n  {\\n  if (n != node) {\\n  if (n.get('checked') == true) {\\n  checkP = true;\\n  }\\n  }\\n  });\\n  node.set('checked', checkP);\\n  checkParent(node);\\n}\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"rolepanel\",\"title\":\"角色权限\",\"layout\":\"border\",\"columnWidth\":\"1\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"storeRole\",\"columns\":\"Rolegridcolumn\",\"exportExcel\":\"false\",\"buttonAlign\":\"center\",\"region\":\"center\",\"id\":\"Rolegrid\",\"tbar\":\"roletoolbar\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"ROLE_ID.setValue(record.data.ROLE_ID);\\nROLE_NAME.setValue(record.data.ROLE_NAME);\\nMNU_GROUP_ID.setValue(record.data.MNU_GROUP_ID);\\nROLE_CODE.setValue(record.data.ROLE_CODE);\\nDESCRIPTION.setValue(record.data.DESCRIPTION);\\nvar enableFlag = record.data.ENABLE_FLAG;\\n  if(enableFlag =='Y'){\\n   ENABLE_FLAG1.setValue(true);\\n  }else if(enableFlag=='N'){\\n    ENABLE_FLAG1.setValue(false);\\n  }\\n menuGroupStore.load({params:{menuGroupId:MNU_GROUP_ID.getValue()}});\\n menuFunctionStore1.getProxy().extraParams.menuGroupId = MNU_GROUP_ID.getValue();\\n menuFunctionStore1.load();\\nroleWin.show();\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"orgpanel\",\"title\":\"组织权限\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"storeOrg\",\"columns\":\"Orggridcolumn\",\"exportExcel\":\"false\",\"buttonAlign\":\"center\",\"region\":\"center\",\"id\":\"Orggrid\",\"tbar\":\"orgtoolbar\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"apppanel\",\"title\":\"应用权限\",\"layout\":\"border\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"storeApp\",\"columns\":\"Appgridcolumn\",\"exportExcel\":\"false\",\"buttonAlign\":\"center\",\"region\":\"center\",\"id\":\"Appgrid\",\"tbar\":\"apptoolbar\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"form\",\"region\":\"south\",\"id\":\"form2\",\"layout\":\"form\",\"border\":\"false\",\"buttons\":\"allfunbtnbtn\",\"frame\":\"true\",\"hidden\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel11\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'30%'\",\"frame\":\"true\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"70\",\"fieldLabel\":\"功能权限\",\"id\":\"check1\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"70\",\"fieldLabel\":\"角色权限\",\"id\":\"check11\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"70\",\"fieldLabel\":\"组织权限\",\"id\":\"check12\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"70\",\"fieldLabel\":\"应用权限\",\"id\":\"check13\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"title\":\"新增用户\",\"height\":\"200\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"620\",\"buttons\":\"windowBtn\",\"buttonAlign\":\"center\",\"beforeclose\":\"Wb.load(userStore);\\nwinBtnSave.show();\\nwinBtnCancel.show();\\nuserName.setReadOnly(false);\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"layout\":\"column\",\"bodyStyle\":\"padding: 10px 10px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"tr_1\",\"columnWidth\":\"0.5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>登陆用户\",\"id\":\"userName\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户说明 \",\"id\":\"attribute\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"<font color='red'>*<\\/font>开始时间\",\"id\":\"startDate\",\"value\":\"new Date()\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"id\":\"userId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"empId\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"tr_2\",\"columnWidth\":\"0.5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"queryDelay\":\"160\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\",\"queryMode\":\"remote\",\"fieldLabel\":\"<font color='red'>*<\\/font>员工编号/姓名\",\"id\":\"empCodeName\",\"beforequery\":\"Wb.load(store1,{query:queryEvent.query});\",\"blur\":\"if(Ext.isEmpty(empId.getValue())){\\n  empCodeName.setValue('');\\n}\"},{\"xwlMeta\":\"comboBox\",\"width\":\"280\",\"labelAlign\":\"right\",\"pickList\":\"[['S','系统用户'],['U','自定义用户']]\",\"fieldLabel\":\"用户类型\",\"id\":\"userType\",\"readOnly\":\"true\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"结束时间        \",\"id\":\"endDate\",\"width\":\"280\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"pwdWin\",\"title\":\"密码重置\",\"height\":\"200\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"false\",\"width\":\"380\",\"buttons\":\"pwdWinBtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"pwdForm\",\"layout\":\"column\",\"bodyStyle\":\"padding: 30px 0px 0px 20px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"userId11\",\"hidden\":\"true\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"tr_11\",\"columnWidth\":\"1\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>新密码\",\"id\":\"newPwd\",\"bgColor\":\"#ffff99\",\"maxLength\":\"10\",\"minLength\":\"6\",\"inputType\":\"password\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"tr_21\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>确认密码\",\"id\":\"confirmPwd\",\"bgColor\":\"#ffff99\",\"maxLength\":\"10\",\"minLength\":\"6\",\"inputType\":\"password\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"winfun\",\"title\":\"添加功能\",\"height\":\"400\",\"layout\":\"fit\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"580\",\"buttons\":\"winfunbtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"center\",\"animate\":\"false\",\"store\":\"menuFunctionAllStore\",\"root\":\"{id:'rootNode',text:'功能菜单',expanded:true}\\n\",\"id\":\"menuFunctionTreeAll\",\"tbar\":\"addFunGrantBar\",\"border\":\"false\",\"rootVisible\":\"true\",\"viewConfig\":\"{\\n  plugins : {\\n    pluginId: 'ddPlug',\\n    ptype: 'treeviewdragdrop'\\n  },\\n  listeners : {\\n    beforedrop: function(node,data,overModel,dropPosition,dropFunction,options){\\n      return false;\\n    },\\n    drop: function(node,data,overModel,dropPosition,options){\\n      return false;\\n    }\\n  }\\n}\",\"checkchange\":\"node.cascadeBy(function(n){\\n    n.set('checked', checked); \\n});\\n    checkParent(node);\\nfunction checkParent(node){\\n  node = node.parentNode;\\n  if(!node) return;\\n  var checkP=false;\\n  node.cascadeBy(function (n)\\n  {\\n  if (n != node) {\\n  if (n.get('checked') === true) {\\n  checkP = true;\\n  }\\n  }\\n  });\\n  node.set('checked', checkP);\\n  checkParent(node);\\n}\\n\\n\\n\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"winuser\",\"title\":\"授权用户\",\"height\":\"400\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"580\",\"buttons\":\"winuserbtn\",\"buttonAlign\":\"center\",\"beforehide\":\"Userform.getForm().reset();\\nstoredeptname.removeAll();\\n\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Userform\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"orgcombox\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"storeorgs\",\"valueField\":\"ORG_ID\",\"width\":\"80\",\"editable\":\"true\",\"labelAlign\":\"right\",\"emptyText\":\"--请选择组织--\",\"fieldLabel\":\"组织\",\"id\":\"orgComboBox\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"var ORG_ID=comboBox.getValue();\\nWb.load(storeUser);\\nWb.load(storedeptname,{ORG_ID:ORG_ID});\\ndeptCombobox.clearValue();\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"deptcombox\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"storedeptname\",\"valueField\":\"DEPT_ID\",\"width\":\"80\",\"editable\":\"true\",\"labelAlign\":\"right\",\"emptyText\":\"--请选择部门--\",\"fieldLabel\":\"部门\",\"id\":\"deptCombobox\",\"queryLike\":\"true\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"60\",\"select\":\"Wb.load(storeUser);\",\"beforeselect\":\"\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"usertext\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel22\",\"layout\":\"form\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"userN\",\"labelWidth\":\"60\",\"width\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storeUser);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"padding\":\"0px 1px 0px 5px\",\"id\":\"panel21\",\"layout\":\"form\",\"columnWidth\":\".16\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"userQueryBtn\",\"text\":\"查询\",\"click\":\"Wb.load(storeUser);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"padding\":\"0px 0px 0px 2px\",\"id\":\"panel23\",\"layout\":\"form\",\"columnWidth\":\".16\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"userResetBtn\",\"text\":\"重置\",\"click\":\"orgComboBox.clearValue();\\ndeptCombobox.clearValue();\\nUserform.form.reset();\\nWb.reload(storeUser);\"}]}]},{\"xwlMeta\":\"hiddenField\",\"id\":\"winTypeHidden\"}]},{\"xwlMeta\":\"grid\",\"store\":\"storeUser\",\"columns\":\"Usergridcolumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"Usergrid\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"winrole\",\"title\":\"添加角色\",\"height\":\"400\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"580\",\"buttons\":\"winrolebtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Roleform\",\"height\":\"40\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr113\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td113\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色\",\"id\":\"roleN\",\"height\":\"20\",\"labelWidth\":\"40\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storeRole);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"padding\":\"1px 0px 0px 5px\",\"id\":\"td213\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"roleQueryBtn\",\"text\":\"查询\",\"click\":\"Wb.load(storeRole);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storeRoleAll\",\"columns\":\"Rolegridcolumn1\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"RolegridAll\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"winorg\",\"title\":\"添加组织\",\"height\":\"400\",\"layout\":\"border\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"580\",\"buttons\":\"winorgbtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Orgform\",\"height\":\"40\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr01\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td01\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织名称\",\"id\":\"orgN\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storeOrgGrid);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 5px\",\"id\":\"td00\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"orgQueryBtn\",\"text\":\"查询\",\"click\":\"Wb.load(storeOrgGrid);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storeOrgAll\",\"columns\":\"Orggridcolumn1\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"OrggridAll\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"winapp\",\"title\":\"添加应用\",\"height\":\"400\",\"layout\":\"border\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"580\",\"buttons\":\"winappbtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Appform\",\"height\":\"40\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr11\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td11\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用\",\"id\":\"appN\",\"height\":\"20\",\"labelWidth\":\"40\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storeApp);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 3px\",\"id\":\"td21\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryAppBtn\",\"text\":\"查询\",\"click\":\"Wb.load(storeApp);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storeAppAll\",\"columns\":\"Appgridcolumn1\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"AppgridAll\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"new_icon\",\"id\":\"addBtn\",\"click\":\"window1.setTitle('新增用户');\\nuserType.setValue('U');\\nwindow1.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"编辑\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"var sm = grid1.getSelectionModel();\\nif(!sm.hasSelection() || sm.getSelection().length>1){\\n  Ext.MessageBox.alert('提示','请选择一条用户信息');\\n  return false;\\n}\\n  var rows = sm.getSelection();\\n  var _userId = rows[0].data.USER_ID;\\n  var _empId = rows[0].data.EMP_ID;\\n  var _userName = rows[0].data.USER_NAME;\\n  var _empCodeName = rows[0].data.EMP_CODE_NAME;\\n  var _attribute1 = rows[0].data.ATTRIBUTE1;\\n  var _startDate = rows[0].data.START_DATE;\\n  var _endDate = rows[0].data.END_DATE;\\n  var _userType = rows[0].data.USER_TYPE;\\n  userId.setValue(_userId);\\n  empId.setValue(_empId);\\n  userName.setValue(_userName);\\n  empCodeName.setValue(_empCodeName);\\n  attribute.setValue(_attribute1);\\n  userType.setValue(_userType);\\n  startDate.setValue(_startDate);\\n  endDate.setValue(_endDate);\\n  userName.setReadOnly(true);\\nvar _sysMode = '{#sysMode#}';\\n// if this is a god mode\\nif(_sysMode === 'Y'){\\n//可以修改所有的用户  \\n     winBtnSave.show();\\n     winBtnCancel.show();\\n   \\n}else{\\n//S level user can not be modified\\n  if(_userType === 'S'){\\n     winBtnSave.hide();\\n     winBtnCancel.hide();\\n  }else{\\n     winBtnSave.show();\\n     winBtnCancel.show();\\n  }\\n  \\n}\\n  window1.setTitle('编辑用户');\\n  window1.show();\\n   \\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"密码重置\",\"iconCls\":\"user_icon\",\"id\":\"modifyPwdBtn\",\"click\":\"var sm = grid1.getSelectionModel();\\nif(!sm.hasSelection()){\\n  Ext.MessageBox.alert('提示','请选择用户');\\n  return false;\\n}\\nvar rows = sm.getSelection();\\nvar ids = '';\\nExt.each(rows,function(a){\\n  ids += \\\"'\\\"+a.data.USER_ID+\\\"',\\\";\\n});\\nids = ids.substring(0,ids.length-1);\\nuserId11.setValue(ids);\\npwdWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line4\"},{\"xwlMeta\":\"menuItem\",\"text\":\"权限详情\",\"iconCls\":\"key_icon\",\"id\":\"copyfunbtn\",\"click\":\"var sm = grid1.getSelectionModel();\\nif(!sm.hasSelection() || sm.getSelection().length>1){\\n  Ext.MessageBox.alert('提示','请选择一条用户信息');\\n  return false;\\n}\\nvar rows = sm.getSelection();\\nvar _isValid = rows[0].data.ENABLE_FLAG;\\nif(_isValid <0 || _isValid ===0){\\n  Wb.warning('用户已失效！');\\n  return false;\\n}\\nvar _userId = rows[0].data.USER_ID;\\nhidenuserid.setValue(_userId);\\nmenuFunctionStore.load({params:{userId:_userId,isGranted:'Y'}});\\nwincopyfun.show();\\nWb.load(storeRole,{USER_ID : _userId});\\nWb.load(storeOrg,{USER_ID : _userId});\\nWb.load(storeApp,{USER_ID : _userId});\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line5\"}]},{\"xwlMeta\":\"array\",\"id\":\"columnArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"USER_ID\",\"text\":\"用户标识\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_ID\",\"id\":\"EMP_ID\",\"text\":\"员工ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USER_NAME\",\"text\":\"登陆用户\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME\",\"text\":\"员工姓名\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"EMP_CODE\",\"text\":\"员工编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE_NAME\",\"id\":\"EMP_CODE_NAME\",\"text\":\"员工编号/员工姓名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE1\",\"id\":\"ATTRIBUTE1\",\"text\":\"用户说明\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_TYPE\",\"id\":\"USER_TYPE\",\"renderer\":\"if(record.get('USER_TYPE')=='S'){\\n  return '系统用户';\\n}else if(record.get('USER_TYPE')=='U'){\\n  return '自定义用户';\\n}else{\\n  return record.get('USER_TYPE');\\n}\\n\",\"text\":\"用户类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"START_DATE\",\"id\":\"START_DATE\",\"text\":\"开始时间\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"END_DATE\",\"id\":\"END_DATE\",\"text\":\"结束时间\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG\",\"renderer\":\"if(Ext.isEmpty(record.data.END_DATE)){\\n  return \\\"\\\";\\n}else{\\n  if(value ===0 || value <0){\\n  return \\\"<font color='red'>已失效<\\/font>\\\";\\n}else{\\n  return \\\"\\\";\\n}\\n}\",\"text\":\"状态\",\"width\":\"70\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"LAST_CHG_PW_DATE\",\"id\":\"LAST_CHG_PW_DATE\",\"text\":\"最近密码修改时间\",\"width\":\"160\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"autoScroll\":\"true\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"conditionForm\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"登陆用户\",\"id\":\"text1\",\"labelWidth\":\"120\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n    text1Upper.setValue(text1.getValue().toUpperCase());\\n\\tWb.load(userStore);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"员工编码/员工姓名\",\"id\":\"text2\",\"labelWidth\":\"120\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tWb.load(userStore);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"click\":\"text1Upper.setValue(text1.getValue().toUpperCase());\\nWb.load(userStore);\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"click\":\"text1.setValue('');\\ntext2.setValue('');\\ntext1Upper.setValue('');\\nuserStore.removeAll();\\nWb.load(userStore);\"},{\"xwlMeta\":\"text\",\"id\":\"text1Upper\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"autoScroll\":\"true\",\"id\":\"panel1\",\"layout\":\"fit\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"userStore\",\"columns\":\"columnArray\",\"featureType\":\"grouping\",\"border\":\"true\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"multiSelect\":\"true\",\"autoLoad\":\"true\",\"simpleSelect\":\"false\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}]}","用户管理",null,0,0,"admin","2015-01-20 13:05:43.0","23XQ4UO678F5","2015-10-27 09:26:55.0",3],["23VZKU3HBH94","23VVZ3QMOKQV",null,"DATA",null,1,0,"admin","2015-01-20 13:05:56.0","admin","2015-06-02 16:46:35.0",6],["23VZKU3HBH95","23VZKU3HBH94","{\"id\":\"module\",\"title\":\"ModifyPasswoord\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"update xip_pub_users\\n   set password          = {?newPwd?},\\n       have_rest_pw        ='Y',\\n       last_chg_pw_date  ={?timestamp.sys.date?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where user_id in({#userId11#})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","ModifyPasswoord",null,0,0,"admin","2015-01-20 13:05:56.0","admin","2015-05-26 17:35:59.0",4],["23VZKU3HBH96","23VZKU3HBH94","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT u.USER_ID,\\n       u.USER_NAME,\\n       e.EMP_ID,\\n       e.EMP_NAME,\\n       e.EMP_CODE,\\n       e.EMP_CODE || ' / ' || e.EMP_NAME as EMP_CODE_NAME,\\n       u.ATTRIBUTE1,\\n       u.USER_TYPE,\\n       to_char(u.START_DATE, 'YYYY-MM-DD') START_DATE,\\n       to_char(u.END_DATE, 'YYYY-MM-DD') END_DATE,\\n       to_char(u.LAST_CHG_PW_DATE, 'YYYY-MM-DD') LAST_CHG_PW_DATE,\\n      (u.END_DATE-trunc(sysdate)) AS \\\"ENABLE_FLAG\\\"\\n  FROM XIP_PUB_USERS u\\n  left join xip_pub_emps e\\n    on u.emp_id = e.emp_id\\n WHERE u.USER_NAME like '%'||{?text1Upper?}||'%'\\n   AND (e.EMP_CODE like '%'||{?text2?}||'%' OR e.EMP_NAME like '%'||{?text2?}||'%')\\n order by u.START_DATE desc\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT u.USER_ID,\\n       u.USER_NAME,\\n       e.EMP_ID,\\n       e.EMP_NAME,\\n       e.EMP_CODE,\\n       concat(e.EMP_CODE,' / ',e.EMP_NAME) EMP_CODE_NAME,\\n       u.ATTRIBUTE1,\\n       u.USER_TYPE,\\n       DATE_FORMAT(u.START_DATE, '%Y-%m-%d') START_DATE,\\n       DATE_FORMAT(u.END_DATE, '%Y-%m-%d') END_DATE,\\n       DATE_FORMAT(u.LAST_CHG_PW_DATE, '%Y-%m-%d') LAST_CHG_PW_DATE,\\n       (TO_DAYS(u.END_DATE)-TO_DAYS(NOW())) AS \\\"ENABLE_FLAG\\\"\\n  FROM XIP_PUB_USERS u\\n  left join xip_pub_emps e\\n    on u.emp_id = e.emp_id\\n WHERE u.USER_NAME LIKE '%{#text1Upper#}%'\\n   AND (e.EMP_CODE like '%{#text2#}%' OR e.EMP_NAME like '%{#text2#}%')\\n order by u.START_DATE desc\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"userQueryProvider\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","Select",null,0,0,"admin","2015-01-20 13:05:56.0","23XQ4UO678F5","2015-10-19 12:34:55.0",1],["23VZKU3HBH97","23VZKU3HBH94","{\"id\":\"module\",\"title\":\"Insert\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkUser\",\"sql\":\"select count(1) as \\\"V\\\" from xip_pub_users t where t.USER_NAME =upper({?userName?})\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"用户信息已存在！\\\"]\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkUser.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"addUser\",\"sql\":\"insert into xip_pub_users\\n(user_id,         \\nuser_name, \\npassword,\\nemp_id,           \\nuser_type,        \\nhave_rest_pw,     \\nstart_date,       \\nend_date,         \\nattribute1,       \\nattribute2,       \\nattribute3,       \\nattribute4,       \\nattribute5,       \\nattribute6,       \\nattribute7,       \\nattribute8,       \\nattribute9,       \\nattribute10,      \\ncreation_date,    \\ncreated_by,       \\nlast_update_date, \\nlast_updated_by,  \\nlast_update_login)\\nvalues\\n(\\n{?primaryKey?},\\nupper({?userName?}),\\n{?password?},\\n{?empId?},\\n{?userType?},\\n'Y',\\n{?timestamp.startDate?},\\n{?timestamp.endDate?},\\n{?attribute?},\\n'',\\n'',\\n'',\\n'',\\n'',\\n'',\\n'',\\n'',\\n'',\\n{?timestamp.sys.date?},\\n{?XIP.userId?},\\n{?timestamp.sys.date?} ,\\n{?XIP.userId?},\\n{?XIP.userId?}\\n)\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{id:'{#primaryKey#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","Insert",null,0,0,"admin","2015-01-20 13:05:56.0","admin","2015-06-24 14:17:15.0",2],["23VZKU3HBH98","23VZKU3HBH94","{\"id\":\"module\",\"title\":\"Update\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkUser\",\"sql\":\"select count(1) as \\\"V\\\" from xip_pub_users t where t.USER_ID <> {?userId?} and t.USER_NAME = {?userName?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"用户信息已存在！\\\"]\",\"id\":\"userExists\",\"xwlMeta\":\"except\",\"name\":\"checkUser.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"updateUser\",\"sql\":\"update xip_pub_users\\n   set emp_id          = {?empId?},\\n       user_name          = upper({?userName?}),\\n       user_type           = {?userType?},\\n       attribute1             = {?attribute?},\\n       start_date        ={?timestamp.startDate?},\\n       end_date        ={?timestamp.endDate?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where user_id = {?userId?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{id:'{#userId#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","Update",null,0,0,"admin","2015-01-20 13:05:56.0","admin","2015-05-26 16:49:16.0",3],["23VZKU3HBHXH","23VZKU3HBH94","{\"id\":\"module\",\"title\":\"CodeNameSelect\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"nameCodeCon\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT EMP_ID,\\n       EMP_CODE,\\n       EMP_CODE||'/'||EMP_NAME AS EMP_CODE_NAME \\n FROM  XIP_PUB_EMPS \\nWHERE  EMP_NAME like {?nameCodeCon?}\\n AND ATTRIBUTE2 = 'Y'\",\"mysql\":\"SELECT EMP_ID,\\n       EMP_CODE,\\n       concat(EMP_CODE,'/',EMP_NAME) EMP_CODE_NAME \\n FROM  XIP_PUB_EMPS \\nWHERE  EMP_NAME like {?nameCodeCon?}\\n  AND ATTRIBUTE2 = 'Y'\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","CodeNameSelect",null,0,0,"admin","2015-01-20 17:23:26.0","admin","2015-06-10 09:46:57.0",5],["23VZX9NAS6JH","23VLH4ZGX3X1","{\"id\":\"module\",\"title\":\"getShortcuts\",\"finalMethod\":\"com.xzsoft.xip.platform.action.FrameAction.getUserFavoriteFuntions\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\"}","getShortcuts",null,0,0,"admin","2015-01-21 13:28:32.0","admin","2015-01-22 09:43:41.0",3],["23VZXCEGWX3H","23VZKU3HBH94","{\"id\":\"module\",\"title\":\"InsertCheck\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select user_id from xip_pub_users where user_name='{#userName#}'\",\"xwlMeta\":\"dataProvider\"}]}","InsertCheck",null,0,0,"admin","2015-01-21 14:25:31.0","admin","2015-03-06 10:31:00.0",7],["23W06BGDKYGH","23VVZ3QMOKQ2",null,"部门管理",null,0,0,"admin","2015-01-22 10:12:23.0","admin","2015-01-29 10:48:50.0",5],["23W06BGDKYGJ","23W06BGDKYGH","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"部门管理\",\"jsFiles\":\"[\\\"pub/uip/common/extendjs/messageTip.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nvar funCodeStr = request.getParameter(\\\"funCode\\\");\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nrequest.setAttribute(\\\"tipCode\\\",funCodeStr);\",\"cssFiles\":\"[\\\"common/css/default.css\\\"]\",\"initialize\":\"Wd.swap=function(src, dst, isAll){\\n  var srcSt=src.store, dstSt=dst.store, srcSelModel=src.getSelectionModel(),\\n      sel=isAll?srcSt.getRange():srcSelModel.getSelection(),\\n      srcIndex, len, key='EMP_CODE';\\n  \\n//   if(!isAll&&sel.length===0){\\n//     if(srcSt.getCount()>0)\\n//       srcSelModel.select(0);\\n//     return;\\n//   }\\n  srcIndex=srcSt.indexOf(sel[0]);\\n  srcSt.remove(sel);\\n  Ext.Array.each(sel,function(r){\\n    if(!Wb.findRecord(dstSt,key,r.get(key)))\\n      dstSt.add(r);\\n  });\\n  dst.getSelectionModel().select(sel);\\n  len=srcSt.getCount()-1;\\n  if(len<srcIndex)\\n    srcIndex=len;\\n  if(srcIndex!=-1)\\n    srcSelModel.select(srcIndex);\\n};\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23W1E7WEJWIK (addDept)\",\"id\":\"ajax_add\",\"output\":\"deptId,treeDeptCode,treeDeptDesc,treeDeptName,upDeptId,orgComobox\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"添加部门信息保存失败!\\\");\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n//动态添加新增的部门信息\\nvar currentNode ;\\nvar selNode =  Wb.getSelNode(deptTree);\\nif(selNode === deptTree.getRootNode()){\\n  currentNode = selNode.firstChild;\\n}else{\\n  currentNode =  Wb.getSelNode(deptTree);\\n}\\nvar _isEnable = 'N';\\nif(check1.isChecked){\\n  _isEnable ='Y';\\n}\\nvar _incoPath = '{#contextPath#}/webbuilder/controls/ext/resources/themes/images/access/tree/leaf.gif';\\nvar _json = {text:treeDeptName.getValue(),\\n                         isenable:_isEnable,\\n                         shortname:treeDeptDesc.getValue(),\\n                         code:treeDeptCode.getValue(),\\n                         up_dp_id:upDeptId.getValue(),\\n                         id:resultJson.key,\\n                         orgid:orgComobox.getValue(),\\n                         seq_updept:'',\\n                         parent_id:upDeptId.getValue(),\\n                         icon:_incoPath,\\n                         children:[]};\\ncurrentNode.expand();\\nvar c = currentNode.appendChild(_json);\\ncurrentNode.commit();\\ndeptTree.view.select(c);\\noperateCode.setValue('edit');\\ndeptId.setValue(resultJson.key);\\nbutton3.setDisabled(false);\\nbutton4.setDisabled(false);\\nbutton1.setDisabled(false);\\nExt.Msg.alert(\\\"提示\\\",\\\"部门信息保存成功!\\\");\\nif(Ext.isEmpty(deptId.getValue())){\\n  positionStore.getProxy().url='main?xwl=23W06BGDKYYS';\\n  positionStore.load({params:{orgComobox:orgComobox.getValue()}});\\n}else{\\n  positionStore.getProxy().url='main?xwl=23W173S8UUEI';\\n  positionStore.load({params:{orgComobox:orgComobox.getValue(),deptId:deptId.getValue()}});\\n}\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1P8WKIXML (deptEdit)\",\"id\":\"ajax_edit\",\"output\":\"deptId, treeDeptCode, treeDeptDesc, treeDeptName,orgComobox\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"部门信息保存失败!\\\");\",\"success\":\"var currentNode =  Wb.getSelNode(deptTree);\\ncurrentNode.set('text',treeDeptName.getValue());\\ncurrentNode.set('shortname',treeDeptDesc.getValue());\\ncurrentNode.set('code',treeDeptCode.getValue());\\nvar _isEnable = 'N';\\nif(check1.getValue()){\\n  _isEnable ='Y';\\n}\\ncurrentNode.set('isenable',_isEnable);\\ncurrentNode.commit();\\nExt.Msg.alert(\\\"提示\\\",\\\"部门信息保存成功!\\\");\\nif(Ext.isEmpty(deptId.getValue())){\\n  positionStore.getProxy().url='main?xwl=23W06BGDKYYS';\\n  positionStore.load({params:{orgComobox:orgComobox.getValue()}});\\n}else{\\n  positionStore.getProxy().url='main?xwl=23W173S8UUEI';\\n  positionStore.load({params:{orgComobox:orgComoboxId,deptId:deptId.getValue()}});\\n}\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1P8WKIXUV (deptDelete)\",\"id\":\"ajax_dept_delete\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除部门信息失败!\\\");\",\"success\":\"//更新树\\nvar node = Wb.getSelNode(deptTree);\\n\\nvar parentNode = node.parentNode;\\n\\nparentNode.removeChild(node);\\nparentNode.commit();\\nExt.Msg.alert(\\\"提示\\\",\\\"删除部门信息成功!\\\");\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1P8WKIYFU (positionAdd)\",\"id\":\"ajax_position_add\",\"output\":\"position_win\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"添加岗位信息保存失败!\\\");\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\nvar _positionId = resultJson.key;\\npositionId.setValue(_positionId);\\nExt.MessageBox.alert('提示','岗位添加成功！');\\n\\n\\n\\n  \\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1P8WKIYFU (positionAdd)\",\"id\":\"ajax_position_add_continue\",\"output\":\"position_win\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"添加岗位信息保存失败!\\\");\",\"success\":\"positionCode.setValue('');\\npositionName.setValue('');\\npositionId.setValue('-1');\\npositionAsignStore.removeAll();\\nExt.MessageBox.alert('提示','岗位添加成功！');\\n\\n\\n  \\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1P8WKIYLH (positionEdit)\",\"id\":\"ajax_position_edit\",\"output\":\"position_win\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"岗位信息保存失败!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"岗位信息更新成功!\\\");\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1P8WKIYLH (positionEdit)\",\"id\":\"ajax_position_edit_continue\",\"output\":\"position_win\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"岗位信息保存失败!\\\");\",\"success\":\"positionCode.setValue('');\\npositionName.setValue('');\\npositionId.setValue('-1');\\npositionAsignStore.removeAll();\\nExt.MessageBox.alert('提示','岗位更新成功！');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1P8WKIYPJ (positionDel)\",\"id\":\"ajax_position_del\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除岗位信息失败!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"岗位信息删除成功!\\\");\\nif(!Ext.isEmpty(deptId.getValue())){\\n  positionStore.getProxy().url='main?xwl=23W173S8UUEI';\\n  positionStore.load({params:{orgComobox:orgComobox.getValue(),deptId:deptId.getValue()}});\\n}else{\\n  positionStore.getProxy().url='main?xwl=23W06BGDKYYS';\\n  positionStore.load({params:{orgComobox:orgComobox.getValue()}});\\n}\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W20FMY7QK8 (delEmpAsg)\",\"id\":\"ajax_del_emp_asg\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除信息失败!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"取消员工分配成功!\\\");\\ngrid11Store.load();\\ngrid11Store.load();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WSD6KB5MYI (asgCreate)\",\"id\":\"addPosAsgAjax\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"添加分配信息保存失败!\\\");\",\"success\":\"Ext.MessageBox.alert('提示','保存成功');\\nWb.load(positionAsignStore,{deptId:winDeptId.getValue(),postId:positionId.getValue()}); \\nuserSelectWin.close();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WSD6KB5OAU (delEmpAsg)\",\"id\":\"posAsgDeleteAjax\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除分配信息保存失败!\\\");\",\"success\":\"Ext.MessageBox.alert('提示','删除分配信息成功');\\nWb.load(positionAsignStore,{deptId:winDeptId.getValue(),postId:positionId.getValue()}); \"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1P8WKIYFU (positionAdd)\",\"id\":\"ajax_position_add_asc\",\"output\":\"position_win\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"添加岗位信息保存失败!\\\");\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\nvar _positionId = resultJson.key;\\npositionId.setValue(_positionId);\\nposition_win.setTitle(treeDeptName.getValue()+'-岗位编辑');\\nuserSelectWin.show();\\nWb.load(userSelectStore,{deptId:winDeptId.getValue(),postId:positionId.getValue()}); \"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1P8WKIYLH (positionEdit)\",\"id\":\"ajax_position_edit_asc\",\"output\":\"position_win\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"岗位信息保存失败!\\\");\",\"success\":\"userSelectWin.show();\\nWb.load(userSelectStore,{deptId:winDeptId.getValue(),postId:positionId.getValue()}); \\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X8YM2E156C (addEmpAsgSec)\",\"id\":\"ajax_emp_asg_add\",\"failure\":\"Wb.warning('员工分配失败！');\",\"success\":\"Ext.Msg.alert(\\\"提示\\\", '员工分配成功！');\\nswap(grid1,grid11);\\nWb.load(grid1Store);\\nWb.load(grid11Store);\\n\\n\\n\\n\\n  \\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"dataStore\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"orgStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23W06BGDKYGU (getComboxOrg)\"},{\"xwlMeta\":\"treeStore\",\"url\":\"{#contextPath#}/deptTreeAction.do?method=getDeptTreeByorgId\",\"id\":\"treeStore1\",\"autoLoad\":\"false\",\"output\":\"deptName,orgComobox\",\"fields\":\"[{name:'isenable'},{name:'seq_updept'},{name:'text'},{name:'id'},{name:'shortname'},{name:'up_dp_id'},{name:'orgid'},{name:'parent_id'},{name:'code'}]\\n\",\"load\":\"deptTree.expandAll();\\nvar _findId = orgComobox.getValue();\\nvar _selRecord = treeStore1.getNodeById(_findId);\\ndeptTree.getSelectionModel().select(_selRecord);\\nbutton3.setDisabled(true);\\nbutton1.setDisabled(true);\",\"beforeload\":\"//operation.params.parentID=operation.node.get('UP_DP_ID');\"},{\"xwlMeta\":\"store\",\"id\":\"positionStore\",\"url\":\"#23W06BGDKYYS (getDeptPosition)\",\"beforeload\":\"positionStore.getProxy().extraParams.POST_NAME = queryPositionName.getValue();\\npositionStore.getProxy().extraParams.orgComobox = orgComobox.getValue();\"},{\"xwlMeta\":\"store\",\"id\":\"enableStore\",\"autoLoad\":\"true\",\"url\":\"#23W1P8WKIY7B (getEnableFlag)\"},{\"xwlMeta\":\"store\",\"id\":\"grid1Store\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23W1VFX5083P (selectEmp)\",\"output\":\"asgPostId,empName\"},{\"xwlMeta\":\"store\",\"id\":\"grid11Store\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23W20FMY7PFQ (selectAsignEmp)\",\"output\":\"asgPostId,empName1\"},{\"xwlMeta\":\"store\",\"id\":\"positionAsignStore\",\"autoLoad\":\"false\",\"url\":\"#23WSD6KB5K9W (getAsignByPosId)\"},{\"xwlMeta\":\"store\",\"id\":\"userSelectStore\",\"url\":\"#23WSD6KB5KVI (getUsers)\",\"output\":\"empWinName,userName\"}]},{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"footer\":\"<script type=\\\"text/javascript\\\">\\n  function assginEmployee(orgId,deptId,postId,deptName,postName){\\n    empAsgWin.setTitle('<center>【'+deptName+'】--'+'【'+postName+'】'+'  分配<\\/center>');\\n    //往隐藏框中添加 orgId、deptId、postId（组织ID、部门ID、岗位ID）\\n    Ext.getCmp('asgPostId').setValue(postId);\\n    Ext.getCmp('asgOrgId').setValue(orgId);\\n    Ext.getCmp('asgDeptId').setValue(deptId);\\n    empAsgWin.show();\\n    Ext.getCmp('grid1').getStore().load();\\n    Ext.getCmp('grid11').getStore().load();\\n//     Ext.getCmp('grid1Store').load();\\n//     Ext.getCmp('grid11Store').load();\\n\\n  }\\n<\\/script>\\n\"},{\"xwlMeta\":\"array\",\"id\":\"grid1ColumnArray1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column11\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ASG_ID\",\"id\":\"ASG_ID1\",\"text\":\"分配ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_ID\",\"id\":\"EMP_ID1\",\"text\":\"员工ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"EMP_CODE1\",\"text\":\"员工编号\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME1\",\"text\":\"员工名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid1ColumnArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column1\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ASG_ID\",\"id\":\"ASG_ID\",\"text\":\"分配ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_ID\",\"id\":\"EMP_ID\",\"text\":\"员工ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"EMP_CODE\",\"text\":\"员工编号\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME\",\"text\":\"员工名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"userSelectGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_ID\",\"id\":\"COLUMN_USER_ID\",\"text\":\"用户id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"COLUMN_EMP_CODE\",\"text\":\"员工编号\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"COLUMN_EMP_NAME\",\"text\":\"员工姓名\",\"width\":\"220\"}]},{\"xwlMeta\":\"array\",\"id\":\"positionArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"positionNum\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ASG_ID\",\"id\":\"ASG_ID_C\",\"text\":\"分配ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_ID\",\"id\":\"EMP_ID_C\",\"text\":\"员工ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"EMP_CODE_C\",\"text\":\"员工编号\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_C\",\"text\":\"员工名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_CODE\",\"id\":\"POST_CODE_C\",\"text\":\"岗位编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_NAME\",\"id\":\"POST_NAME_C\",\"text\":\"岗位名称\",\"flex\":\"1\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"folder\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"positonBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem10\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-auth\",\"id\":\"addAsignBtn\",\"text\":\"添加分配\",\"click\":\"if(form1.getForm().isValid()===false){\\n    Ext.Msg.alert('提示','信息填写不完整,请确认!');\\n    return;\\n  }\\n//判断为新增还是修改\\nif(positionId.getValue()==='-1'){\\n  var _primaryKey = Wb.getUuid();\\n  var json = {primaryKey:_primaryKey};  \\n  ajax_position_add_asc.request(json);\\n  }else{\\n     ajax_position_edit_asc.request();\\n    }\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem11\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-unauth\",\"id\":\"delAsignBtn\",\"text\":\"删除分配\",\"click\":\"var rows = positionGrid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n  return;\\n}\\nExt.Msg.confirm('提示','确定要删除分配信息吗？',function(a){\\n    if(a=='yes'){\\n      var secIds = '';\\n      for(var i=0; i<rows.length; i++){\\n        secIds += '\\\\''+(rows[i].data.ASG_ID) + '\\\\',';    \\n      }\\n      secIds = secIds.substring(0,secIds.length-1);\\n      posAsgDeleteAjax.request({ids:secIds});\\n    }\\n  });\\n\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem12\"}]},{\"xwlMeta\":\"array\",\"id\":\"winBtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"winSave\",\"text\":\"保存\",\"click\":\"/*-------增加岗位信息----------------*/\\nif(!form1.getForm().isValid()){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"信息填写不完整！\\\") ;\\n  return false ;\\n}\\nif(positionId.getValue()==='-1'){\\n  var _primaryKey = Wb.getUuid();\\n  var json = {primaryKey:_primaryKey};  \\n  ajax_position_add.request(json);\\n  position_win.setTitle(treeDeptName.getValue()+'-岗位编辑');\\n  }else{\\n     ajax_position_edit.request();\\n    position_win.setTitle(treeDeptName.getValue()+'-岗位编辑');\\n    }\\n   \\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"winContinue\",\"text\":\"保存并添加下一个\",\"click\":\"/*-------增加岗位信息----------------*/\\nif(!form1.getForm().isValid()){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"信息填写不完整！\\\") ;\\n  return false ;\\n}\\n/**------执行Update操作------*/\\nif(positionId.getValue()==='-1'){\\n  var _primaryKey = Wb.getUuid();\\n  var json = {primaryKey:_primaryKey};  \\n  ajax_position_add_continue.request(json);\\n  }else{\\n     ajax_position_edit_continue.request();\\n    }\\n   \\n\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"winClose\",\"text\":\"关闭\",\"click\":\"position_win.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"asgBtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"asgSave\",\"text\":\"确定\",\"click\":\"positionStore.getProxy().url='main?xwl=23W173S8UUEI';\\npositionStore.load({params:{orgComobox:asgOrgId.getValue(),deptId:asgDeptId.getValue()}});\\nempAsgWin.hide();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"Win\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"userSelectWin\",\"title\":\"添加员工\",\"height\":\"380\",\"layout\":\"border\",\"modal\":\"true\",\"width\":\"580\",\"clickOK\":\"var rows = userSelectGrid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择添加的记录!');\\n}else{\\n  var newArray=[];\\n  var _deptId = winDeptId.getValue();\\n  var _postId = positionId.getValue();\\n  var _orgId = winOrgId.getValue();\\n  Ext.each(rows,function(item){\\n    var _record = item.getData();\\n    _record.DEPT_ID = _deptId;\\n    _record.POST_ID = _postId;\\n    _record.ORG_ID = _orgId; \\n    _record.ASG_ID = Wb.getUuid();\\n    newArray.push(_record); \\n  });\\n addPosAsgAjax.params.newArray=Ext.JSON.encode(newArray);\\n addPosAsgAjax.request();\\n}\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"userSelectForm\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet4\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"userName\",\"labelWidth\":\"60\",\"width\":\"180\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tuserSelectStore.load();\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"员工编号/姓名\",\"id\":\"empWinName\",\"labelWidth\":\"100\",\"width\":\"250\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tuserSelectStore.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn\",\"text\":\"查询\",\"click\":\"userSelectStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"click\":\"userSelectForm.getForm().reset();\\nWb.load(userSelectStore);\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"userSelectStore\",\"columns\":\"userSelectGridColumns\",\"region\":\"center\",\"id\":\"userSelectGrid\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"position_win\",\"height\":\"480\",\"layout\":\"fit\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"580\",\"buttons\":\"winBtn\",\"buttonAlign\":\"center\",\"beforeclose\":\"var _orgId = orgComobox.getValue();\\nvar _deptId = deptId.getValue();\\nif(Ext.isEmpty(_deptId)){\\n   positionStore.getProxy().url='main?xwl=23W06BGDKYYS'; \\n   Wb.load(positionStore,{orgComobox:_orgId});\\n}else{\\n   positionStore.getProxy().url='main?xwl=23W173S8UUEI'; \\n   Wb.load(positionStore,{orgComobox:_orgId,deptId:_deptId});\\n}\\n\\nform1.getForm().reset();\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"layout\":\"anchor\",\"border\":\"false\",\"frame\":\"true\",\"afterrender\":\"form1.getForm().trackResetOnLoad = true;\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"岗位信息\",\"layout\":\"form\",\"tagProperties\":\"anchor:'100%'\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel8\",\"layout\":\"column\",\"columnWidth\":\"1\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\" <font color='red'>*<\\/font>岗位编码\",\"id\":\"positionCode\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"width\":\"260\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>岗位名称\",\"id\":\"positionName\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"width\":\"260\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"bodyPadding\":\"5 0 0 0\",\"id\":\"panel18\",\"layout\":\"column\",\"columnWidth\":\"1\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"所属部门\",\"id\":\"beyondDept\",\"labelWidth\":\"80\",\"width\":\"260\",\"readOnly\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"enableStore\",\"value\":\"Y\",\"valueField\":\"VAL_CODE\",\"allowBlank\":\"false\",\"width\":\"260\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>是否启用\",\"id\":\"isUse\",\"displayField\":\"VAL_NAME\",\"labelWidth\":\"80\"}]},{\"xwlMeta\":\"text\",\"id\":\"positionId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"winOrgId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"winDeptId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"orginalCode\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"fieldSet\",\"collapsible\":\"true\",\"id\":\"fieldSet3\",\"title\":\"分配信息\",\"layout\":\"fit\",\"tagProperties\":\"anchor:'100%,65%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"positionAsignStore\",\"columns\":\"positionArray\",\"height\":\"280\",\"border\":\"true\",\"frame\":\"false\",\"id\":\"positionGrid\",\"tbar\":\"positonBar\",\"multiSelect\":\"true\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"empAsgWin\",\"height\":500,\"layout\":\"border\",\"resizable\":\"true\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"800\",\"buttons\":\"asgBtn\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"close\":\"positionStore.getProxy().url='main?xwl=23W173S8UUEI';\\npositionStore.load({params:{orgComobox:asgOrgId.getValue(),deptId:asgDeptId.getValue()}});\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"id\":\"panel9\",\"title\":\"<center>可分配员工<\\/center>\",\"height\":\"498\",\"layout\":\"border\",\"columnWidth\":\"1\",\"width\":\"'45%'\",\"frame\":\"false\",\"split\":\"true\",\"y\":0,\"x\":0,\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel12\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel14\",\"layout\":\"column\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"名称\",\"id\":\"empName\",\"labelWidth\":\"30\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() === event.ENTER){\\n   Wb.load(grid1Store);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button5\",\"text\":\"查询\",\"click\":\"grid1Store.load();\"},{\"xwlMeta\":\"text\",\"id\":\"asgPostId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"asgOrgId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"asgDeptId\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel13\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"grid1Store\",\"columns\":\"grid1ColumnArray\",\"border\":\"false\",\"scroll\":\"vertical\",\"pagingToolbar\":\"false\",\"frame\":\"true\",\"id\":\"grid1\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"id\":\"panel11\",\"title\":\"<center>已分配员工<\\/center>\",\"height\":498,\"layout\":\"border\",\"columnWidth\":\"1\",\"width\":\"'45%'\",\"frame\":\"false\",\"split\":\"true\",\"y\":0,\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel121\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel141\",\"layout\":\"column\",\"border\":\"false\",\"bodyStyle\":\"padding: 0px 10px 3px\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"名称\",\"id\":\"empName1\",\"labelWidth\":\"30\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() === event.ENTER){\\n   Wb.load(grid11Store);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button51\",\"text\":\"查询\",\"click\":\"grid11Store.load();\\n\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel131\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"grid11Store\",\"columns\":\"grid1ColumnArray1\",\"border\":\"false\",\"scroll\":\"vertical\",\"pagingToolbar\":\"false\",\"frame\":\"true\",\"id\":\"grid11\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-body\",\"id\":\"panel10\",\"height\":\"498\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'10%'\",\"frame\":\"false\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel15\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"bodyStyle\":\"padding: 0px 10px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"button7\",\"text\":\"<<\",\"tooltip\":\"取消分配\",\"click\":\"var rows = grid11.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择员工信息!');\\n  return false ;\\n}else{\\n      var idList = \\\"\\\" ;\\n      Ext.each(rows,function(r){\\n      \\tvar id = \\\"'\\\" + r.data.ASG_ID+ \\\"'\\\";\\n        if(idList === \\\"\\\"){\\n          idList = id ;\\n        }else{\\n          idList = idList+\\\",\\\"+id ;\\n        }\\n      });\\n      var json = {primaryKey : idList} ;\\n      ajax_del_emp_asg.request(json);\\n    }\\nswap(grid11,grid1);\\n\"}]},{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel16\",\"height\":\"'30%'\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel17\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"bodyStyle\":\"padding: 0px 10px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"button6\",\"text\":\">>\",\"width\":\"30\",\"tooltipType\":\"qtip\",\"tooltip\":\"添加分配\",\"click\":\"//获取要添加授权的参数\\nvar a_orgId = asgOrgId.getValue();\\nvar a_deptId = asgDeptId.getValue();\\nvar a_postId = asgPostId.getValue();\\nvar rows = grid1.getSelectionModel().getSelection();\\nvar empIdList=\\\"\\\";\\nif(rows.length===0){\\n  Ext.MessageBox.alert('提示','请选择要授权的员工！');\\n  return false;\\n}\\n//********执行授权操作***************\\n//********交换store数据**************\\n//********无需校验授权的重复性*********\\nvar _addArray = [];\\nvar _tmpJson;\\nExt.each(rows,function(item){\\n  _tmpJson = {EMP_ASG_ID:'',ORG_ID:a_orgId,DEPT_ID:a_deptId,POST_ID:a_postId,EMP_ID:item.data.EMP_ID};\\n  _addArray.push(_tmpJson); \\n});\\najax_emp_asg_add.params.newArray = Ext.JSON.encode(_addArray);\\najax_emp_asg_add.request();\\n\\n// if(1===1){\\n//   alert('123');\\n// }else{\\n//   Ext.each(rows,function(item){\\n//     var empId = item.data.EMP_ID;\\n//     if(empIdList===\\\"\\\"){\\n//       empIdList = empId;\\n//     }else{\\n//       empIdList = empIdList+\\\",\\\"+empId;\\n//     }\\n//   });\\n//   var msg = Ext.MessageBox.show({\\n//     title \\t : \\t'请等待',\\n//     msg \\t : \\t'处理中.......',\\n//     width \\t : \\t240,\\n//     wait\\t : \\ttrue,\\n//     progress : \\ttrue,\\n//     closable : \\tfalse\\n//   });\\t\\n//   Ext.Ajax.request({\\n//     url:'{#contextPath#}' +'/xipPubDeptManageAction.do?method=saveEmpAsgInfo',\\n//     params:{\\n//       'orgId'\\t\\t:\\ta_orgId,\\n//       'deptId'\\t:\\ta_deptId,\\n//       'postId'\\t:\\ta_postId,\\n//       'empIdList':\\tempIdList\\n//     },\\n//     method:'post',\\n//     success : function(response, options) {\\n//       msg.hide();\\n//       var resultResponse = Ext.JSON.decode(response.responseText);\\n//       if(resultResponse.flag==='0'){\\n//         Ext.Msg.alert(\\\"提示\\\", '员工分配成功！');\\n//           grid1Store.load();\\n//           grid11Store.load();\\n//       }\\n//     },\\n//     failure:function(response, options){\\n//       msg.hide();\\n//       var resultResponse = Ext.JSON.decode(response.responseText);\\n//       Ext.Msg.alert(\\\"提示\\\", resultResponse.msg);\\n//     }\\n//   });\\n// }\\n\\n\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"deptAddWin\",\"height\":\"200\",\"layout\":\"fit\",\"resizable\":\"false\",\"width\":\"350\",\"clickOK\":\"if(!deptAddForm.getForm().isValid()){\\n  Wb.warning('请填写所有必填信息！');\\n  return;\\n}\\ndeptInfoForm.show();\\n//点击保存之前，将窗口填写的信息全部\\ntreeDeptCode.setValue(ADD_DEPT_CODE.getValue());\\ntreeDeptDesc.setValue(ADD_DEPT_DESC.getValue());\\ntreeDeptName.setValue(ADD_DEPT_NAME.getValue());\\ncheck1.setValue(ADD_DEPT_ENABLE.getValue());\\nbutton2.fireEvent('click');\\ndeptAddWin.close();\\n\\n\",\"hide\":\"deptAddForm.getForm().reset();\\nvar _treeRecord = Wb.getSelNode(deptTree);\\nif(_treeRecord.data.parent_id === '-1'){\\n  //button2.setDisabled(true);\\n}\\n\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"deptAddForm\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel21\",\"layout\":\"form\",\"columnWidth\":\".4\",\"border\":\"false\",\"bodyStyle\":\"padding: 15px 50px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"上级部门ID\",\"id\":\"UP_DEPT_ID\",\"labelWidth\":\"60\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门ID\",\"id\":\"ADD_DEPT_ID\",\"labelWidth\":\"60\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>部门编码\",\"id\":\"ADD_DEPT_CODE\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>部门名称\",\"id\":\"ADD_DEPT_NAME\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门描述\",\"id\":\"ADD_DEPT_DESC\",\"labelWidth\":\"60\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"60\",\"fieldLabel\":\"是否启用\",\"id\":\"ADD_DEPT_ENABLE\",\"labelAlign\":\"right\",\"checked\":\"true\"}]}]}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"treeDeptToolBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem6\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"button3\",\"text\":\"新增\",\"click\":\"var _deptId = deptId.getValue();\\nvar _orgId = orgComobox.getValue();\\nvar _deptName = treeDeptName.getValue();\\nif(Ext.isEmpty(_deptId)){\\n  Ext.MessageBox.alert('提示','请选择需要添加岗位的部门！');\\n  return false;\\n}else{\\n  beyondDept.setValue(_deptName);\\n  positionId.setValue('-1');\\n  winDeptId.setValue(_deptId);\\n  winOrgId.setValue(_orgId);\\n  beyondDept.setReadOnly(true);\\n position_win.show();\\n  position_win.setTitle(_deptName+'-岗位新增');\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem7\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"button1\",\"textAlign\":\"center\",\"text\":\"修改\",\"click\":\"var sm = treePosGrid.getSelectionModel();\\nif(!sm.hasSelection() || sm.getSelection().length>1){\\n  Ext.MessageBox.alert('提示','请选择一条岗位信息');\\n  return false;\\n}else{\\n  var rows = sm.getSelection();\\n  var _deptId = rows[0].data.DEPT_ID;\\n  var _orgId = rows[0].data.ORG_ID;\\n  var _deptName = rows[0].data.DEPT_NAME;\\n  var _positionId = rows[0].data.POST_ID;\\n  var _enabled = rows[0].data.ENABLE_FLAG;\\n  var _positionCode = rows[0].data.POST_CODE;\\n  var _positionName = rows[0].data.POST_NAME;\\n  beyondDept.setValue(_deptName);\\n  positionId.setValue(_positionId);\\n  winDeptId.setValue(_deptId);\\n  winOrgId.setValue(_orgId);\\n  beyondDept.setReadOnly(true);\\n  positionCode.setValue(_positionCode);\\n  positionName.setValue(_positionName);\\n  orginalCode.setValue(_positionCode);\\n  isUse.setValue(_enabled);\\n  if(_enabled==='Y'){\\n    isUse.setRawValue('是');\\n  }else{\\n    isUse.setRawValue('否');\\n  }\\n  Wb.load(positionAsignStore,{deptId:_deptId,postId:_positionId});\\n  position_win.show();\\n\\n}\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"button4\",\"text\":\"删除\",\"click\":\"var sm = treePosGrid.getSelectionModel();\\nif(!sm.hasSelection()){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择要删除的岗位信息!\\\");\\n  return false;\\n}\\nExt.MessageBox.confirm('提示','您确认要删除所选择的部门信息',function(item){\\n  if(item==='yes'){  \\n    var rows = sm.getSelection();\\n    var _postIdLIst = \\\"\\\";\\n    Ext.each(rows,function(item){\\n      var _postId = \\\"'\\\"+item.data.POST_ID+\\\"'\\\";\\n      if(_postIdLIst === \\\"\\\"){\\n          _postIdLIst = _postId ;\\n        }else{\\n          _postIdLIst = _postIdLIst+\\\",\\\"+_postId;\\n        }\\n      \\n    });  \\n    ajax_position_del.request({postId:_postIdLIst}); \\n  }\\n});\\n\\n\\n  \"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem8\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"menuItem13\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem15\"},{\"xwlMeta\":\"text\",\"id\":\"queryPositionName\",\"specialkey\":\"if(event.getKey() === event.ENTER){\\n  queryBtn.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"click\":\"var _deptId = Ext.isEmpty(Wb.getSelNode(deptTree))? '':Wb.getSelNode(deptTree).data.id;\\nvar json;\\nif(Ext.isEmpty(_deptId))\\n json= {orgComobox:orgComobox.getValue()};\\nelse\\n  json={orgComobox:orgComobox.getValue(),deptId:_deptId};\\nWb.load(positionStore,json);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem9\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"deptInfoToolBar\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"button2\",\"text\":\"保存\",\"disabled\":\"true\",\"click\":\"if(Ext.isEmpty(orgComobox.getValue())){\\n  Ext.Msg.alert('提示','请选择组织!');\\n  return false;\\n}\\nif(Ext.isEmpty(upDeptId.getValue())){\\n  Ext.MessageBox.alert('提示','请选择上级部门！');\\n  return false;\\n\\n}\\n//=====保存部门操作，只保存部门，部门下的岗位保存重新弹出新的窗口=====\\nvar _deptCode = treeDeptCode.getValue();\\nif(Ext.isEmpty(_deptCode)){\\n  Ext.Msg.alert('提示','请填写部门编码!');\\n  return false;\\n}\\nvar _deptName = treeDeptName.getValue();\\nif(Ext.isEmpty(_deptName)){\\n  Ext.Msg.alert('提示','请填写部门名称！');\\n  return false;\\n}\\nvar _deptId = deptId.getValue();\\nvar _orgId = orgComobox.getValue();\\nvar _upDeptId = upDeptId.getValue();\\nvar _isEnable = 'N';\\nif(check1.getValue()){\\n  _isEnable = 'Y';  \\n}\\nvar isExist = 0;\\nvar isCurrentId;\\nvar _primaryKey = Wb.getUuid();\\nvar _operateCode = operateCode.getValue();\\nvar _deptId = deptId.getValue();\\nvar _lastNode = deptTree.getRootNode().lastChild;\\nif(_operateCode!=='edit'){\\n  //======新增操作=====\\n  var json = {isEnabled:_isEnable,primaryKey:_primaryKey};  \\n  ajax_add.request(json); \\n  }else{\\n    var json = {isEnabled:_isEnable};\\n    ajax_edit.request(json); \\n    }\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"columnArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_ID\",\"id\":\"DEPT_ID\",\"text\":\"部门ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_ID\",\"id\":\"POST_ID\",\"text\":\"岗位ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ORG_ID\",\"text\":\"组织ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME\",\"text\":\"所属部门\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_CODE\",\"id\":\"POST_CODE\",\"text\":\"岗位编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_NAME\",\"id\":\"POST_NAME\",\"text\":\"岗位名称\",\"width\":\"190\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NUM\",\"id\":\"EMP_NUM\",\"renderer\":\"var c_orgId = record.get('ORG_ID');\\nvar c_deptId = record.get('DEPT_ID');\\nvar c_postId = record.get('POST_ID');\\nvar c_deptName = record.get('DEPT_NAME');\\nvar c_postName = record.get('POST_NAME');\\nvar str = \\\"<a href=\\\\\\\"javascript:assginEmployee('\\\"+c_orgId+\\\"','\\\"+c_deptId+\\\"','\\\"+c_postId+\\\"','\\\"+c_deptName+\\\"','\\\"+c_postName+\\\"');\\\\\\\">员工分配数：\\\"+record.get('EMP_NUM')+\\\"<\\/a>\\\" ;\\n//var str = \\\"<a href=#>员工分配数：\\\"+record.get('EMP_NUM')+\\\"<\\/a>\\\" ;\\nreturn str;\\n\\n\\n\\n\",\"text\":\"员工分配数\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG\",\"renderer\":\"if(record.get('ENABLE_FLAG')=='Y'){\\n  return '是';\\n}else if(record.get('ENABLE_FLAG')=='N'){\\n  return '否';\\n}else{\\n  return record.get('ENABLE_FLAG');\\n}\",\"text\":\"是否启用\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE1\",\"id\":\"STATE\",\"text\":\"attribute1\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"afterrender\":\"var _tipCode = '{#tipCode#}';\\nvar _deptTip = Wb.getCookie(_tipCode);\\nif(Ext.isEmpty(_deptTip)){\\n  MsgTip.msg('<font color=\\\"red\\\">提示<\\/font>', '先选择一个组织，然后在左边的树点击鼠标右键菜单进行操作，<br>拖动节点可以改变部门的顺序和上下级.',null,null,_tipCode);  \\n}\\n\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"id\":\"panel4\",\"height\":\"'100%'\",\"layout\":\"border\",\"columnWidth\":\"1\",\"border\":\"true\",\"width\":\"'28%'\",\"frame\":\"false\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel7\",\"layout\":\"fit\",\"columnWidth\":\"1\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel5\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"bodyStyle\":\"padding: 0px 10px 3px\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore\",\"forceSelection\":\"true\",\"valueField\":\"CODE\",\"vtypeText\":\"     \",\"editable\":\"true\",\"labelAlign\":\"left\",\"queryMode\":\"local\",\"emptyText\":\"请选择组织\",\"fieldLabel\":\"组织\",\"id\":\"orgComobox\",\"queryLike\":\"true\",\"displayField\":\"NAME\",\"labelWidth\":\"30\",\"beforequery\":\"Wb.load(orgStore);\",\"select\":\"deptInfoForm.getForm().reset();\\nupDeptId.setValue(orgComobox.getValue());\\npositionStore.load({params:{orgComobox:orgComobox.getValue()}});\\ntreeStore1.load();\\nbutton2.setDisabled(true);\\nvar _tmp = document.getElementById('_toolTipsClickHide');\\nMsgTip.hide(_tmp);\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"text\",\"emptyText\":\"输入部门名称后按回车键查询\",\"fieldLabel\":\"部门\",\"id\":\"deptName\",\"labelWidth\":\"30\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == event.ENTER  && !Ext.isEmpty(orgComobox.getValue())){\\n  treeNodeQuery(text.value,'text','deptTree');\\n}\"}]},{\"xwlMeta\":\"panel\",\"id\":\"panel6\",\"layout\":\"column\",\"columnWidth\":\"1\",\"border\":\"false\",\"width\":\"'100%'\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panelWest\",\"height\":\"'100%'\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'100%'\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"center\",\"animate\":\"false\",\"store\":\"treeStore1\",\"root\":\"{text:Str.all,parent_id:'-1',text:'组织部门树',flag:'Y',expanded:true}\",\"id\":\"deptTree\",\"height\":\"'100%'\",\"border\":\"false\",\"width\":\"'100%'\",\"rootVisible\":\"false\",\"frame\":\"false\",\"split\":\"true\",\"viewConfig\":\"{\\n  plugins : {\\n    pluginId : 'ddPlug',\\n    ptype : 'treeviewdragdrop'\\n  },\\n  listeners : {\\n    beforedrop:function(node, data, om, dp){\\n      /*-------------存储被拖拽节点的信息-----------*/\\n      Wb.saveNodePos(Wb.getNode(data.item));\\n      return true;  \\n    },\\n    drop : function(node, data, om, dp){\\n/*-----------node：被拖拽的节点，om：要拖拽到的节点，dp：被拖拽的位置<before，after，append>---------*/\\n  var dst = Wb.getNode(node), src = Wb.getNode(data.item), orderIndex, srcId, parentId, pn,tmpOrder;\\n  Wb.mask(deptTree);\\n  dst.expand(false,function(){\\n    Wb.unmask(deptTree);\\n/*------------部门id---------------*/\\n    srcId = src.get('id');  \\n/*-----------判断拖拽的类型---------*/\\n    if(dp=='append'){\\n      pn = dst;\\n      parentId = dst.get('id');\\n      if(!Ext.isEmpty(dst.lastChild.previousSibling)){\\n        tmpOrder = dst.lastChild.previousSibling.get('seq_updept');\\n        if(!Ext.isEmpty(tmpOrder)){\\n          orderIndex = Number(tmpOrder)+Number(1);\\n        }else{\\n          orderIndex = 1;\\n        }\\n      }else{\\n        orderIndex = 1;\\n      }\\n    }else{\\n      pn = src.parentNode;\\n      parentId = pn.get('id');\\n      if (dp == 'before'){\\n        if(Ext.isEmpty(dst.get('seq_updept'))){\\n          orderIndex = 1;\\n        }else{\\n          orderIndex = Number(dst.get('seq_updept'));\\n           }\\n      }else{\\n        if(Ext.isEmpty(dst.get('seq_updept'))){\\n           orderIndex = 1;\\n         }else{\\n            orderIndex = Number(dst.get('seq_updept')) + Number(1);\\n           }  \\n    }\\n   }\\n    Wb.request({\\n                url : 'main?xwl=23X7D36B71XU',\\n                mask:deptTree,\\n                params : {seq_updept:orderIndex, deptId:srcId, parentId:parentId},\\n                failure : function() {\\n                  Wb.revertNodePos(src);\\n                },\\n                success : function() {\\n                  pn.eachChild(function(x) {\\n                    var i ;\\n                    if(Ext.isEmpty(x.get('seq_updept'))){\\n                       i =1;\\n                    }else{\\n                       i = Number(x.get('seq_updept'));\\n                    }\\n                    if (i >= orderIndex) {\\n                      x.set('seq_updept', Number(i) + Number(1));\\n                      x.commit();\\n                    }\\n                  });\\n                  src.set('parent_id', parentId);\\n                  src.set('seq_updept', orderIndex);\\n                  src.commit();\\n                }\\n               });    \\n  });\\n  }\\n  }\\n}\",\"itemclick\":\"queryPositionName.setValue('');\\nvar parentId = record.data.parent_id;\\nbutton2.setDisabled(false);\\nif(parentId==='-1'){\\n  deptInfoForm.hide();\\n  button2.setDisabled(true);\\n  button3.setDisabled(true);\\n  //button4.setDisabled(true);\\n  button1.setDisabled(true);\\n  positionStore.getProxy().url='main?xwl=23W06BGDKYYS';   //23W06BGDKYYS\\n  positionStore.load({params:{orgComobox:orgComobox.getValue()}});\\n   treeDeptName.setValue('');\\n   treeDeptCode.setValue('');\\n   treeDeptDesc.setValue('');\\n   deptId.setValue('');\\n   //upDeptId.setValue(parentId);\\n  upDeptId.setValue(record.data.id); \\n}else{\\n   deptInfoForm.show();\\nvar orgComoboxId = orgComobox.getValue();\\n var _deptId = record.data.id;\\n  button3.setDisabled(false);\\n  button4.setDisabled(false);\\n  button1.setDisabled(false);\\npositionStore.getProxy().url='main?xwl=23W173S8UUEI';  //23W173S8UUEI\\nWb.load(positionStore,{orgComobox:orgComoboxId,deptId:_deptId});\\n//positionStore.load({params:{orgComobox:orgComoboxId,deptId:_deptId}});\\n\\nvar _treeDeptName = record.data.text;\\nvar _treeDeptCode = record.data.code;\\nvar _treeDeptDesc = record.data.shortname;\\nvar _isEnabled = record.data.isenable;\\nvar _treeDeptId = record.data.id;\\nvar _treeDeptUpId = record.data.up_dp_id;\\n deptId.setValue(_treeDeptId);\\n upDeptId.setValue(_treeDeptUpId);\\n treeDeptName.setValue(_treeDeptName);\\n treeDeptCode.setValue(_treeDeptCode);\\n treeDeptDesc.setValue(_treeDeptDesc);\\n  operateCode.setValue('edit');\\n  if(_isEnabled==='Y'){\\n    check1.setValue(true);   \\n  }else{\\n     check1.setValue(false);\\n  }\\n}\",\"itemcontextmenu\":\"event.preventDefault();\\nevent.stopEvent();\\nvar isRoot = record.data.parent_id;\\nvar flag = record.data.text;\\nbutton2.setDisabled(false);\\n//根节点只新增下级部门\\nif(isRoot ==='-1' && flag !=='组织部门树'){\\n  \\t  \\t\\t\\t\\t\\tvar nodemenu = new Ext.menu.Menu({  \\n\\t\\t\\t                floating:\\ttrue,  \\n\\t\\t\\t                items\\t:\\t[{  \\n\\t\\t\\t                    text\\t:\\t'新增下级部门',  \\n\\t\\t\\t                    iconCls\\t:\\t'new_icon',\\n\\t\\t\\t                    handler\\t:\\tfunction(){\\n               deptInfoForm.getForm().reset();\\n               var deptUpId = record.data.id;//组织ID\\n               upDeptId.setValue(deptUpId);\\n               positionStore.removeAll();\\n               UP_DEPT_ID.setValue(deptUpId);\\n               deptAddWin.show();\\n\\t\\t\\t                    }  \\n\\t\\t\\t                }]  \\t                  \\n\\t\\t\\t            });\\n nodemenu.showAt(event.getXY());\\n}else if(isRoot !== '-1'){ \\nvar nodemenu = new Ext.menu.Menu({  \\n        floating:\\ttrue,  \\n        items\\t:\\t[{  \\n            text\\t:\\t'新增下级部门',  \\n            iconCls\\t:\\t'new_icon',\\n            handler\\t:\\tfunction(){  \\n            \\tbutton3.setDisabled(true);\\n            \\tbutton4.setDisabled(true);\\t\\n            \\tdeptInfoForm.getForm().reset();\\n            \\tvar tempId = record.data.id;\\n            \\tupDeptId.setValue(tempId);\\n            \\tpositionStore.removeAll();\\n                UP_DEPT_ID.setValue(tempId);\\n                deptAddWin.show();\\n            }  \\n        },{  \\n            text\\t:\\t'删除部门',  \\n            iconCls\\t:\\t'delete_icon',\\n            handler\\t:\\tfunction(){\\n              var tmpParentDeptId = record.data.id;\\n            deleteDept(tmpParentDeptId);\\n            }  \\n        }]  \\n    });  \\n    nodemenu.showAt(event.getXY());  \\t\\t\\t   \\n}\\n\\nfunction deleteDept(parentId){\\n  Ext.MessageBox.confirm('提示','确定要删除所选择的部门信息?',function(item){\\n    if(item === 'yes'){\\n      ajax_dept_delete.request({deptId:parentId});\\n    }\\n  });\\n}\\n\\n\\n\\n\\n\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"contentPanel\",\"height\":\"'100%'\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"orgCenter\",\"height\":\"'100%'\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"iconCls\":\"save_icon\",\"id\":\"deptInfoForm\",\"tbar\":\"deptInfoToolBar\",\"style\":\"border-width:0px\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"document.body.clientWidth\",\"frame\":\"true\",\"hidden\":\"true\",\"tagEvents\":\"'show':function(){\\n   panel3.setBodyStyle('padding:0px 0px 0px 0px');\\n},\\n'hide':function(){\\n  panel3.setBodyStyle('padding:5px 0px 0px 0px');\\n}\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"width\":\"'100%'\",\"id\":\"fieldSet2\",\"title\":\"部门信息\",\"layout\":\"column\",\"y\":\"5\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>部门编码\",\"id\":\"treeDeptCode\",\"labelWidth\":\"80\",\"width\":\"320\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门简称\",\"id\":\"treeDeptDesc\",\"labelWidth\":\"80\",\"width\":\"320\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel2\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>部门名称\",\"id\":\"treeDeptName\",\"labelWidth\":\"80\",\"width\":\"320\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"80\",\"fieldLabel\":\"是否启用\",\"id\":\"check1\",\"labelAlign\":\"right\",\"checked\":\"true\"}]}]},{\"xwlMeta\":\"text\",\"id\":\"deptId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"upDeptId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"operateCode\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"5px 0px 0px 0px\",\"id\":\"panel3\",\"layout\":\"fit\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form2\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"width\":\"'100%'\",\"id\":\"fieldSet5\",\"title\":\"岗位信息\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"positionStore\",\"columns\":\"columnArray\",\"id\":\"treePosGrid\",\"tbar\":\"treeDeptToolBar\",\"multiSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"button1.fireEvent('click');\"}]}]}]}]}]}]}]}","部门管理",null,0,0,"admin","2015-01-22 10:13:05.0","23XQ4B4KHDBQ","2015-10-23 12:53:46.0",1],["23W06BGDKYGT","23W06BGDKYGH",null,"DATA",null,1,0,"admin","2015-01-22 10:28:18.0","admin","2015-06-02 15:08:03.0",5],["23W06BGDKYGU","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"getComboxOrg\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT ORG_ID CODE, ORG_NAME NAME FROM XIP_PUB_ORGS WHERE \\tENABLE_FLAG = 'Y'\\t\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getComboxOrg",null,0,0,"admin","2015-01-22 10:28:45.0","admin","2015-01-29 10:56:36.0",1],["23W06BGDKYQ6","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"getTreeDept\",\"initMethod\":\"com.xzsoft.xip.platform.action.DeptTreeCreateAction.getDeptTreeByorgId\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\"}","getTreeDept",null,0,0,"admin","2015-01-22 13:08:53.0","admin","2015-05-12 17:36:31.0",2],["23W06BGDKYYS","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"getDeptPosition\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT D.DEPT_ID,\\n                 D.DEPT_CODE || '/' || D.DEPT_NAME AS CODENAME,\\n                 D.DEPT_NAME,\\n                 P.POST_ID,\\n                 P.POST_CODE,\\n                 P.POST_NAME,\\n                 P.ORG_ID,\\n                 P.ENABLE_FLAG,\\n                 P.ATTRIBUTE1,\\n                 P.ATTRIBUTE4,\\n                 p.ATTRIBUTE3,\\n                 (select count(*) from xip_pub_emp_asg a WHERE A.POST_ID = P.POST_ID) EMP_NUM\\n            FROM XIP_PUB_DEPTS D, XIP_PUB_POSTS P\\n           WHERE D.DEPT_ID = P.DEPT_ID\\n             AND P.ORG_ID = {?orgComobox?}\\n             AND (P.POST_CODE LIKE '%{#POST_NAME#}%' OR P.POST_NAME LIKE '%{#POST_NAME#}%') \\n             \\n           order by P.CREATION_DATE DESC\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getDeptPosition",null,0,0,"admin","2015-01-22 15:08:03.0","admin","2015-06-04 12:30:40.0",3],["23W08Z41OPLV","23VKVPUL841U",null,"实体管理",null,0,0,"admin","2015-01-22 14:55:58.0","admin","2015-01-22 14:55:58.0",2],["23W08Z41OPLW","23VKVPUL841U",null,"节点执行人授权",null,1,0,"admin","2015-01-22 14:56:19.0","23XSWLY0BYLW","2015-08-25 10:44:37.0",3],["23W090GMALLI","23VKVPUL841U",null,"流程用户授权",null,1,0,"admin","2015-01-22 15:00:55.0","23XSWLY0BYLW","2015-08-25 10:43:37.0",4],["23W090GMALLJ","23VKVPUL841U",null,"流程功能授权",null,1,0,"admin","2015-01-22 15:01:06.0","23XSWLY0BYLW","2015-08-25 10:43:41.0",5],["23W090GMALLK","23VKVPUL841U",null,"假期规则",null,0,0,"admin","2015-01-22 15:01:14.0","admin","2015-01-22 15:01:14.0",6],["23W090GMALLP","23W08Z41OPLV","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"实体管理\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"req\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1JDY (Insert Entity)\",\"id\":\"ajax_addEntity\",\"output\":\"e_appId,e_entityCode,e_entityName,e_entityDesc,e_cbxFuncType,e_cbxFuncName\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存实体信息失败\\\");\",\"success\":\"Wb.load(store4EntityGrid) ;\\nentityWin.hide();\\nExt.Msg.alert(\\\"提示\\\",\\\"保存实体信息成功\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3K93FUQBZ (UpdateEntity)\",\"id\":\"ajax_updateEntity\",\"output\":\"e_appId,e_cbxFuncName,e_cbxFuncType,e_entityCode,e_entityDesc,e_entityId,e_entityName\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存实体信息失败\\\");\",\"success\":\"Wb.load(store4EntityGrid) ;\\nentityWin.hide();\\nExt.Msg.alert(\\\"提示\\\",\\\"保存实体信息成功\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1JE6 (Delete Entity)\",\"id\":\"ajax_delEntity\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除实体信息失败!\\\")  ;\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除实体信息成功!\\\")  ;\\nWb.load(store4EntityGrid);\\nWb.load(store4EntityAttr);\\nWb.load(store4BizStatus);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1JE1 (Insert EntityAttr)\",\"id\":\"ajax4_addAttr\",\"output\":\"form2\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存实体属性信息失败\\\");\",\"success\":\"Wb.load(store4EntityAttr) ;\\nattrWin.hide();\\nExt.Msg.alert(\\\"提示\\\",\\\"保存实体属性信息成功\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1JE1 (Insert EntityAttr)\",\"id\":\"ajax4_addAddSaveAttr\",\"output\":\"form2\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存实体属性信息失败\\\");\",\"success\":\"Wb.load(store4EntityAttr) ;\\n\\na_attr_id.setValue(Wb.getUuid()) ;\\na_attr_code.setValue();\\na_attr_name.setValue();\\na_attr_category.setValue('static');\\na_attr_funcType.setValue();\\na_attr_funcName.setValue();\\na_attr_desc.setValue();\\n\\nattrOpType.setValue('add');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM42RBT (Update EntityAttr)\",\"id\":\"ajax4_updAttr\",\"output\":\"form2\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存实体属性信息失败\\\");\",\"success\":\"Wb.load(store4EntityAttr) ;\\nattrWin.hide();\\nExt.Msg.alert(\\\"提示\\\",\\\"保存实体属性信息成功\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1JE9 (Delete EntityAttr)\",\"id\":\"ajax4_delAttr\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除实体属性信息失败!\\\")  ;\",\"success\":\"Wb.load(store4EntityAttr);\\n\\nExt.Msg.alert(\\\"提示\\\",\\\"删除实体属性信息成功!\\\")  ;\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1JE4 (Insert BizStatus)\",\"id\":\"ajax4_addBiz\",\"output\":\"B_ENTITY_ID,B_ENUM_ID,B_STATUS_CATEGORY,B_STATUS_DESC,B_ENABLE_FLAG\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存业务状态信息失败!\\\")  ;\",\"success\":\"Wb.load(store4BizStatus) ;\\nbizWin.hide();\\nExt.Msg.alert(\\\"提示\\\",\\\"保存业务状态信息成功\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1JE4 (Insert BizStatus)\",\"id\":\"ajax4_addMoreBiz\",\"output\":\"B_ENTITY_ID,B_ENUM_ID,B_STATUS_CATEGORY,B_STATUS_DESC,B_ENABLE_FLAG\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存业务状态信息失败!\\\")  ;\",\"success\":\"Wb.load(store4BizStatus) ;\\n\\n// 初始化赋值\\nB_ENUM_ID.setValue(Wb.getUuid());\\nB_STATUS_CATEGORY.setValue() ;\\nB_STATUS_DESC.setValue() ;\\nB_ENABLE_FLAG.setValue('Y');\\nbizOpType.setValue('add');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM431PA (Update BizStatus)\",\"id\":\"ajax4_UpdBiz\",\"output\":\"B_ENTITY_ID,B_ENUM_ID,B_STATUS_DESC,B_STATUS_CATEGORY,B_ENABLE_FLAG\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存业务状态信息失败!\\\")  ;\",\"success\":\"Wb.load(store4BizStatus) ;\\nbizWin.hide();\\nExt.Msg.alert(\\\"提示\\\",\\\"保存业务状态信息成功\\\");\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store4Apps\",\"url\":\"#23W0CDJH1MFJ (Get Apps)\"},{\"xwlMeta\":\"store\",\"mask\":\"entityGrid\",\"id\":\"store4EntityGrid\",\"url\":\"#23W090GMALLU (Get Entities)\",\"output\":\"text4EntityName,cbx4App\"},{\"xwlMeta\":\"store\",\"mask\":\"attrGrid\",\"id\":\"store4EntityAttr\",\"url\":\"#23W0CDJH1JBZ (Get Entity Attrs)\",\"message\":\"数据加载中...\",\"output\":\"text4AttrName\"},{\"xwlMeta\":\"store\",\"id\":\"store4BizStatus\",\"url\":\"#23W0CDJH1JC1 (Get Biz Status)\",\"message\":\"数据加载中...\"},{\"xwlMeta\":\"store\",\"data\":\"[['','---请选择---'],['PROC','存储过程'],['WEB','WEB服务']]\",\"id\":\"store4FuncType\",\"fields\":\"['CODE','NAME']\"},{\"xwlMeta\":\"store\",\"data\":\"[['static','静态属性'],['dynamic','动态属性']]\",\"id\":\"store4Category\",\"fields\":\"['CODE','NAME']\"},{\"xwlMeta\":\"store\",\"data\":\"[['1','字符型'],['2','数值型'],['3','日期型']]\",\"id\":\"store4DataType\",\"fields\":\"['CODE','NAME']\"},{\"xwlMeta\":\"store\",\"data\":\"[['Y','启用'],['N','禁用']]\",\"id\":\"store4Enabled\",\"fields\":\"['CODE','NAME']\"},{\"xwlMeta\":\"store\",\"data\":\"[['A','A-起草'],['R','R-撤回'],['C','C-运行中'],['D','D-驳回'],['E','E-结束']]\",\"id\":\"store4StatusType\",\"fields\":\"['CODE','NAME']\"}]},{\"xwlMeta\":\"folder\",\"id\":\"arrays\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"colArray4EntityGrid\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"ROWNUM\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"APP_ID\",\"text\":\"应用ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_ID\",\"id\":\"ENTITY_ID\",\"text\":\"实体ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_CODE\",\"id\":\"ENTITY_CODE\",\"text\":\"实体编码\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_NAME\",\"id\":\"ENTITY_NAME\",\"text\":\"实体名称\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_DESC\",\"id\":\"ENTITY_DESC\",\"text\":\"实体描述\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUNC_TYPE\",\"id\":\"FUNC_TYPE\",\"renderer\":\"if(value === 'PROC'){\\n  return '存储过程' ;\\n}else if(value === 'WEB'){\\n  return 'Web服务' ;\\n}else{\\n  return value ;\\n}\",\"text\":\"回调函数类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUNC_NAME\",\"id\":\"FUNC_NAME\",\"text\":\"回调函数\",\"width\":\"450\",\"menuDisabled\":\"false\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray4EntityAttr\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum1\",\"text\":\"序号\",\"width\":\"30\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_ID\",\"id\":\"ENTITY_ID_1\",\"text\":\"实体ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTR_ID\",\"id\":\"ATTR_ID\",\"text\":\"属性ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTR_CODE\",\"id\":\"ATTR_CODE\",\"text\":\"属性编码\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTR_NAME\",\"id\":\"ATTR_NAME\",\"text\":\"属性名称\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTR_CATEGORY\",\"id\":\"ATTR_CATEGORY\",\"renderer\":\"if(value === 'static'){\\n  return '静态属性' ;\\n}else if(value === 'dynamic'){\\n  return '动态属性';\\n}else{\\n  return value ;\\n}\",\"text\":\"属性类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTR_DATA_TYPE\",\"id\":\"ATTR_DATA_TYPE\",\"renderer\":\"if(value === '1'){\\n  return '字符型' ;\\n}else if(value === '2'){\\n  return '数值型';\\n}else if(value === '3'){\\n  return '日期型';  \\n}else{\\n  return value ;\\n}\",\"text\":\"数据类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTR_FUNC_TYPE\",\"id\":\"ATTR_FUNC_TYPE\",\"renderer\":\"if(value === 'PROC'){\\n  return '存储过程' ;\\n}else if(value === 'WEB'){\\n  return 'Web服务' ;\\n}else{\\n  return value ;\\n}\",\"text\":\"动态函数类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTR_FUNC_NAME\",\"id\":\"ATTR_FUNC_NAME\",\"text\":\"属性值/函数名\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTR_DESC\",\"id\":\"ATTR_DESC\",\"text\":\"属性描述\",\"width\":\"200\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray4BizStatus\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum2\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_ID\",\"id\":\"ENTITY_ID_2\",\"text\":\"实体ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENUM_ID\",\"id\":\"ENUM_ID\",\"text\":\"业务状态ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"STATUS_CATEGORY\",\"id\":\"STATUS_CATEGORY\",\"text\":\"状态分类码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"STATUS_DESC\",\"id\":\"STATUS_DESC\",\"text\":\"状态分类描述\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG\",\"renderer\":\"if(value === 'Y'){ \\n  return '启用' ;\\n}else if(value === 'N'){\\n  return '禁用' ;\\n}else{\\n  return value ;\\n}\",\"text\":\"是否启用\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"tbar4EntityGrid\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seqItem1\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4Apps\",\"valueField\":\"ID\",\"width\":\"300\",\"labelAlign\":\"right\",\"emptyText\":\"---请选择---\",\"fieldLabel\":\"应用\",\"id\":\"cbx4App\",\"displayField\":\"NAME\",\"labelWidth\":\"30\",\"select\":\"Wb.load(store4EntityGrid);\\nstore4EntityAttr.removeAll();\\nstore4BizStatus.removeAll();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seqItem2\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"实体名称\",\"id\":\"text4EntityName\",\"labelWidth\":\"60\",\"width\":\"250\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  var _appId = cbx4App.getValue();\\n  if(_appId === null || _appId === \\\"\\\"){\\n    Ext.Msg.alert(\\\"提示\\\",\\\"请选择应用!\\\") ;\\n    return false ;\\n  }\\n  Wb.load(store4EntityGrid);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seqItem3\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"seek_icon\",\"id\":\"btnQuery\",\"click\":\"var _appId = cbx4App.getValue();\\nif(_appId === null || _appId === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择应用!\\\") ;\\n  return false ;\\n}\\nWb.load(store4EntityGrid);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"seqRight\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seqItem4\"},{\"xwlMeta\":\"menuItem\",\"text\":\"增加\",\"iconCls\":\"new_icon\",\"id\":\"btnAddEntity\",\"click\":\"entityWin.setTitle('新增实体');\\nvar _appId = cbx4App.getValue();\\nif(_appId === null || _appId === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择应用信息!\\\");\\n  return false ;\\n}else{\\n  e_appId.setValue(_appId) ;\\n  e_entityCode.enable();\\n}\\nentityWin.show();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seqItem5\"},{\"xwlMeta\":\"menuItem\",\"text\":\"修改\",\"iconCls\":\"edit_icon\",\"id\":\"btnUpdateEntity\",\"click\":\"var rows = entityGrid.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择业务实体信息!\\\") ;\\n  return false ;\\n}else{\\n  var _appId = rows[0].data.APP_ID ;\\n  var _entityId = rows[0].data.ENTITY_ID ;\\n  var _entityCode = rows[0].data.ENTITY_CODE ;\\n  var _entityName = rows[0].data.ENTITY_NAME ;\\n  var _entityDesc = rows[0].data.ENTITY_DESC ;\\n  var _funcType = rows[0].data.FUNC_TYPE ;\\n  var _funcName = rows[0].data.FUNC_NAME ;\\n  \\n  e_appId.setValue(_appId) ;\\n  e_entityId.setValue(_entityId) ;\\n  e_entityCode.setValue(_entityCode) ;\\n  e_entityName.setValue(_entityName) ;\\n  e_entityDesc.setValue(_entityDesc);\\n  e_cbxFuncType.setValue(_funcType);\\n  e_cbxFuncName.setValue(_funcName);\\n  \\n  e_entityCode.disable();\\n  entityWin.setTitle('修改实体');\\n  if(_funcType !== null && _funcType !== \\\"\\\"){\\n    e_cbxFuncName.enable();\\n  }\\n  \\n  entityWin.show();\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seqItem6\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"delete_icon\",\"id\":\"btnDelEntity\",\"click\":\"var rows = entityGrid.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择实体信息!\\\") ;\\n  return false ;\\n}else{\\n  var _entityId = rows[0].data.ENTITY_ID;\\n  var json = {'entityId':_entityId};\\n  \\n  Ext.MessageBox.confirm('提示','确定要删除此业务实体吗？',function(a){\\n    if(a == 'yes'){\\n      ajax_delEntity.request(json) ;\\n    }else{\\n      return ;\\n    }\\n  }) ;\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seqItem7\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"tbar4AttrGrid\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seq11\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"new_icon\",\"id\":\"btnAddAttr\",\"click\":\"var rows = entityGrid.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择业务实体信息!\\\") ;\\n  return false ;\\n}else{\\n  var entityId = rows[0].data.ENTITY_ID;\\n  a_entity_id.setValue(entityId) ;\\n  \\n  attrOpType.setValue('add');\\n  \\n  // 显示保存并继续按钮\\n  addAndSave.show();\\n  attrWin.setTitle('新增实体属性') ;\\n  attrWin.show();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seq12\"},{\"xwlMeta\":\"menuItem\",\"text\":\"修改\",\"iconCls\":\"edit_icon\",\"id\":\"btnUpdAttr\",\"click\":\"var rows = attrGrid.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  Ext.MessageBox.alert(\\\"提示\\\",\\\"请选择业务实体属性信息！\\\") ;\\n  return false ;\\n}else if(rows.length > 1){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择一条业务实体属性信息！\\\") ;\\n  return false ;\\n}else{\\n\\n  a_attr_id.setValue(rows[0].data.ATTR_ID) ;\\n  a_entity_id.setValue(rows[0].data.ENTITY_ID);\\n  a_attr_code.setValue(rows[0].data.ATTR_CODE);\\n  a_attr_name.setValue(rows[0].data.ATTR_NAME);\\n  a_attr_category.setValue(rows[0].data.ATTR_CATEGORY);\\n  a_attr_dataType.setValue(rows[0].data.ATTR_DATA_TYPE) ;\\n  a_attr_funcType.setValue(rows[0].data.ATTR_FUNC_TYPE);\\n  a_attr_funcName.setValue(rows[0].data.ATTR_FUNC_NAME);\\n  a_attr_desc.setValue(rows[0].data.ATTR_DESC);\\n  \\n  addAndSave.hide();\\n  attrOpType.setValue('update');\\n  attrWin.setTitle('修改实体属性') ;\\n  attrWin.show();\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seq13\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"delete_icon\",\"id\":\"btnDelAttr\",\"click\":\"var rows = attrGrid.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择实体属性信息1\\\");\\n  return false ;\\n}else{\\n  Ext.MessageBox.confirm('提示','确定要删除选中的实体属性吗？',function(a){\\n    if(a == 'yes'){\\n      var idsStr = \\\"\\\" ;\\n      Ext.each(rows,function(r){\\n        var attrId = \\\"'\\\" + r.get('ATTR_ID') + \\\"'\\\";\\n        if(idsStr === \\\"\\\"){\\n          idsStr = attrId ;\\n        }else{\\n          idsStr = idsStr + \\\",\\\" + attrId ;\\n        }\\n      });\\n      var json = {'idsStr':idsStr} ;\\n      // 执行删除\\n      ajax4_delAttr.request(json) ;\\n      \\n    }else{\\n      return ;\\n    }\\n  }) ;  \\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seq14\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"属性名称\",\"id\":\"text4AttrName\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  var rows = entityGrid.getSelectionModel().getSelection(); \\n  if(rows.length > 0){\\n    var _entityId = rows[0].data.ENTITY_ID ;\\n    if(_entityId !== null && _entityId !== \\\"\\\"){\\n      Wb.load(store4EntityAttr,{'entityId':_entityId});\\n    }\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seq15\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"seek_icon\",\"id\":\"btnQueryAttr\",\"click\":\"var rows = entityGrid.getSelectionModel().getSelection(); \\nif(rows.length > 0){\\n  var _entityId = rows[0].data.ENTITY_ID ;\\n  if(_entityId !== null && _entityId !== \\\"\\\"){\\n    Wb.load(store4EntityAttr,{'entityId':_entityId});\\n  }\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seq16\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"tbar4BizGrid\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seq21\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"new_icon\",\"id\":\"btnAddBizStatus\",\"click\":\"var rows = entityGrid.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择业务实体信息！\\\");\\n  return false ;\\n}else{\\n  var entityId = rows[0].data.ENTITY_ID ;\\n  B_ENTITY_ID.setValue(entityId) ;\\n  \\n  addAndSaveBiz.show();\\n  bizOpType.setValue('add') ;\\n  bizWin.setTitle('新增业务状态') ;\\n  bizWin.show();\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"seq22\"},{\"xwlMeta\":\"menuItem\",\"text\":\"修改\",\"iconCls\":\"edit_icon\",\"id\":\"btnUpdBizStatus\",\"click\":\"var rows = bizGrid.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择业务状态信息!\\\");\\n  return false ;\\n}else{\\n  var _entityId = rows[0].data.ENTITY_ID ;\\n  var _enumId = rows[0].data.ENUM_ID ;\\n  var _catagory = rows[0].data.STATUS_CATEGORY ;\\n  var _desc = rows[0].data.STATUS_DESC ;\\n  var _enabled = rows[0].data.ENABLE_FLAG ;\\n  \\n  B_ENTITY_ID.setValue(_entityId) ;\\n  B_ENUM_ID.setValue(_enumId) ;\\n  B_STATUS_CATEGORY.setValue(_catagory) ;\\n  B_STATUS_DESC.setValue(_desc) ;\\n  B_ENABLE_FLAG.setValue(_enabled) ;\\n  \\n  addAndSaveBiz.hide();\\n  bizOpType.setValue('update') ;\\n  bizWin.setTitle('修改业务状态') ;\\n  bizWin.show();\\n}\\n\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"buttons4EntityWin\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveEntity\",\"text\":\"保存\",\"click\":\"var _entityId = e_entityId.getValue();\\nvar _entityCode = e_entityCode.getValue() ;\\nvar _entityName = e_entityName.getValue();\\nif(_entityCode === null || _entityCode === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请录入业务实体编码!\\\") ;\\n  return false ;\\n}\\nif(_entityName === null || _entityName === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请录入业务实体名称!\\\") ;\\n  return false ;\\n}\\n\\nif(_entityId === \\\"\\\" || _entityId === null){\\n  var _entityId = Wb.getUuid();\\n  var json = {'entityId':_entityId} ;\\n  \\n  ajax_addEntity.request(json) ;\\n  \\n}else{\\n  ajax_updateEntity.request();\\n}\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"cancelEntity\",\"text\":\"关闭\",\"click\":\"entityWin.hide();\"}]},{\"xwlMeta\":\"array\",\"id\":\"buttons4AttrWin\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveAttr\",\"text\":\"保存\",\"click\":\"if(a_attr_code.getValue() === null || a_attr_code.getValue() === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择录入实体属性编码\\\");\\n  return false ;\\n}\\nif(a_attr_name.getValue() === null || a_attr_name.getValue() === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择录入实体属性名称\\\");\\n  return false ;\\n}\\n// 执行保存处理\\nvar opType = attrOpType.getValue() ;\\nif(opType === \\\"add\\\"){\\n  var json = {'attrId':Wb.getUuid()} ;\\n  ajax4_addAttr.request(json) ;\\n}else{\\n  ajax4_updAttr.request() ;\\n}\"},{\"xwlMeta\":\"button\",\"id\":\"addAndSave\",\"text\":\"保存并添加下一个\",\"click\":\"if(a_attr_code.getValue() === null || a_attr_code.getValue() === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择录入实体属性编码\\\");\\n  return false ;\\n}\\nif(a_attr_name.getValue() === null || a_attr_name.getValue() === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择录入实体属性名称\\\");\\n  return false ;\\n}\\n\\nvar json = {'attrId':Wb.getUuid()} ;\\n\\najax4_addAddSaveAttr.request(json) ;\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"cancelAttr\",\"text\":\"关闭\",\"click\":\"attrWin.hide();\"}]},{\"xwlMeta\":\"array\",\"id\":\"buttons4BizWin\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveBiz\",\"text\":\"保存\",\"click\":\"var _category = B_STATUS_CATEGORY.getValue() ;\\nvar _desc = B_STATUS_DESC.getValue();\\n\\nif(_category === null || _category === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择业务状态分类码!\\\");\\n  return false ;\\n}\\n\\nif(_desc === null || _desc === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请录入业务状态描述!\\\");\\n  return false ;\\n}\\n\\nvar opType = bizOpType.getValue();\\nif(opType === \\\"add\\\"){\\n  var json = {'enumId':Wb.getUuid()} ;\\n  ajax4_addBiz.request(json);  \\n  \\n}else{\\n  ajax4_UpdBiz.request();\\n}\"},{\"xwlMeta\":\"button\",\"id\":\"addAndSaveBiz\",\"text\":\"保存并添加下一个\",\"click\":\"var _category = B_STATUS_CATEGORY.getValue() ;\\nvar _desc = B_STATUS_DESC.getValue();\\n\\nif(_category === null || _category === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择业务状态分类码!\\\");\\n  return false ;\\n}\\n\\nif(_desc === null || _desc === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请录入业务状态描述!\\\");\\n  return false ;\\n}\\n\\n// 执行保存\\nvar json = {'enumId':Wb.getUuid()} ;\\najax4_addMoreBiz.request(json);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"cancelBiz\",\"text\":\"关闭\",\"click\":\"bizWin.hide();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"entityWin\",\"title\":\"增加实体\",\"height\":\"400\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"550\",\"children\":[{\"xwlMeta\":\"form\",\"bodyPadding\":\"5\",\"id\":\"form1\",\"style\":\"border-width:0px\",\"buttons\":\"buttons4EntityWin\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用ID\",\"id\":\"e_appId\",\"labelWidth\":\"80\",\"width\":\"450\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"disabled\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"实体ID\",\"id\":\"e_entityId\",\"labelWidth\":\"80\",\"width\":\"450\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"disabled\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color=red>*<\\/font>实体编码\",\"id\":\"e_entityCode\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color=red>*<\\/font>实体名称\",\"id\":\"e_entityName\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"实体描述\",\"id\":\"e_entityDesc\",\"labelWidth\":\"80\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4FuncType\",\"forceSelection\":\"true\",\"valueField\":\"CODE\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"函数类型\",\"id\":\"e_cbxFuncType\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"select\":\"var _funcType = e_cbxFuncType.getValue() ;\\nif(_funcType === null || _funcType === \\\"\\\"){\\n  \\te_cbxFuncName.setValue();\\n  \\te_cbxFuncName.disable();\\n}else{\\n  \\te_cbxFuncName.enable();\\n}\\ne_cbxFuncName.setValue();\"},{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"函数名\",\"id\":\"e_cbxFuncName\",\"height\":\"200\",\"labelWidth\":\"80\",\"width\":\"450\",\"labelAlign\":\"right\",\"disabled\":\"true\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"attrWin\",\"title\":\"新增实体属性\",\"height\":\"350\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"550\",\"children\":[{\"xwlMeta\":\"form\",\"bodyPadding\":\"5\",\"id\":\"form2\",\"style\":\"border-width:0px\",\"buttons\":\"buttons4AttrWin\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"属性ID\",\"id\":\"a_attr_id\",\"labelWidth\":\"100\",\"width\":\"450\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"disabled\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"实体ID\",\"id\":\"a_entity_id\",\"labelWidth\":\"100\",\"width\":\"450\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"disabled\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color=red>*<\\/font>属性编码\",\"id\":\"a_attr_code\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color=red>*<\\/font>属性名称\",\"id\":\"a_attr_name\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4Category\",\"value\":\"static\",\"valueField\":\"CODE\",\"allowBlank\":\"false\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"<font color=red>*<\\/font>属性类型\",\"id\":\"a_attr_category\",\"multiSelect\":\"false\",\"displayField\":\"NAME\",\"labelWidth\":\"100\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4DataType\",\"value\":\"1\",\"valueField\":\"CODE\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"数据类型\",\"id\":\"a_attr_dataType\",\"displayField\":\"NAME\",\"labelWidth\":\"100\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4FuncType\",\"forceSelection\":\"true\",\"valueField\":\"CODE\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"函数类型\",\"id\":\"a_attr_funcType\",\"displayField\":\"NAME\",\"labelWidth\":\"100\",\"select\":\"var _funcType = a_attr_funcType.getValue() ;\\na_attr_funcName.setValue();\"},{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"静态值/函数名\",\"id\":\"a_attr_funcName\",\"labelWidth\":\"100\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"属性描述\",\"id\":\"a_attr_desc\",\"height\":\"80\",\"labelWidth\":\"100\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"id\":\"attrOpType\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"bizWin\",\"title\":\"新增业务状态\",\"height\":\"240\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"550\",\"children\":[{\"xwlMeta\":\"form\",\"bodyPadding\":\"5\",\"id\":\"form3\",\"style\":\"border-width:0px\",\"buttons\":\"buttons4BizWin\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"状态ID\",\"id\":\"B_ENUM_ID\",\"labelWidth\":\"100\",\"width\":\"450\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"disabled\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"公司ID\",\"id\":\"B_ENTITY_ID\",\"labelWidth\":\"100\",\"width\":\"450\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"disabled\":\"true\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4StatusType\",\"forceSelection\":\"true\",\"valueField\":\"CODE\",\"allowBlank\":\"false\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"<font color=red>*<\\/font>状态分类码\",\"id\":\"B_STATUS_CATEGORY\",\"displayField\":\"NAME\",\"labelWidth\":\"100\",\"select\":\"B_STATUS_DESC.setValue();\"},{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"<font color=red>*<\\/font>状态描述\",\"id\":\"B_STATUS_DESC\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4Enabled\",\"value\":\"Y\",\"valueField\":\"CODE\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"是否启用\",\"id\":\"B_ENABLE_FLAG\",\"displayField\":\"NAME\",\"labelWidth\":\"100\"},{\"xwlMeta\":\"text\",\"id\":\"bizOpType\",\"hidden\":\"true\"}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"entityPanel\",\"height\":\"250\",\"layout\":\"fit\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store4EntityGrid\",\"columns\":\"colArray4EntityGrid\",\"exportExcel\":\"false\",\"border\":\"false\",\"id\":\"entityGrid\",\"tbar\":\"tbar4EntityGrid\",\"multiSelect\":\"false\",\"autoLoad\":\"false\",\"simpleSelect\":\"false\",\"exportPrint\":\"false\",\"selType\":\"rowmodel\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\",\"itemclick\":\"var _entityId = record.data.ENTITY_ID ;\\n\\nWb.load(store4EntityAttr,{'entityId':_entityId});\\nWb.load(store4BizStatus,{'entityId':_entityId}) ;\",\"itemdblclick\":\"  /*\\n  var _appId =record.data.APP_ID ;\\n  var _entityId = record.data.ENTITY_ID ;\\n  var _entityCode = record.data.ENTITY_CODE ;\\n  var _entityName = record.data.ENTITY_NAME ;\\n  var _entityDesc = record.data.ENTITY_DESC ;\\n  var _funcType = record.data.FUNC_TYPE ;\\n  var _funcName = record.data.FUNC_NAME ;\\n  \\n  e_appId.setValue(_appId) ;\\n  e_entityId.setValue(_entityId) ;\\n  e_entityCode.setValue(_entityCode) ;\\n  e_entityName.setValue(_entityName) ;\\n  e_entityDesc.setValue(_entityDesc);\\n  e_cbxFuncType.setValue(_funcType);\\n  e_cbxFuncName.setValue(_funcName);\\n \\n  e_entityCode.disable();\\n  entityWin.setTitle('修改实体');\\n\\n  entityWin.show();\\n  */\\nbtnUpdateEntity.fireEvent('click') ;\"}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"tabPanel1\",\"border\":\"false\",\"activeTab\":\"attrPanel\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"attrPanel\",\"title\":\"实体属性信息\",\"layout\":\"fit\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store4EntityAttr\",\"columns\":\"colArray4EntityAttr\",\"exportExcel\":\"false\",\"border\":\"false\",\"id\":\"attrGrid\",\"tbar\":\"tbar4AttrGrid\",\"multiSelect\":\"true\",\"autoLoad\":\"false\",\"simpleSelect\":\"false\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\",\"itemdblclick\":\"/*\\na_attr_id.setValue(record.data.ATTR_ID) ;\\na_entity_id.setValue(record.data.ENTITY_ID);\\na_attr_code.setValue(record.data.ATTR_CODE);\\na_attr_name.setValue(record.data.ATTR_NAME);\\na_attr_category.setValue(record.data.ATTR_CATEGORY);\\na_attr_funcType.setValue(record.data.ATTR_FUNC_TYPE);\\na_attr_funcName.setValue(record.data.ATTR_FUNC_NAME);\\na_attr_desc.setValue(record.data.ATTR_DESC);\\n\\naddAndSave.hide();\\nattrWin.setTitle('修改实体属性') ;\\nattrWin.show();\\n*/\\nbtnUpdAttr.fireEvent('click') ;\"}]},{\"xwlMeta\":\"panel\",\"id\":\"bizPanel\",\"title\":\"业务状态信息\",\"layout\":\"fit\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store4BizStatus\",\"columns\":\"colArray4BizStatus\",\"exportExcel\":\"false\",\"border\":\"false\",\"id\":\"bizGrid\",\"tbar\":\"tbar4BizGrid\",\"multiSelect\":\"false\",\"autoLoad\":\"false\",\"simpleSelect\":\"false\",\"exportPrint\":\"false\",\"selType\":\"rowmodel\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\",\"itemdblclick\":\"var rows = bizGrid.getSelectionModel().getSelection();\\n\\nvar _entityId = rows[0].data.ENTITY_ID ;\\nvar _enumId = rows[0].data.ENUM_ID ;\\nvar _catagory = rows[0].data.STATUS_CATEGORY ;\\nvar _desc = rows[0].data.STATUS_DESC ;\\nvar _enabled = rows[0].data.ENABLE_FLAG ;\\n\\nB_ENTITY_ID.setValue(_entityId) ;\\nB_ENUM_ID.setValue(_enumId) ;\\nB_STATUS_CATEGORY.setValue(_catagory) ;\\nB_STATUS_DESC.setValue(_desc) ;\\nB_ENABLE_FLAG.setValue(_enabled) ;\\n\\naddAndSaveBiz.hide();\\nbizWin.setTitle('修改业务状态') ;\\nbizWin.show();\"}]}]}]}]}","实体管理",null,0,0,"admin","2015-01-22 15:02:00.0","23XQ4UO678F8","2015-10-16 15:21:43.0",1],["23W090GMALLT","23W08Z41OPLV",null,"Entity Sub",null,1,0,"admin","2015-01-22 15:02:40.0","23XSWLY0BYLW","2015-08-25 10:30:15.0",2],["23W090GMALLU","23W090GMALLT","{\"id\":\"module\",\"title\":\"Get Entities\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT APP_ID,\\n       ENTITY_ID,\\n       ENTITY_CODE,\\n       ENTITY_NAME,\\n       ENTITY_DESC,\\n       ATTRIBUTE1  FUNC_TYPE,\\n       ATTRIBUTE2  FUNC_NAME,\\n       ATTRIBUTE3  BIZ_TABLE,\\n       ATTRIBUTE4  BIZ_ID\\n  FROM XIP_WF_ENTITIES T\\n WHERE T.APP_ID = {?cbx4App?}\\n   AND T.ENTITY_NAME like '%{#text4EntityName#}%'\\n\\tAND t.attribute5 = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Get Entities",null,0,0,"admin","2015-01-22 15:02:53.0","admin","2015-03-26 17:33:29.0",2],["23W090GMALLW","23W08Z41OPLW","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"节点执行人授权\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"cssFiles\":\"[\\\"common/css/default.css\\\"]\",\"finalize\":\"//添加选中项\\nfunction addItems(items, type){\\n  if(type=='act'){\\n    var addArray = new Array();\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectActStore_auth.find('ACT_ID',item.get('ACT_ID'));\\n      if(index==-1){\\n        addArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<addArray.length; j++){\\n      selectActStore_auth.add(addArray[j]);\\n    }\\n  }else if(type=='user'){\\n    var addArray = new Array();\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectUserStore.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        addArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<addArray.length; j++){\\n      selectUserStore.add(addArray[j]);\\n    }\\n  }else if(type=='post'){\\n    var addArray = new Array();\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectPostStore.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        addArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<addArray.length; j++){\\n      selectPostStore.add(addArray[j]);\\n    }\\n  }else if(type=='dept'){\\n    var addArray = new Array();\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectDeptStore.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        addArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<addArray.length; j++){\\n      selectDeptStore.add(addArray[j]);\\n    }\\n  }\\n}\\n\\t\\n//删除选中项\\nfunction removeItems(items, type){\\n  if(type=='act'){\\n    for(var i=0; i<items.length; i++){\\n      selectActStore_auth.remove(items[i]);\\n    }\\n  }else if(type=='user'){\\n    for(var i=0; i<items.length; i++){\\n      selectUserStore.remove(items[i]);\\n    }\\n  }else if(type=='post'){\\n    for(var i=0; i<items.length; i++){\\n      selectPostStore.remove(items[i]);\\n    }\\n  }else if(type=='dept'){\\n    for(var i=0; i<items.length; i++){\\n      selectDeptStore.remove(items[i]);\\n    }\\n  }\\n  \\n}\\n\\nvar addArray_edit = new Array();\\nvar deleteArray_edit = new Array();\\n\\n//添加时对addArray和deleteArray的操作。\\nfunction itemsAddWithArrayOperator(items){\\n  for(var i=0; i<items.length; i++){\\n    //addArray不包含则添加\\n    var add_flag = true;\\n    for(var j=0; j<addArray_edit.length; j++){\\n      if(addArray_edit[j].get('PRI_ID')==items[i].get('PRI_ID')){\\n        add_flag = false;\\n        break;\\n      }\\n    }\\n    if(add_flag==true){\\n      addArray_edit.push(items[i]);\\n    }\\n    //deleteArray包含则删除\\n    for(var k=0; k<deleteArray_edit.length; k++){\\n      if(deleteArray_edit[k].get('PRI_ID')==items[i].get('PRI_ID')){\\n        deleteArray_edit.splice(k,1);\\n      }\\n    }\\n  }\\n}\\n\\n//删除时对addArray和deleteArray的操作。\\nfunction itemsRemoveWithArrayOperator(items){\\n  for(var i=0; i<items.length; i++){\\n    //addArray包含则删除\\n    for(var j=0; j<addArray_edit.length; j++){\\n      if(addArray_edit[j].get('PRI_ID')==items[i].get('PRI_ID')){\\n        addArray_edit.splice(j,1);\\n      }\\n    }\\n    //deleteArray不包含则添加\\n    var del_flag = true;\\n    for(var k=0; k<deleteArray_edit.length; k++){\\n      if(deleteArray_edit[k].get('PRI_ID')==items[i].get('PRI_ID')){\\n        del_flag = false;\\n        break;\\n      }\\n    }\\n    if(del_flag==true){\\n      deleteArray_edit.push(items[i]);\\n    }\\n  }\\n}\\n\\n//点击>>或者双击行时触发\\nfunction addItems_edit(items, type){\\n  var tempArray = new Array();\\n  \\n  if(type=='user'){\\n    // 根据id判断，去除重复的item\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectUserStore_edit.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        tempArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<tempArray.length; j++){\\n      selectUserStore_edit.add(tempArray[j]);\\n    }\\n  }else if(type=='post'){\\n    // 根据id判断，去除重复的item\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectPostStore_edit.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        tempArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<tempArray.length; j++){\\n      selectPostStore_edit.add(tempArray[j]);\\n    }\\n  }else if(type=='dept'){\\n    // 根据id判断，去除重复的item\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectDeptStore_edit.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        tempArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<tempArray.length; j++){\\n      selectDeptStore_edit.add(tempArray[j]);\\n    }\\n  }\\n  \\n  itemsAddWithArrayOperator(tempArray);\\n}\\n\\n//点击<<或者双击行时触发\\nfunction removeItems_edit(items, type){\\n  if(type=='user'){\\n    for(var i=0; i<items.length; i++){\\n      selectUserStore_edit.remove(items[i]);\\n    }\\n  }else if(type=='post'){\\n    for(var i=0; i<items.length; i++){\\n      selectPostStore_edit.remove(items[i]);\\n    }\\n  }else if(type=='dept'){\\n    for(var i=0; i<items.length; i++){\\n      selectDeptStore_edit.remove(items[i]);\\n    }\\n  }\\n  \\n  itemsRemoveWithArrayOperator(items);\\n}\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WM7NSY5BPB (deleteAuth)\",\"id\":\"deleteExecutorAuth\",\"failure\":\"Ext.Msg.alert('提示','删除失败!');\",\"success\":\"Ext.Msg.alert('提示','删除成功!');\\nWb.load(executorAuthStore);\\nWb.load(executorStore) ;\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"appStore_queryForm\",\"url\":\"#23WM7NSY59GC (getApps_queryForm)\"},{\"xwlMeta\":\"store\",\"id\":\"entityStore_queryForm\",\"url\":\"#23WM7NSY59IX (getEntitys_QueryForm)\"},{\"xwlMeta\":\"store\",\"id\":\"actStore\",\"url\":\"#23WM7NSY59OJ (getActs)\",\"output\":\"queryForm\",\"beforeload\":\"var whereSql = '';\\nif(!Ext.isEmpty(appCombox.getValue())){\\n  whereSql = whereSql+' and a.app_id = \\\\''+appCombox.getValue()+'\\\\'';\\n}\\nif(!Ext.isEmpty(entityCombox.getValue())){\\n  whereSql = whereSql+' and e.entity_id = \\\\''+entityCombox.getValue()+'\\\\'';\\n}\\n\\nif(whereSql !== ''){\\n  actStore.getProxy().extraParams.whereSql= whereSql;\\n}else{\\n  actStore.getProxy().extraParams.whereSql= ' and 1=1'; \\n}\\n\"},{\"xwlMeta\":\"store\",\"id\":\"executorAuthStore\",\"url\":\"#23WM7NSY5AJF (getExecutorAuths)\"},{\"xwlMeta\":\"store\",\"id\":\"executorStore\",\"url\":\"#23WM7NSY5AMP (getExecutors)\"},{\"xwlMeta\":\"store\",\"id\":\"appStore_auth\",\"url\":\"#23WM7NSY59GC (getApps_queryForm)\"},{\"xwlMeta\":\"store\",\"id\":\"entityStore_auth\",\"url\":\"#23WM7NSY59IX (getEntitys_QueryForm)\"},{\"xwlMeta\":\"store\",\"id\":\"actStore_auth\",\"url\":\"#23WM7NSY5FOR (getActs_auth)\",\"output\":\"queryForm_auth\",\"beforeload\":\"var whereSql = '';\\nif(!Ext.isEmpty(appCombox_auth.getValue())){\\n  whereSql = whereSql+' and a.app_id = \\\\''+appCombox_auth.getValue()+'\\\\'';\\n}\\nif(!Ext.isEmpty(entityCombox_auth.getValue())){\\n  whereSql = whereSql+' and e.entity_id = \\\\''+entityCombox_auth.getValue()+'\\\\'';\\n}\\n\\nif(whereSql !== ''){\\n  actStore_auth.getProxy().extraParams.whereSql= whereSql;\\n}else{\\n  actStore_auth.getProxy().extraParams.whereSql= ' and 1=1'; \\n}\\n\"},{\"xwlMeta\":\"store\",\"id\":\"selectActStore_auth\",\"url\":\"#23WM7NSY59OJ (getActs)\",\"output\":\"queryForm_auth\"},{\"xwlMeta\":\"store\",\"id\":\"userStore\",\"url\":\"#23WM7NSY5DU8 (getUsers)\",\"output\":\"queryUserName,queryUserNameUpper\"},{\"xwlMeta\":\"store\",\"id\":\"postStore\",\"url\":\"#23WM7NSY5DUE (getPosts)\",\"output\":\"queryPostName\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore\",\"url\":\"#23WM7NSY5DUJ (getDepts)\",\"output\":\"queryDeptName\"},{\"xwlMeta\":\"store\",\"id\":\"selectUserStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23WM7NSY5DU8 (getUsers)\"},{\"xwlMeta\":\"store\",\"id\":\"selectPostStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23WM7NSY5DUE (getPosts)\"},{\"xwlMeta\":\"store\",\"id\":\"selectDeptStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23WM7NSY5DUJ (getDepts)\"},{\"xwlMeta\":\"store\",\"id\":\"userStore_edit\",\"url\":\"#23WN5GM09PKZ (getUsers_edit)\"},{\"xwlMeta\":\"store\",\"id\":\"postStore_edit\",\"url\":\"#23WN5GM09PLH (getPosts_edit)\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore_edit\",\"url\":\"#23WN5GM09PLQ (getDepts_edit)\"},{\"xwlMeta\":\"store\",\"id\":\"selectUserStore_edit\",\"autoLoad\":\"false\",\"url\":\"#23WN5GM09MHC (getAuthUsers)\"},{\"xwlMeta\":\"store\",\"id\":\"selectPostStore_edit\",\"autoLoad\":\"false\",\"url\":\"#23WN5GM09MHN (getAuthPosts)\"},{\"xwlMeta\":\"store\",\"id\":\"selectDeptStore_edit\",\"autoLoad\":\"false\",\"url\":\"#23WN5GM09MHU (getAuthDepts)\"},{\"xwlMeta\":\"store\",\"id\":\"actInfoStore\",\"url\":\"#23WN5GM09NKY (getActById)\",\"load\":\"if(actInfoStore.getAt(0)) {\\n  var record = actInfoStore.getAt(0);\\n  authActInfoForm.loadRecord(record);\\n}\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"actGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME\",\"text\":\"应用名\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_NAME\",\"id\":\"ENTITY_NAME\",\"text\":\"实体名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_NAME\",\"id\":\"PROCESS_NAME\",\"text\":\"流程名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_NAME\",\"id\":\"ACT_NAME\",\"text\":\"节点名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ACT_CATEGORY_NAME\",\"id\":\"ACT_CATEGORY_NAME\",\"text\":\"节点类型\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CATEGORY\",\"id\":\"ACT_CATEGORY\",\"text\":\"节点类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_ID\",\"id\":\"PROCESS_ID\",\"text\":\"流程id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_ID\",\"id\":\"ACT_ID\",\"text\":\"节点id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CODE\",\"id\":\"ACT_CODE\",\"text\":\"节点编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"executorAuthGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_executorAuthGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTOR_TYPE_VIEW\",\"id\":\"EXECUTOR_TYPE_VIEW_executorAuthGrid\",\"text\":\"执行人类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTOR_VALUE_VIEW\",\"id\":\"EXECUTOR_VALUE_VIEW_executorAuthGrid\",\"text\":\"执行人\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTOR_TYPE\",\"id\":\"EXECUTOR_TYPE_executorAuthGrid\",\"text\":\"执行人类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTOR_VALUE\",\"id\":\"EXECUTOR_VALUE_executorAuthGrid\",\"text\":\"执行人\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VALUE_ID\",\"id\":\"VALUE_ID_executorAuthGrid\",\"text\":\"VALUE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_ID\",\"id\":\"ACT_ID_executorAuthGrid\",\"text\":\"ACT_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROPERTY_CODE\",\"id\":\"PROPERTY_CODE_executorAuthGrid\",\"text\":\"属性编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"executorGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM2_executorGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"EMP_CODE_executorGrid\",\"text\":\"用户编码\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_executorGrid\",\"text\":\"用户\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"AUTH_TYPE\",\"id\":\"AUTH_TYPE_executorGrid\",\"text\":\"授权类型\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_NAME\",\"id\":\"POST_NAME_executorGrid\",\"text\":\"岗位\",\"width\":\"220\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_executorGrid\",\"text\":\"部门\",\"width\":\"220\"}]},{\"xwlMeta\":\"array\",\"id\":\"authAllActGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_authAllActGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME_authAllActGrid\",\"text\":\"应用名\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_NAME\",\"id\":\"ENTITY_NAME_authAllActGrid\",\"text\":\"实体名\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_NAME\",\"id\":\"PROCESS_NAME_authAllActGrid\",\"text\":\"流程名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_NAME\",\"id\":\"ACT_NAME_authAllActGrid\",\"text\":\"节点名\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ACT_CATEGORY_NAME\",\"id\":\"ACT_CATEGORY_NAME_authAllActGrid\",\"text\":\"节点类型\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CATEGORY\",\"id\":\"ACT_CATEGORY_authAllActGrid\",\"text\":\"节点类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_ID\",\"id\":\"PROCESS_ID_authAllActGrid\",\"text\":\"流程id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_ID\",\"id\":\"ACT_ID_authAllActGrid\",\"text\":\"节点id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CODE\",\"id\":\"ACT_CODE_authAllActGrid\",\"text\":\"节点编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"authSelectActGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_authSelectActGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME_authSelectActGrid\",\"text\":\"应用名\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_NAME\",\"id\":\"ENTITY_NAME_authSelectActGrid\",\"text\":\"实体名\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_NAME\",\"id\":\"PROCESS_NAME_authSelectActGrid\",\"text\":\"流程名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_NAME\",\"id\":\"ACT_NAME_authSelectActGrid\",\"text\":\"节点名\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ACT_CATEGORY_NAME\",\"id\":\"ACT_CATEGORY_NAME_authSelectActGrid\",\"text\":\"节点类型\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CATEGORY\",\"id\":\"ACT_CATEGORY_authSelectActGrid\",\"text\":\"节点类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_ID\",\"id\":\"PROCESS_ID_authSelectActGrid\",\"text\":\"流程id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_ID\",\"id\":\"ACT_ID_authSelectActGrid\",\"text\":\"节点id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CODE\",\"id\":\"ACT_CODE_authSelectActGrid\",\"text\":\"节点编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allUserColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allUserGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allUserGrid\",\"text\":\"用户名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_allUserGrid\",\"text\":\"员工姓名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allUserGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allUserGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allUserGrid\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectUserColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_selectUserGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_selectUserGrid\",\"text\":\"用户名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_selectUserGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_selectUserGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_selectUserGrid\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allPostColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allPostGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allPostGrid\",\"text\":\"岗位名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_allPostGrid\",\"text\":\"部门名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_allPostGrid\",\"text\":\"组织名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allPostGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allPostGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allPostGrid\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectPostColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_selectPostGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_selectPostGrid\",\"text\":\"岗位名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_selectPostGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_selectPostGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_selectPostGrid\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allDeptColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allDeptGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allDeptGrid\",\"text\":\"部门名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_allDeptGrid\",\"text\":\"组织名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allDeptGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allDeptGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allDeptGrid\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectDeptColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_selectDeptGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_selectDeptGrid\",\"text\":\"部门名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_selectDeptGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_selectDeptGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_selectDeptGrid\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allUserColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allUserGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allUserGrid_edit\",\"text\":\"用户名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allUserGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allUserGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allUserGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectUserColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_selectUserGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_selectUserGrid_edit\",\"text\":\"用户名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_selectUserGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_selectUserGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_selectUserGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allPostColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allPostGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allPostGrid_edit\",\"text\":\"岗位名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allPostGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allPostGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allPostGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectPostColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_selectPostGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_selectPostGrid_edit\",\"text\":\"岗位名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_selectPostGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_selectPostGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_selectPostGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allDeptColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allDeptGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allDeptGrid_edit\",\"text\":\"部门名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allDeptGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allDeptGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allDeptGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectDeptColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_selectDeptGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_selectDeptGrid_edit\",\"text\":\"部门名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_selectDeptGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_selectDeptGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_selectDeptGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"tbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"actGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-auth\",\"id\":\"addAuth\",\"text\":\"新增授权\",\"click\":\"authWin.show();\\nactStore_auth.load();\\nuserStore.load();\\npostStore.load();\\ndeptStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-auth\",\"id\":\"editAuth\",\"text\":\"修改授权\",\"click\":\"var rows = actGrid.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n  return false;\\n}else if(rows.length > 1){\\n  Ext.Msg.alert('提示','请选择一条操作的记录!');\\n  return false; \\n}\\nauthEditWin.show();\\n\\nvar actId = rows[0].data.ACT_ID;\\n    \\nselectUserStore_edit.getProxy().extraParams.actId = actId;\\nselectPostStore_edit.getProxy().extraParams.actId = actId;\\nselectDeptStore_edit.getProxy().extraParams.actId = actId;\\n\\nWb.load(userStore_edit);\\nWb.load(postStore_edit); \\nWb.load(deptStore_edit); \\n\\nWb.load(selectUserStore_edit);\\nWb.load(selectPostStore_edit); \\nWb.load(selectDeptStore_edit); \\n\\nactInfoStore.load({params:{actId:actId}});\\n\\naddArray_edit = new Array();\\ndeleteArray_edit = new Array();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"executorAuthGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-unauth\",\"id\":\"delAuth\",\"text\":\"删除授权\",\"click\":\"var rows = executorAuthGrid.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择删除的记录!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的记录吗？',function(a){\\n    if(a=='yes'){\\n      \\n      var ids = \\\"\\\";\\n      Ext.each(rows,function(item){\\n        var id = \\\"'\\\"+item.data.VALUE_ID+\\\"'\\\";\\n        if(ids === \\\"\\\"){\\n            ids = id ;\\n          }else{\\n            ids = ids+\\\",\\\"+id;\\n          }\\n\\n      });  \\n      \\n      deleteExecutorAuth.request({ids:ids});\\n      \\n      Ext.MessageBox.alert('提示', '删除成功！');\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"userGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem6\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"queryUserName\",\"labelWidth\":\"50\",\"width\":\"150\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_user_query.fireEvent('click');\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"queryUserNameUpper\",\"labelWidth\":\"50\",\"width\":\"150\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_user_query.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"id\":\"btn_user_query\",\"text\":\"查询\",\"click\":\"queryUserNameUpper.setValue(queryUserName.getValue().toUpperCase());\\nuserStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem7\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"postGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem8\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"岗位名\",\"id\":\"queryPostName\",\"labelWidth\":\"50\",\"width\":\"150\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_post_query.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"id\":\"btn_post_query\",\"text\":\"查询\",\"click\":\"postStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem9\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"deptGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem10\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门名\",\"id\":\"queryDeptName\",\"labelWidth\":\"50\",\"width\":\"150\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_dept_query.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"id\":\"btn_dept_query\",\"text\":\"查询\",\"click\":\"deptStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem11\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"userGridToolbar_edit\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem61\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"queryUserName_edit\",\"labelWidth\":\"50\",\"width\":\"150\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"id\":\"btn_user_query_edit\",\"text\":\"查询\",\"click\":\"userStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem71\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"postGridToolbar_edit\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem81\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"岗位名\",\"id\":\"queryPostName_edit\",\"labelWidth\":\"50\",\"width\":\"150\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"id\":\"btn_post_query_edit\",\"text\":\"查询\",\"click\":\"postStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem91\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"deptGridToolbar_edit\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem101\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门名\",\"id\":\"queryDeptName_edit\",\"labelWidth\":\"50\",\"width\":\"150\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"id\":\"btn_dept_query_edit\",\"text\":\"查询\",\"click\":\"deptStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem111\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"authWinArray\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_auth\",\"text\":\"授权\",\"hidden\":\"true\",\"click\":\"if(selectActStore_auth.getCount()==0){\\n  Ext.Msg.alert('提示','请选择进行授权的节点!');\\n  return;\\n};\\n\\nvar activeTabId = authTabPanel.getActiveTab().getId();\\nvar confimMsg = '';\\n\\nif(activeTabId=='userPanel'){\\n  confimMsg = '您确认要对节点进行用户授权?';\\n  if(selectUserStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择用户!');\\n    return;\\n  }\\n}else if(activeTabId=='postPanel'){\\n  confimMsg = '您确认要对节点进行岗位授权?';\\n  if(selectPostStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择岗位!');\\n    return;\\n  }\\n}else if(activeTabId=='deptPanel'){\\n  confimMsg = '您确认要对节点进行部门授权?';\\n  if(selectDeptStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择部门!');\\n    return;\\n  }\\n}\\n\\nExt.MessageBox.confirm('提示',confimMsg,function(item){\\n  if(item==='yes'){ \\n    var actArray = new Array();\\n    selectActStore_auth.each(function(record){\\n      actArray.push(record.data);\\n    });\\n\\n    var priArray = new Array();\\n    if(activeTabId=='userPanel'){\\n      selectUserStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }else if(activeTabId=='postPanel'){\\n      selectPostStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }else if(activeTabId=='deptPanel'){\\n      selectDeptStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }   \\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : actArray,\\n      \\\"authorizeBottomObject\\\" : priArray\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=authorize',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','授权成功!');\\n        //parent.Ext.getCmp('editAuthWin').close();\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });     \\n  }\\n});\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btn_all_auth\",\"text\":\"授权\",\"click\":\"if(selectActStore_auth.getCount()==0){\\n  Ext.Msg.alert('提示','请选择进行授权的节点!');\\n  return;\\n};\\n\\nif(selectUserStore.getCount()==0 && selectPostStore.getCount()==0 && selectDeptStore.getCount()==0){\\n  Ext.Msg.alert('提示','请选择用户,岗位,部门!');\\n  return;\\n}\\n\\nExt.MessageBox.confirm('提示','确定对用户,岗位,部门进行授权?',function(item){\\n  if(item==='yes'){ \\n    var actArray = new Array();\\n    selectActStore_auth.each(function(record){\\n      actArray.push(record.data);\\n    });\\n\\n    var priArray = new Array();\\n    selectUserStore.each(function(record){\\n      priArray.push(record.data);\\n    });\\n    selectPostStore.each(function(record){\\n      priArray.push(record.data);\\n    });\\n    selectDeptStore.each(function(record){\\n      priArray.push(record.data);\\n    });\\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : actArray,\\n      \\\"authorizeBottomObject\\\" : priArray\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=authorize',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','授权成功!');\\n        //parent.Ext.getCmp('editAuthWin').close();\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });     \\n  }\\n});\"},{\"xwlMeta\":\"button\",\"id\":\"btn_unauth\",\"text\":\"取消授权\",\"hidden\":\"true\",\"click\":\"if(selectActStore_auth.getCount()===0){\\n  Ext.Msg.alert('提示','请选择取消授权的节点!');\\n  return;\\n}\\n\\nvar activeTabId = authTabPanel.getActiveTab().getId();\\nvar confimMsg = '';\\n\\nif(activeTabId=='userPanel'){\\n  confimMsg = '您确认要对节点取消用户授权?';\\n  if(selectUserStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择用户!');\\n    return;\\n  }\\n}else if(activeTabId=='postPanel'){\\n  confimMsg = '您确认要对节点取消岗位授权?';\\n  if(selectPostStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择岗位!');\\n    return;\\n  }\\n}else if(activeTabId=='deptPanel'){\\n  confimMsg = '您确认要对节点取消部门授权?';\\n  if(selectDeptStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择部门!');\\n    return;\\n  }\\n}\\n\\nExt.MessageBox.confirm('提示',confimMsg,function(item){\\n  if(item==='yes'){ \\n    var actArray = new Array();\\n    selectActStore_auth.each(function(record){\\n      actArray.push(record.data);\\n    });\\n\\n    var priArray = new Array();\\n    if(activeTabId=='userPanel'){\\n      selectUserStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }else if(activeTabId=='postPanel'){\\n      selectPostStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }else if(activeTabId=='deptPanel'){\\n      selectDeptStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }   \\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : actArray,\\n      \\\"authorizeBottomObject\\\" : priArray\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=cancel',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','取消授权成功!');\\n        //parent.Ext.getCmp('editAuthWin').close();\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });     \\n  }\\n});\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btn_all_unauth\",\"text\":\"取消授权\",\"click\":\"if(selectActStore_auth.getCount()===0){\\n  Ext.Msg.alert('提示','请选择要取消授权的节点!');\\n  return;\\n}\\nif(selectUserStore.getCount()===0 && selectPostStore.getCount()===0 && selectDeptStore.getCount()===0){\\n  Ext.Msg.alert('提示','请选择用户,岗位,部门!');\\n  return;\\n}\\n\\nExt.MessageBox.confirm('提示','确定对用户,岗位,部门取消授权?',function(item){\\n  if(item==='yes'){ \\n    var actArray = new Array();\\n    selectActStore_auth.each(function(record){\\n      actArray.push(record.data);\\n    });\\n\\n    var priArray = new Array();\\n    selectUserStore.each(function(record){\\n      priArray.push(record.data);\\n    });\\n    selectPostStore.each(function(record){\\n      priArray.push(record.data);\\n    });\\n    selectDeptStore.each(function(record){\\n      priArray.push(record.data);\\n    });\\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : actArray,\\n      \\\"authorizeBottomObject\\\" : priArray\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=cancel',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','取消授权成功!');\\n        //parent.Ext.getCmp('editAuthWin').close();\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });     \\n  }\\n});\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btn_cancel\",\"text\":\"关闭\",\"click\":\"authWin.hide();\"}]},{\"xwlMeta\":\"array\",\"id\":\"authEditWinArray\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_edit_auth\",\"text\":\"修改授权\",\"hidden\":\"true\",\"click\":\"var tempAddArray = new Array();\\nvar tempDeleteArray = new Array();\\n\\nfor(var i=0; i<addArray.length; i++){\\n  tempAddArray.push(addArray[i].data);\\n}\\nfor(var i=0; i<deleteArray.length; i++){\\n  tempDeleteArray.push(deleteArray[i].data);\\n}\\n\\nvar json = {\\n  \\\"authorizeTopObject\\\" : tempAddArray,\\n  \\\"authorizeBottomObject\\\" : tempDeleteArray,\\n  \\\"actId\\\":actId\\n};\\n\\nvar jsonData = Ext.util.JSON.encode(json);\\nvar progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\nExt.Ajax.request({\\n  url: contextPath+\\\"/actExecutorsAuthorizeAction.do?method=edit\\\",\\n  method:'POST',\\n  sync:'',\\n  //scope:this,\\n  //headers:{'Content-Type':'application/json'},\\n  jsonData:json,\\n  success: function(res, opts){\\n    progressBar.hide();\\n    Ext.Msg.alert('','修改成功!');\\n  },\\n  failure: function(res, opts){\\n    progressBar.hide();\\n    var respText = Ext.util.JSON.decode(res.responseText);\\n    Ext.Msg.alert('',respText.msg);\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"id\":\"btn_edit_all_auth\",\"text\":\"修改授权\",\"click\":\"if(addArray_edit.length==0 && deleteArray_edit.length==0){\\n  Ext.Msg.alert('提示','没有修改的授权信息!');\\n  return;\\n}\\n\\nExt.MessageBox.confirm('提示','确定对用户,岗位,部门修改授权?',function(item){\\n  if(item==='yes'){ \\n    var tempAddArray = new Array();\\n    var tempDeleteArray = new Array();\\n\\n    for(var i=0; i<addArray_edit.length; i++){\\n      tempAddArray.push(addArray_edit[i].data);\\n    }\\n    for(var i=0; i<deleteArray_edit.length; i++){\\n      tempDeleteArray.push(deleteArray_edit[i].data);\\n    }\\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : tempAddArray,\\n      \\\"authorizeBottomObject\\\" : tempDeleteArray,\\n      \\\"actId\\\":Ext.getCmp('ACT_ID_INFO').getValue()\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=edit',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','修改成功!');\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"id\":\"btn_edit_cancel\",\"text\":\"关闭\",\"click\":\"authEditWin.hide();\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"authWin\",\"title\":\"新增授权\",\"height\":\"260\",\"layout\":\"border\",\"dialog\":\"false\",\"width\":\"380\",\"buttons\":\"authWinArray\",\"maximized\":\"true\",\"minimizable\":\"false\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"hide\":\"actStore.load();\\nWb.load(executorAuthStore);\\nWb.load(executorStore);\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"authActPanel\",\"height\":\"'50%'\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel5\",\"height\":\"33\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm_auth\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"appStore_auth\",\"valueField\":\"ID\",\"width\":\"180\",\"labelAlign\":\"right\",\"fieldLabel\":\"应用\",\"id\":\"appCombox_auth\",\"displayField\":\"NAME\",\"labelWidth\":\"60\",\"select\":\"entityCombox_auth.clearValue();\\nentityStore_auth.getProxy().extraParams.appId = appCombox_auth.getValue();\\nactStore_auth.load();\"},{\"xwlMeta\":\"comboBox\",\"store\":\"entityStore_auth\",\"valueField\":\"ID\",\"width\":\"200\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务实体\",\"id\":\"entityCombox_auth\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"select\":\"actStore_auth.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"流程名\",\"id\":\"processName_auth\",\"labelWidth\":\"70\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tactStore_auth.load();\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点名\",\"id\":\"actName_auth\",\"labelWidth\":\"70\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tactStore_auth.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn_auth\",\"text\":\"查询\",\"click\":\"actStore_auth.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"resetBtn_auth\",\"text\":\"重置\",\"click\":\"Wb.reset(queryForm_auth);\\nactStore_auth.load();\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"authAllActPanel\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"actStore_auth\",\"columns\":\"authAllActGridColumns\",\"id\":\"authAllActGrid\",\"multiSelect\":\"true\",\"title\":\"全部节点\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel2\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel1\",\"height\":\"'33%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel3\",\"height\":\"'33%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_act_select\",\"text\":\">>\",\"click\":\"var items = authAllActGrid.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择节点!');\\n  return;\\n}\\n\\naddItems(items, 'act');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel4\",\"height\":\"'33%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_act_unselect\",\"text\":\"<<\",\"click\":\"var items = authSelectActGrid.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择节点!');\\n  return;\\n}\\n\\nremoveItems(items, 'act');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"authSelectActPanel\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectActStore_auth\",\"columns\":\"authSelectActGridColumns\",\"pagingToolbar\":\"false\",\"id\":\"authSelectActGrid\",\"multiSelect\":\"true\",\"title\":\"已选节点\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"authTabPanel\",\"height\":\"'50%'\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"userPanel\",\"title\":\"用 户\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"allUserPanel\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"userStore\",\"columns\":\"allUserColumns\",\"id\":\"allUserGrid\",\"tbar\":\"userGridToolbar\",\"multiSelect\":\"true\",\"title\":\"全部用户\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel21\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel11\",\"height\":\"'30%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel31\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_user_select\",\"text\":\">>\",\"click\":\"var items = allUserGrid.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择用户!');\\n  return;\\n}\\n\\naddItems(items, 'user');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel41\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_user_unselect\",\"text\":\"<<\",\"click\":\"var items = selectUserGrid.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择用户!');\\n  return;\\n}\\n\\nremoveItems(items, 'user');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"selectUserPanel\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectUserStore\",\"columns\":\"selectUserColumns\",\"pagingToolbar\":\"false\",\"id\":\"selectUserGrid\",\"multiSelect\":\"true\",\"title\":\"已选用户\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"panel\",\"id\":\"postPanel\",\"title\":\"岗 位\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"allPostPanel\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"postStore\",\"columns\":\"allPostColumns\",\"id\":\"allPostGrid\",\"tbar\":\"postGridToolbar\",\"multiSelect\":\"true\",\"title\":\"全部岗位\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel211\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel111\",\"height\":\"'30%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel311\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_post_select\",\"text\":\">>\",\"click\":\"var items = allPostGrid.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择岗位!');\\n  return;\\n}\\n\\naddItems(items, 'post');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel411\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_post_unselect\",\"text\":\"<<\",\"click\":\"var items = selectPostGrid.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择岗位!');\\n  return;\\n}\\n\\nremoveItems(items, 'post');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"selectPostPanel\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectPostStore\",\"columns\":\"selectPostColumns\",\"pagingToolbar\":\"false\",\"id\":\"selectPostGrid\",\"multiSelect\":\"true\",\"title\":\"已选岗位\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"panel\",\"id\":\"deptPanel\",\"title\":\"部 门\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"allDeptPanel\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"deptStore\",\"columns\":\"allDeptColumns\",\"id\":\"allDeptGrid\",\"tbar\":\"deptGridToolbar\",\"multiSelect\":\"true\",\"title\":\"全部部门\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel212\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel112\",\"height\":\"'30%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel312\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_dept_select\",\"text\":\">>\",\"click\":\"var items = allDeptGrid.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择部门!');\\n  return;\\n}\\n\\naddItems(items, 'dept');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel412\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_dept_unselect\",\"text\":\"<<\",\"click\":\"var items = selectdeptGrid.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择部门!');\\n  return;\\n}\\n\\nremoveItems(items, 'dept');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"selectDeptPanel\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectDeptStore\",\"columns\":\"selectDeptColumns\",\"pagingToolbar\":\"false\",\"id\":\"selectdeptGrid\",\"multiSelect\":\"true\",\"title\":\"已选部门\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"authEditWin\",\"title\":\"编辑授权\",\"height\":\"260\",\"layout\":\"border\",\"dialog\":\"false\",\"width\":\"380\",\"buttons\":\"authEditWinArray\",\"maximized\":\"true\",\"minimizable\":\"false\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"hide\":\"actStore.load();\\nWb.load(executorAuthStore);\\nWb.load(executorStore);\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"authActInfoPanel_edit\",\"height\":\"120\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"authActInfoForm\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"authActInfoFieldSet\",\"title\":\"节点信息\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel6\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"220\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点id\",\"id\":\"ACT_ID_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用名\",\"id\":\"APP_NAME_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"流程名\",\"id\":\"PROCESS_NAME_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel7\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"220\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"实体名\",\"id\":\"ENTITY_NAME_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点名\",\"id\":\"ACT_NAME_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"labelAlign\":\"right\"}]}]}]}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"authTabPanel_edit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"userPanel_edit\",\"title\":\"用 户\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"allUserPanel_edit\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"userStore_edit\",\"columns\":\"allUserColumns_edit\",\"id\":\"allUserGrid_edit\",\"tbar\":\"userGridToolbar_edit\",\"multiSelect\":\"true\",\"title\":\"全部用户\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel213\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel113\",\"height\":\"'30%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel313\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_user_select_edit\",\"text\":\">>\",\"click\":\"var items = allUserGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择用户!');\\n  return;\\n}\\n\\naddItems_edit(items, 'user');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel413\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_user_unselect_edit\",\"text\":\"<<\",\"click\":\"var items = selectUserGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择用户!');\\n  return;\\n}\\n\\nremoveItems_edit(items, 'user');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"selectUserPanel_edit\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectUserStore_edit\",\"columns\":\"selectUserColumns_edit\",\"pagingToolbar\":\"false\",\"id\":\"selectUserGrid_edit\",\"multiSelect\":\"true\",\"title\":\"已选/已授权用户\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"panel\",\"id\":\"postPanel_edit\",\"title\":\"岗 位\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"allPostPanel_edit\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"postStore_edit\",\"columns\":\"allPostColumns_edit\",\"id\":\"allPostGrid_edit\",\"tbar\":\"postGridToolbar_edit\",\"multiSelect\":\"true\",\"title\":\"全部岗位\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel2111\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel1111\",\"height\":\"'30%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel3111\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_post_select_edit\",\"text\":\">>\",\"click\":\"var items = allPostGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择岗位!');\\n  return;\\n}\\n\\naddItems_edit(items, 'post');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel4111\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_post_unselect_edit\",\"text\":\"<<\",\"click\":\"var items = selectPostGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择岗位!');\\n  return;\\n}\\n\\nremoveItems_edit(items, 'post');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"selectPostPanel_edit\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectPostStore_edit\",\"columns\":\"selectPostColumns_edit\",\"pagingToolbar\":\"false\",\"id\":\"selectPostGrid_edit\",\"multiSelect\":\"true\",\"title\":\"已选/已授权岗位\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"panel\",\"id\":\"deptPanel_edit\",\"title\":\"部 门\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"allDeptPanel_edit\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"deptStore_edit\",\"columns\":\"allDeptColumns_edit\",\"id\":\"allDeptGrid_edit\",\"tbar\":\"deptGridToolbar_edit\",\"multiSelect\":\"true\",\"title\":\"全部部门\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel2121\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel1121\",\"height\":\"'30%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel3121\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_dept_select_edit\",\"text\":\">>\",\"click\":\"var items = allDeptGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择部门!');\\n  return;\\n}\\n\\naddItems_edit(items, 'dept');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel4121\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_dept_unselect_edit\",\"text\":\"<<\",\"click\":\"var items = selectdeptGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择部门!');\\n  return;\\n}\\n\\nremoveItems_edit(items, 'dept');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"selectDeptPanel_edit\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectDeptStore_edit\",\"columns\":\"selectDeptColumns_edit\",\"pagingToolbar\":\"false\",\"id\":\"selectdeptGrid_edit\",\"multiSelect\":\"true\",\"title\":\"已选/已授权部门\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"height\":\"80\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"queryfieldSet\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"appStore_queryForm\",\"valueField\":\"ID\",\"width\":\"180\",\"labelAlign\":\"right\",\"fieldLabel\":\"应用\",\"id\":\"appCombox\",\"displayField\":\"NAME\",\"labelWidth\":\"60\",\"select\":\"entityCombox.clearValue();\\nentityStore_queryForm.getProxy().extraParams.appId = appCombox.getValue();\\n\\nquertBtn.fireEvent('click');\"},{\"xwlMeta\":\"comboBox\",\"store\":\"entityStore_queryForm\",\"valueField\":\"ID\",\"width\":\"200\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务实体\",\"id\":\"entityCombox\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"select\":\"quertBtn.fireEvent('click');\",\"focus\":\"return false;\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"流程名\",\"id\":\"processName\",\"labelWidth\":\"70\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tactStore.load();\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点名\",\"id\":\"actName\",\"labelWidth\":\"70\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tactStore.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"actStore.load();\\n\\nexecutorAuthStore.getProxy().extraParams.actId = '';\\nexecutorStore.getProxy().extraParams.actId = '';\\n\\nWb.load(executorAuthStore);\\nWb.load(executorStore) ;\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"Wb.reset(queryfieldSet);\\nquertBtn.fireEvent('click');\\n\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"actPanel\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"actStore\",\"columns\":\"actGridColumns\",\"id\":\"actGrid\",\"tbar\":\"actGridToolbar\",\"multiSelect\":\"false\",\"simpleSelect\":\"false\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\",\"itemclick\":\"var actId = record.data.ACT_ID ;\\n\\nexecutorAuthStore.getProxy().extraParams.actId = actId;\\nexecutorStore.getProxy().extraParams.actId = actId;\\n\\nWb.load(executorAuthStore);\\nWb.load(executorStore) ;\\n\\n//Wb.load(executorAuthStore,{actId:actId});\\n//Wb.load(executorStore,{actId:actId}) ;\"}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"south\",\"id\":\"executorTabPanel\",\"height\":\"280\",\"border\":\"false\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"executorAuthPanel\",\"title\":\"已授权类型\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"executorAuthStore\",\"columns\":\"executorAuthGridColumns\",\"id\":\"executorAuthGrid\",\"tbar\":\"executorAuthGridToolbar\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"executorPanel\",\"title\":\"查看节点执行人\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"executorStore\",\"columns\":\"executorGridColumns\",\"id\":\"executorGrid\",\"multiSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}]}]}","节点执行人授权",null,0,0,"admin","2015-01-22 15:03:12.0","23XQ4UO678F5","2015-10-19 16:23:04.0",1],["23W090GMALLY","23W08Z41OPLW",null,"Executor Sub",null,1,0,"admin","2015-01-22 15:03:27.0","23XSWLY0BYLW","2015-08-25 10:30:22.0",2],["23W090GMALLZ","23W090GMALLY","{\"id\":\"module\",\"title\":\"Get Grants\",\"xwlMeta\":\"module\"}","Get Grants",null,0,0,"admin","2015-01-22 15:03:40.0","admin","2015-01-22 15:03:40.0",1],["23W090GMALM1","23W090GMALLI","{\"id\":\"module\",\"title\":\"流程用户授权\",\"xwlMeta\":\"module\"}","流程用户授权",null,0,0,"admin","2015-01-22 15:04:01.0","admin","2015-01-22 15:04:01.0",1],["23W090GMALM3","23W090GMALLI",null,"User Grant Sub",null,1,0,"admin","2015-01-22 15:04:17.0","23XSWLY0BYLW","2015-08-25 10:30:35.0",2],["23W090GMALM5","23W090GMALLJ","{\"id\":\"module\",\"title\":\"流程功能授权\",\"xwlMeta\":\"module\"}","流程功能授权",null,0,0,"admin","2015-01-22 15:04:42.0","admin","2015-01-22 15:04:42.0",1],["23W090GMALM7","23W090GMALLJ",null,"Function Grant Sub",null,1,0,"admin","2015-01-22 15:04:58.0","23XSWLY0BYLW","2015-08-25 10:30:41.0",2],["23W090GMALM9","23W090GMALM7","{\"id\":\"module\",\"title\":\"Get Grants\",\"xwlMeta\":\"module\"}","Get Grants",null,0,0,"admin","2015-01-22 15:05:09.0","admin","2015-01-22 15:05:09.0",1],["23W090GMALMC","23WO6G8BV81A","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"假期规则\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#23WCQ6TFHLHK (selectAll)\",\"output\":\"form2\"},{\"xwlMeta\":\"store\",\"id\":\"store2\",\"url\":\"#23WCQ6TFHP8C (selectUser)\",\"output\":\"form3\"},{\"xwlMeta\":\"store\",\"id\":\"dqyhstore\",\"pageSize\":\"-1\",\"url\":\"#23WCQ6TFHUKM (dqyhCombox)\"},{\"xwlMeta\":\"store\",\"id\":\"dlyhstore\",\"pageSize\":\"-1\",\"url\":\"#23WCQ6TFHUKM (dqyhCombox)\"},{\"xwlMeta\":\"store\",\"id\":\"isDefault\",\"url\":\"#23WCQ6TFIWPD (getEnableFlag)\"},{\"xwlMeta\":\"store\",\"id\":\"validStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23X8YM2E16G3 (validRepeatHolidays)\"}]},{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WCQ6TFHVB1 (insert)\",\"id\":\"insert_ajax\",\"output\":\"form1\",\"success\":\"Wb.message('保存成功');\\ngrid1window.close();\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WCQ6TFI29T (update)\",\"id\":\"update_ajax\",\"output\":\"form1\",\"success\":\"Wb.message('保存成功');\\ngrid1window.close();\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WHNATTV63M (update_enableflag)\",\"id\":\"update_enableflag_ajax\",\"output\":\"grid1\",\"success\":\"Wb.message('设置停用成功！');\\nWb.load(store1);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"grid1windowbtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"acceptbtn\",\"text\":\"保存\",\"click\":\"validStore.load(function(){\\n  var flag = PRIVILEGE_ID.getValue();\\n  if(flag===null||flag===''){\\n     var a=Ext.getCmp('BEGIN_DATE').getValue();\\n     var b=Ext.getCmp('END_DATE').getValue();\\n     var c=Ext.getCmp('USER_NAME1').getValue();\\n     var d=Ext.getCmp('USER_NAME2').getValue();\\n  if(c==d){\\n     Wb.message('用户不能给自己代理');\\n     return;\\n  }\\n  for(var i=0;i<validStore.getCount();i++){\\n    var rec=validStore.getAt(i);\\n    if(c==rec.get('MASTER_USER_ID')){\\n      var ks=rec.get('BEGIN_DATE');\\n      var js=rec.get('END_DATE');\\n      if(a>=ks&&a<=js||b>=ks&&b<=js){\\n         Wb.message('用户代理时间冲突');\\n        return;\\n      }\\n    }\\n    \\n  }\\n     if(a>b){\\n      Wb.message('时间有误');\\n      return;\\n\\n    }else{\\n      var y=new Date().getYear();\\n      var m=new Date().getMonth();\\n      var d2=new Date().getDate();\\n  \\n       if(a.getYear()<y||b.getYear()<y){ \\n         Wb.message('您所选择的时间段包含已过日期！');\\n         return ;\\n       }else if(a.getMonth()<m||b.getMonth()<m){ \\n         Wb.message('您所选择的时间段包含已过日期！');\\n         return ;\\n       }else if(a.getYear()==y&&a.getMonth()==m&&a.getDate()<d2){ \\n         Wb.message('您所选择的时间段包含已过日期！');\\n         return ;\\n         \\n       }else{\\n       insert_ajax.request();  \\n       }\\n\\n    }\\n}\\n\\n});\\n\\n\\n \"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"cancelbtn\",\"text\":\"取消\",\"click\":\"grid1window.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"nowpopwinbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"accept\",\"text\":\"确定\",\"click\":\"var rows = Wb.getSelRec(grid2);\\nif (Ext.isEmpty(rows)) {\\n  //Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}\\nif(rows.length>1){\\n  Ext.MessageBox.alert('提示', '请选择一条数据!');\\n  return;\\n}\\nelse{\\n  var record = grid2.getSelectionModel().getSelection();\\n  var aa=record[0].get('USER_NAME');\\n  //alert(aa);\\n  Ext.getCmp('form2dqyh').setValue(aa);\\n}\\nnowpopwindow.close();\"},{\"xwlMeta\":\"button\",\"id\":\"cancle\",\"text\":\"取消\",\"click\":\"nowpopwindow.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"proxywinbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"accept1\",\"text\":\"确定\",\"click\":\"var rows = Wb.getSelRec(grid21);\\nif (Ext.isEmpty(rows)) {\\n  //Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}\\nif(rows.length>1){\\n  Ext.MessageBox.alert('提示', '请选择一条数据!');\\n  return;\\n}\\nelse{\\n  var record = grid21.getSelectionModel().getSelection();\\n  var aa=record[0].get('USER_NAME');\\n  //alert(aa);\\n  Ext.getCmp('form2dlyh').setValue(aa);\\n}\\nproxywindow.close();\"},{\"xwlMeta\":\"button\",\"id\":\"cancle1\",\"text\":\"取消\",\"click\":\"proxywindow.close();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"grid1columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRIVILEGE_ID\",\"id\":\"pri_id\",\"text\":\"ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME1\",\"id\":\"dqyh\",\"text\":\"当前用户\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME2\",\"id\":\"dlyh\",\"text\":\"代理用户\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BEGIN_DATE\",\"id\":\"ksrq\",\"text\":\"开始日期\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"END_DATE\",\"id\":\"jsrq\",\"text\":\"结束日期\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE1\",\"id\":\"qyzt\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"启用状态\",\"width\":\"330\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MASTER_USER_ID\",\"id\":\"master_user\",\"text\":\"master_user_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROXY_USER_ID\",\"id\":\"proxy_user\",\"text\":\"proxy_user_id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid2columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column2\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"grid2dqyh\",\"text\":\"用户名称\",\"width\":\"380\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid2columns1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column21\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"grid2dqyh1\",\"text\":\"用户名称\",\"width\":\"380\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"grid1tbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addbtn\",\"text\":\"新增\",\"click\":\"grid1window.show();\\nisDefault.load(function (){\\n  ATTRIBUTE1.setValue('Y');\\n  ATTRIBUTE1.setRawValue('是');\\n});\\nATTRIBUTE1.setReadOnly(true);\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"stop_icon\",\"id\":\"stopbtn\",\"text\":\"停用\",\"click\":\"var rows = Wb.getSelRec(grid1);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}\\nif(rows.length>1){\\n  Ext.MessageBox.alert('提示', '请选择一条数据!');\\n  return;\\n}\\nelse{\\n  \\n  var reco = grid1.getSelectionModel().getSelection();\\n  if(reco[0].get('END_DATE')<new Date()){\\n    Ext.MessageBox.alert('提示', '代理时间已过期，无法停用!');\\n    return;\\n  }\\n  if(reco[0].get('ATTRIBUTE1')=='N'){\\n     Ext.MessageBox.alert('提示', '已停用!');\\n     return;\\n  }\\n  Ext.MessageBox.confirm('提示','确定要停用吗？',function(a){\\n    if(a == 'yes'){\\n      update_enableflag_ajax.request();\\n    }else{\\n      return ;\\n    }\\n  }) ;\\n  \\n \\n\\n}\\n \"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"grid1window\",\"title\":\"新增\",\"height\":\"230\",\"layout\":\"fit\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"380\",\"buttons\":\"grid1windowbtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"PRIVILEGE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"MASTER_USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"PROXY_USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"comboBox\",\"store\":\"dqyhstore\",\"height\":\"30\",\"valueField\":\"USER_ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"当前用户\",\"id\":\"USER_NAME1\",\"multiSelect\":\"false\",\"displayField\":\"USER_NAME\"},{\"xwlMeta\":\"comboBox\",\"store\":\"dlyhstore\",\"height\":\"30\",\"valueField\":\"USER_ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"代理用户\",\"id\":\"USER_NAME2\",\"displayField\":\"USER_NAME\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"开始时间\",\"id\":\"BEGIN_DATE\",\"height\":\"30\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"结束时间\",\"id\":\"END_DATE\",\"height\":\"30\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"isDefault\",\"height\":\"30\",\"valueField\":\"VAL_CODE\",\"labelAlign\":\"right\",\"fieldLabel\":\"是否启用\",\"id\":\"ATTRIBUTE1\",\"displayField\":\"VAL_NAME\"}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"center\",\"id\":\"form2\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"width\":\"'100%'\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"当前用户\",\"id\":\"form2dqyh\",\"labelWidth\":\"80\",\"width\":\"195\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   form2dqyhUpper.setValue(form2dqyh.getValue().toUpperCase());\\n   Wb.load(store1);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"代理用户\",\"id\":\"form2dlyh\",\"labelWidth\":\"80\",\"width\":\"195\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n    form2dlyhUpper.setValue(form2dlyh.getValue().toUpperCase());\\n    Wb.load(store1);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"selectbtn\",\"text\":\"查询\",\"click\":\"form2dqyhUpper.setValue(form2dqyh.getValue().toUpperCase());\\nform2dlyhUpper.setValue(form2dlyh.getValue().toUpperCase());\\nstore1.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetbtn\",\"text\":\"重置\",\"click\":\"form2.form.reset();\\nstore1.load();\\n\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"当前用户\",\"id\":\"form2dqyhUpper\",\"labelWidth\":\"80\",\"width\":\"195\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(store1);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"代理用户\",\"id\":\"form2dlyhUpper\",\"labelWidth\":\"80\",\"width\":\"195\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(store1);\\n}\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"grid1columns\",\"pagingToolbar\":\"false\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"grid1tbar\",\"selType\":\"checkboxmodel\"}]}]}","假期规则",null,0,0,"admin","2015-01-22 15:05:35.0","23XQ4UO678F5","2015-10-23 12:33:06.0",1],["23W090GMALME","23W090GMALLK",null,"用户级",null,0,0,"admin","2015-01-22 15:05:44.0","admin","2015-04-22 11:08:20.0",13],["23W090GMALMF","23W090GMALME","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Holidays\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nrequest.setAttribute(\\\"userId\\\",userId);\\n\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#23YAVVQEJWK9 (selectListAll)\",\"output\":\"form2\"},{\"xwlMeta\":\"store\",\"id\":\"store2\",\"url\":\"#23WCQ6TFHP8C (selectUser)\",\"output\":\"form3\"},{\"xwlMeta\":\"store\",\"id\":\"dqyhstore\",\"pageSize\":\"-1\",\"url\":\"#23WCQ6TFHUKM (dqyhCombox)\"},{\"xwlMeta\":\"store\",\"id\":\"dlyhstore\",\"pageSize\":\"-1\",\"url\":\"#23WCQ6TFHUKM (dqyhCombox)\"},{\"xwlMeta\":\"store\",\"id\":\"isDefault\",\"url\":\"#23WCQ6TFIWPD (getEnableFlag)\"},{\"xwlMeta\":\"store\",\"id\":\"validStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23X8YM2E16G3 (validRepeatHolidays)\"}]},{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WHNATTV70A (insert)\",\"id\":\"insert_ajax\",\"output\":\"form1\",\"success\":\"Wb.message('保存成功');\\ngrid1window.close();\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WCQ6TFI29T (update)\",\"id\":\"update_ajax\",\"output\":\"form1\",\"success\":\"Wb.message('保存成功');\\ngrid1window.close();\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WHNATTV63M (update_enableflag)\",\"id\":\"update_enableflag_ajax\",\"output\":\"grid1\",\"success\":\"Wb.message('设置停用成功！');\\nWb.load(store1);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"grid1windowbtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"acceptbtn\",\"text\":\"保存\",\"click\":\"validStore.load({callback:function (){\\n     var flag = PRIVILEGE_ID.getValue();\\nif(flag===null||flag===''){\\n     var a=Ext.getCmp('BEGIN_DATE').getValue();\\n     var b=Ext.getCmp('END_DATE').getValue();\\n     var c = '{#userId#}';\\n     var d=Ext.getCmp('USER_NAME2').getValue();\\n  if(c==d){\\n     Wb.message('用户不能给自己代理');\\n     return;\\n  }\\n  for(var i=0;i<validStore.getCount();i++){\\n    var rec=validStore.getAt(i);\\n    if(c==rec.get('MASTER_USER_ID')){\\n      var ks=rec.get('BEGIN_DATE');\\n      var js=rec.get('END_DATE');\\n      if(a>=ks&&a<=js||b>=ks&&b<=js){\\n         Wb.message('用户代理时间冲突');\\n        return;\\n      }\\n    }\\n    \\n  }\\n \\n   if(a>b){\\n      Wb.message('时间有误');\\n      return;\\n\\n    }else{\\n      var y=new Date().getYear();\\n      var m=new Date().getMonth();\\n      var d2=new Date().getDate();\\n  \\n       if(a.getYear()<y||b.getYear()<y){ \\n         Wb.message('您所选择的时间段包含已过日期！');\\n         return ;\\n       }else if(a.getMonth()<m||b.getMonth()<m){ \\n         Wb.message('您所选择的时间段包含已过日期！');\\n         return ;\\n       }else if(a.getYear()==y&&a.getMonth()==m&&a.getDate()<d2){ \\n         Wb.message('您所选择的时间段包含已过日期！');\\n         return ;\\n         \\n       }else{\\n            insert_ajax.request();  \\n       }\\n\\n    }\\n}\\n\\n\\n}});\\n\\n \"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"cancelbtn\",\"text\":\"取消\",\"click\":\"grid1window.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"nowpopwinbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"accept\",\"text\":\"确定\",\"click\":\"var rows = Wb.getSelRec(grid2);\\nif (Ext.isEmpty(rows)) {\\n  //Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}\\nif(rows.length>1){\\n  Ext.MessageBox.alert('提示', '请选择一条数据!');\\n  return;\\n}\\nelse{\\n  var record = grid2.getSelectionModel().getSelection();\\n  var aa=record[0].get('USER_NAME');\\n  //alert(aa);\\n  Ext.getCmp('form2dqyh').setValue(aa);\\n}\\nnowpopwindow.close();\"},{\"xwlMeta\":\"button\",\"id\":\"cancle\",\"text\":\"取消\",\"click\":\"nowpopwindow.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"proxywinbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"accept1\",\"text\":\"确定\",\"click\":\"var rows = Wb.getSelRec(grid21);\\nif (Ext.isEmpty(rows)) {\\n  //Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}\\nif(rows.length>1){\\n  Ext.MessageBox.alert('提示', '请选择一条数据!');\\n  return;\\n}\\nelse{\\n  var record = grid21.getSelectionModel().getSelection();\\n  var aa=record[0].get('USER_NAME');\\n  //alert(aa);\\n  Ext.getCmp('form2dlyh').setValue(aa);\\n}\\nproxywindow.close();\"},{\"xwlMeta\":\"button\",\"id\":\"cancle1\",\"text\":\"取消\",\"click\":\"proxywindow.close();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"grid1columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRIVILEGE_ID\",\"id\":\"pri_id\",\"text\":\"ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME1\",\"id\":\"dqyh\",\"text\":\"当前用户\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME2\",\"id\":\"dlyh\",\"text\":\"代理用户\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BEGIN_DATE\",\"id\":\"ksrq\",\"text\":\"开始日期\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"END_DATE\",\"id\":\"jsrq\",\"text\":\"结束日期\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE1\",\"id\":\"qyzt\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"启用状态\",\"width\":\"330\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MASTER_USER_ID\",\"id\":\"master_user\",\"text\":\"master_user_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROXY_USER_ID\",\"id\":\"proxy_user\",\"text\":\"proxy_user_id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid2columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column2\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"grid2dqyh\",\"text\":\"用户名称\",\"width\":\"380\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid2columns1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column21\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"grid2dqyh1\",\"text\":\"用户名称\",\"width\":\"380\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"grid1tbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addbtn\",\"text\":\"新增\",\"click\":\"grid1window.show();\\nisDefault.load(function (){\\n  ATTRIBUTE1.setValue('Y');\\n  ATTRIBUTE1.setRawValue('是');\\n});\\nATTRIBUTE1.setReadOnly(true);\\nUSER_NAME1.load(function(){\\n  USER_NAME1.setValue('{#userId#}');\\n  \\n});\\nUSER_NAME1.setReadOnly(true);\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"stop_icon\",\"id\":\"stopbtn\",\"text\":\"停用\",\"click\":\"var rows = Wb.getSelRec(grid1);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}\\nif(rows.length>1){\\n  Ext.MessageBox.alert('提示', '请选择一条数据!');\\n  return;\\n}\\nelse{\\n  \\n  var reco = grid1.getSelectionModel().getSelection();\\n  if(reco[0].get('END_DATE')<new Date()){\\n    Ext.MessageBox.alert('提示', '代理时间已过期，无法停用!');\\n    return;\\n  }\\n  if(reco[0].get('ATTRIBUTE1')=='N'){\\n     Ext.MessageBox.alert('提示', '已停用!');\\n     return;\\n  }\\n  Ext.MessageBox.confirm('提示','确定要停用吗？',function(a){\\n    if(a == 'yes'){\\n      update_enableflag_ajax.request();\\n    }else{\\n      return ;\\n    }\\n  }) ;\\n  \\n \\n\\n}\\n \"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"grid1window\",\"title\":\"新增\",\"height\":\"200\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"380\",\"buttons\":\"grid1windowbtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"PRIVILEGE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"MASTER_USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"PROXY_USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"comboBox\",\"store\":\"dqyhstore\",\"height\":\"30\",\"valueField\":\"USER_ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"当前用户\",\"id\":\"USER_NAME1\",\"multiSelect\":\"false\",\"displayField\":\"USER_NAME\",\"hidden\":\"true\"},{\"xwlMeta\":\"comboBox\",\"store\":\"dlyhstore\",\"height\":\"30\",\"valueField\":\"USER_ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"代理用户\",\"id\":\"USER_NAME2\",\"displayField\":\"USER_NAME\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"开始时间\",\"id\":\"BEGIN_DATE\",\"height\":\"30\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"date\",\"fieldLabel\":\"结束时间\",\"id\":\"END_DATE\",\"height\":\"30\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"isDefault\",\"height\":\"30\",\"valueField\":\"VAL_CODE\",\"labelAlign\":\"right\",\"fieldLabel\":\"是否启用\",\"id\":\"ATTRIBUTE1\",\"displayField\":\"VAL_NAME\"}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"center\",\"id\":\"form2\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"width\":\"'100%'\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"代理用户\",\"id\":\"form2dlyh\",\"labelWidth\":\"80\",\"width\":\"195\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  form2dlyhUpper.setValue(form2dlyh.getValue().toUpperCase());\\n  Wb.load(store1);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"selectbtn\",\"text\":\"查询\",\"click\":\"form2dlyhUpper.setValue(form2dlyh.getValue().toUpperCase());\\nWb.load(store1);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetbtn\",\"text\":\"重置\",\"click\":\"form2.form.reset();\\nstore1.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"代理用户\",\"id\":\"form2dlyhUpper\",\"labelWidth\":\"80\",\"width\":\"195\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(store1);\\n}\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"grid1columns\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"grid1tbar\",\"selType\":\"checkboxmodel\"}]}]}","假期规则",null,0,0,"admin","2015-01-22 15:05:53.0","23XQ4UO678F5","2015-10-23 12:37:42.0",1],["23W090GMALMR","23W090GMALM3","{\"id\":\"module\",\"title\":\"Get User Grants\",\"xwlMeta\":\"module\"}","Get User Grants",null,0,0,"admin","2015-01-22 15:06:28.0","admin","2015-01-22 15:06:28.0",1],["23W0CDJH1JBZ","23W090GMALLT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Entity Attrs\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT ATTR_ID,\\n       ENTITY_ID,\\n       ATTR_CODE,\\n       ATTR_NAME,\\n       ATTR_CATEGORY,\\n\\t   ATTR_DATA_TYPE,\\n       FUNC_TYPE     ATTR_FUNC_TYPE,\\n       FUNC_VALUE    ATTR_FUNC_NAME,\\n       ATTR_DESC\\n  FROM XIP_WF_ENTITY_ATTRS T\\n WHERE T.ENTITY_ID = {?entityId?}\\n   AND T.ATTR_NAME LIKE '%{#text4AttrName#}%'\"}]}","Get Entity Attrs",null,0,0,"admin","2015-01-22 23:29:23.0","23XQ4UO678F8","2015-10-16 15:18:25.0",7],["23W0CDJH1JC1","23W090GMALLT","{\"id\":\"module\",\"title\":\"Get Biz Status\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT ENUM_ID, ENTITY_ID, STATUS_CATEGORY, STATUS_DESC, ENABLE_FLAG\\n  FROM XIP_WF_BIZ_STATUS_ENUM T\\n WHERE T.ENTITY_ID = {?entityId?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Get Biz Status",null,0,0,"admin","2015-01-22 23:29:36.0","admin","2015-01-28 12:13:30.0",11],["23W0CDJH1JDY","23W090GMALLT","{\"id\":\"module\",\"title\":\"Insert Entity\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"chkCodeExists\",\"sql\":\"  select count(1) as \\\"V\\\" from xip_wf_entities t where t.entity_code = {?e_entityCode?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"实体编码已存在！\\\"]\",\"id\":\"entityCodeExists\",\"xwlMeta\":\"except\",\"name\":\"chkCodeExists.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"chkNameExists\",\"sql\":\"select count(1) as \\\"V\\\" from xip_wf_entities t where t.app_id = {?e_appId?} and t.entity_name = {?e_entityName?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"实体名称已存在！\\\"]\",\"id\":\"entityNameExists\",\"xwlMeta\":\"except\",\"name\":\"chkNameExists.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"saveEntity\",\"sql\":\"insert into xip_wf_entities\\n  (app_id,\\n   entity_id,\\n   entity_code,\\n   entity_name,\\n   entity_desc,\\n   attribute1,\\n   attribute2,\\n   attribute3,\\n   attribute4,\\n   attribute5,\\n   creation_date,\\n   created_by,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY \\n)\\nvalues\\n  ({?e_appId?},\\n   {?entityId?},\\n   {?e_entityCode?},\\n   {?e_entityName?},\\n   {?e_entityDesc?},\\n   {?e_cbxFuncType?},\\n   {?e_cbxFuncName?},\\n   '',\\n   '',\\n   'Y',\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Insert Entity",null,0,0,"admin","2015-01-23 08:58:40.0","admin","2015-06-23 10:30:13.0",4],["23W0CDJH1JE1","23W090GMALLT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Insert EntityAttr\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"chkAttrCodeExists\",\"sql\":\"select count(1) as \\\"V\\\" from xip_wf_entity_attrs t where t.entity_id = {?a_entity_id?} and t.attr_code = {?a_attr_code?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"attrCodeExists\",\"message\":\"[\\\"属性编码已存在！\\\"]\",\"name\":\"chkAttrCodeExists.V\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"chkAttrNameExists\",\"sql\":\"select count(1) as \\\"V\\\" from xip_wf_entity_attrs t where t.entity_id = {?a_entity_id?} and t.attr_name = {?a_attr_name?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"attrNameExists\",\"message\":\"[\\\"属性名称已存在！\\\"]\",\"name\":\"chkAttrNameExists.V\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"addEntityAttr\",\"sql\":\"insert into xip_wf_entity_attrs\\n  (attr_id,\\n   entity_id,\\n   attr_code,\\n   attr_name,\\n   attr_category,\\n   attr_data_type,\\n   func_type,\\n   func_value,\\n   attr_desc,\\n   attribute1,\\n   attribute2,\\n   creation_date,\\n   created_by,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY )\\nvalues\\n  ({?attrId?},\\n   {?a_entity_id?},\\n   {?a_attr_code?},\\n   {?a_attr_name?},\\n   {?a_attr_category?},\\n   {?a_attr_dataType?},\\n   {?a_attr_funcType?},\\n   {?a_attr_funcName?},\\n   {?a_attr_desc?},\\n   '',\\n   '',\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\"}]}","Insert EntityAttr",null,0,0,"admin","2015-01-23 08:58:59.0","23XQ4UO678F8","2015-10-16 15:16:48.0",8],["23W0CDJH1JE4","23W090GMALLT","{\"id\":\"module\",\"title\":\"Insert BizStatus\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkBizName\",\"sql\":\"select count(1) as \\\"V\\\" from xip_wf_biz_status_enum t  \\nwhere t.entity_id = {?B_ENTITY_ID?} and t.STATUS_CATEGORY = {?B_STATUS_CATEGORY?} and t.STATUS_DESC = {?B_STATUS_DESC?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"此业务状态信息已存在！\\\"]\",\"id\":\"nameExists\",\"xwlMeta\":\"except\",\"name\":\"checkBizName.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"insertBizStatus\",\"sql\":\"insert into xip_wf_biz_status_enum\\n  (enum_id,\\n   entity_id,\\n   status_category,\\n   status_desc,\\n   enable_flag,\\n   creation_date,\\n   created_by,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY \\n  )\\nvalues\\n  ({?enumId?},\\n   {?B_ENTITY_ID?},\\n   {?B_STATUS_CATEGORY?},\\n   {?B_STATUS_DESC?},\\n   {?B_ENABLE_FLAG?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?})\\n\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Insert BizStatus",null,0,0,"admin","2015-01-23 08:59:14.0","admin","2015-06-24 16:00:27.0",12],["23W0CDJH1JE6","23W090GMALLT","{\"id\":\"module\",\"title\":\"Delete Entity\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkProcess\",\"sql\":\"select count(1) as \\\"V\\\" from xip_wf_processes t where t.entity_id = {?entityId?} and t.enable_flag = 'Y'\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"业务实体下存在流程信息不能执行删除！\\\"]\",\"id\":\"processExists\",\"xwlMeta\":\"except\",\"name\":\"checkProcess.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"delBizStatus\",\"sql\":\"delete from xip_wf_biz_status_enum where ENTITY_ID = {?entityId?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"delEntityAttr\",\"sql\":\"delete from xip_wf_entity_attrs where ENTITY_ID = {?entityId?}\",\"xwlMeta\":\"query\"},{\"id\":\"delEntityById\",\"sql\":\"delete from XIP_WF_ENTITIES where ENTITY_ID = {?entityId?} \",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Delete Entity",null,0,0,"admin","2015-01-23 08:59:43.0","admin","2015-05-15 17:21:46.0",6],["23W0CDJH1JE9","23W090GMALLT","{\"id\":\"module\",\"title\":\"Delete EntityAttr\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"delete from xip_wf_entity_attrs where attr_id in ({#idsStr#})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Delete EntityAttr",null,0,0,"admin","2015-01-23 08:59:56.0","admin","2015-05-12 15:58:51.0",10],["23W0CDJH1JGO","23VVZ3QMOKQA",null,"值集管理",null,0,0,"admin","2015-01-23 09:25:58.0","admin","2015-01-28 17:22:39.0",8],["23W0CDJH1JGP","23W0CDJH1JGO","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"model\",\"title\":\"值集管理\",\"loginRequired\":\"false\",\"initScript\":\"var paramsValue = request.getSession().getAttribute(\\\"XzSessionVars\\\");\\nvar ctxPath = request.getContextPath();\\nvar sysMode = paramsValue.get(\\\"godMode\\\");\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nrequest.setAttribute(\\\"SYS_MODE\\\",sysMode);\",\"finalize\":\"//判断Array的值重复问题\\nfunction judgeDuplicate(array){\\n  var tmp = array;\\n  tmp = Ext.Array.unique(tmp);\\n  if(tmp.length !== array.length){\\n    return true;\\n  }else{\\n    return false;\\n  }\\n}\\n\\n\\n\\n\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1L0J (selelctsets)\",\"id\":\"selectsestajax\",\"output\":\"form1\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1OJQ (insertgrid1)\",\"id\":\"insertajax\",\"output\":\"window1\",\"failure\":\"Wb.message('失败');\",\"success\":\"grid2.plugins[0].completeEdit();\\n\\tstore2.sync(\\n  {\\n    callback :function(){\\n    \\n      Wb.unmask();\\n       \\n    }\\n  });\\n//设置编辑状态\\noperateFlag.setValue(\\\"EDIT\\\");\\nwindow1.setTitle('编辑值集');\\nWb.load(store1);\\nWb.message('保存成功!');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1OJQ (insertgrid1)\",\"id\":\"insertContinueAjax\",\"output\":\"window1\",\"failure\":\"Wb.message('失败');\",\"success\":\"grid2.plugins[0].completeEdit();\\n\\tstore2.sync(\\n  {\\n    callback :function(){\\n    \\n      Wb.unmask();\\n       \\n    }\\n  });\\nform2.form.reset();\\nwindow1.setTitle('新增值集');\\noperateFlag.setValue(\\\"ADD\\\");\\nsetReadonly('VAL_SET_CODE',false);\\nWb.load(store1);\\nWb.message('保存成功!');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1OOF (updategrid1)\",\"id\":\"updateajax\",\"output\":\"window1\",\"failure\":\"Wb.message('失败');\",\"success\":\"grid2.plugins[0].completeEdit();\\n\\tstore2.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n       \\n    }\\n  });\\noperateFlag.setValue('EDIT');\\nwindow1.setTitle('编辑值集');\\nWb.load(store1);\\nWb.message('保存成功!');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1OOF (updategrid1)\",\"id\":\"updateContinueAjax\",\"output\":\"window1\",\"failure\":\"Wb.message('失败');\",\"success\":\"grid2.plugins[0].completeEdit();\\n\\tstore2.sync(\\n  {\\n    callback :function(){\\n    \\n      Wb.unmask();\\n       \\n    }\\n  });\\nform2.form.reset();\\noperateFlag.setValue('ADD');\\nsetReadonly('VAL_SET_CODE',false);\\nwindow1.setTitle('新增值集');\\nWb.load(store1);\\nWb.message('保存成功!');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1Q3M7A8KQ (deletegrid1)\",\"id\":\"deleteajax\",\"output\":\"grid1\",\"success\":\"\\nWb.load(store1);\\n  \"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WWPO1ZOECD (deletesongrid)\",\"id\":\"deletesongridajax\",\"output\":\"grid1\",\"success\":\"deleteajax.request();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1REH (获取UUID)\",\"id\":\"initDajax\",\"success\":\"var r = Ext.decode(response.responseText);\\nstore2.getAt(0).set('VAL_SET_DTL_ID',r.returnUuid);\\nstore2.getAt(0).set('VAL_SET_CODE',Wb.get('VAL_SET_CODE').getValue());\\nstore2.getAt(0).set('ENABLE_FLAG','Y');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W0CDJH1REH (获取UUID)\",\"id\":\"initSajax\"}]},{\"xwlMeta\":\"folder\",\"id\":\"editors\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"hbid_ed\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"scode_ed\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"code_ed\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"name_ed\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"desc_ed\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"pickList\":\"[['Y','是'],['N','否']]\",\"id\":\"flag_ed\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#23W0CDJH1L0J (selelctsets)\",\"output\":\"form1\"},{\"xwlMeta\":\"store\",\"id\":\"store2\",\"proxy\":\"{\\ntype:\\\"ajax\\\",\\napi: {\\nread:'main?xwl=23W0CDJH1LVJ',\\nupdate: 'main?xwl=23W0CDJH1LVL',\\ncreate: 'main?xwl=23W0CDJH1LVN',\\ndestroy: 'main?xwl=23W0CDJH1LVP'\\n},\\nreader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\nlisteners:{\\nexception:function(proxy,response,operation,options){\\nWb.except(response.responseText);\\n}\\n}\\n}\",\"pageSize\":\"-1\",\"output\":\"window1\",\"tagEvents\":\"beforesync:function(){Wb.mask();}\"}]},{\"xwlMeta\":\"array\",\"id\":\"gridarry\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xulie1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_ID\",\"id\":\"zjid\",\"text\":\"值集主键\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_CODE\",\"id\":\"zjbm1\",\"text\":\"值集编码\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_NAME\",\"id\":\"zjmc1\",\"text\":\"值集名称\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_DESC\",\"id\":\"zjms1\",\"text\":\"值集描述\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_TYPE\",\"id\":\"zjlx1\",\"renderer\":\"if(value === \\\"S\\\"){\\n  return \\\"系统\\\";\\n}else if(value === \\\"U\\\"){\\n  return \\\"用户\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"值集类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"qyzt1\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"是\\\";\\n}else if(value === \\\"N\\\"){\\n  return \\\"<font color='red'>否<\\/font>\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"启用状态\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid2arry1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xulie2\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_DTL_ID\",\"id\":\"hbid\",\"text\":\"行表主键\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_CODE\",\"id\":\"zjbm\",\"text\":\"值集编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_CODE\",\"id\":\"zbm\",\"text\":\"<font color='red'>*<\\/font>值编码\",\"width\":\"100\",\"editor\":\"code_ed\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_NAME\",\"id\":\"zmc\",\"text\":\"<font color='red'>*<\\/font>值名称\",\"width\":\"180\",\"editor\":\"name_ed\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"zms\",\"text\":\"值描述\",\"width\":\"180\",\"editor\":\"desc_ed\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"qyzt\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"是\\\";\\n}else if(value === \\\"N\\\"){\\n  return \\\"<font color='red'>否<\\/font>\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"启用状态\",\"flex\":\"1\",\"editor\":\"flag_ed\"}]},{\"xwlMeta\":\"array\",\"id\":\"array1\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"save1\",\"text\":\"保存\",\"click\":\"if(!form2.getForm().isValid()){\\n  Wb.warning('请填写所有必填项！');\\n  return false;\\n}\\nvar valSetId = Ext.getCmp('VAL_SET_ID').getValue();\\nvar rec = store2.getModifiedRecords();\\nvar j=0;\\nfor(var i=0;i<rec.length;i++){\\n  if (rec[i].data.VAL_CODE===''){\\n    Ext.Msg.alert('提示','值编码不能为空!');\\n    return false;\\n  }else if(rec[i].data.VAL_NAME===''){\\n    Ext.Msg.alert('提示','值名称不能为空!');\\n    return false;\\n  }\\n}\\nvar records = [];\\nvar nameRecords = [];\\nfor(var k=0;k<store2.getCount();k++){\\n  records.push(store2.getAt(k).data.VAL_CODE);\\n  nameRecords.push(store2.getAt(k).data.VAL_NAME);\\n}\\nif(judgeDuplicate(records)){\\n  Wb.warning('值编码不能重复！');\\n  return ;\\n}\\nif(judgeDuplicate(nameRecords)){\\n  Wb.warning('值名称不能重复！');\\n  return ;\\n}\\nvar json = {\\n  valSetId:'',\\n  valSetCode:Ext.getCmp('VAL_SET_CODE').getValue(),\\n  valSetName:Ext.getCmp('VAL_SET_NAME').getValue(),\\n  valSetDesc:Ext.getCmp('VAL_SET_DESC').getValue(),\\n  valSetType:Ext.getCmp('VAL_SET_TYPE').getValue(),\\n  enableFlag:Ext.getCmp('ENABLE_FLAG').getValue()\\n};\\n//新增操作\\nif(operateFlag.getValue()==='ADD'){\\n  json.valSetId = Wb.getUuid();\\n  Ext.getCmp('VAL_SET_ID').setValue(json.valSetId);\\n  insertajax.request();\\n}//更新操作\\nelse{\\n  json.valSetId = valSetId;\\n  updateajax.request();\\n  \\n}\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"savenext\",\"text\":\"保存并添加下一个\",\"click\":\"if(!form2.getForm().isValid()){\\n  Wb.warning('请填写所有必填项！');\\n  return false;\\n}\\nvar rec = store2.getModifiedRecords();\\nvar j=0;\\nfor(var i=0;i<rec.length;i++){\\n  if (rec[i].data.VAL_CODE===''){\\n    Ext.Msg.alert('提示','值编码不能为空!');\\n    return false;\\n  }else if(rec[i].data.VAL_NAME===''){\\n    Ext.Msg.alert('提示','值名称不能为空!');\\n    return false;\\n       } \\n     } \\nvar records = [];\\nvar nameRecords = [];\\nfor(var k=0;k<store2.getCount();k++){\\n  records.push(store2.getAt(k).data.VAL_CODE);\\n  nameRecords.push(store2.getAt(k).data.VAL_NAME);\\n}\\nif(judgeDuplicate(records)){\\n  Wb.warning('值集码不能重复！');\\n  return ;\\n}\\nif(judgeDuplicate(nameRecords)){\\n  Wb.warning('值名称不能重复！');\\n  return ;\\n}\\n//保存并继续添加的新增操作\\nif(operateFlag.getValue()==='ADD'){\\nvar valSetId = Ext.getCmp('VAL_SET_ID').getValue();\\nvar json = {\\n  valSetId:'',\\n  valSetCode:Ext.getCmp('VAL_SET_CODE').getValue(),\\n  valSetName:Ext.getCmp('VAL_SET_NAME').getValue(),\\n  valSetDesc:Ext.getCmp('VAL_SET_DESC').getValue(),\\n  valSetType:Ext.getCmp('VAL_SET_TYPE').getValue(),\\n  enableFlag:Ext.getCmp('ENABLE_FLAG').getValue()\\n};\\n  if(valSetId===''){\\n    json.valSetId = Wb.getUuid();\\n  }\\n  Ext.getCmp('VAL_SET_ID').setValue(json.valSetId);\\n  //保存并继续添加的Ajax\\n  insertContinueAjax.request(); \\n}else{\\n  updateContinueAjax.request();\\n}\\nWb.get('VAL_SET_TYPE').setValue('U');\\nWb.get('ENABLE_FLAG').setValue('Y');\\nWb.load(store2,{VAL_SET_CODE : '-1'});\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closeBtn\",\"text\":\"关闭\",\"click\":\"window1.close();\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addnew\",\"text\":\"新增\",\"click\":\"Wb.edit(window1);\\nVAL_SET_TYPE.setValue('U');\\nwindow1.setTitle('新增值集');\\nWb.get('VAL_SET_CODE').setReadOnly(false);\\n//VAL_SET_CODE.setFieldStyle(\\\"background-color:white;background-image:none\\\");\\nWb.get('ENABLE_FLAG').setReadOnly(false);\\n//设置窗口的编辑属性\\noperateFlag.setValue('ADD');\\nif('{#SYS_MODE#}' === 'godMode'){\\n  VAL_SET_TYPE.setReadOnly(false);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"edit_grid1\",\"text\":\"修改\",\"click\":\"Wb.edit(grid1,window1,'VAL_SET_ID');\\nWb.load(store2,{VAL_SET_CODE : Wb.get('VAL_SET_CODE').getValue()});\\nwindow1.setTitle('编辑值集');\\nsetReadonly('VAL_SET_CODE',true);\\nvar type =Wb.get('VAL_SET_TYPE').getValue();\\nif(type == 'S'){\\nWb.get('ENABLE_FLAG').setReadOnly(true);\\n} else {\\nWb.get('ENABLE_FLAG').setReadOnly(false);\\n}\\noperateFlag.setValue(\\\"EDIT\\\");\\nif('{#SYS_MODE#}' === 'Y'){\\n  VAL_SET_TYPE.setReadOnly(false);\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"deletegrid1\",\"text\":\"删除\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\nrecord= rows[0];\\nvar type = record.get('VAL_SET_TYPE');\\nif(type == 'S'){\\n   Ext.Msg.alert('提示','不能删除系统类型的值集！');\\n  return false ;\\n}\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择一行!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的值集信息吗？',function(a){\\n    if(a=='yes'){\\n     deletesongridajax.request();\\n     Ext.MessageBox.alert('提示', '删除成功！');\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar2\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addrow\",\"text\":\"新增行\",\"click\":\"var a=Wb.get('VAL_SET_CODE').getValue();\\nif(a=== null || a===''){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入值集编码\\\") ;\\n  return false ;\\n}else{\\n  var e=grid2.plugins[0],index=store2.getCount()===0?0:store2.getCount();\\n  e.completeEdit();\\n  store2.insert(index,{});\\n  var newKey = Wb.getUuid();\\n  var valSetCode = VAL_SET_CODE.getValue();\\n  store2.getAt(index).set('VAL_SET_DTL_ID',newKey);\\n  store2.getAt(index).set('VAL_SET_CODE',valSetCode);\\n  store2.getAt(index).set('ENABLE_FLAG','Y');\\n  e.startEditByPosition({row:index,column:2});\\n}\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"minus_icon\",\"id\":\"deleterow\",\"text\":\"删除行\",\"click\":\"var m=grid2.getSelectionModel(),s=m.getSelection();\\nif(s.length===0){\\n  Ext.Msg.alert('提示','请选择要删除的值集!');\\n  return false ;\\n}\\n      var i=store2.indexOf(s[0]);\\n      store2.remove(s);\\n      var j = store2.getCount() - 1;\\n      if (i > j)\\n         i = j;\\n      if (i > -1)\\n         m.select(i);\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"savarow\",\"text\":\"保存\",\"hidden\":\"true\",\"click\":\"\\ngrid2.plugins[0].completeEdit();\\nstore2.sync(\\n  {\\n    callback :function(){\\n    \\n      Wb.unmask();\\n    }\\n  });\\nWb.load(store2,{VAL_SET_CODE : Wb.get('VAL_SET_CODE').getValue()});\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"height\":\"400\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"600\",\"buttons\":\"array1\",\"buttonAlign\":\"center\",\"beforeclose\":\"setReadonly('VAL_SET_CODE',false);\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form2\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr1\",\"layout\":\"column\",\"columnWidth\":\".66\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_3\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".33\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"VAL_SET_ID\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_1\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>值集编码\",\"id\":\"VAL_SET_CODE\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_2\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>值集名称\",\"id\":\"VAL_SET_NAME\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr2\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_2_1\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\"0.9\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"值集描述\",\"id\":\"VAL_SET_DESC\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr3\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_3_1\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"value\":\"U\",\"labelAlign\":\"right\",\"pickList\":\"[['S','系统'],['U','用户']]\",\"fieldLabel\":\"值集类型\",\"id\":\"VAL_SET_TYPE\",\"labelWidth\":\"80\",\"readOnly\":\"true\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_3_2\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"value\":\"Y\",\"labelAlign\":\"right\",\"pickList\":\"[['Y','是'],['N','否']]\",\"fieldLabel\":\"启用状态\",\"id\":\"ENABLE_FLAG\",\"labelWidth\":\"80\"}]}]},{\"xwlMeta\":\"hiddenField\",\"id\":\"operateFlag\"}]},{\"xwlMeta\":\"grid\",\"store\":\"store2\",\"columns\":\"grid2arry1\",\"pagingToolbar\":\"false\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"grid2\",\"tbar\":\"toolbar2\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form1\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"值集编码\",\"id\":\"zjbmquery\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tselectsestajax.request();\\nWb.load(store1);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"值集名称\",\"id\":\"zjmc\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tselectsestajax.request();\\nWb.load(store1);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"selectgrid1\",\"text\":\"查询\",\"click\":\"selectsestajax.request();\\nWb.load(store1);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetgrid1\",\"text\":\"重置\",\"click\":\"form1.form.reset();\\nWb.load(store1);\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"gridarry\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"edit_grid1.fireEvent('click');\"}]}]}","值集管理",null,0,0,"admin","2015-01-23 09:26:13.0","admin","2015-08-31 15:24:49.0",2],["23W0CDJH1JO3","23VL9CC5TPUO",null,"Touch","phone_icon",0,0,"admin","2015-01-23 11:19:17.0","admin","2015-01-23 11:19:17.0",60],["23W0CDJH1JO4","23W0CDJH1JO3",null,"Login",null,0,0,"admin","2015-01-23 11:19:50.0","admin","2015-01-23 11:19:50.0",5],["23W0CDJH1JO6","23W0CDJH1JO4","{\"id\":\"module\",\"title\":\"兴竹集成开发平台2.0登录\",\"xwlMeta\":\"module\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"children\":[{\"id\":\"loginAjax\",\"failure\":\"loginName.focus();\",\"xwlMeta\":\"ajax\",\"failureConfirm\":\"var s=Wb.optString(response.responseText);\\nWb.warning(s);\",\"output\":\"loginFS\",\"success\":\"var resp = Wb.decode(response.responseText);\\nif(resp.flag===0){\\n  window.location=Wb.decode64(resp.msg);\\n}\\nif(resp.flag===1){\\n  Wb.warning('用户不存在！',function(){loginName.focus(); });\\n}\\nif(resp.flag===2){\\n  Wb.warning('密码不正确！',function(){decPassword.focus();});\\n}\",\"url\":\"{#contextPath#}/platformAction.do?method=mobileLogin\"},{\"id\":\"tviewport1\",\"xwlMeta\":\"tviewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"loginForm\",\"xwlMeta\":\"tform\",\"children\":[{\"id\":\"loginTitleBar\",\"title\":\"登录兴竹集成开发平台2.0\",\"xwlMeta\":\"ttoolbar\",\"type\":\"titlebar\"},{\"id\":\"loginFS\",\"instructions\":\"请录入登录信息，用户名和密码不能为空\",\"xwlMeta\":\"tfieldSet\",\"children\":[{\"id\":\"loginName\",\"xwlMeta\":\"ttext\",\"label\":\"用户名\"},{\"id\":\"decPassword\",\"xwlMeta\":\"ttext\",\"label\":\"密  码\",\"type\":\"password\"},{\"id\":\"password\",\"xwlMeta\":\"thiddenField\"},{\"id\":\"url\",\"xvalue\":\"'{#url#}'\",\"xwlMeta\":\"thiddenField\"}]},{\"id\":\"tcontainer1\",\"defaults\":\"{style:'margin:8px',flex:1}\",\"xwlMeta\":\"tcontainer\",\"layout\":\"hbox\",\"children\":[{\"id\":\"loginButton\",\"text\":\"登录\",\"xwlMeta\":\"tbutton\",\"tap\":\"var loginUrl = '{#contextPath#}/platformAction.do?method=personalLogin';\\nif(loginName.getValue()===''){\\n  Wb.warning('用户名不能为空',function(){loginName.focus();});\\n  return;\\n}\\nif(decPassword.getValue()===''){\\n  Wb.warning('密码不能为空',function(){decPassword.focus();});\\n  return;\\n}\\nvar passwd = hex_md5(decPassword.getValue());\\nvar loginSuccess = 'N';\\npassword.setXvalue(passwd);\\nExt.Ajax.request({\\n  url : loginUrl,\\n  params:{\\n    loginName:loginName.getValue().toUpperCase(),\\n    password:passwd\\n  },\\n  method: 'POST',\\n  async : false,\\n  success: function(response,options){\\n    var resp = Ext.JSON.decode(response.responseText);\\n    if(resp.flag==='0'){\\n      window.location.href=resp.url;\\n    }else{\\n      Ext.Msg.alert(\\\"提示\\\", resp.msg);\\n      return;\\n    }\\n  },\\n  failure: function(response,options){\\n    Ext.Msg.alert('错误','失败，服务器没有响应');\\n    return;\\n  }\\n});\\n\"},{\"id\":\"resetButton\",\"text\":\"重置\",\"xwlMeta\":\"tbutton\",\"tap\":\"loginName.setValue(\\\"\\\");\\ndecPassword.setValue(\\\"\\\");\\nloginName.focus();\"}]}]}]}],\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"loginRequired\":\"false\",\"touchMode\":\"true\"}","Login",null,0,0,"admin","2015-01-23 11:20:26.0","admin","2015-07-01 18:08:15.0",1],["23W0CDJH1KZ9","23W0CDJH1JGO",null,"DATA",null,1,0,"admin","2015-01-23 14:46:46.0","admin","2015-06-02 16:34:34.0",4],["23W0CDJH1L0J","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"selelctsets\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#zjbmquery#}%\"},{\"id\":\"attribute2\",\"xwlMeta\":\"attribute\",\"value\":\"%{#zjmc#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select * from XIP_PUB_VAL_SETS \\nWHERE\\nVAL_SET_CODE  like {?attribute1?}    and   VAL_SET_NAME  like  {?attribute2?} \",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selelctsets",null,0,0,"admin","2015-01-23 14:47:17.0","admin","2015-05-11 15:13:59.0",1],["23W0CDJH1LVJ","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"read\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select * from XIP_PUB_VAL_SET_DTL where VAL_SET_CODE ={?VAL_SET_CODE?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","read",null,0,0,"admin","2015-01-23 15:52:56.0","admin","2015-02-03 14:39:45.0",8],["23W0CDJH1LVL","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"update\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update   XIP_PUB_VAL_SET_DTL \\nset VAL_CODE = {?VAL_CODE?},\\nVAL_NAME = {?VAL_NAME?} ,\\nDESCRIPTION = {?DESCRIPTION?},\\nENABLE_FLAG = {?ENABLE_FLAG?} ,\\nLAST_UPDATED_BY={?XIP.userId?},\\nLAST_UPDATE_DATE= {?timestamp.sys.date?}\\nwhere VAL_SET_DTL_ID = {?VAL_SET_DTL_ID?} \",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\"}","update",null,0,0,"admin","2015-01-23 15:53:14.0","admin","2015-06-19 15:28:00.0",10],["23W0CDJH1LVN","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"create\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_VAL_SET_DTL(VAL_SET_DTL_ID,\\n                                VAL_SET_CODE,\\n                                VAL_CODE,\\n                                VAL_NAME,\\n                                DESCRIPTION,\\n                                ENABLE_FLAG,\\n                                CREATED_BY,\\n                                CREATION_DATE,\\n                                LAST_UPDATED_BY,\\n                                LAST_UPDATE_DATE\\n) values\\n(\\n {?VAL_SET_DTL_ID?},\\n {?VAL_SET_CODE?},\\n {?VAL_CODE?},\\n {?VAL_NAME?},\\n {?DESCRIPTION?},\\n {?ENABLE_FLAG?},\\n  {?XIP.userId?},\\n {?timestamp.sys.date?},\\n {?XIP.userId?},\\n {?timestamp.sys.date?}\\n)\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"},{\"id\":\"response1\",\"xwlMeta\":\"response\",\"object\":\"returns\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nvar i, r=Wb.decode(result);\\nr=Wb.encode(r);\\nrequest.setAttribute('returns',r);\\nrequest.setAttribute('rows',r);\",\"loginRequired\":\"false\"}","create",null,0,0,"admin","2015-01-23 15:53:32.0","admin","2015-06-19 15:27:27.0",9],["23W0CDJH1LVP","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"destory\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_VAL_SET_DTL where VAL_SET_DTL_ID = {?VAL_SET_DTL_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\"}","destroy",null,0,0,"admin","2015-01-23 15:54:13.0","admin","2015-05-22 18:21:21.0",11],["23W0CDJH1MFJ","23W090GMALLT","{\"id\":\"module\",\"title\":\"Get Apps\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT T.APP_ID ID, T.APP_CODE CODE, T.APP_NAME NAME\\n  FROM XIP_PUB_APPS T\\n WHERE EXISTS (SELECT 1\\n          FROM XIP_PUB_APP_SEC A\\n         WHERE T.APP_ID = A.APP_ID\\n           AND A.USER_ID = {?XIP.userId?})\\n   AND T.ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Get Apps",null,0,0,"admin","2015-01-24 23:10:54.0","admin","2015-01-24 23:26:06.0",1],["23W0CDJH1OJQ","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"insertgrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(1) as \\\"CT\\\" from XIP_PUB_VAL_SETS a where a.VAL_SET_CODE={?VAL_SET_CODE?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"值集编码【'{#VAL_SET_CODE#}'】已存在！\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkNameExist\",\"sql\":\"select count(1) as \\\"CT\\\" from XIP_PUB_VAL_SETS a where a.VAL_SET_NAME={?VAL_SET_NAME?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"值集名称【'{#VAL_SET_NAME#}'】已存在！\",\"id\":\"except2\",\"xwlMeta\":\"except\",\"name\":\"checkNameExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"INSERT INTO XIP_PUB_VAL_SETS\\n  (VAL_SET_ID,\\n   VAL_SET_CODE,\\n   VAL_SET_NAME,\\n   VAL_SET_DESC,\\n   VAL_SET_TYPE,\\n   ENABLE_FLAG,\\n  CREATED_BY,\\n  CREATION_DATE,\\n  LAST_UPDATED_BY,\\n  LAST_UPDATE_DATE\\n)\\nVALUES\\n  ({?VAL_SET_ID?},\\n   {?VAL_SET_CODE?},\\n   {?VAL_SET_NAME?},\\n   {?VAL_SET_DESC?},\\n   {?VAL_SET_TYPE?},\\n   {?ENABLE_FLAG?},\\n  {?XIP.userId?},\\n {?timestamp.sys.date?},\\n {?XIP.userId?},\\n {?timestamp.sys.date?}\\n)\\n\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","insertgrid1",null,0,0,"admin","2015-01-26 14:58:24.0","admin","2015-06-19 15:21:38.0",3],["23W0CDJH1OOF","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"updategrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(1) as \\\"CT\\\" from XIP_PUB_VAL_SETS a where a.VAL_SET_CODE={?VAL_SET_CODE?} and a.VAL_SET_ID<>{?VAL_SET_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"值集编码【'{#VAL_SET_CODE#}'】已存在！\",\"id\":\"except\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkExist1\",\"sql\":\"select count(1) as \\\"CT\\\" from XIP_PUB_VAL_SETS a where a.VAL_SET_NAME={?VAL_SET_NAME?} and a.VAL_SET_ID<>{?VAL_SET_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"值集名称【'{#VAL_SET_NAME#}'】已存在！\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExist1.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"update XIP_PUB_VAL_SETS \\nset VAL_SET_CODE = {?VAL_SET_CODE?},\\nVAL_SET_NAME = {?VAL_SET_NAME?},\\nVAL_SET_DESC = {?VAL_SET_DESC?},\\nVAL_SET_TYPE = {?VAL_SET_TYPE?},\\nENABLE_FLAG = {?ENABLE_FLAG?},\\nLAST_UPDATED_BY={?XIP.userId?},\\nLAST_UPDATE_DATE= {?timestamp.sys.date?}\\nWHERE VAL_SET_ID = {?VAL_SET_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","updategrid1",null,0,0,"admin","2015-01-26 15:03:53.0","admin","2015-06-19 15:22:54.0",4],["23W0CDJH1REH","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"获取UUID\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"response1\",\"text\":\"{returnUuid:'{#uuid#}'}\",\"xwlMeta\":\"response\"}],\"initScript\":\"request.setAttribute(\\\"uuid\\\",java.util.UUID.randomUUID());\",\"loginRequired\":\"false\"}","获取UUID",null,0,0,"admin","2015-01-27 09:37:05.0","admin","2015-01-28 17:41:31.0",7],["23W173S8UUEI","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"getDeptPosition\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT D.DEPT_ID,\\n                 D.DEPT_CODE || '/' || D.DEPT_NAME AS CODENAME,\\n                 D.DEPT_NAME,\\n                 P.POST_ID,\\n                 P.POST_CODE,\\n                 P.POST_NAME,\\n                 P.ORG_ID,\\n                 P.ENABLE_FLAG,\\n                 P.ATTRIBUTE1,\\n                 P.ATTRIBUTE4,\\n                 p.ATTRIBUTE3,\\n                 (select count(*) from xip_pub_emp_asg a WHERE A.POST_ID = P.POST_ID) EMP_NUM\\n            FROM XIP_PUB_DEPTS D, XIP_PUB_POSTS P\\n           WHERE D.DEPT_ID = P.DEPT_ID\\n             AND P.ORG_ID = {?orgComobox?}\\n             AND D.DEPT_ID={?deptId?}\\n            AND (P.POST_CODE LIKE '%{#POST_NAME#}%' OR P.POST_NAME LIKE '%{#POST_NAME#}%') \\n           order by P.CREATION_DATE DESC\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getDeptPositionByDeptId",null,0,0,"admin","2015-01-25 20:19:44.0","admin","2015-06-18 18:16:26.0",4],["23W1E7WEJWIK","23W06BGDKYGT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"addDept\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_depts x where x.dept_code={?treeDeptCode?} and x.org_id={?orgComobox?}\\n\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"error\",\"message\":\"部门编码【{#treeDeptCode#}】已存在！\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"checkExists1\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_depts x where x.dept_name={?treeDeptName?} and x.org_id={?orgComobox?}\\n\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"error1\",\"message\":\"部门名称【{#treeDeptName#}】已存在！\",\"name\":\"checkExists1.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"deptOrder\",\"sql\":\"SELECT count(*)+1  AS \\\"TMP_ORDER\\\" FROM xip_pub_depts WHERE org_id={?orgComobox?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_pub_depts\\n\\t\\t  (dept_id,\\n\\t\\t   dept_code,\\n\\t\\t   dept_name,\\n\\t\\t   dept_short_name,\\n\\t\\t   up_dp_id,\\n\\t\\t   org_id,\\n\\t\\t   enable_flag,\\n\\t\\t   creation_date,\\n\\t\\t   created_by,\\n\\t\\t   last_update_date,\\n\\t\\t   last_updated_by,\\n\\t\\t   last_update_login,\\n           seq_updept\\n\\t\\t)values(\\n\\t\\t   \\t{?primaryKey?},\\n\\t\\t  {?treeDeptCode?},\\n\\t\\t   {?treeDeptName?},\\n   {?treeDeptDesc?}, \\n\\t\\t   \\t{?upDeptId?},\\n\\t\\t   \\t{?orgComobox?},\\n\\t\\t   \\t{?isEnabled?},\\n\\t\\t  {?timestamp.sys.date?},\\n{?XIP.userId?},\\n{?timestamp.sys.date?},\\n{?XIP.userId?},\\n{?XIP.userId?},\\n{#deptOrder.TMP_ORDER#}\\n\\t\\t)\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{key:'{#primaryKey#}'}\"}]}","addDept",null,0,0,"admin","2015-01-26 09:19:19.0","23XQ4B4KHDBQ","2015-08-28 15:13:34.0",5],["23W1F6YXRH5N","23VLH4ZGX3X1","{\"id\":\"module\",\"title\":\"saveShortcut\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"insert into xip_pub_user_shortcuts\\n  (USER_SHORTCUTS_ID,\\n   USER_ID,\\n   FUN_TREE_ID,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ('{#uuid#}',\\n   '{#userId#}',\\n   '{#funTreeId#}',\\n   {?timestamp.sys.date?},\\n   '{#userId#}'\\n  )\",\"xwlMeta\":\"dataProvider\"}],\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nrequest.setAttribute(\\\"userId\\\",userId);\\n\",\"loginRequired\":\"false\"}","saveShortcut",null,0,0,"admin","2015-01-26 15:15:18.0","admin","2015-03-18 17:34:03.0",5],["23W1F6YXRH5P","23VLH4ZGX3X1","{\"id\":\"module\",\"title\":\"checkShortcusExist\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select *\\n  from xip_pub_user_shortcuts s\\n where s.fun_tree_id = '{#funTreeId#}'\\n   and s.user_id = '{#userId#}'\",\"xwlMeta\":\"dataProvider\"}],\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nrequest.setAttribute(\\\"userId\\\",userId);\\n\",\"loginRequired\":\"false\"}","checkShortcusExist",null,0,0,"admin","2015-01-26 15:15:56.0","admin","2015-03-18 17:33:56.0",4],["23W1FXLQP0A4","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"deptSaveCheck\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select DEPT_ID from xip_pub_depts where dept_code='{#deptCode#}'\",\"xwlMeta\":\"dataProvider\"}]}","deptSaveCheck",null,0,0,"admin","2015-01-26 14:10:56.0","admin","2015-04-23 12:54:26.0",6],["23W1P8WKIXML","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"deptEdit\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_depts t where t.dept_code={?treeDeptCode?} \\nand t.dept_id<>{?deptId?}\\nand t.org_id={?orgComobox?}\\n\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"部门编码已存在！\",\"id\":\"error\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"update\",\"sql\":\"update xip_pub_depts\\n\\t\\t   set dept_code = {?treeDeptCode?},\\n\\t\\t       dept_name = {?treeDeptName?},\\n\\t\\t       dept_short_name = {?treeDeptDesc?},\\n\\t\\t       enable_flag = {?isEnabled?},\\n\\t\\t       last_update_date ={?timestamp.sys.date?},\\n\\t\\t       last_updated_by = {?XIP.userId?},\\n\\t\\t       last_update_login = {?XIP.userId?}\\n\\t\\t where dept_id = {?deptId?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deptEdit",null,0,0,"admin","2015-01-27 08:54:06.0","admin","2015-08-06 13:59:34.0",7],["23W1P8WKIXUV","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"deptDelete\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkdeptExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_depts a where a.UP_DP_ID={?deptId?}\\n\\n\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"部门下存在子部门，请重新选择！\",\"id\":\"error1\",\"xwlMeta\":\"except\",\"name\":\"checkdeptExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkPosExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_posts a where a.DEPT_ID={?deptId?}\\n\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"部门下已存在岗位，请重新选择！\",\"id\":\"error\",\"xwlMeta\":\"except\",\"name\":\"checkPosExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkPosAscExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_emp_asg a where a.DEPT_ID={?deptId?}\\n\\n\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"部门的分配信息已存在，请重新选择！\",\"id\":\"error2\",\"xwlMeta\":\"except\",\"name\":\"checkPosAscExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"delDept\",\"sql\":\"delete  from xip_pub_depts where dept_id = {?deptId?}\\n\\n\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deptDelete",null,0,0,"admin","2015-01-27 09:23:32.0","admin","2015-06-03 17:49:53.0",8],["23W1P8WKIY7B","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"getEnableFlag\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select l.VAL_CODE, l.VAL_NAME\\n  from xip_pub_val_set_dtl l\\n where l.val_set_code = 'YN'\\n   and l.enable_flag = 'Y'\",\"xwlMeta\":\"dataProvider\"}]}","getEnableFlag",null,0,0,"admin","2015-01-27 10:54:54.0","admin","2015-04-23 12:53:46.0",12],["23W1P8WKIYFU","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"positionAdd\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_posts where post_code ={?positionCode?}\\n\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"id\":\"codeExist\",\"message\":\"岗位编号已存在！\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"insert1\",\"sql\":\"insert into xip_pub_posts \\n(\\n  post_id,\\n  post_code,\\n  post_name,\\n  org_id,\\n  dept_id,\\n  enable_flag,\\n   creation_date,\\n\\t\\t   created_by,\\n\\t\\t   last_update_date,\\n\\t\\t   last_updated_by,\\n\\t\\t   last_update_login\\n)values(\\n  {?primaryKey?},\\n  {?positionCode?},\\n  {?positionName?},\\n  {?winOrgId?},\\n  {?winDeptId?},\\n  {?isUse?},\\n  {?timestamp.sys.date?},\\n{?XIP.userId?},\\n{?timestamp.sys.date?},\\n{?XIP.userId?},\\n{?XIP.userId?}\\n)\\n\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{key:'{#primaryKey#}'}\",\"xwlMeta\":\"response\"}]}","positionAdd",null,0,0,"admin","2015-01-27 12:38:08.0","admin","2015-04-24 17:06:27.0",10],["23W1P8WKIYLH","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"positionEdit\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(1) as \\\"CT\\\" from xip_pub_posts where post_code={?positionCode?} and post_id<>{?positionId?} \\nand dept_id={?winDeptId?}\\n\\n\\n\\n\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"id\":\"except1\",\"message\":\"岗位编号已经存在！\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"update1\",\"sql\":\"update xip_pub_posts \\n  set\\n      post_code={?positionCode?},\\n      post_name={?positionName?},\\n      enable_flag={?isUse?},\\n      last_update_date={?timestamp.sys.date?},\\n\\t\\t      last_updated_by={?XIP.userId?},\\n\\t\\t      last_update_login={?XIP.userId?}\\n  where \\n      post_id = {?positionId?}\",\"xwlMeta\":\"query\"}]}","positionEdit",null,0,0,"admin","2015-01-27 13:27:10.0","admin","2015-04-30 13:27:36.0",11],["23W1P8WKIYPJ","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"positionDel\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkPosAscExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_emp_asg a where a.POST_ID IN({#postId#})\\n\\n\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"岗位下的分配信息已存在，请重新选择！\",\"id\":\"error2\",\"xwlMeta\":\"except\",\"name\":\"checkPosAscExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"delete1\",\"sql\":\"delete from xip_pub_posts where post_id in ({#postId#})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","positionDel",null,0,0,"admin","2015-01-27 14:01:01.0","admin","2015-06-03 17:57:37.0",13],["23W1PMZVOSUX","23VVZ3QMOKQA",null,"应用管理",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-03-18 11:11:23.0",7],["23W1PMZVOSUY","23W1PMZVOSUX","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"应用管理\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar userName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userName');\\nvar empName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('empName');\\n\\nvar authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nvar roleId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleId');\\nvar roleName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleName');\\nvar roleCode = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleCode');\\n\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\nrequest.setAttribute(\\\"empName\\\",empName);\\n\\nrequest.setAttribute(\\\"authModel\\\",authModel);\\nrequest.setAttribute(\\\"roleId\\\",roleId);\\nrequest.setAttribute(\\\"roleName\\\",roleName);\\nrequest.setAttribute(\\\"roleCode\\\",roleCode);\\n\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n\\nvar godMoadl = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('godMode');\\nrequest.setAttribute(\\\"godMoadl\\\",godMoadl);\",\"cssFiles\":\"[\\\"common/css/default.css\\\"]\",\"initialize\":\"//启用编辑窗口的可操作按钮\\nfunction enableEditApp(){\\n  saveBtn_appWin.enable();\\n  saveAndAddBtn_appWin.enable();\\n  \\n  addSecBtn.enable();\\n  delSecBtn.enable();\\n}\\n\\n//禁用编辑窗口的可操作按钮\\nfunction disableEditApp(){\\n  saveBtn_appWin.disable();\\n  saveAndAddBtn_appWin.disable();\\n  \\n  addSecBtn.disable();\\n  delSecBtn.disable();\\n}\\n\\nfunction operatorDbInfos(flag){\\n  setReadonly('DB_TYPE',flag);\\n  setReadonly('DB_USER',flag);\\n  setReadonly('DB_URL',flag);\\n  setReadonly('DB_PASSWORD',flag);\\n}\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"requests\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23W1PMZVOSV1 (enableOrDisableApp)\",\"id\":\"ajax_app_enable\",\"failure\":\"Ext.Msg.alert('提示','启用应用失败！');\",\"success\":\"Ext.Msg.alert('提示','启用应用成功！');\\n\\nappStore.load();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1PMZVOSV1 (enableOrDisableApp)\",\"id\":\"ajax_app_disable\",\"failure\":\"Ext.Msg.alert('提示','停用应用失败！');\",\"success\":\"Ext.Msg.alert('提示','停用应用成功！');\\n\\nappStore.load();\"},{\"xwlMeta\":\"ajax\",\"async\":\"true\",\"url\":\"#23W1PMZVOSVD (insertApp)\",\"id\":\"ajax_app_insert\",\"failure\":\"Ext.Msg.alert('提示','新增应用失败！');\\n\\nExt.getCmp('APP_ID').setValue('');\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\nif(resultJson.afterSec=='1'){\\n  userSelectWin.show();\\n  Ext.getCmp('userSelectWinAppId').setValue(Ext.getCmp('APP_ID').getValue());\\n  userSelectStore.load();\\n}else{\\n  Ext.Msg.alert('提示','新增应用成功！');\\n}\"},{\"xwlMeta\":\"ajax\",\"async\":\"true\",\"url\":\"#23W1PMZVOSVD (insertApp)\",\"id\":\"ajax_app_insert_continue\",\"failure\":\"Ext.Msg.alert('提示','新增应用失败！');\\n\\nExt.getCmp('APP_ID').setValue('');\",\"success\":\"Ext.getCmp('userSelectWinAppId').setValue('');\\nAPP_ID.setValue('');\\nappWin.setTitle('应用新增');\\nExt.getCmp('APP_ID').setValue('');\\nExt.getCmp('APP_CODE').setValue('');\\nExt.getCmp('APP_NAME').setValue('');\\nExt.getCmp('WEB_HOST').setValue('');\\nExt.getCmp('WEB_PROJECT').setValue('');\\nExt.getCmp('ENABLE_FLAG').setValue('Y');\\nExt.getCmp('WEB_PORT').setValue('');\\nExt.getCmp('IN_XIP').setValue('N');\\nExt.getCmp('DB_TYPE').setValue('');\\nExt.getCmp('DB_USER').setValue('');\\nExt.getCmp('LOGIN_URL').setValue('');\\nExt.getCmp('DB_URL').setValue('');\\nExt.getCmp('DB_PASSWORD').setValue('');\\nWEB_HOST.setDisabled(false);\\nappSecStore.load();\\nExt.Msg.alert('提示','新增应用成功！');\\n\\n\"},{\"xwlMeta\":\"ajax\",\"async\":\"true\",\"url\":\"#23W1PMZVOSV6 (updateApp)\",\"id\":\"ajax_app_update\",\"failure\":\"Ext.Msg.alert('提示','更新应用失败！');\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\nif(resultJson.afterSec=='1'){\\n  userSelectWin.show();\\n  Ext.getCmp('userSelectWinAppId').setValue(Ext.getCmp('APP_ID').getValue());\\n  userSelectStore.load();\\n}else{\\n  Ext.Msg.alert('提示','更新应用成功！');\\n}\"},{\"xwlMeta\":\"ajax\",\"async\":\"true\",\"url\":\"#23W1PMZVOSV6 (updateApp)\",\"id\":\"ajax_app_update_continue\",\"failure\":\"Ext.Msg.alert('提示','更新应用失败！');\",\"success\":\"Ext.getCmp('userSelectWinAppId').setValue('');\\nAPP_ID.setValue('');\\nappWin.setTitle('应用新增');\\nExt.getCmp('APP_CODE').setValue('');\\nExt.getCmp('APP_NAME').setValue('');\\nExt.getCmp('WEB_HOST').setValue('');\\nExt.getCmp('WEB_PROJECT').setValue('');\\nExt.getCmp('ENABLE_FLAG').setValue('Y');\\nExt.getCmp('WEB_PORT').setValue('');\\nExt.getCmp('IN_XIP').setValue('N');\\nExt.getCmp('DB_TYPE').setValue('');\\nExt.getCmp('DB_USER').setValue('');\\nExt.getCmp('LOGIN_URL').setValue('');\\nExt.getCmp('DB_URL').setValue('');\\nExt.getCmp('DB_PASSWORD').setValue('');\\nWEB_HOST.setDisabled(false);\\nappSecStore.load(); \\nWb.message('保存成功！');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1PMZVOSV5 (deleteAppSecById)\",\"id\":\"ajax_appSec_delete\",\"failure\":\"Ext.Msg.alert('提示','应用授权失败！');\",\"success\":\"Ext.Msg.alert('提示','应用授权删除成功！');\\n\\nappSecStore.load();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1PMZVOSV9 (insertAppSec)\",\"id\":\"ajax_appSec_insert\",\"success\":\"userSelectWin.close();\\nappSecStore.load();\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X1W5D13MBQ (appDelAjax)\",\"id\":\"appDelAjax\",\"failure\":\"Wb.warning('删除应用失败！');\",\"success\":\"Wb.warning('删除成功！');\\nWb.load(appStore);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"renderStore\",\"autoLoad\":\"true\",\"url\":\"#23W1PMZVOSVB (getRenderStore)\",\"load\":\"appStore.load();\"},{\"xwlMeta\":\"store\",\"id\":\"appStore\",\"url\":\"#23W1PMZVOSV0 (getApps)\",\"output\":\"fieldSet1\"},{\"xwlMeta\":\"store\",\"id\":\"appQueryByIdStore\",\"url\":\"#23W1PMZVOSV8 (queryById)\",\"load\":\"if(appQueryByIdStore.getAt(0)) {\\n  var record = appQueryByIdStore.getAt(0);\\n  appForm.loadRecord(record);\\n  \\n  var dbName = record.get('DB_NAME')===null?'':record.get('DB_NAME');\\n  var enableFlag = record.get('ENABLE_FLAG')===null?'':record.get('ENABLE_FLAG');\\n  var inXip = record.get('IN_XIP')===null?'':record.get('IN_XIP');  \\n  if(enableFlag=='Y'){\\n    enableFlag='是';\\n  }else if(enableFlag=='N'){\\n    enableFlag='否';  \\n  }\\n  \\n  if(inXip=='Y'){\\n    inXip='是';\\n    //WEB_HOST.setDisabled(true);  \\n    setReadonly('WEB_HOST',true);\\n    operatorDbInfos(true);\\n  }else if(inXip=='N'){\\n    inXip='否';\\n    //WEB_HOST.setDisabled(false);\\n    setReadonly('WEB_HOST',false);\\n    operatorDbInfos(false);\\n  }\\n  \\n  if(!Ext.isEmpty(dbName)){\\n    dbTypeStore.load(function(){\\n      Ext.getCmp('DB_TYPE').setValue(record.get('DB_TYPE'));\\n      Ext.getCmp('DB_TYPE').setRawValue(dbName);\\n      DB_TYPE.collapse();\\n    });\\n  }\\n  \\n  Ext.getCmp('ENABLE_FLAG').setRawValue(enableFlag);\\n  Ext.getCmp('IN_XIP').setRawValue(inXip);\\n  \\n  appSecStore.load();\\n  \\n  //根据上帝模式以及是否是系统内置应用来控制应用编辑窗口的按钮可用情况\\n  if('{#godMoadl#}' != 'Y'){\\n    if(record.get('IS_SYS')=='S'){\\n      disableEditApp();\\n    }else{\\n      enableEditApp();\\n    }\\n  }else{\\n    enableEditApp();\\n  }\\n}\",\"beforeload\":\"appWin.show();\"},{\"xwlMeta\":\"store\",\"data\":\"[['Y','是'],['N','否']]\",\"id\":\"enableStore\",\"autoLoad\":\"true\",\"fields\":\"['CODE', 'NAME']\"},{\"xwlMeta\":\"store\",\"data\":\"[['Y','是'],['N','否']]\",\"id\":\"inOutXipStore\",\"autoLoad\":\"true\",\"fields\":\"['CODE', 'NAME']\"},{\"xwlMeta\":\"store\",\"id\":\"dbTypeStore\",\"autoLoad\":\"true\",\"url\":\"#23W1PMZVOSV4 (getDbType)\"},{\"xwlMeta\":\"store\",\"id\":\"appSecStore\",\"proxy\":\"{\\n  type:\\\"ajax\\\",\\n  api: {\\n    read: 'main?xwl=23W1PMZVOSV3',\\n    create: 'main?xwl=23W1PMZVOSV9',\\n    destroy: 'main?xwl=23W1PMZVOSV5'\\n  },\\n  reader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\n  listeners:{\\n    exception:function(proxy,response,operation,options){\\n      Wb.except(response.responseText);\\n    }\\n  }\\n}\",\"url\":\"#23W1PMZVOSV3 (getAppSecByAppId)\",\"output\":\"appForm\"},{\"xwlMeta\":\"store\",\"id\":\"userSelectStore\",\"url\":\"#23W1PMZVOSVC (getUsers)\",\"output\":\"userSelectForm\"}]},{\"xwlMeta\":\"folder\",\"id\":\"tbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"gridToolBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addBtn\",\"text\":\"新增\",\"click\":\"//Ext.getCmp('appForm').getForm().reset();\\nappWin.setTitle('应用新增');\\nappWin.show();\\nsetReadonly('WEB_HOST',false);\\noperatorDbInfos(false);\\nExt.getCmp('APP_ID').setValue('');\\nExt.getCmp('APP_CODE').setValue('');\\nExt.getCmp('APP_NAME').setValue('');\\nExt.getCmp('WEB_HOST').setValue('');\\nExt.getCmp('WEB_PROJECT').setValue('');\\nExt.getCmp('ENABLE_FLAG').setValue('Y');\\nExt.getCmp('WEB_PORT').setValue('');\\nExt.getCmp('IN_XIP').setValue('N');\\nExt.getCmp('DB_TYPE').setValue('');\\nExt.getCmp('DB_USER').setValue('');\\nExt.getCmp('LOGIN_URL').setValue('');\\nExt.getCmp('DB_URL').setValue('');\\nExt.getCmp('DB_PASSWORD').setValue('');\\n\\n\\n//addSecBtn.disable();\\n//delSecBtn.disable();\\n\\nenableEditApp();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"text\":\"修改\",\"click\":\"appWin.setTitle('应用编辑');\\nvar rows = appGrid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var id = rows[0].data.APP_ID;\\n  \\n  if(Ext.isEmpty(id)){\\n    Ext.Msg.alert('提示','请保存之后再进行此操作！');\\n    return;\\n  }\\n  \\n  appQueryByIdStore.load({params:{appId:id}});\\n  //addSecBtn.enable();\\n  //delSecBtn.enable();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-unlock\",\"id\":\"enableBtn\",\"text\":\"启用\",\"hidden\":\"true\",\"click\":\"var rows = appGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var id = rows[0].data.APP_ID;\\n  ajax_app_enable.request({flag:'Y',appId:id});\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\",\"hidden\":\"true\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-lock\",\"id\":\"disableBtn\",\"text\":\"停用\",\"hidden\":\"true\",\"click\":\"var rows = appGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var id = rows[0].data.APP_ID;\\n  ajax_app_disable.request({flag:'N',appId:id});\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\",\"hidden\":\"true\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-go\",\"id\":\"appSec\",\"text\":\"应用授权\",\"hidden\":\"true\",\"click\":\"var rows = appGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var id = rows[0].data.APP_ID;\\n  if(id==''||id==null){\\n    Ext.Msg.alert('提示','请保存后再执行此操作!');\\n    return;\\n  }\\n  appSecWin.show();\\n  Ext.getCmp('appId').setValue(id);\\n  appSecStore.load();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem6\",\"hidden\":\"true\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"delAppBtn\",\"text\":\"删除\",\"click\":\"var rows = appGrid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择要删除的应用!');\\n  return false;\\n}\\nWb.confirm('确认要删除所选的应用吗？',function(){\\n  appDelAjax.request({APP_ID:rows[0].data.APP_ID});\\n  \\n});\\n\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem11\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"appSecGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem7\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-auth\",\"id\":\"addSecBtn\",\"text\":\"添加授权\",\"click\":\"if(appForm.getForm().isValid()===false){\\n    Ext.Msg.alert('提示','应用信息不完整,请确认!');\\n    return;\\n  }\\nif(appForm.getForm().isDirty()===true){\\n  var appId = Ext.getCmp('APP_ID').getValue();\\n  var json = {\\n    appId:'',\\n    appCode:Ext.getCmp('APP_CODE').getValue(),\\n    appName:Ext.getCmp('APP_NAME').getValue(),\\n    appDesc:'',\\n    enableFlag:Ext.getCmp('ENABLE_FLAG').getValue(),\\n    webHost:Ext.getCmp('WEB_HOST').getValue(),\\n    webPort:Ext.getCmp('WEB_PORT').getValue(),\\n    webPorject:Ext.getCmp('WEB_PROJECT').getValue(),\\n    loginUrl:Ext.getCmp('LOGIN_URL').getValue(),\\n    dbUrl:Ext.getCmp('DB_URL').getValue(),\\n    dbType:Ext.getCmp('DB_TYPE').getValue(),\\n    dbUser:Ext.getCmp('DB_USER').getValue(),\\n    dbPassword:Ext.getCmp('DB_PASSWORD').getValue(),\\n    inXip:Ext.getCmp('IN_XIP').getValue(),\\n    userId:'{#userId#}',\\n    afterSec:'1'\\n  };\\n  \\n  if(IN_XIP.getValue()=='N' && Ext.isEmpty(WEB_HOST.getValue())){\\n    Wb.message('工程外应用，必须输入应用地址!');\\n    return;\\n  }\\n  \\n  if(Ext.isEmpty(appId)){//新增\\n    json.appId = Wb.getUuid();\\n    Ext.getCmp('APP_ID').setValue(json.appId);\\n    ajax_app_insert.request(json);\\n  }else{//更新\\n    json.appId = appId;\\n    ajax_app_update.request(json);\\n  } \\n}else{\\n  userSelectWin.show();\\n  Ext.getCmp('userSelectWinAppId').setValue(Ext.getCmp('APP_ID').getValue());\\n  userSelectStore.load();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem8\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-unauth\",\"id\":\"delSecBtn\",\"text\":\"删除授权\",\"click\":\"var rows = appSecGrid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  Ext.Msg.confirm('提示','确定要删除授权吗？',function(a){\\n    if(a=='yes'){\\n      var secIds = \\\"'emptyId'\\\";\\n      for(var i=0; i<rows.length; i++){\\n        secIds += ',' + \\\"'\\\" + (rows[i].data.SEC_ID) + \\\"'\\\";    \\n      }\\n      ajax_appSec_delete.request({secids:secIds});\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem9\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"btnArrays\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"appWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn_appWin\",\"text\":\"保存\",\"click\":\"if(appForm.getForm().isValid()===false){\\n  Ext.Msg.alert('提示','应用信息不完整,请确认!');\\n  return;\\n}\\nvar appId = Ext.getCmp('APP_ID').getValue();\\nvar json = {\\n  appId:'',\\n  appCode:Ext.getCmp('APP_CODE').getValue(),\\n  appName:Ext.getCmp('APP_NAME').getValue(),\\n  appDesc:'',\\n  enableFlag:Ext.getCmp('ENABLE_FLAG').getValue(),\\n  webHost:Ext.getCmp('WEB_HOST').getValue(),\\n  webPort:Ext.getCmp('WEB_PORT').getValue(),\\n  webPorject:Ext.getCmp('WEB_PROJECT').getValue(),\\n  loginUrl:Ext.getCmp('LOGIN_URL').getValue(),\\n  dbUrl:Ext.getCmp('DB_URL').getValue(),\\n  dbType:Ext.getCmp('DB_TYPE').getValue(),\\n  dbUser:Ext.getCmp('DB_USER').getValue(),\\n  dbPassword:Ext.getCmp('DB_PASSWORD').getValue(),\\n  inXip:Ext.getCmp('IN_XIP').getValue(),\\n  userId:'{#userId#}',\\n  afterSec:'0'\\n};\\n\\nif(IN_XIP.getValue()=='N' && Ext.isEmpty(WEB_HOST.getValue())){\\n  Wb.message('工程外应用，必须输入应用地址!');\\n  return;\\n}\\n\\nif(Ext.isEmpty(appId)){//新增\\n  json.appId = Wb.getUuid();\\n  Ext.getCmp('APP_ID').setValue(json.appId);\\n  ajax_app_insert.request(json);\\n}else{//更新\\n  json.appId = appId; \\n  ajax_app_update.request(json);\\n}\"},{\"xwlMeta\":\"button\",\"id\":\"saveAndAddBtn_appWin\",\"text\":\"保存并继续\",\"hidden\":\"true\",\"click\":\"if(appForm.getForm().isValid()===false){\\n  Ext.Msg.alert('提示','应用信息不完整,请确认!');\\n  return;\\n}\\nvar appId = Ext.getCmp('APP_ID').getValue();\\nvar json = {\\n  appId:'',\\n  appCode:Ext.getCmp('APP_CODE').getValue(),\\n  appName:Ext.getCmp('APP_NAME').getValue(),\\n  appDesc:'',\\n  enableFlag:Ext.getCmp('ENABLE_FLAG').getValue(),\\n  webHost:Ext.getCmp('WEB_HOST').getValue(),\\n  webPort:Ext.getCmp('WEB_PORT').getValue(),\\n  webPorject:Ext.getCmp('WEB_PROJECT').getValue(),\\n  loginUrl:Ext.getCmp('LOGIN_URL').getValue(),\\n  dbUrl:Ext.getCmp('DB_URL').getValue(),\\n  dbType:Ext.getCmp('DB_TYPE').getValue(),\\n  dbUser:Ext.getCmp('DB_USER').getValue(),\\n  dbPassword:Ext.getCmp('DB_PASSWORD').getValue(),\\n  inXip:Ext.getCmp('IN_XIP').getValue(),\\n  userId:'{#userId#}',\\n  afterSec:'0'\\n};\\n\\nif(IN_XIP.getValue()=='N' && Ext.isEmpty(WEB_HOST.getValue())){\\n  Wb.message('工程外应用，必须输入应用地址!');\\n  return;\\n}\\n\\nif(Ext.isEmpty(appId)){//新增 \\n  json.appId = Wb.getUuid();  \\n  Ext.getCmp('APP_ID').setValue(json.appId);\\n  ajax_app_insert_continue(json); \\n}else{//更新\\n  json.appId = appId;\\n  ajax_app_update_continue.request(json);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closeBtnAppWin\",\"text\":\"关闭\",\"click\":\"appWin.close();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"appGridColums\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"Row_num\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"COLUMN_APP_ID\",\"text\":\"应用id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_CODE\",\"id\":\"COLUMN_APP_CODE\",\"text\":\"应用编码\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"COLUMN_APP_NAME\",\"text\":\"应用名称\",\"width\":\"220\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"WEB_HOST\",\"id\":\"COLUMN_WEB_HOST\",\"renderer\":\"return value;\\n/*if(value==''){\\n   return '';\\n}else{\\n  return value + ':' + record.get('WEB_PORT') + '/' + record.get('WEB_PROJECT');\\n}*/\",\"text\":\"应用地址\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"WEB_PORT\",\"id\":\"COLUMN_WEB_PORT\",\"text\":\"应用端口\",\"width\":\"120\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"WEB_PROJECT\",\"id\":\"COLUMN_WEB_PROJECT\",\"text\":\"工程名\",\"width\":\"120\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DB_TYPE\",\"id\":\"COLUMN_DB_TYPE\",\"renderer\":\"if(value==null || value==''){\\n  return '';\\n}\\nvar index = renderStore.find('VAL_CODE',value);\\nif(index!=-1){\\n  var rawValue = renderStore.getAt(index).get('VAL_NAME');\\n  return rawValue;\\n}\\n\",\"text\":\"数据库类型\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"IN_XIP\",\"id\":\"COLUMN_IN_XIP\",\"renderer\":\"if(value=='Y'){\\n  return '是';\\n}else if(value=='N'){\\n  return '否';\\n}\",\"text\":\"是否工程内\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"COLUMN_ENABLE_FLAG\",\"renderer\":\"if(value=='Y'){\\n\\treturn '是';\\n}else{\\n\\t\\n   return '<font color=\\\"red\\\">否<\\/font>';\\n}\",\"text\":\"是否启用\",\"align\":\"center\",\"width\":\"60\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"VERSION\",\"id\":\"VERSION\",\"text\":\"版本号\",\"align\":\"center\"}]},{\"xwlMeta\":\"array\",\"id\":\"appSecGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"SEC_ID\",\"id\":\"COLUMN_SEC_ID1\",\"text\":\"授权id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"COLUMN_APP_ID1\",\"text\":\"应用id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"COLUMN_USER_ID1\",\"text\":\"用户id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"COLUMN_USER_NAME1\",\"text\":\"用户名称\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"COLUMN_EMP_NAME1\",\"text\":\"员工姓名\",\"width\":\"180\"}]},{\"xwlMeta\":\"array\",\"id\":\"userSelectGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"COLUMN_USER_ID\",\"text\":\"用户id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"COLUMN_USER_NAME\",\"text\":\"用户名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"COLUMN_EMP_CODE\",\"text\":\"员工编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"COLUMN_EMP_NAME\",\"text\":\"员工姓名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_TYPE\",\"id\":\"COLUMN_USER_TYPE\",\"renderer\":\"if(value=='S'){\\n  return '系统内置用户';\\n}else if(value=='U'){\\n  return '自定义用户';\\n}\",\"text\":\"员工类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"START_DATE\",\"id\":\"COLUMN_START_DATE\",\"text\":\"开始时间\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"END_DATE\",\"id\":\"COLUMN_END_DATE\",\"text\":\"结束时间\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"userSelectWin\",\"title\":\"添加授权用户\",\"height\":\"380\",\"layout\":\"border\",\"modal\":\"true\",\"width\":\"580\",\"clickOK\":\"var rows = userSelectGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择添加的记录!');\\n}else{\\n  var insertArray = new Array();\\n  \\n  for(var i=0; i<rows.length; i++){\\n    var _record = {secId:Wb.getUuid(), appId:Ext.getCmp('userSelectWinAppId').getValue(), userId:rows[i].data.USER_ID, create:'{#userId#}'};\\n    insertArray.push(_record);\\n  }\\n  \\n  ajax_appSec_insert.params.insertArray = Ext.JSON.encode(insertArray);\\n  ajax_appSec_insert.request();\\n  \\n  /*for(var i=0; i<rows.length; i++){\\n    ajax_appSec_insert.request({secId:Wb.getUuid(), appId:Ext.getCmp('userSelectWinAppId').getValue(), userId:rows[i].data.USER_ID, create:'{#userId#}'});\\n  } \\n  userSelectWin.close();*/\\n}\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"userSelectForm\",\"layout\":\"fit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet111\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"userSelectWinAppId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"selectedUserIds\",\"value\":\"'emptyId'\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"userName1\",\"labelWidth\":\"60\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n    userName1Upper.setValue(userName1.getValue().toUpperCase());\\n\\tuserSelectStore.load();\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"员工姓名\",\"id\":\"empName1\",\"labelWidth\":\"60\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tuserSelectStore.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn11\",\"text\":\"查询\",\"click\":\"userName1Upper.setValue(userName1.getValue().toUpperCase());\\nuserSelectStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"resetBtn11\",\"text\":\"重置\",\"click\":\"Ext.getCmp('userName1').setValue('');\\nExt.getCmp('empName1').setValue('');\\nuserSelectStore.load();\"},{\"xwlMeta\":\"text\",\"id\":\"userName1Upper\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"userSelectStore\",\"columns\":\"userSelectGridColumns\",\"region\":\"center\",\"id\":\"userSelectGrid\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"appWin\",\"title\":\"应用编辑\",\"height\":\"500\",\"layout\":\"fit\",\"resizable\":\"false\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"650\",\"buttons\":\"appWinBtns\",\"buttonAlign\":\"center\",\"beforeclose\":\"appForm.getForm().reset();\\nsetReadonly('WEB_HOST',false);\",\"hide\":\"appStore.load();\",\"beforehide\":\"appForm.getForm().reset();\\nsetReadonly('WEB_HOST',false);\",\"children\":[{\"xwlMeta\":\"form\",\"autoScroll\":\"true\",\"id\":\"appForm\",\"style\":\"border-width:0px\",\"layout\":\"anchor\",\"bodyStyle\":\"padding: 10px 10px 0px\",\"frame\":\"true\",\"afterrender\":\"appForm.getForm().trackResetOnLoad = true;\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用id\",\"id\":\"APP_ID\",\"labelWidth\":\"100\",\"width\":\"250\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"fieldSet\",\"autoScroll\":\"true\",\"collapsible\":\"true\",\"id\":\"fieldSet2\",\"title\":\"基础信息\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%'\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font style=\\\"color:red\\\">*<\\/font>应用编码\",\"id\":\"APP_CODE\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"inOutXipStore\",\"valueField\":\"CODE\",\"width\":\"280\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"工程内应用\",\"id\":\"IN_XIP\",\"displayField\":\"NAME\",\"select\":\"var value=IN_XIP.getValue();\\nvar addr=WEB_HOST.getValue();\\n\\nif(value=='N'){\\n  setReadonly('WEB_HOST',false);\\n  operatorDbInfos(false);\\n}\\n\\nif(value=='Y' ){\\n  WEB_HOST.setValue('');\\n  setReadonly('WEB_HOST',true);\\n  //Wb.reset(fieldSet3);\\n  \\n  DB_TYPE.setValue('');\\n  DB_USER.setValue('');\\n  DB_URL.setValue('');\\n  DB_PASSWORD.setValue('');\\n  \\n  operatorDbInfos(true);\\n  \\n  /*if(addr!==''){\\n    Ext.Msg.confirm('提示','选择是将清空应用地址并禁止填写，您确定么？',function(a){\\n      if(a=='yes'){\\n        WEB_HOST.reset();\\n        WEB_HOST.setValue('');\\n        setReadonly('WEB_HOST',true);\\n      }else{\\n        IN_XIP.setValue('N');\\n        return false ;\\n      }\\n    });\\n  }else{\\n    setReadonly('WEB_HOST',true);\\n  }*/\\n}\\n\"},{\"xwlMeta\":\"comboBox\",\"store\":\"enableStore\",\"valueField\":\"CODE\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"启用标记\",\"id\":\"ENABLE_FLAG\",\"displayField\":\"NAME\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel4\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font style=\\\"color:red\\\">*<\\/font>应用名称\",\"id\":\"APP_NAME\",\"allowBlank\":\"false\",\"width\":\"280\",\"hidden\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用地址\",\"id\":\"WEB_HOST\",\"vtypeText\":\"不是有效的地址，请重新输入。\",\"width\":\"280\",\"vtype\":\"url\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font style=\\\"color:red\\\">*<\\/font>应用端口\",\"id\":\"WEB_PORT\",\"allowBlank\":\"true\",\"width\":\"280\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font style=\\\"color:red\\\">*<\\/font>工程名\",\"id\":\"WEB_PROJECT\",\"allowBlank\":\"true\",\"width\":\"280\",\"hidden\":\"true\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"fieldSet\",\"autoScroll\":\"true\",\"collapsible\":\"true\",\"id\":\"fieldSet3\",\"title\":\"其它信息\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%'\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel5\",\"columnWidth\":\".46\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"dbTypeStore\",\"valueField\":\"VAL_CODE\",\"width\":\"280\",\"labelAlign\":\"right\",\"fieldLabel\":\"数据库类型\",\"id\":\"DB_TYPE\",\"displayField\":\"VAL_NAME\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"数据库用户\",\"id\":\"DB_USER\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"单点登录URL\",\"id\":\"LOGIN_URL\",\"width\":\"280\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel6\",\"columnWidth\":\".46\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"数据库地址\",\"id\":\"DB_URL\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"数据库口令\",\"id\":\"DB_PASSWORD\",\"inputType\":\"password\",\"width\":\"280\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"fieldSet\",\"autoScroll\":\"false\",\"collapsible\":\"false\",\"id\":\"fieldSet4\",\"title\":\"应用授权\",\"layout\":\"fit\",\"tagProperties\":\"anchor:'100% - 200'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"appSecStore\",\"columns\":\"appSecGridColumns\",\"height\":\"300\",\"region\":\"center\",\"id\":\"appSecGrid\",\"tbar\":\"appSecGridToolbar\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"afterrender\":\"appStore.load();\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"height\":\"80\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用编码/名称\",\"id\":\"appCodeName\",\"labelWidth\":\"100\",\"width\":\"250\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tappStore.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn\",\"text\":\"查询\",\"click\":\"appStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"click\":\"queryForm.getForm().reset();\\nappStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"appStore\",\"columns\":\"appGridColums\",\"region\":\"center\",\"id\":\"appGrid\",\"tbar\":\"gridToolBar\",\"multiSelect\":\"false\",\"autoLoad\":\"false\",\"selType\":\"checkboxmodel\",\"itemclick\":\"if('{#godMoadl#}' != 'Y'){\\n  if(record.get('IS_SYS')=='S'){\\n    delAppBtn.disable();\\n  }else{\\n    delAppBtn.enable();\\n  }\\n}else{\\n  delAppBtn.enable();\\n}\",\"itemdblclick\":\"appWin.setTitle('应用编辑');\\nvar id = record.get('APP_ID');\\nappQueryByIdStore.load({params:{appId:id}});\"}]}]}","应用管理",null,0,0,"admin","2015-01-27 14:39:10.0","23XQ4UO678F0","2015-10-26 16:49:37.0",2],["23W1PMZVOSUZ","23W1PMZVOSUX",null,"data",null,1,0,"admin","2015-01-27 14:39:10.0","admin","2015-06-02 16:13:13.0",3],["23W1PMZVOSV0","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"getAppStore\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.*, t.attribute2 IS_SYS\\n  from XIP_PUB_APPS t\\n where t.APP_CODE like '%{#appCodeName#}%'\\n    or t.APP_NAME like '%{#appCodeName#}%'\\n order by t.CREATION_DATE desc\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getApps",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-06-04 16:53:37.0",1],["23W1PMZVOSV1","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"enableApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"update xip_pub_apps t set t.enable_flag = '{#flag#}' where t.app_id = '{#appId#}'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","enableOrDisableApp",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-02-02 16:05:17.0",5],["23W1PMZVOSV2","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"queryAppByCode\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select *\\n  from XIP_PUB_APPS t\\n where t.APP_CODE = '{#appCode#}'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","queryAppByCode",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-02-02 16:05:17.0",13],["23W1PMZVOSV3","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"getAppSecByAppId\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT S.SEC_ID, S.APP_ID, S.USER_ID, U.USER_NAME, E.EMP_NAME\\n  FROM XIP_PUB_APP_SEC S, XIP_PUB_USERS U, XIP_PUB_EMPS E\\n WHERE S.USER_ID = U.USER_ID\\n   AND U.EMP_ID = E.EMP_ID\\n   AND S.APP_ID = {?APP_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getAppSecByAppId",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-02-02 16:05:17.0",9],["23W1PMZVOSV4","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"getDbTypeStore\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select l.VAL_CODE, l.VAL_NAME\\n  from xip_pub_val_set_dtl l\\n where l.val_set_code = 'DB_TYPE'\\n   and l.enable_flag = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getDbType",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-04-21 14:02:16.0",3],["23W1PMZVOSV5","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"deleteAppSecById\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"delete from xip_pub_app_sec  where sec_id in ({#secids#})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","deleteAppSecById",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-05-07 22:59:14.0",10],["23W1PMZVOSV6","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"updateApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(1) as \\\"CT\\\" from xip_pub_apps a where a.APP_CODE={?appCode?} and a.APP_ID<>{?appId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"应用编码【'{#appCode#}'】已存在！\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"update xip_pub_apps\\n   set APP_CODE         = '{#appCode#}',\\n       APP_NAME         = '{#appName#}',\\n       APP_DESC         = '{#appDesc#}',\\n       ENABLE_FLAG      = '{#enableFlag#}',\\n       WEB_HOST         = '{#webHost#}',\\n       WEB_PORT         = '{#webPort#}',\\n       WEB_PROJECT      = '{#webPorject#}',\\n       LOGIN_URL        = '{#loginUrl#}',\\n       DB_URL           = '{#dbUrl#}',\\n       DB_TYPE          = '{#dbType#}',\\n       DB_USER          = '{#dbUser#}',\\n       DB_PASSWORD      = '{#dbPassword#}',\\n       IN_XIP           = '{#inXip#}',\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY   = '{#userId#}'\\n where APP_ID = '{#appId#}'\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{afterSec:'{#afterSec#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","updateApp",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-05-25 16:33:15.0",7],["23W1PMZVOSV8","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"queryById\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.*, t.attribute2 IS_SYS,\\n       (select val_name name\\n          from xip_pub_val_set_dtl\\n         where val_set_code = 'DB_TYPE'\\n           and val_code = t.DB_TYPE) DB_NAME\\n  from XIP_PUB_APPS t\\n where t.APP_ID = '{#appId#}'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","queryById",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-06-04 16:54:18.0",8],["23W1PMZVOSV9","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"insertAppSec\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"insertAppSecs\",\"sql\":\"insert into xip_pub_app_sec\\n  (SEC_ID,\\n   APP_ID,\\n   USER_ID,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ({?secId?},\\n   {?appId?},\\n   {?userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"insertArray\"}],\"loginRequired\":\"false\"}","insertAppSec",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-06-04 11:15:35.0",12],["23W1PMZVOSVB","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"getStore1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select l.val_code, l.val_name\\n  from xip_pub_val_set_dtl l\\n where l.val_set_code = 'DB_TYPE'\\n   and l.enable_flag = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getRenderStore",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-02-02 16:05:17.0",14],["23W1PMZVOSVC","23W1PMZVOSUZ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getUsers\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT U.USER_ID,\\n       U.USER_NAME,\\n       U.PASSWORD,\\n       U.EMP_ID,\\n       E.EMP_CODE,\\n       E.EMP_NAME,\\n       U.USER_TYPE,\\n       U.START_DATE,\\n       U.END_DATE\\n  FROM XIP_PUB_USERS U, XIP_PUB_EMPS E\\n WHERE U.EMP_ID = E.EMP_ID\\n   AND U.USER_NAME LIKE '%{#userName1Upper#}%'\\n   AND E.EMP_NAME LIKE '%{#empName1#}%'\\n   AND u.start_date <= {?timestamp.sys.date?}\\n   AND (u.end_date >= {?timestamp.sys.date?} OR u.end_date IS NULL)\\n   AND U.USER_ID NOT IN\\n       (select s.user_id from xip_pub_app_sec s where s.app_id = '{#userSelectWinAppId#}')\"}]}","getUsers",null,0,0,"admin","2015-01-27 14:39:10.0","23XQ4UO678F5","2015-10-19 12:42:27.0",11],["23W1PMZVOSVD","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"saveApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(1) as \\\"CT\\\" from xip_pub_apps a where a.APP_CODE={?appCode?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"应用编码【'{#appCode#}'】已存在！\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"insert into xip_pub_apps\\n  (APP_ID,\\n   APP_CODE,\\n   APP_NAME,\\n   APP_DESC,\\n   ENABLE_FLAG,\\n   WEB_HOST,\\n   WEB_PORT,\\n   WEB_PROJECT,\\n   LOGIN_URL,\\n   DB_URL,\\n   DB_TYPE,\\n   DB_USER,\\n   DB_PASSWORD,\\n   IN_XIP,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ('{#appId#}',\\n   '{#appCode#}',\\n   '{#appName#}',\\n   '{#appDesc#}',\\n   '{#enableFlag#}',\\n   '{#webHost#}',\\n   '{#webPort#}',\\n   '{#webPorject#}',\\n   '{#loginUrl#}',\\n   '{#dbUrl#}',\\n   '{#dbType#}',\\n   '{#dbUser#}',\\n   '{#dbPassword#}',\\n   '{#inXip#}',\\n   {?timestamp.sys.date?},\\n   '{#userId#}'\\n  )\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{afterSec:'{#afterSec#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","insertApp",null,0,0,"admin","2015-01-27 14:39:10.0","admin","2015-05-25 16:32:34.0",6],["23W1PZV096TI","23W0CDJH1JO3",null,"Navigator",null,0,0,"admin","2015-01-27 11:17:13.0","admin","2015-01-27 11:17:13.0",14],["23W1Q3M7A7KG","23VVZ3QMOKQA",null,"节点管理",null,0,0,"admin","2015-01-28 11:27:44.0","admin","2015-01-28 11:27:44.0",14],["23W1Q3M7A7KI","23W1Q3M7A7KG","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"节点管理\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23W1Q3M7A9OV (查询节点表)\",\"id\":\"selectajax\",\"output\":\"form1\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1Q3M7A9Q8 (新增节点管理)\",\"id\":\"insertajax\",\"success\":\"var tmpVar = Ext.JSON.decode(response.responseText);\\nNODE_ID.setValue(tmpVar.id);\\nWb.message('保存成功！');\\nwindow1.setTitle('编辑节点');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1Q3M7A9Q8 (新增节点管理)\",\"id\":\"insertContinueAjax\",\"success\":\"form2.getForm().reset();\\nNODE_ID.setValue('');\\nWb.message('保存成功！');\\nwindow1.setTitle('新增节点');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1Q3M7A9QA (更新节点管理)\",\"id\":\"updateajax\",\"success\":\"Wb.message('保存成功！');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1Q3M7A9QA (更新节点管理)\",\"id\":\"updateContinueAjax\",\"success\":\"form2.getForm().reset();\\nNODE_ID.setValue('');\\nWb.message('保存成功！');\\nwindow1.setTitle('新增节点');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W1Q3M7A9QE (删除节点管理)\",\"id\":\"deleteajax\",\"output\":\"grid1\",\"success\":\"Wb.remove(grid1);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#23W1Q3M7A9OV (查询节点表)\",\"output\":\"form1\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid1arry\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rowNumber1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NODE_ID\",\"id\":\"nodeid\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NODE_CODE\",\"id\":\"jdbm\",\"text\":\"节点编码\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NODE_DESC\",\"id\":\"jdsm\",\"text\":\"节点说明\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CONTEXT_PATH\",\"id\":\"sxwlj\",\"text\":\"上下文路径\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MAX_CONC_COUNT\",\"id\":\"maxbfs\",\"text\":\"最大并发数\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NODE_IP\",\"id\":\"ipdz\",\"text\":\"节点访问地址\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NODE_PORT\",\"id\":\"jddk\",\"text\":\"节点端口\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"IS_ENCRYPTED\",\"id\":\"sfjm\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"是\\\";\\n}else if(value === \\\"N\\\"){\\n  return \\\"否\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"是否加密\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"windowarry\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"save\",\"text\":\"保存\",\"click\":\"if(!form2.getForm().isValid()){\\n  Wb.warning('请填写所有必填项！');\\n  return false;\\n}\\n\\nvar _url = CONTEXT_PATH.getValue();\\nvar re = /(.*?):\\\\/\\\\/(?:([^:@]+)(?::([^@]*))?@)?([^:@\\\\/]+)(?::(\\\\d+))?(?:(\\\\/.*?)(?:\\\\?(.*?))?(?:#(.*?))?)$/;\\nif(!Ext.isEmpty(_url)){\\n  if(!re.test(_url)){\\n    Wb.warning('节点地址格式不合法!');\\n    return;\\n  }\\n}\\n\\nvar _NODE_CODE = NODE_CODE.getValue();\\nvar _NODE_DESC = NODE_DESC.getValue();\\nvar  nodeId = NODE_ID.getValue();\\nvar json = {\\n  nodeId:'',\\n  nodeCode:NODE_CODE.getValue(),\\n  nodeDesc:NODE_DESC.getValue(),\\n  contextPath:CONTEXT_PATH.getValue(),\\n  maxConcCount:MAX_CONC_COUNT.getValue()\\n};\\n\\nif(nodeId===''){//新增\\n  json.nodeId = Wb.getUuid();  \\n  insertajax.request(json);\\n}else{//更新\\n  json.nodeId = nodeId;\\n  updateajax.request(json);\\n}\"},{\"xwlMeta\":\"button\",\"id\":\"saveNext\",\"text\":\"保存并添加下一个\",\"click\":\"if(!form2.getForm().isValid()){\\n  Wb.warning('请填写所有必填项！');\\n  return false;\\n}\\n\\nvar _url = CONTEXT_PATH.getValue();\\nvar re = /(.*?):\\\\/\\\\/(?:([^:@]+)(?::([^@]*))?@)?([^:@\\\\/]+)(?::(\\\\d+))?(?:(\\\\/.*?)(?:\\\\?(.*?))?(?:#(.*?))?)$/;\\nif(!Ext.isEmpty(_url)){\\n  if(!re.test(_url)){\\n    Wb.warning('节点地址格式不合法!');\\n    return;\\n  }\\n}\\n\\nvar nodeId = NODE_ID.getValue();\\nvar json = {\\n  nodeId:'',\\n  nodeCode:NODE_CODE.getValue(),\\n  nodeDesc:NODE_DESC.getValue(),\\n  contextPath:CONTEXT_PATH.getValue(),\\n  maxConcCount:MAX_CONC_COUNT.getValue()\\n};\\n//保存并继续新增\\nif(Ext.isEmpty(nodeId)){\\n  json.nodeId = Wb.getUuid(); \\n  insertContinueAjax.request(json);\\n}else{\\n  json.nodeId = nodeId;\\n  updateContinueAjax.request(json);\\n}\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closeWinBtn\",\"text\":\"关闭\",\"click\":\"window1.close();\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"btnAdd\",\"text\":\"新增\",\"click\":\"Wb.edit(window1);\\ninitNajax.request();\\nwindow1.setTitle('新增节点');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"btnEdit\",\"text\":\"修改\",\"click\":\"Wb.edit(grid1,window1,'NODE_ID');\\nwindow1.setTitle('编辑节点');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"btnDelete\",\"text\":\"删除\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择节点信息!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的节点信息吗？',function(a){\\n    if(a=='yes'){\\n     deleteajax.request();\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"height\":\"190\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"650\",\"buttons\":\"windowarry\",\"buttonAlign\":\"center\",\"beforeclose\":\"form2.getForm().reset();\\nWb.load(store1);\",\"children\":[{\"xwlMeta\":\"form\",\"bodyCls\":\"my-panel-no-border\",\"bodyPadding\":\"20px 0px 20px 0px\",\"id\":\"form2\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_1\",\"layout\":\"form\",\"columnWidth\":\".48\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>节点编码\",\"id\":\"NODE_CODE\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_2\",\"layout\":\"form\",\"columnWidth\":\".48\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>节点说明\",\"id\":\"NODE_DESC\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_2_1\",\"layout\":\"form\",\"columnWidth\":\".48\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>节点地址\",\"id\":\"CONTEXT_PATH\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"render\":\"var _tip='';\\n_tip = '<font color=\\\"red\\\">格式示例:<\\/br>http://www.xzsoft.cc:8090/xip <\\/br>或者<\\/br> https://www.xzsoft.cc:8090/xip<\\/font>'; \\nExt.QuickTips.init();\\nExt.QuickTips.register({\\ntarget : this.el,  \\ntext : _tip});  \\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_2_2\",\"layout\":\"form\",\"columnWidth\":\".48\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"number\",\"minValue\":\"0\",\"fieldLabel\":\"<font color='red'>*<\\/font>最大并发数\",\"id\":\"MAX_CONC_COUNT\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点id\",\"id\":\"NODE_ID\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form1\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"frame\":\"true\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点编码\",\"id\":\"bm\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tselectajax.request();\\nWb.load(store1);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点说明\",\"id\":\"ms\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tselectajax.request();\\nWb.load(store1);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btnQuery\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"selectajax.request();\\nWb.load(store1);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btnReset\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"form1.form.reset();\\nstore1.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"grid1arry\",\"border\":\"true\",\"split\":\"true\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"selType\":\"rowmodel\",\"itemdblclick\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nif(rows.length === 0 || rows.length > 1){\\n  Ext.Msg.alert('提示','请选择一条节点信息!');\\n  return false ;  \\n  \\n}else{\\n \\tWb.edit(grid1,window1,'NODE_ID');\\n\\twindow1.setTitle('编辑节点');\\n}\"}]}]}","节点管理",null,0,0,"admin","2015-01-28 11:28:12.0","admin","2015-08-31 15:26:27.0",1],["23W1Q3M7A7KK","23W1Q3M7A7KG",null,"DATA",null,1,0,"admin","2015-01-28 11:28:25.0","admin","2015-06-05 14:06:31.0",5],["23W1Q3M7A8KQ","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"deletegrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"DELETE FROM XIP_PUB_VAL_SETS WHERE VAL_SET_ID = {?VAL_SET_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}],\"loginRequired\":\"false\"}","deletegrid1",null,0,0,"admin","2015-01-28 14:12:01.0","admin","2015-01-28 17:41:31.0",5],["23W1Q3M7A9OV","23W1Q3M7A7KK","{\"id\":\"module\",\"title\":\"查询节点表\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#bm#}%\"},{\"id\":\"attribute2\",\"xwlMeta\":\"attribute\",\"value\":\"%{#ms#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select * from xip_pub_nodes where NODE_CODE  like {?attribute1?}    and   NODE_DESC  like  {?attribute2?} \",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","查询节点表",null,0,0,"admin","2015-01-28 15:55:08.0","admin","2015-01-28 17:07:46.0",1],["23W1Q3M7A9PW","23W1Q3M7A7KK","{\"id\":\"module\",\"title\":\"获取UUID\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"response1\",\"text\":\"{returnUuid:'{#uuid#}'}\",\"xwlMeta\":\"response\"}],\"initScript\":\"request.setAttribute(\\\"uuid\\\",java.util.UUID.randomUUID());\",\"loginRequired\":\"false\"}","获取UUID",null,0,0,"admin","2015-01-28 16:08:58.0","admin","2015-01-28 17:02:36.0",6],["23W1Q3M7A9Q8","23W1Q3M7A7KK","{\"id\":\"module\",\"title\":\"新增节点管理\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(1) as \\\"CT\\\" from XIP_PUB_NODES t where t.NODE_CODE ={?nodeCode?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"节点编码已存在！\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_NODES(\\n  NODE_ID,\\n  NODE_CODE,\\n  NODE_DESC,\\n  CONTEXT_PATH,\\n  MAX_CONC_COUNT,\\n  CREATED_BY,\\n  CREATION_DATE,\\n  LAST_UPDATED_BY,\\n  LAST_UPDATE_DATE) \\nvalues(\\n  {?nodeId?},\\n  {?nodeCode?},\\n  {?nodeDesc?},\\n  {?contextPath?},\\n  {?maxConcCount?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?}\\n)\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{id:'{#nodeId#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","新增节点管理",null,0,0,"admin","2015-01-28 16:11:33.0","admin","2015-06-19 17:00:12.0",3],["23W1Q3M7A9QA","23W1Q3M7A7KK","{\"id\":\"module\",\"title\":\"更新节点管理\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(1)  as \\\"CT\\\" from XIP_PUB_NODES t where t.NODE_CODE ={?nodeCode?} and t.NODE_ID<>{?nodeId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"节点编码已存在！\",\"id\":\"except\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"update XIP_PUB_NODES \\nset NODE_CODE = {?nodeCode?},\\n    NODE_DESC = {?nodeDesc?},\\n    CONTEXT_PATH={?contextPath?},\\n    MAX_CONC_COUNT={?maxConcCount?}, \\n    LAST_UPDATED_BY ={?XIP.userId?}, \\n    LAST_UPDATE_DATE ={?timestamp.sys.date?} \\nWHERE NODE_ID = {?nodeId?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","更新节点管理",null,0,0,"admin","2015-01-28 16:12:09.0","admin","2015-06-19 17:29:46.0",4],["23W1Q3M7A9QE","23W1Q3M7A7KK","{\"id\":\"module\",\"title\":\"删除节点管理\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"DELETE FROM XIP_PUB_NODES WHERE NODE_ID = {?NODE_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}],\"loginRequired\":\"false\"}","删除节点管理",null,0,0,"admin","2015-01-28 16:12:32.0","admin","2015-01-28 17:02:42.0",5],["23W1Q3M7A9QZ","23W21HIY5GQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"queryAttServ\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT server_id,\\n       server_name,\\n       server_type,\\n       host,\\n       port, \\n       web_project,\\n       username,\\n       password,\\n       enable_flag,\\n       server_addr\\n  FROM (SELECT t.server_id,\\n               t.server_name,\\n               t.server_type,\\n               t.host,\\n               t.port,\\n               t.web_project,\\n               t.username,\\n               t.password,\\n               t.enable_flag,\\n               t.CREATION_DATE,\\n               t.host || ':' || t.port || '/' ||\\n               t.web_project server_addr\\n          FROM xip_pub_att_server t)\\n           WHERE SERVER_ADDR LIKE '%{#serverHost#}%'\\n             AND SERVER_NAME LIKE '%{#serverName#}%'\\n             AND ENABLE_FLAG LIKE '%{#comboBox1#}%'\\n           ORDER BY CREATION_DATE DESC\\n\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT a.* FROM (\\nSELECT         t.SERVER_ID,\\n               t.SERVER_NAME,\\n               t.SERVER_TYPE,\\n               t.HOST,\\n               t.PORT,\\n               t.WEB_PROJECT,\\n               t.USERNAME,\\n               t.PASSWORD,\\n               t.ENABLE_FLAG,\\n               t.CREATION_DATE,\\n               CONCAT(t.host,':',t.port,'/',CASE  WHEN t.web_project IS NULL THEN '' ELSE t.web_project END) SERVER_ADDR\\n          FROM xip_pub_att_server t ) a\\n           WHERE (a.SERVER_ADDR LIKE '%{#serverHost#}%' OR a.SERVER_ADDR  IS NULL)\\n             AND (a.SERVER_NAME LIKE '%{#serverName#}%' OR a.SERVER_NAME  IS NULL)\\n             AND (a.ENABLE_FLAG LIKE '%{#comboBox1#}%'  OR a.ENABLE_FLAG  IS NULL)\\n           ORDER BY CREATION_DATE DESC\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","queryAttServ",null,0,0,"admin","2015-01-28 16:25:02.0","admin","2015-10-14 16:32:50.0",4],["23W1VFX5083P","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"selectEmp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\" SELECT '' as ASG_ID,A.EMP_ID,A.EMP_CODE,A.EMP_NAME\\n\\t\\t\\t   FROM XIP_PUB_EMPS A\\n\\t\\t\\t  WHERE NOT EXISTS (SELECT 1\\n\\t\\t\\t           FROM XIP_PUB_EMP_ASG B\\n\\t\\t\\t          WHERE A.EMP_ID = B.EMP_ID\\n\\t\\t\\t            AND B.POST_ID ={?asgPostId?} )\\n\\t\\t\\t    AND A.EMP_NAME LIKE '%{#empName#}%'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectEmp",null,0,0,"admin","2015-01-27 22:45:50.0","admin","2015-05-12 18:18:07.0",14],["23W20FMY7PFQ","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"selectAsignEmp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT A.ASG_ID,\\n\\t\\t\\t\\t   A.EMP_ID,\\n\\t\\t\\t       B.EMP_CODE,\\n\\t\\t\\t       B.EMP_NAME\\n\\t\\t\\t  FROM XIP_PUB_EMP_ASG A, XIP_PUB_EMPS B\\n\\t\\t\\t WHERE A.EMP_ID = B.EMP_ID\\n\\t\\t\\t   AND A.POST_ID = {?asgPostId?}\\n\\t\\t\\t   AND (B.EMP_NAME LIKE '%{#empName1#}%' or B.EMP_CODE LIKE '%{#empName1#}%')\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectAsignEmp",null,0,0,"admin","2015-01-28 09:57:40.0","admin","2015-05-12 18:20:09.0",16],["23W20FMY7QK8","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"delEmpAsg\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"delete from xip_pub_emp_asg  where asg_id in ({#primaryKey#})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","delEmpAsg",null,0,0,"admin","2015-01-28 13:00:02.0","admin","2015-05-07 22:44:45.0",17],["23W20GG51T5F","23VVZ3QMOKQM",null,"菜单功能注册",null,0,0,"admin","2015-01-28 14:38:04.0","admin","2015-01-28 14:38:04.0",8],["23W20GG51T5H","23W20GG51T5F","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"菜单功能注册\",\"jsFiles\":\"[\\\"pub/uip/common/extendjs/messageTip.js\\\",\\\"webbuilder/controls/codemirror/mixed.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar userName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userName');\\nvar empName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('empName');\\n\\nvar authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nvar roleId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleId');\\nvar roleName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleName');\\nvar roleCode = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleCode');\\n\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\nrequest.setAttribute(\\\"empName\\\",empName);\\n\\nrequest.setAttribute(\\\"authModel\\\",authModel);\\nrequest.setAttribute(\\\"roleId\\\",roleId);\\nrequest.setAttribute(\\\"roleName\\\",roleName);\\nrequest.setAttribute(\\\"roleCode\\\",roleCode);\\n\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n\\nvar godMoadl = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('godMode');\\nrequest.setAttribute(\\\"godMoadl\\\",godMoadl);\\nvar funCodeStr = request.getParameter(\\\"funCode\\\");\\nrequest.setAttribute(\\\"tipCode\\\",funCodeStr);\",\"head\":\"<style type=\\\"text/css\\\">\\n#dataview1 .x-panel-body{\\n    background: white;\\n    font: 11px Arial, Helvetica, sans-serif;\\n}\\n#dataview1 .thumb{\\n    background: #FFF;\\n    text-align:center;\\n    padding: 3px;\\n    padding-bottom: 0;\\n}\\n\\n.x-quirks #dataview1 .thumb {\\n    padding-bottom: 3px;\\n}\\n\\n#dataview1 .thumb img{\\n    height: 35px;\\n    width: 35px;\\n}\\n#dataview1 .thumb-wrap{\\n    float: left;\\n    margin: 4px;\\n    margin-right: 0;\\n    padding: 5px;\\n}\\n#dataview1 .thumb-wrap span {    \\n    display: block;\\n    overflow: hidden;\\n    text-align: center;\\n    width: 86px; /* for ie to ensure that the text is centered */\\n}\\n#dataview1 .x-item-selected{\\n    // background: #eff5fb url(webbuilder/images/ok.gif) no-repeat right bottom;\\n    border:1px solid #99bbe8;\\n    padding: 4px;\\n}\\n#dataview1 .x-item-selected .thumb{\\n    background:transparent;\\n}\\n\\n.x-view-selector {\\n    position:absolute;\\n    left:0;\\n    top:0;\\n    width:0;\\n    border:1px dotted;\\n    opacity: .5;\\n    -moz-opacity: .5;\\n    filter:alpha(opacity=50);\\n    zoom:1;\\n    background-color:#c3daf9;\\n    border-color:#3399bb;\\n}.ext-strict .ext-ie .x-tree .x-panel-bwrap{\\n    position:relative;\\n    overflow:hidden;\\n}\\n<\\/style>\",\"cssFiles\":\"[\\\"common/css/default.css\\\",\\\"webbuilder/controls/codemirror/codemirror.css\\\",\\\"webbuilder/controls/codemirror/dialog.css\\\"]\",\"finalize\":\"var selectRecord = null;\\n\",\"initialize\":\"function beforeDropType(node, data, om, dp) {\\n  if(Wb.getNode(node)==null){\\n    return false;\\n  }\\n  Wb.saveNodePos(Wb.getNode(data.item));\\n  return true;\\n}\\nfunction dropType(node, data, om, dp) {\\n  var dst = Wb.getNode(node), src = Wb.getNode(data.item), orderIndex, srcId, parentId, pn;\\n  \\n  if(om.get('id')=='rootNode'){\\n    orderIndex = om.lastChild.previousSibling ? (om.lastChild.previousSibling.get('IDX')+1) : 1;\\n    parentId = '-1';\\n    srcId = src.get('ID');\\n    Wb.request({url : 'main?xwl=23W6AX1F7PIN',mask:treePanel1,\\n                params : {idx:orderIndex, funTreeId:srcId, parentId:parentId},\\n                failure : function() {\\n                  //Wb.revertNodePos(src);\\n                },\\n                success : function() {\\n                  src.set('parent_id', parentId);\\n                  src.set('IDX', orderIndex);\\n                  src.commit();\\n                }\\n               });\\n  }else{\\n    Wb.mask(treePanel1);\\n    srcId=src.get('ID');\\n    if(dp=='append'){\\n      dst.expand(false,function(){\\n        Wb.unmask(treePanel1);\\n        pn = dst;\\n        parentId = dst.get('ID');\\n        orderIndex = dst.lastChild.previousSibling ? dst.lastChild.previousSibling.get('IDX') + 1: 1;\\n        \\n        if(Ext.isEmpty(parentId)){\\n          parentId = '-1';\\n        }\\n        \\n        Wb.request({url : 'main?xwl=23W6AX1F7PIN',mask:treePanel1,\\n                params : {idx:orderIndex, funTreeId:srcId, parentId:parentId},\\n                failure : function() {\\n                  Wb.revertNodePos(src);\\n                },\\n                success : function() {\\n                  pn.eachChild(function(x) {\\n                    var i = x.get('IDX');\\n                    if (i >= orderIndex) {\\n                      x.set('IDX', i + 1);\\n                      x.commit();\\n                    }\\n                  });\\n                  src.set('parent_id', parentId);\\n                  src.set('IDX', orderIndex);\\n                  src.commit();\\n                }\\n               });\\n        \\n      });\\n    } else {\\n      Wb.unmask(treePanel1);\\n      pn = src.parentNode;\\n      parentId = pn.get('ID');\\n      if (dp == 'before'){\\n        orderIndex = dst.get('IDX');\\n      }else{\\n        orderIndex = dst.get('IDX') + 1;\\n      }\\n      \\n      if(Ext.isEmpty(parentId)){\\n        parentId = '-1';\\n      } \\n      \\n      Wb.request({url : 'main?xwl=23W6AX1F7PIN',mask:treePanel1,\\n                params : {idx:orderIndex, funTreeId:srcId, parentId:parentId},\\n                failure : function() {\\n                  Wb.revertNodePos(src);\\n                },\\n                success : function() {\\n                  pn.eachChild(function(x) {\\n                    var i = x.get('IDX');\\n                    if (i >= orderIndex) {\\n                      x.set('IDX', i + 1);\\n                      x.commit();\\n                    }\\n                  });\\n                  src.set('parent_id', parentId);\\n                  src.set('IDX', orderIndex);\\n                  src.commit();\\n                }\\n               });\\n    }\\n      \\n    \\n    \\n    \\n    \\n    /*dst.expand(false,function(){\\n    Wb.unmask(treePanel1);\\n    srcId=src.get('ID');\\n    if(dp=='append'){\\n      pn = dst;\\n      parentId = dst.get('ID');\\n      orderIndex = dst.lastChild.previousSibling ?\\n        dst.lastChild.previousSibling.get('IDX') + 1: 1;\\n    } else {\\n      pn = src.parentNode;\\n      parentId = pn.get('ID');\\n      if (dp == 'before')\\n        orderIndex = dst.get('IDX');\\n      else\\n        orderIndex = dst.get('IDX') + 1;\\n    }\\n      \\n    if(Ext.isEmpty(parentId)){\\n      parentId = '-1';\\n    }  \\n      \\n    Wb.request({url : 'main?xwl=23W6AX1F7PIN',mask:treePanel1,\\n                params : {idx:orderIndex, funTreeId:srcId, parentId:parentId},\\n                failure : function() {\\n                  Wb.revertNodePos(src);\\n                },\\n                success : function() {\\n                  pn.eachChild(function(x) {\\n                    var i = x.get('IDX');\\n                    if (i >= orderIndex) {\\n                      x.set('IDX', i + 1);\\n                      x.commit();\\n                    }\\n                  });\\n                  src.set('parent_id', parentId);\\n                  src.set('IDX', orderIndex);\\n                  src.commit();\\n                }\\n               });\\n  });*/\\n  }\\n}\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"#23W20GG51T5Z (getTree)\",\"id\":\"treeStore\",\"load\":\"// treePanel1.expandAll();\\n// treePanel1.collapseAll();\\n// treePanel1.getRootNode().expand();\\n//alert(treeStore.getCount());\",\"beforeload\":\"operation.params.parentID=operation.node.get('ID');\"},{\"xwlMeta\":\"store\",\"id\":\"btnStore\",\"url\":\"#23W4RPJ5G14B (getBtns)\",\"output\":\"FUNC_ID\"},{\"xwlMeta\":\"store\",\"id\":\"funcMenuInfoStore\",\"url\":\"#23W4RPJ5G1DJ (getFuncMenuById)\",\"load\":\"if(funcMenuInfoStore.getAt(0)) {\\n  var record = funcMenuInfoStore.getAt(0);\\n  \\n  var upId = record.get('UP_ID');\\n  var nodeType = record.get('NODE_TYPE');\\n  var enableFlag = record.get('FUNC_ENABLE')==null?'':record.get('FUNC_ENABLE');\\n  var enableFlagDesc = '';\\n  \\n  if(nodeType=='M'){\\n    menuFormPanel.loadRecord(record);\\n    \\n    Ext.getCmp('MENU_UP_ID').setValue(record.get('UP_ID'));\\n    Ext.getCmp('MENU_ID').setValue(record.get('FUNC_ID'));\\n    Ext.getCmp('MENU_CODE').setValue(record.get('FUNC_CODE'));\\n    Ext.getCmp('MENU_NAME').setValue(record.get('FUNC_NAME'));\\n    Ext.getCmp('MENU_DESC').setValue(record.get('FUNC_DESC'));\\n    \\n    if(enableFlag=='Y'){\\n      Ext.getCmp('MENU_ENABLE').setValue(true);\\n    }else if(enableFlag=='N'){\\n      Ext.getCmp('MENU_ENABLE').setValue(false);\\n    }\\n    \\n  }else if(nodeType=='F'){\\n    functionFormPanel.loadRecord(record);\\n    \\n    Ext.getCmp('FUNC_UP_ID').setValue(upId);\\n    \\n    appStore.load(function() {\\n      Ext.getCmp('APP_COMB').setValue(record.get('APP_ID'));\\n      Ext.getCmp('APP_COMB').setRawValue(record.get('APP_NAME'));\\n      APP_COMB.collapse();\\n    });\\n    \\n    \\n    \\n    if(enableFlag=='Y'){\\n      Ext.getCmp('FUNC_ENABLE').setValue(true);\\n    }else if(enableFlag=='N'){\\n      Ext.getCmp('FUNC_ENABLE').setValue(false);\\n    }\\n    btnStore.load();\\n    Wb.unmask();\\n    \\n    if('{#godMoadl#}' != 'Y'){\\n      if(record.get('IS_SYS')=='S'){\\n        btn_func_save.disable();\\n        btn_add_win.disable();\\n        btn_edit_win.disable();\\n        btn_delete_win.disable();\\n        setReadonly('APP_COMB',true);\\n      }else{\\n        btn_func_save.enable();\\n        btn_add_win.enable();\\n        btn_edit_win.enable();\\n        btn_delete_win.enable();\\n        setReadonly('APP_COMB',false);\\n      }\\n    }else{\\n      btn_func_save.enable();\\n      btn_add_win.enable();\\n      btn_edit_win.enable();\\n      btn_delete_win.enable();\\n      setReadonly('APP_COMB',false);\\n    }\\n    \\n  }\\n}\"},{\"xwlMeta\":\"store\",\"id\":\"appStore\",\"url\":\"#23W4RPJ5G1N5 (getApps)\",\"showMask\":\"false\",\"load\":\"Wb.unmask();\"},{\"xwlMeta\":\"store\",\"id\":\"popAppStore\",\"url\":\"#23W4RPJ5G1N5 (getApps)\",\"showMask\":\"false\",\"load\":\"Wb.unmask();\"},{\"xwlMeta\":\"store\",\"data\":\"[['Y','是'],['N','否']]\",\"id\":\"enableStore\",\"fields\":\"['CODE', 'NAME']\"},{\"xwlMeta\":\"store\",\"id\":\"iconStore\",\"autoLoad\":\"false\",\"url\":\"{#contextPath#}/frameAction.do?method=getIcons\"},{\"xwlMeta\":\"store\",\"id\":\"singleBtnStore\",\"url\":\"#23WPM6KN6KPB (getBtnById)\",\"load\":\"if(singleBtnStore.getAt(0)) {\\n  var record = singleBtnStore.getAt(0);\\n  buttonForm.loadRecord(record);\\n  var enableFlag = record.get('BTN_ENABLE_WIN')==null?'':record.get('BTN_ENABLE_WIN');\\n  if(enableFlag=='Y'){\\n    Ext.getCmp('BTN_ENABLE_WIN').setValue(true);\\n  }else if(enableFlag=='N'){\\n    Ext.getCmp('BTN_ENABLE_WIN').setValue(false);\\n  }\\n  var _funId = FUNC_ID.getValue();\\n  var _btnId = BTN_ID_WIN.getValue();\\n  Wb.load(userSecStore,{FUNC_ID:_funId,BTN_ID:_btnId});\\n}\"},{\"xwlMeta\":\"store\",\"id\":\"userSecStore\",\"url\":\"#23WPM6KN6M8D (getSecUsers)\"},{\"xwlMeta\":\"store\",\"id\":\"userSelectStore\",\"url\":\"#23WPM6KN6NDV (getUsers)\",\"output\":\"userSelectForm\"}]},{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23W5OSRTNHK9 (insertFuncMenu)\",\"id\":\"funcMenuInsert\",\"failure\":\"Ext.Msg.alert('提示','保存失败!');\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\nif(resultJson.nodeType == 'M'){\\n  //Ext.getCmp('MENU_ID').setValue(resultJson.funcTreeId);\\n  if(resultJson.addType=='popadd'){\\n    menuPanel.show();\\n    funcPanel.hide();\\n    funcMenuInfoStore.load({params:{func_tree_id:resultJson.funcTreeId}});\\n    menuWin.hide();\\n    \\n    var n = Wb.getSelNode(treePanel1);\\n    n.expand();\\n    \\n    if(resultJson.menuOpType=='_append'){//添加子菜单\\n      n.appendChild({text:resultJson.funcTreeName, ID:resultJson.funcTreeId, parent_id:resultJson.upId, NODE_TYPE:resultJson.nodeType, children:[]});\\n      n.commit();\\n    }else{//添加同级菜单\\n      n.parentNode.appendChild({text:resultJson.funcTreeName, ID:resultJson.funcTreeId, parent_id:resultJson.upId, NODE_TYPE:resultJson.nodeType, children:[]});\\n      n.commit();\\n    }\\n    \\n    Ext.Msg.alert('提示','保存成功!');\\n  }\\n}else if(resultJson.nodeType == 'F'){\\n  //Ext.getCmp('FUNC_ID').setValue(resultJson.funcTreeId); \\n  if(resultJson.addType=='popadd'){ \\n    menuPanel.hide();\\n    funcPanel.show();\\n    funcWin.hide();\\n    funcMenuInfoStore.load({params:{func_tree_id:resultJson.funcTreeId}});\\n    \\n    var n = Wb.getSelNode(treePanel1);\\n    n.expand(); \\n    \\n    n.appendChild({text:resultJson.funcTreeName, ID:resultJson.funcTreeId, parent_id:resultJson.upId, NODE_TYPE:resultJson.nodeType, leaf:true});\\n    n.commit();\\n    \\n    Ext.Msg.alert('提示','保存成功!!');\\n  }\\n}\\n\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W5OSRTNHKK (updateFuncMenu)\",\"id\":\"functionMenuUpdate\",\"failure\":\"Ext.Msg.alert('提示','保存失败!');\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\nvar treeSelectNode = Wb.getSelNode(treePanel1);\\n\\nif(resultJson.nodeType == 'M'){\\n}else if(resultJson.nodeType == 'F'){\\n  /*btnGrid.plugins[0].completeEdit();\\n    btnStore.sync(\\n      {\\n        callback :function(){\\n          Wb.unmask();\\n          \\n        }\\n      });*/\\n}\\ntreeSelectNode.set('text',resultJson.funcTreeName);\\ntreeSelectNode.commit();\\nExt.Msg.alert('提示','保存成功!');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W6012ZUZRR (deleteFunction)\",\"id\":\"functionDelete\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\nvar n = Wb.getSelNode(treePanel1);\\n\\nvar nParentNode = n.parentNode;\\n\\nnParentNode.removeChild(n);\\n\\nnParentNode.commit();\\n\\nExt.Msg.alert('提示','删除成功!');\\n\\nmenuPanel.hide();\\nfuncPanel.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W6012ZUZSH (deleteMenu)\",\"id\":\"menuDelete\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\nvar n = Wb.getSelNode(treePanel1);\\n\\nvar nParentNode = n.parentNode;\\n\\nnParentNode.removeChild(n);\\n\\nnParentNode.commit();\\n\\nExt.Msg.alert('提示','删除成功!');\\n\\nmenuPanel.hide();\\nfuncPanel.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W62VZ7M55O (saveFuncHelp)\",\"id\":\"funcHelpSave\",\"success\":\"Ext.Msg.alert('提示','保存成功!');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WPM6KN6KOO (insertBtn_win)\",\"id\":\"btnInsert\",\"failure\":\"Ext.Msg.alert('提示','保存失败!');\",\"success\":\"Ext.Msg.alert('提示','保存成功!');\\n\\nvar temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\nif(resultJson.IS_ADD_NEXT == 'Y'){\\n  Wb.reset(buttonFieldSet);\\n  Ext.getCmp('OP_FLAG').setValue('_added');\\n  Ext.getCmp('BTN_ID_WIN').setValue(Wb.getUuid());\\n  Wb.load(userSecStore,{FUNC_ID:'-1',BTN_ID:'-1'});\\n\\n  btnWin.setTitle('按钮新增');\\n}else{\\n  Ext.getCmp('OP_FLAG').setValue('_modified');\\n  btnWin.setTitle('按钮编辑');\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WPM6KN6KP3 (updateBtn_win)\",\"id\":\"btnUpdate\",\"failure\":\"Ext.Msg.alert('提示','保存失败!');\",\"success\":\"Ext.Msg.alert('提示','保存成功!');\\n\\nvar temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\nif(resultJson.IS_ADD_NEXT == 'Y'){\\n  Wb.reset(buttonFieldSet);\\n  Ext.getCmp('OP_FLAG').setValue('_added');\\n  Ext.getCmp('BTN_ID_WIN').setValue(Wb.getUuid());\\n  Wb.load(userSecStore,{FUNC_ID:'-1',BTN_ID:'-1'});\\n\\n  btnWin.setTitle('按钮新增');\\n}else{\\n  Ext.getCmp('OP_FLAG').setValue('_modified');\\n  btnWin.setTitle('按钮编辑');\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WPM6KN6KPI (deleteBtn_win)\",\"id\":\"btnDelete\",\"failure\":\"Ext.Msg.alert('提示','删除失败!');\",\"success\":\"Ext.Msg.alert('提示','删除成功!');\\nbtnStore.load();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WPM6KN6NYL (insertBtnSec)\",\"id\":\"btnSecInsert\",\"success\":\"userSelectWin.hide();\\nvar _funId = FUNC_ID.getValue();\\nvar _btnId = BTN_ID_WIN.getValue();\\nWb.load(userSecStore,{FUNC_ID:_funId, BTN_ID:_btnId});\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WPM6KN6N8C (deleteBtnSec)\",\"id\":\"btnSecDelete\",\"failure\":\"Ext.Msg.alert('','删除失败');\",\"success\":\"Ext.Msg.alert('','删除成功!');\\nsingleBtnStore.load();\"}]},{\"xwlMeta\":\"folder\",\"id\":\"tbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"treeTbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp0\"},{\"xwlMeta\":\"text\",\"id\":\"queryName\",\"width\":\"100\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  queryBtn.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"click\":\"treeNodeQuery(queryName.getValue(),'text','treePanel1');\\n\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-hide\",\"id\":\"button1\",\"click\":\"treePanel1.expandAll();\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-show\",\"id\":\"button2\",\"click\":\"treePanel1.collapseAll();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp2\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"btnGridbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-add\",\"id\":\"btn_add\",\"text\":\"新增\",\"hidden\":\"true\",\"click\":\"var e = btnGrid.plugins[0],index=1;\\ne.completeEdit();\\nbtnStore.insert(0,{});\\nbtnStore.getAt(0).set('BTN_ID',Wb.getUuid());//temp id\\ne.startEditByPosition({row:0,column:0});\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"btn_add_win\",\"text\":\"新增\",\"click\":\"Wb.reset(buttonFieldSet);\\nExt.getCmp('OP_FLAG').setValue('_added');\\nExt.getCmp('BTN_ID_WIN').setValue(Wb.getUuid());\\nBTN_ENABLE_WIN.setValue(true);\\n\\nbtnWin.setTitle('按钮新增');\\nbtnWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp4\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-delete\",\"id\":\"btn_del\",\"text\":\"删除\",\"hidden\":\"true\",\"click\":\"var m = btnGrid.getSelectionModel();\\nvar s = m.getSelection();\\n\\nif(s.length==0){\\n  Ext.Msg.alert('提示','请选择删除的记录!');\\n  return;\\n}\\nbtnGrid.plugins[0].completeEdit();\\n\\nExt.MessageBox.confirm('提示','确定删除按钮?',function(item){\\n  if(item==='yes'){\\n    for(var i=0; i<s.length; i++){\\n      btnStore.remove(s[i]);\\n    }\\n  }\\n});\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"btn_edit_win\",\"text\":\"编辑\",\"click\":\"var rows = btnGrid.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n  return false ;\\n}else if(rows.length>1){\\n  Ext.Msg.alert('提示','请选择一条操作的记录!');\\n  return false ;\\n}else{\\n  var btnId = rows[0].get('BTN_ID');\\n  btnWin.setTitle('按钮编辑');\\n  btnWin.show();\\n  \\n  Ext.getCmp('OP_FLAG').setValue('_modified');\\n  singleBtnStore.getProxy().extraParams.BTN_ID = btnId;\\n  singleBtnStore.load();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp5\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"btn_delete_win\",\"text\":\"删除\",\"click\":\"var rows = btnGrid.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择删除的记录!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的记录吗？',function(a){\\n    if(a=='yes'){\\n      var record = rows[0];//功能ID都一致\\n      var funId = record.data.FUN_TREE_ID;\\n      var ids = \\\"\\\";\\n      Ext.each(rows,function(item){\\n        var id = \\\"'\\\"+item.data.BTN_ID+\\\"'\\\";\\n        if(ids === \\\"\\\"){\\n            ids = id ;\\n          }else{\\n            ids = ids+\\\",\\\"+id;\\n          }\\n\\n      });  \\n      \\n      btnDelete.request({ids:ids,funTreeId:funId});\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"menuPanelbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp6\"},{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btn_menu_save\",\"text\":\"保存\",\"click\":\"if(!menuFormPanel.getForm().isValid()){\\n  Ext.Msg.alert('提示','菜单信息不完整,请确认!');\\n  return;\\n}\\n\\nvar menuId = Ext.getCmp('MENU_ID').getValue();\\n\\nvar json = {\\n  funcTreeId:'',\\n  funcTreeCode:Ext.getCmp('MENU_CODE').getValue(),\\n  funcTreeName:Ext.getCmp('MENU_NAME').getValue(),\\n  upId:Ext.isEmpty(Ext.getCmp('MENU_UP_ID').getValue()) ? '-1' : Ext.getCmp('MENU_UP_ID').getValue(),\\n  nodeType:'M',\\n  desc:Ext.getCmp('MENU_DESC').getValue(),\\n  url:'',\\n  mobUrl:'',\\n  smallIcon:'',\\n  largeIcon:'',\\n  appId:'',\\n  enableFlag:Ext.getCmp('MENU_ENABLE').getValue()==true?'Y':'N',\\n  addType:''\\n};\\n\\nif(menuId=='-1'){//insert\\n  json.funcTreeId = Wb.getUuid();\\n  json.addType = 'inneradd';\\n  \\n  funcMenuInsert.request(json);\\n}else{//update\\n  json.funcTreeId = menuId;\\n  json.addType = 'innerupdate';\\n  \\n  functionMenuUpdate.request(json);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp7\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"funcPanelBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp8\"},{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btn_func_save\",\"text\":\"保存\",\"click\":\"if(!functionFormPanel.getForm().isValid()){\\n  Ext.Msg.alert('提示','功能信息不完整,请确认!');\\n  return;\\n}\\n\\nvar funcId = Ext.getCmp('FUNC_ID').getValue();\\n\\nvar json = {\\n  funcTreeId:'',\\n  funcTreeCode:Ext.getCmp('FUNC_CODE').getValue(),\\n  funcTreeName:Ext.getCmp('FUNC_NAME').getValue(),\\n  upId:Ext.isEmpty(Ext.getCmp('FUNC_UP_ID').getValue()) ? '-1' : Ext.getCmp('FUNC_UP_ID').getValue(),\\n  nodeType:'F',\\n  desc:Ext.getCmp('FUNC_DESC').getValue(),\\n  url:Ext.getCmp('FUNC_URL').getValue(),\\n  mobUrl:Ext.getCmp('MOBILE_URL').getValue(),\\n  smallIcon:Ext.getCmp('SMALL_ICON').getValue(),\\n  largeIcon:Ext.getCmp('LARGE_ICON').getValue(),\\n  appId:Ext.getCmp('APP_COMB').getValue(),\\n  enableFlag:Ext.getCmp('FUNC_ENABLE').getValue()==true?'Y':'N',\\n  addType:'',\\n  showStyle:Ext.getCmp('SHOW_STYLE').getValue()\\n};\\n\\nif(funcId=='-1'){//insert\\n  json.funcTreeId = Wb.getUuid();\\n  json.addType = 'inneradd';\\n  \\n  funcMenuInsert.request(json);\\n}else{//update\\n  json.funcTreeId = funcId;\\n  json.addType = 'innerupdate';\\n  \\n  functionMenuUpdate.request(json);\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp9\"},{\"xwlMeta\":\"button\",\"iconCls\":\"help_icon\",\"id\":\"btn_func_instruction\",\"text\":\"功能帮助设置\",\"click\":\"if(Ext.getCmp('FUNC_ID').getValue()==-1){\\n  Ext.Msg.alert('提示','请先保存功能!');\\n  return;\\n}\\n\\nvar editorType = 'r';\\nif('{#godMoadl#}' != 'Y'){\\n  if(IS_SYS.getValue()=='S'){\\n    editorType = 'r';\\n  }else{\\n    editorType = 'rw';\\n  }\\n}else{\\n  editorType = 'rw';\\n}\\n\\nvar path = \\\"{#contextPath#}\\\"+\\\"/pub/uip/common/kindeditor4/editor.jsp?type=\\\"+editorType+\\\"&funTreeId=\\\"+Ext.getCmp('FUNC_ID').getValue();\\nvar functionDescWin = new Ext.Window({\\n  id:'functionDescWin',\\n  title : '功能帮助设置',\\n  buttonAlign:'center',\\n  width: 770,\\n  resizable: false,\\n  maximizable: false,\\n  height:500, \\n  style:'border-width:0px',\\n  layout: 'fit',\\n  modal : true,\\n  /*tbar:new Ext.toolbar.Toolbar(['-',\\n                        new Ext.Button({\\n                          text:'保存',\\n                          iconCls:'icon-save',\\n                          handler:function(){\\n                            var funcHelp = window.frames['functionDescPage'].getValueForEditor();\\n                            \\n                            funcHelpSave.request({funcTreeId:Ext.getCmp('FUNC_ID').getValue(),funcHelp:funcHelp});\\n\\n                          }\\n                        }),'-'\\n                       ]),*/\\n  tbar:new Ext.toolbar.Toolbar({\\n    items:[\\n      '-',{\\n        iconCls:\\\"save_icon\\\",\\n        xtype:\\\"button\\\",\\n        text:\\\"保存\\\",\\n        disabled:editorType=='r'?true:false,\\n        listeners:{\\n          click:function(button,event,options){\\n            var funcHelp = window.frames['functionDescPage'].getValueForEditor();\\n            funcHelpSave.request({funcTreeId:Ext.getCmp('FUNC_ID').getValue(),funcHelp:funcHelp});\\n          }\\n        }\\n      },'-']}),\\n  items:[\\n    {  title: '功能帮助设置', \\n     header:false, \\n     html : '<iframe name=\\\"functionDescPage\\\",style=\\\"border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; width: 100%; height: 440px; border-right-width: 0px\\\" src=\\\"'+path+'\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" scrolling=\\\"no\\\" height=\\\"440px\\\"><\\/iframe>', \\n     border:false \\n    }\\n  ],\\n  listeners:{\\n    'close':function(){}\\n  }\\n});\\nfunctionDescWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp10\"},{\"xwlMeta\":\"button\",\"id\":\"btn_func_instruction_view\",\"text\":\"功能帮助预览\",\"hidden\":\"true\",\"click\":\"if(Ext.getCmp('FUNC_ID').getValue()==-1){\\n  Ext.Msg.alert('提示','请先保存功能!');\\n  return;\\n}\\nvar path = \\\"{#contextPath#}\\\"+\\\"/pub/uip/common/kindeditor4/editor.jsp?type=r&funTreeId=\\\"+Ext.getCmp('FUNC_ID').getValue();\\nvar functionDescWin = new Ext.Window({\\n  id:'functionDescWin',\\n  title : '功能帮助设置',\\n  buttonAlign:'center',\\n  width: 770,\\n  resizable: false,\\n  maximizable: false,\\n  height:520, \\n  layout: 'fit',\\n  modal : true,\\n  items:[\\n    {  title: '功能帮助设置', \\n     header:false, \\n     html : '<iframe name=\\\"functionDescPage\\\",style=\\\"border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; width: 100%; height: 440px; border-right-width: 0px\\\" src=\\\"'+path+'\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" scrolling=\\\"no\\\" height=\\\"440px\\\"><\\/iframe>', \\n     border:false \\n    }\\n  ],\\n  listeners:{\\n    'close':function(){}\\n  }\\n});\\nfunctionDescWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sp11\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"secUserGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-auth\",\"id\":\"btn_adduser\",\"text\":\"添加禁用用户\",\"click\":\"//数据校验\\nif(Ext.getCmp('BTN_CODE_WIN').getValue()==''){\\n  Ext.Msg.alert('提示','请输入按钮编码!');\\n  return;\\n}\\n\\nif(Ext.getCmp('BTN_NAME_WIN').getValue()==''){\\n  Ext.Msg.alert('提示','请输入按钮名称!');\\n  return;\\n}\\n\\nvar json = {\\n  'BTN_ID':Ext.getCmp('BTN_ID_WIN').getValue(),\\n  'BTN_CODE':Ext.getCmp('BTN_CODE_WIN').getValue(),\\n  'BTN_NAME':Ext.getCmp('BTN_NAME_WIN').getValue(),\\n  'BTN_ENABLE':Ext.getCmp('BTN_ENABLE_WIN').getValue()==true?'Y':'N',\\n  'FUNC_ID':Ext.getCmp('FUNC_ID').getValue()\\n};\\n\\n//数据保存\\nvar opType = Ext.getCmp('OP_FLAG').getValue();\\n\\nExt.Msg.wait('正在保存请稍后!');\\nif(opType=='_added'){//新增\\n  Ext.Ajax.request({\\n      url : 'main?xwl=23WPM6KN6KOO',\\n      method: 'POST',\\n      params:json,\\n      success: function(response,options){\\n        Ext.Msg.hide();\\n        var returnJson = Ext.JSON.decode(response.responseText);\\n        \\n        //executorStore.getProxy().extraParams.actId = actId;\\n\\t\\t//Wb.load(executorAuthStore);\\n        \\n        Ext.getCmp('OP_FLAG').setValue('_modified');\\n  \\t\\tbtnWin.setTitle('按钮编辑');\\n        \\n        Ext.getCmp('selectWinBtnId').setValue(Ext.getCmp('BTN_ID_WIN').getValue());\\n        Ext.getCmp('selectWinFuncId').setValue(Ext.getCmp('FUNC_ID').getValue());\\n        \\n        userSelectWin.show();\\n        \\n        userSelectStore.load();\\n      },\\n      failure: function(response,options){\\n        Ext.Msg.hide();\\n        Ext.Msg.alert('','发送请求失败，服务器没有响应');\\n      }\\n    });\\n}else{//编辑\\n  Ext.Ajax.request({\\n      url : 'main?xwl=23WPM6KN6KP3',\\n      method: 'POST',\\n      params:json,\\n      success: function(response,options){\\n        Ext.Msg.hide();\\n        var returnJson = Ext.JSON.decode(response.responseText);\\n        \\n        //executorStore.getProxy().extraParams.actId = actId;\\n\\t\\t//Wb.load(executorAuthStore);\\n        \\n        Ext.getCmp('OP_FLAG').setValue('_modified');\\n  \\t\\tbtnWin.setTitle('按钮编辑');\\n        \\n        Ext.getCmp('selectWinBtnId').setValue(Ext.getCmp('BTN_ID_WIN').getValue());\\n        Ext.getCmp('selectWinFuncId').setValue(Ext.getCmp('FUNC_ID').getValue());\\n        \\n        userSelectWin.show();\\n        \\n        userSelectStore.load();\\n      },\\n      failure: function(response,options){\\n        Ext.Msg.hide();\\n        Ext.Msg.alert('','发送请求失败，服务器没有响应');\\n      }\\n    });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-unauth\",\"id\":\"btn_deleteuser\",\"text\":\"删除禁用用户\",\"click\":\"var rows = secUserGrid.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择删除的记录!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的记录吗？',function(a){\\n    if(a=='yes'){\\n      \\n      var ids = \\\"\\\";\\n      Ext.each(rows,function(item){\\n        var id = \\\"'\\\"+item.data.USER_BTNS_ID+\\\"'\\\";\\n        if(ids === \\\"\\\"){\\n            ids = id ;\\n          }else{\\n            ids = ids+\\\",\\\"+id;\\n          }\\n\\n      });  \\n      \\n      btnSecDelete.request({ids:ids});\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"editors\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"btnCodeEditor\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"btnNameEditor\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"pickList\":\"[['Y','是'],['N','否']]\",\"id\":\"btnEnableEdior\",\"displayField\":\"NAME\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"btnGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"BTN_ID\",\"id\":\"BTN_ID\",\"text\":\"按钮id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BTN_CODE\",\"id\":\"BTN_CODE\",\"text\":\"按钮编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BTN_NAME\",\"id\":\"BTN_NAME\",\"text\":\"按钮名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BTN_ENABLE\",\"id\":\"BTN_ENABLE\",\"renderer\":\"if(value=='Y'){\\n  return '是';\\n}else if(value=='N'){\\n  return '否';\\n}else{\\n  return value;\\n}\",\"text\":\"启用状态\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUN_TREE_ID\",\"id\":\"BTN_FUNC_TREE_ID\",\"text\":\"功能id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"btnDisableSecGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"column1\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USER_NAME_SECGRID\",\"text\":\"用户名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_SECGRID\",\"text\":\"用户名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_BTNS_ID\",\"id\":\"USER_BTNS_ID_SECGRID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TYPE\",\"id\":\"TYPE_SECGRID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"TARGET_ID_SECGRID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BTN_ID\",\"id\":\"BTN_ID_SECGRID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CAN_USE\",\"id\":\"CAN_USE_SECGRID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUN_TREE_ID\",\"id\":\"FUN_TREE_ID_SECGRID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"userSelectGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"COLUMN_USER_ID\",\"text\":\"用户id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"COLUMN_USER_NAME\",\"text\":\"用户名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"COLUMN_EMP_CODE\",\"text\":\"员工编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"COLUMN_EMP_NAME\",\"text\":\"员工姓名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_TYPE\",\"id\":\"COLUMN_USER_TYPE\",\"renderer\":\"if(value=='S'){\\n  return '系统内置用户';\\n}else if(value=='U'){\\n  return '自定义用户';\\n}\",\"text\":\"员工类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"START_DATE\",\"id\":\"COLUMN_START_DATE\",\"text\":\"开始时间\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"END_DATE\",\"id\":\"COLUMN_END_DATE\",\"text\":\"结束时间\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"btnWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btn_btnsave\",\"text\":\"保存\",\"click\":\"//数据校验\\nif(Ext.getCmp('BTN_CODE_WIN').getValue()==''){\\n  Ext.Msg.alert('提示','请输入按钮编码!');\\n  return;\\n}\\n\\nif(Ext.getCmp('BTN_NAME_WIN').getValue()==''){\\n  Ext.Msg.alert('提示','请输入按钮名称!');\\n  return;\\n}\\n\\nvar json = {\\n  'BTN_ID':Ext.getCmp('BTN_ID_WIN').getValue(),\\n  'BTN_CODE':Ext.getCmp('BTN_CODE_WIN').getValue(),\\n  'BTN_NAME':Ext.getCmp('BTN_NAME_WIN').getValue(),\\n  'BTN_ENABLE':Ext.getCmp('BTN_ENABLE_WIN').getValue()==true?'Y':'N',\\n  'FUNC_ID':Ext.getCmp('FUNC_ID').getValue(),\\n  'IS_ADD_NEXT':'N'\\n};\\n\\n//数据保存\\nvar opType = Ext.getCmp('OP_FLAG').getValue();\\n\\nif(opType=='_added'){//新增\\n  btnInsert.request(json);\\n}else{//编辑\\n  btnUpdate.request(json);\\n}\"},{\"xwlMeta\":\"button\",\"id\":\"btn_btnsave_next\",\"text\":\"保存并添加下一个\",\"click\":\"//数据校验\\nif(Ext.getCmp('BTN_CODE_WIN').getValue()==''){\\n  Ext.Msg.alert('提示','请输入按钮编码!');\\n  return;\\n}\\n\\nif(Ext.getCmp('BTN_NAME_WIN').getValue()==''){\\n  Ext.Msg.alert('提示','请输入按钮名称!');\\n  return;\\n}\\n\\nvar json = {\\n  'BTN_ID':Ext.getCmp('BTN_ID_WIN').getValue(),\\n  'BTN_CODE':Ext.getCmp('BTN_CODE_WIN').getValue(),\\n  'BTN_NAME':Ext.getCmp('BTN_NAME_WIN').getValue(),\\n  'BTN_ENABLE':Ext.getCmp('BTN_ENABLE_WIN').getValue()==true?'Y':'N',\\n  'FUNC_ID':Ext.getCmp('FUNC_ID').getValue(),\\n  'IS_ADD_NEXT':'Y'\\n};\\n\\n//数据保存\\nvar opType = Ext.getCmp('OP_FLAG').getValue();\\n\\nif(opType=='_added'){//新增\\n  btnInsert.request(json);\\n}else{//编辑 \\n  btnUpdate.request(json);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btn_btnclose\",\"text\":\"关闭\",\"click\":\"btnWin.hide();\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectIconWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"selectIconConfirmBtn\",\"text\":\"确定\",\"click\":\"if(selectRecord!=null){\\n  var name = selectRecord.data.NAME;\\n\\n  var sType = Ext.getCmp('selectType').getValue();\\n\\n  if(sType=='smallIcon'){\\n    Ext.getCmp('SMALL_ICON').setValue(name);\\n  }else if(sType=='largeIcon'){\\n    Ext.getCmp('LARGE_ICON').setValue(name); \\n  }\\n}\\nselectIconWin.hide();\"},{\"xwlMeta\":\"button\",\"id\":\"selectIconClearBtn\",\"text\":\"清除\",\"click\":\"var sType = Ext.getCmp('selectType').getValue();\\n\\nif(sType=='smallIcon'){\\n  Ext.getCmp('SMALL_ICON').setValue('');\\n}else if(sType=='largeIcon'){\\n  Ext.getCmp('LARGE_ICON').setValue(''); \\n}\\n\\nselectIconWin.hide();\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"menuWin\",\"height\":\"200\",\"layout\":\"fit\",\"resizable\":\"false\",\"width\":\"350\",\"clickOK\":\"if(!form1.getForm().isValid()){\\n  Ext.Msg.alert('提示','菜单信息不完整，请确认!');\\n  return;\\n}\\n\\nvar json = {\\n  funcTreeId:Wb.getUuid(),\\n  funcTreeCode:Ext.getCmp('MENU_CODE1').getValue(),\\n  funcTreeName:Ext.getCmp('MENU_NAME1').getValue(),\\n  upId:Ext.isEmpty(Ext.getCmp('MENU_UP_ID1').getValue()) ? '-1' : Ext.getCmp('MENU_UP_ID1').getValue(),\\n  nodeType:'M',\\n  desc:Ext.getCmp('MENU_DESC1').getValue(),\\n  url:'',\\n  mobUrl:'',\\n  smallIcon:'',\\n  largeIcon:'',\\n  appId:'',\\n  enableFlag:Ext.getCmp('MENU_ENABLE').getValue()==true?'Y':'N',\\n  addType:'popadd',\\n  menuOpType:MENU_OP_TYPE.getValue()\\n};\\n\\nfuncMenuInsert.request(json);\",\"hide\":\"form1.getForm().reset();\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel21\",\"layout\":\"form\",\"columnWidth\":\".4\",\"border\":\"false\",\"bodyStyle\":\"padding: 15px 50px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"MENU_OP_TYPE\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"MENU_UP_ID1\",\"labelWidth\":\"60\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"菜单id\",\"id\":\"MENU_ID1\",\"labelWidth\":\"60\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>菜单编码\",\"id\":\"MENU_CODE1\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>菜单名称\",\"id\":\"MENU_NAME1\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"菜单描述\",\"id\":\"MENU_DESC1\",\"labelWidth\":\"60\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"60\",\"fieldLabel\":\"是否启用\",\"id\":\"MENU_ENABLE1\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"funcWin\",\"height\":\"240\",\"layout\":\"fit\",\"resizable\":\"false\",\"width\":\"380\",\"clickOK\":\"if(!form2.getForm().isValid()){\\n  Ext.Msg.alert('提示','功能信息不完整，请确认!');\\n  return;\\n}\\n\\nvar json = {\\n  funcTreeId:Wb.getUuid(),\\n  funcTreeCode:Ext.getCmp('FUNC_CODE1').getValue(),\\n  funcTreeName:Ext.getCmp('FUNC_NAME1').getValue(),\\n  upId:Ext.isEmpty(Ext.getCmp('FUNC_UP_ID1').getValue()) ? '-1' : Ext.getCmp('FUNC_UP_ID1').getValue(),\\n  nodeType:'F',\\n  desc:'',\\n  url:Ext.getCmp('FUNC_URL1').getValue(),\\n  mobUrl:'',\\n  smallIcon:'',\\n  largeIcon:'',\\n  appId:Ext.getCmp('APP_COMB1').getValue(),\\n  enableFlag:Ext.getCmp('FUNC_ENABLE1').getValue()==true?'Y':'N',\\n  addType:'popadd',\\n  showStyle:Ext.getCmp('SHOW_STYLE1').getValue()\\n};\\n\\nfuncMenuInsert.request(json);\",\"hide\":\"form2.getForm().reset();\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form2\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel9\",\"layout\":\"form\",\"columnWidth\":\".4\",\"border\":\"false\",\"bodyStyle\":\"padding: 15px 50px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"FUNC_UP_ID1\",\"labelWidth\":\"60\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"功能id\",\"id\":\"FUNC_ID1\",\"labelWidth\":\"60\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"popAppStore\",\"valueField\":\"APP_ID\",\"allowBlank\":\"false\",\"width\":\"250\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>应　　用\",\"id\":\"APP_COMB1\",\"displayField\":\"APP_NAME\",\"labelWidth\":\"60\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>功能编码\",\"id\":\"FUNC_CODE1\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"width\":\"250\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>功能名称\",\"id\":\"FUNC_NAME1\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"width\":\"250\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>功能URL\",\"id\":\"FUNC_URL1\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"width\":\"250\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"value\":\"TAB\",\"width\":\"250\",\"labelAlign\":\"right\",\"pickList\":\"[['TAB','功能页签'],['WIN','功能窗口'],['BRO','浏览器页签']]\",\"fieldLabel\":\"显示方式\",\"id\":\"SHOW_STYLE1\",\"labelWidth\":\"60\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"60\",\"autoCreate\":\"false\",\"width\":\"250\",\"fieldLabel\":\"是否启用\",\"id\":\"FUNC_ENABLE1\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"selectIconWin\",\"height\":\"400\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"650\",\"buttons\":\"selectIconWinBtns\",\"buttonAlign\":\"righ\",\"children\":[{\"xwlMeta\":\"dataview\",\"region\":\"center\",\"store\":\"iconStore\",\"autoScroll\":\"true\",\"padding\":\"8\",\"itemSelector\":\"div.thumb-wrap\",\"id\":\"dataview1\",\"multiSelect\":\"false\",\"frame\":\"true\",\"tpl\":\"<tpl for=\\\".\\\">\\n  <div class=\\\"thumb-wrap\\\">\\n    <div class=\\\"thumb\\\">\\n      <img src=\\\"{URL}\\\" title=\\\"{NAME}\\\">\\n    <\\/div>\\n  <\\/div>\\n<\\/tpl>\\n<div class=\\\"x-clear\\\"><\\/div>\",\"itemdblclick\":\"var name = selectRecord.data.NAME;\\n\\nvar sType = Ext.getCmp('selectType').getValue();\\n\\nif(sType=='smallIcon'){\\n  Ext.getCmp('SMALL_ICON').setValue(name);\\n}else if(sType=='largeIcon'){\\n  Ext.getCmp('LARGE_ICON').setValue(name); \\n}\\n\\nselectIconWin.hide();\\n\",\"selectionchange\":\"if(selections.length>0){\\n  selectRecord = selections[0];\\n}else{\\n  selectRecord = null;\\n}\\n  \\n\"},{\"xwlMeta\":\"text\",\"id\":\"selectType\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"btnWin\",\"height\":\"500\",\"layout\":\"border\",\"resizable\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"650\",\"buttons\":\"btnWinBtns\",\"minimizable\":\"false\",\"buttonAlign\":\"righ\",\"maximizable\":\"false\",\"hide\":\"btnStore.load();\",\"beforehide\":\"buttonForm.getForm().reset();\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"buttonForm\",\"height\":\"110\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"buttonFieldSet\",\"title\":\"按钮信息\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel10\",\"layout\":\"form\",\"columnWidth\":\".4\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"操作标记（新增、编辑）\",\"id\":\"OP_FLAG\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"id\":\"BTN_ID_WIN\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"按钮编码\",\"id\":\"BTN_CODE_WIN\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"80\",\"fieldLabel\":\"启用标记\",\"id\":\"BTN_ENABLE_WIN\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel11\",\"layout\":\"form\",\"columnWidth\":\".4\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"按钮名称\",\"id\":\"BTN_NAME_WIN\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel12\",\"layout\":\"fit\",\"border\":\"true\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"按钮禁用授权\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"userSecStore\",\"columns\":\"btnDisableSecGridColumns\",\"region\":\"south\",\"id\":\"secUserGrid\",\"tbar\":\"secUserGridToolbar\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"userSelectWin\",\"title\":\"添加授权用户\",\"height\":\"380\",\"layout\":\"border\",\"width\":\"580\",\"clickOK\":\"var rows = userSelectGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择添加的记录!');\\n}else{\\n  var indertArray = new Array();\\n  for(var i=0; i<rows.length; i++){\\n    var _record = {\\n      USER_BTNS_ID:Wb.getUuid(),\\n      TYPE:'U',\\n      TARGET_ID:rows[i].get('USER_ID'),\\n      BTN_ID:Ext.getCmp('selectWinBtnId').getValue(),\\n      CAN_USE:'N',\\n      FUN_TREE_ID:Ext.getCmp('selectWinFuncId').getValue()\\n    };\\n    indertArray.push(_record);\\n  }\\n  \\n  btnSecInsert.params.indertArray = Ext.JSON.encode(indertArray);\\n  btnSecInsert.request();\\n  /*for(var i=0; i<rows.length; i++){\\n    btnSecInsert.request({\\n      USER_BTNS_ID:Wb.getUuid(),\\n      TYPE:'U',\\n      TARGET_ID:rows[i].get('USER_ID'),\\n      BTN_ID:Ext.getCmp('selectWinBtnId').getValue(),\\n      CAN_USE:'N',\\n      FUN_TREE_ID:Ext.getCmp('selectWinFuncId').getValue()\\n    });\\n  } \\n  */\\n}\",\"beforehide\":\"// var _funId = FUNC_ID.getValue();\\n// var _btnId = BTN_ID_WIN.getValue();\\n// Wb.load(userSecStore,{FUNC_ID:_funId, BTN_ID:_btnId});\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"userSelectForm\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet111\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"selectWinBtnId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"selectWinFuncId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"userName\",\"labelWidth\":\"60\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tuserSelectStore.load();\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"员工姓名\",\"id\":\"empName\",\"labelWidth\":\"60\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tuserSelectStore.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn\",\"text\":\"查询\",\"click\":\"userSelectStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"click\":\"userSelectForm.getForm().reset();\\nuserSelectStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"userSelectStore\",\"columns\":\"userSelectGridColumns\",\"region\":\"center\",\"id\":\"userSelectGrid\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"afterrender\":\"var _tipCode = '{#tipCode#}';\\nvar _orgTip = Wb.getCookie(_tipCode);\\nif(Ext.isEmpty(_orgTip)){\\n  MsgTip.msg('<font color=\\\"red\\\">提示<\\/font>', '鼠标右键点击左边功能菜单或其下的节点进行操作,<br>拖动文件夹(菜单)或功能节点可以改变顺序和上下级.',null,null,_tipCode);  \\n}\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"treeStore\",\"root\":\"{id:'rootNode',text:'功能菜单',expanded:true}\",\"id\":\"treePanel1\",\"tbar\":\"treeTbar\",\"width\":\"300\",\"rootVisible\":\"true\",\"split\":\"true\",\"viewConfig\":\"{\\n  plugins : {\\n    pluginId: 'ddPlug',\\n    ptype: 'treeviewdragdrop'\\n  },\\n  listeners : {\\n    beforedrop: beforeDropType,\\n    drop: dropType\\n  }\\n}\",\"itemclick\":\"var _tmp = document.getElementById('_toolTipsClickHide');\\nif(_tmp){\\n  MsgTip.hide(_tmp);\\n}\\nvar id = record.get(\\\"id\\\");\\nif(id=='rootNode'){\\n  return;\\n}\\n\\nvar funcTreeId = record.get('ID');\\nvar nodeType = record.get('NODE_TYPE');\\n\\nif(nodeType=='M'){\\n  menuPanel.show();\\n  funcPanel.hide();\\n  \\n  setReadonly('MENU_CODE',true);\\n}else if(nodeType=='F'){\\n  menuPanel.hide();\\n  funcPanel.show();\\n}\\n\\nfuncMenuInfoStore.load({params:{func_tree_id:funcTreeId}});\",\"itemcontextmenu\":\"event.preventDefault();\\nevent.stopEvent();\\n\\nvar id = record.get('id');\\nvar nodeType = record.get('NODE_TYPE');\\nvar parentId = record.get('parent_id');\\nvar nodeId = record.get('ID');\\nvar nodemenu;\\n\\nvar disableDelBtn = false;\\nif('{#godMoadl#}' != 'Y'){\\n  if(record.get('IS_SYS')=='S'){\\n    disableDelBtn = true;\\n  }else{\\n    disableDelBtn = false;\\n  }\\n}else{\\n  disableDelBtn = false;\\n}\\n\\nif(id == 'rootNode'){//跟节点\\n  nodemenu = new Ext.menu.Menu({\\n    items:[\\n      {text: '新增下级菜单',handler:function(){\\n        /*menuPanel.show();\\n  \\t\\tfuncPanel.hide();\\n        menuFormPanel.getForm().reset();\\n        \\n        Ext.getCmp('MENU_UP_ID').setValue(-1);\\n        Ext.getCmp('MENU_ENABLE').setValue(false);\\n\\n        Ext.getCmp('MENU_ID').setValue(-1);\\n        Ext.getCmp('MENU_CODE').setValue('');\\n        Ext.getCmp('MENU_NAME').setValue('');\\n        Ext.getCmp('MENU_DESC').setValue('');*/\\n        \\n        menuWin.setTitle('新增['+record.get('text')+']下级菜单');\\n        menuWin.show();\\n        Ext.getCmp('MENU_UP_ID1').setValue(-1);\\n        Ext.getCmp('MENU_ENABLE1').setValue(true);\\n        Ext.getCmp('MENU_OP_TYPE').setValue('_append');\\n\\n        Ext.getCmp('MENU_ID1').setValue(-1);\\n        Ext.getCmp('MENU_CODE1').setValue('');\\n        Ext.getCmp('MENU_NAME1').setValue('');\\n        Ext.getCmp('MENU_DESC1').setValue('');\\n\\n      }}\\n    ]\\n  });\\n}else{\\n  if(nodeType == 'M'){//菜单\\n    nodemenu = new Ext.menu.Menu({\\n      items:[\\n        {text: '新增同级菜单',handler:function(){\\n          /*menuPanel.show();\\n  \\t\\t  funcPanel.hide();\\n          menuFormPanel.getForm().reset();\\n          \\n          Ext.getCmp('MENU_UP_ID').setValue(parentId);\\n          Ext.getCmp('MENU_ENABLE').setValue(false);\\n\\n          Ext.getCmp('MENU_ID').setValue(-1);\\n          Ext.getCmp('MENU_CODE').setValue('');\\n          Ext.getCmp('MENU_NAME').setValue('');\\n          Ext.getCmp('MENU_DESC').setValue('');*/\\n          \\n          menuWin.setTitle('新增['+record.get('text')+']同级菜单');\\n          menuWin.show();\\n          Ext.getCmp('MENU_UP_ID1').setValue(parentId);\\n          Ext.getCmp('MENU_ENABLE1').setValue(true);\\n          Ext.getCmp('MENU_OP_TYPE').setValue('_after');\\n\\n          Ext.getCmp('MENU_ID1').setValue(-1);\\n          Ext.getCmp('MENU_CODE1').setValue('');\\n          Ext.getCmp('MENU_NAME1').setValue('');\\n          Ext.getCmp('MENU_DESC1').setValue('');\\n\\n        }},\\n        {text: '新增下级菜单',handler:function(){\\n          /*menuPanel.show();\\n  \\t\\t  funcPanel.hide();\\n          menuFormPanel.getForm().reset();\\n\\n          Ext.getCmp('MENU_UP_ID').setValue(nodeId);\\n          Ext.getCmp('MENU_ENABLE').setValue(false);\\n\\n          Ext.getCmp('MENU_ID').setValue(-1);\\n          Ext.getCmp('MENU_CODE').setValue('');\\n          Ext.getCmp('MENU_NAME').setValue('');\\n          Ext.getCmp('MENU_DESC').setValue('');*/\\n          \\n          menuWin.setTitle('新增['+record.get('text')+']下级菜单');\\n          menuWin.show();\\n          Ext.getCmp('MENU_UP_ID1').setValue(nodeId);\\n          Ext.getCmp('MENU_ENABLE1').setValue(true);\\n          Ext.getCmp('MENU_OP_TYPE').setValue('_append');\\n\\n          Ext.getCmp('MENU_ID1').setValue(-1);\\n          Ext.getCmp('MENU_CODE1').setValue('');\\n          Ext.getCmp('MENU_NAME1').setValue('');\\n          Ext.getCmp('MENU_DESC1').setValue('');\\n\\n        }},\\n        {text: '新增功能',handler:function(){\\n          /*menuPanel.hide();\\n  \\t\\t  funcPanel.show();\\n          functionFormPanel.getForm().reset();\\n\\n          Ext.getCmp('FUNC_UP_ID').setValue(id);\\n          Ext.getCmp('FUNC_ENABLE').setValue(false);\\n\\n          Ext.getCmp('FUNC_ID').setValue(-1);\\n          Ext.getCmp('FUNC_CODE').setValue('');\\n          Ext.getCmp('FUNC_NAME').setValue('');\\n          Ext.getCmp('FUNC_DESC').setValue('');\\n          Ext.getCmp('SMALL_ICON').setValue('');\\n          Ext.getCmp('LARGE_ICON').setValue('');\\n          Ext.getCmp('FUNC_URL').setValue('');\\n          Ext.getCmp('MOBILE_URL').setValue('');\\n          Ext.getCmp('APP_NAME').setValue('');\\n          Ext.getCmp('APP_NAME').setRawValue('');*/\\n          \\n          funcWin.setTitle('新增['+record.get('text')+']下级功能');\\n          funcWin.show();\\n          Ext.getCmp('FUNC_UP_ID1').setValue(nodeId);\\n          Ext.getCmp('FUNC_ENABLE1').setValue(true);\\n\\n          Ext.getCmp('FUNC_ID1').setValue(-1);\\n          Ext.getCmp('FUNC_CODE1').setValue('');\\n          Ext.getCmp('FUNC_NAME1').setValue('');\\n          Ext.getCmp('FUNC_URL1').setValue('');\\n\\n        }},\\n        {text: '删除菜单',handler:function(){\\n\\n          Ext.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n            if(a=='yes'){\\n              menuDelete.request({funTreeId:nodeId});\\n            }\\n          });\\n        }}\\n      ]\\n    });\\n  }else if(nodeType == 'F'){//功能\\n    nodemenu = new Ext.menu.Menu({\\n      items:[\\n        {text: '删除功能',disabled:disableDelBtn,handler:function(){\\n          Ext.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n            if(a=='yes'){\\n              //删除功能\\t\\n              functionDelete.request({funTreeId:nodeId});\\n            }\\n          });\\n        }}\\n      ]\\n    });\\n  }\\n}\\nnodemenu.showAt(event.getPoint());\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"tbar\":\"menuPanelbar\",\"id\":\"menuPanel\",\"layout\":\"fit\",\"columnWidth\":\".5\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"menuFormPanel\",\"style\":\"border-width:0px\",\"layout\":\"column\",\"border\":\"false\",\"bodyStyle\":\"padding: 20px 20px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel2\",\"columnWidth\":\".4\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"MENU_UP_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"菜单id\",\"id\":\"MENU_ID\",\"labelWidth\":\"60\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"菜单编码\",\"id\":\"MENU_CODE\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"readOnly\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"菜单名称\",\"id\":\"MENU_NAME\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"菜单描述\",\"id\":\"MENU_DESC\",\"labelWidth\":\"60\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"60\",\"fieldLabel\":\"是否启用\",\"id\":\"MENU_ENABLE\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"panel\",\"tbar\":\"funcPanelBar\",\"id\":\"funcPanel\",\"layout\":\"border\",\"columnWidth\":\".5\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"functionFormPanel\",\"height\":\"180\",\"style\":\"border-width:0px\",\"layout\":\"form\",\"bodyStyle\":\"padding: 10px 0px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel3\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"IS_SYS\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"FUNC_UP_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"功能id\",\"id\":\"FUNC_ID\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"appStore\",\"valueField\":\"APP_ID\",\"allowBlank\":\"false\",\"width\":\"250\",\"labelAlign\":\"right\",\"fieldLabel\":\"应　　用\",\"id\":\"APP_COMB\",\"displayField\":\"APP_NAME\",\"labelWidth\":\"80\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"功能编码\",\"id\":\"FUNC_CODE\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"width\":\"250\",\"readOnly\":\"true\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel4\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"功能名称\",\"id\":\"FUNC_NAME\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"width\":\"250\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"功能描述\",\"id\":\"FUNC_DESC\",\"labelWidth\":\"80\",\"width\":\"250\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel5\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"小 图 标 \",\"id\":\"SMALL_ICON\",\"labelWidth\":\"80\",\"width\":\"250\",\"labelAlign\":\"right\",\"focus\":\"selectIconWin.show();\\niconStore.load({params:{iconType:'smallIcon'}});\\nselectType.setValue('smallIcon');\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"大 图 标 \",\"id\":\"LARGE_ICON\",\"labelWidth\":\"80\",\"width\":\"250\",\"labelAlign\":\"right\",\"focus\":\"selectIconWin.show();\\niconStore.load({params:{iconType:'largeIcon'}});\\nselectType.setValue('largeIcon');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel6\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"功能URL\",\"id\":\"FUNC_URL\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"width\":\"500\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel7\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"移动URL\",\"id\":\"MOBILE_URL\",\"labelWidth\":\"80\",\"width\":\"500\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel8\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"value\":\"TAB\",\"width\":\"250\",\"labelAlign\":\"right\",\"pickList\":\"[['TAB','功能页签'],['WIN','功能窗口'],['BRO','浏览器页签']]\",\"fieldLabel\":\"显示方式\",\"id\":\"SHOW_STYLE\",\"labelWidth\":\"80\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"80\",\"autoCreate\":\"false\",\"width\":\"250\",\"fieldLabel\":\"是否启用\",\"id\":\"FUNC_ENABLE\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"btnStore\",\"columns\":\"btnGridColumns\",\"pagingToolbar\":\"true\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"btnGrid\",\"tbar\":\"btnGridbar\",\"multiSelect\":\"true\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}]}]}","菜单功能注册",null,0,0,"admin","2015-01-28 14:38:43.0","23XQ4B4KHDBR","2015-10-26 14:43:55.0",1],["23W20GG51T5Y","23W20GG51T5F",null,"data",null,1,0,"admin","2015-01-28 14:44:27.0","admin","2015-06-05 14:07:32.0",2],["23W20GG51T5Z","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"getTree\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id id, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type node_type,\\n\\t   t.node_order idx,\\n       (select s.attribute2 from xip_pub_apps s where s.app_id = t.app_id) IS_SYS,\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or ({?parentID?} is null and nvl(t.up_id,'-1') = '-1')\\n order by t.node_order asc\",\"mysql\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id ID, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type NODE_TYPE,\\n\\t   t.node_order IDX,\\n       (select s.attribute2 from xip_pub_apps s where s.app_id = t.app_id) IS_SYS,\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or (({?parentID?} is null or {?parentID?}='') and ifnull(t.up_id,'-1') = '-1')\\n order by t.node_order asc\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\",\"type\":\"tree\"}],\"initScript\":\"Wb.println(request,request.getParameter('parentID'));\",\"loginRequired\":\"false\"}","getTree",null,0,0,"admin","2015-01-28 14:44:39.0","admin","2015-06-08 16:59:13.0",1],["23W21HIY5GQD","23VVZ3QMOKQX","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"附件服务器注册\",\"loginRequired\":\"false\",\"initScript\":\"request.setAttribute(\\\"contextPath\\\",request.getContextPath());\",\"initialize\":\"//测试附件服务器是否可以连接\\nfunction testConnection(json){\\n  //Ext.Msg.wait('正在测试请稍后...');\\n  //Wb.progress('正在测试请稍后...');\\n  Ext.Ajax.request({\\n    url : '{#contextPath#}'+'/xipAttMrgAction.do?method=connectionTest',\\n    timeout: 60*60*3600,\\n    params: json,\\n    method: 'POST',\\n    success: function(response,options){\\n      //Ext.Msg.hide();\\n      var resultJson = Ext.JSON.decode(response.responseText);\\n      Wb.message(resultJson.msg);\\n    },\\n    failure: function(response,options){\\n      //Ext.Msg.hide();\\n      Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应!\\\");\\n    }\\n  });\\n}\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"mask\":\"grid\",\"url\":\"#23W2C7FAVOPZ (delete)\",\"id\":\"ajax_del\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除失败!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除成功!\\\");\\n\\nWb.load(store);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W2EADAWTK6 (insert)\",\"id\":\"ajax_add\",\"output\":\"SERVER_TYPE,HOST,PORT,WEB_PROJECT,USERNAME,PASSWORD,ENABLE_FLAG,SERVER_NAME\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存失败!\\\");\",\"success\":\"var tmp = Ext.JSON.decode(response.responseText);\\nSERVER_ID.setValue(tmp.id);\\nwin1.setTitle('编辑附件服务器');\\nWb.message('保存成功！');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W2EADAWU0Y (update)\",\"id\":\"ajax_upd\",\"output\":\"SERVER_ID,SERVER_TYPE,HOST,PORT,WEB_PROJECT,USERNAME,PASSWORD,ENABLE_FLAG,SERVER_NAME\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"修改失败!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"修改成功!\\\");\\nWb.load(store);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W2EADAWTK6 (insert)\",\"id\":\"ajax_add_continue\",\"output\":\"SERVER_TYPE,HOST,PORT,WEB_PROJECT,USERNAME,PASSWORD,ENABLE_FLAG,SERVER_NAME\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存失败!\\\");\",\"success\":\"form2.getForm().reset();\\nsetReadonly('WEB_PROJECT',false);\\nwin1.setTitle('新增附件服务器');\\nWb.message(\\\"保存成功!\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W2EADAWU0Y (update)\",\"id\":\"ajax_upd_continue\",\"output\":\"SERVER_ID,SERVER_TYPE,HOST,PORT,WEB_PROJECT,USERNAME,PASSWORD,ENABLE_FLAG,SERVER_NAME\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"修改失败!\\\");\",\"success\":\"form2.getForm().reset();\\nsetReadonly('WEB_PROJECT',false);\\nwin1.setTitle('新增附件服务器');\\nWb.message(\\\"保存成功!\\\");\\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"data\":\"[['Y','已启用'],['N','未启用']]\",\"id\":\"store4EmpStatus\",\"fields\":\"['CODE','NAME']\"},{\"xwlMeta\":\"store\",\"id\":\"store\",\"autoLoad\":\"true\",\"url\":\"#23W1Q3M7A9QZ (queryAttServ)\",\"output\":\"fieldSet1\"},{\"xwlMeta\":\"store\",\"id\":\"attrcatStore\",\"pageSize\":\"-1\",\"url\":\"#23XZBINAR0CL (getAttrCatById)\",\"output\":\"ATT_SERVER_ID\"},{\"xwlMeta\":\"query\",\"id\":\"attServTypesQuery\",\"sql\":\"select val_code,val_code\\nfrom xip_pub_val_set_dtl \\nwhere val_set_code ='ATT_SERV_TYPE'\"}]},{\"xwlMeta\":\"folder\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"columnarray\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"SERVER_ID\",\"id\":\"SERVER_ID_COL\",\"text\":\"SERVER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"HOST\",\"id\":\"HOST_COL\",\"text\":\"HOST\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PORT\",\"id\":\"PORT_COL\",\"text\":\"PORT\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"WEB_PROJECT\",\"id\":\"WEB_PROJECT_COL\",\"text\":\"WEB_PROJECT\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SERVER_TYPE\",\"id\":\"SERVER_TYPE_COL\",\"text\":\"服务器类型\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SERVER_NAME\",\"id\":\"SERVER_NAME_COL\",\"text\":\"服务器名称\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SERVER_ADDR\",\"id\":\"SERVER_ADDR_COL\",\"text\":\"服务器地址\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG_COL\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"已启用\\\";\\n}else if(value === \\\"N\\\"){\\n  return \\\"<font color='red'>未启用<\\/font>\\\";\\n}else{\\n  return value;\\n} \",\"text\":\"是否启用\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PASSWORD\",\"id\":\"PASSWORD_COL\",\"text\":\"PASSWORD\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USERNAME\",\"id\":\"USERNAME_COL\",\"text\":\"USERNAME\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"updownGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"ATT_CAT_ID\",\"id\":\"catIdColumn\",\"text\":\"ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CAT_CODE\",\"id\":\"catCodeColumn\",\"text\":\"附件分类编码\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CAT_NAME\",\"id\":\"catNameColumn\",\"text\":\"附件分类名称\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"catDescColumn\",\"text\":\"附件分类描述\",\"flex\":\"1\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"new_icon\",\"id\":\"addBtn\",\"click\":\"win1.title=\\\"新增\\\";\\nwin1.show();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"修改\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"var sm = grid.getSelectionModel();\\nif(!sm.hasSelection() || sm.getSelection().length>1){\\n  Ext.MessageBox.alert('提示','请选择一条要修改的数据!');\\n  return false;\\n}else{\\n  /*------------编辑--------------*/\\n  var rows = sm.getSelection();\\n  win1.setTitle('编辑附件服务器');\\n  if(rows[0].data.SERVER_TYPE === 'FTP'){\\n     setReadonly('WEB_PROJECT',true);\\n  }\\n  form2.loadRecord(rows[0]);\\n  win1.show();\\n   }\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"var rows = grid.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择删除的记录!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的数据吗？',function(a){\\n    if(a=='yes'){\\n      var idList = \\\"\\\" ;\\n      Ext.each(rows,function(r){\\n      \\tvar id = \\\"'\\\" + r.data.SERVER_ID + \\\"'\\\";\\n        if(idList === \\\"\\\"){\\n          idList = id ;\\n        }else{\\n          idList = idList+\\\",\\\"+id ;\\n        }\\n      });\\n      var json = {'ids' : idList} ;\\n      ajax_del.request(json);\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line4\"},{\"xwlMeta\":\"button\",\"iconCls\":\"check_icon\",\"id\":\"checkBtn\",\"text\":\"测试\",\"hidden\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line5\",\"hidden\":\"true\"},{\"xwlMeta\":\"button\",\"iconCls\":\"module_icon\",\"id\":\"updownBtn\",\"text\":\"附件导入导出\",\"click\":\"var sm = grid.getSelectionModel();\\n\\nif(!sm.hasSelection() || sm.getSelection().length>1){\\n  Ext.MessageBox.alert('提示','请选择一条要修改的数据!');\\n  return false;\\n}\\n\\nvar rows = sm.getSelection();\\n\\nATT_SERVER_ID.setValue(rows[0].data.SERVER_ID);\\nATT_SERVER_NAME.setValue(rows[0].data.SERVER_NAME);\\n\\nWb.load(attrcatStore);\\n\\nupdownWin.show();\"},{\"xwlMeta\":\"menuItem\",\"id\":\"line6\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"btn4AddForm\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btnSave\",\"text\":\"保存\",\"click\":\"var serverId = SERVER_ID.getValue();\\nif(form2.getForm().isValid() === false){\\n  Wb.warning('请输入所有必填项！');\\n  return false;\\n}\\nvar servertype = SERVER_TYPE.getValue();\\nvar webname = WEB_PROJECT.getValue();\\nif(servertype==\\\"HTTP\\\"){\\n  if(webname === null || webname === \\\"\\\"){\\n    Ext.Msg.alert(\\\"提示\\\",\\\"WEB工程名不能为空\\\") ;\\n    return false ;\\n  }\\n}\\nvar host = HOST.getValue();\\nif(host.length>0 &&host.match(/[\\\\x01-\\\\xFF]*/)===false){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"服务器主机不能输入中文\\\") ;\\n  return false ;\\n}\\nvar port = PORT.getValue();\\nif(port.length>0 &&port.match(/[\\\\x01-\\\\xFF]*/)===false){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"服务器端口不能输入中文\\\") ;\\n  return false ;\\n}\\nif(webname.length>0 &&webname.match(/[\\\\x01-\\\\xFF]*/)===false){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"WEB工程名不能输入中文\\\") ;\\n  return false ;\\n}\\nif(Ext.isEmpty(serverId)){\\n   var _primaryKey = Wb.getUuid();\\n  ajax_add.request({primaryKey:_primaryKey}); \\n}else{\\n   ajax_upd.request();  \\n}\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btnSaveContinue\",\"text\":\"保存并添加下一个\",\"click\":\"var serverId = SERVER_ID.getValue();\\nif(form2.getForm().isValid() === false){\\n  Wb.warning('请输入所有必填项！');\\n  return false;\\n}\\nvar servertype = SERVER_TYPE.getValue();\\nvar webname = WEB_PROJECT.getValue();\\nif(servertype==\\\"HTTP\\\"){\\n  if(webname === null || webname === \\\"\\\"){\\n    Ext.Msg.alert(\\\"提示\\\",\\\"WEB工程名不能为空\\\") ;\\n    return false ;\\n  }\\n}\\nvar host = HOST.getValue();\\nif(host.length>0 &&host.match(/[\\\\x01-\\\\xFF]*/)===false){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"服务器主机不能输入中文\\\") ;\\n  return false ;\\n}\\nvar port = PORT.getValue();\\nif(port.length>0 &&port.match(/[\\\\x01-\\\\xFF]*/)===false){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"服务器端口不能输入中文\\\") ;\\n  return false ;\\n}\\nif(webname.length>0 &&webname.match(/[\\\\x01-\\\\xFF]*/)===false){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"WEB工程名不能输入中文\\\") ;\\n  return false ;\\n}\\nif(Ext.isEmpty(serverId)){\\n   var _primaryKey = Wb.getUuid();\\n  ajax_add_continue.request({primaryKey:_primaryKey}); \\n}else{\\n   ajax_upd_continue.request();  \\n}\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"btnConnectionTest\",\"text\":\"测试\",\"click\":\"var serverId = SERVER_ID.getValue();\\nif(form2.getForm().isValid() === false){\\n  Wb.warning('请输入所有必填项！');\\n  return false;\\n}\\nvar servertype = SERVER_TYPE.getValue();\\nvar webname = WEB_PROJECT.getValue();\\nif(servertype==\\\"HTTP\\\"){\\n  if(webname === null || webname === \\\"\\\"){\\n    Ext.Msg.alert(\\\"提示\\\",\\\"WEB工程名不能为空\\\") ;\\n    return false ;\\n  }\\n}\\nvar host = HOST.getValue();\\nif(host.length>0 &&host.match(/[\\\\x01-\\\\xFF]*/)===false){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"服务器主机不能输入中文\\\") ;\\n  return false ;\\n}\\nvar port = PORT.getValue();\\nif(port.length>0 &&port.match(/[\\\\x01-\\\\xFF]*/)===false){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"服务器端口不能输入中文\\\") ;\\n  return false ;\\n}\\nif(webname.length>0 &&webname.match(/[\\\\x01-\\\\xFF]*/)===false){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"WEB工程名不能输入中文\\\") ;\\n  return false ;\\n}\\n\\nvar json = {\\n  \\\"type\\\":servertype,\\n  \\\"host\\\":host,\\n  \\\"port\\\":port,\\n  \\\"userName\\\":USERNAME.getValue(),\\n  \\\"password\\\":PASSWORD.getValue(),\\n  \\\"webProject\\\":webname\\n};\\n\\n//testConnection(json);\\n\\nExt.Msg.wait('正在测试请稍后...');\\n//Wb.progress('正在测试请稍后...');\\nExt.Ajax.request({\\n  url : '{#contextPath#}'+'/xipAttMrgAction.do?method=connectionTest',\\n  timeout: 60*60*3600,\\n  params: json,\\n  method: 'POST',\\n  success: function(response,options){\\n    var resultJson = Ext.JSON.decode(response.responseText);\\n    Ext.Msg.hide(null,function(){\\n      Wb.message(resultJson.msg);\\n    });\\n  },\\n  failure: function(response,options){\\n    Ext.Msg.hide(null,function(){\\n      Wb.message(\\\"服务器端没有响应!\\\");\\n    });\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btnClose\",\"text\":\"关闭\",\"click\":\"win1.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"updownWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"expBtn\",\"text\":\"导出\",\"click\":\"var sm = updownGrid.getSelectionModel();\\n\\nif(!sm.hasSelection() || sm.getSelection().length>1){\\n  Ext.MessageBox.alert('提示','请选择附件分类!');\\n  return false;\\n}\\n\\nvar record = sm.getSelection()[0];\\n\\nvar flag = true;\\nvar msg = '';\\n\\nExt.Msg.wait('正在连接附件服务器,请稍后...');\\nExt.Ajax.request({\\n  url : '{#contextPath#}'+'/xipAttMrgAction.do?method=connectionTest',\\n  timeout: 60*60*3600,\\n  async:false,\\n  params: {serverId:ATT_SERVER_ID.getValue()},\\n  method: 'POST',\\n  success: function(response,options){\\n    var resultJson = Ext.JSON.decode(response.responseText);\\n    if(resultJson.flag=='true'){\\n      flag = true;\\n    }else{\\n      flag = false;\\n    }\\n    msg = resultJson.msg;\\n  },\\n  failure: function(response,options){\\n    msg = \\\"服务器端没有响应!\\\";\\n    flag = false;\\n  }\\n});\\n\\nif(!flag){\\n  Ext.Msg.hide(null,function(){\\n    Wb.message(msg);\\n  });\\n  return;\\n}else{\\n  Ext.Msg.hide();\\n}\\n\\nwindow.location.href= \\\"{#contextPath#}\\\"+\\\"/xipAttMrgAction.do?method=expZip&attCatCode=\\\"+record.get('CAT_CODE')+\\\"&org=\\\"+record.get('ORG_ID')+\\\"&serverId=\\\"+ATT_SERVER_ID.getValue();\\t\"},{\"xwlMeta\":\"button\",\"id\":\"impBtn\",\"text\":\"导入\",\"click\":\"var sm = updownGrid.getSelectionModel();\\n\\nif(!sm.hasSelection() || sm.getSelection().length>1){\\n  Ext.MessageBox.alert('提示','请选择附件分类!');\\n  return false;\\n}\\n\\nvar record = sm.getSelection()[0];\\n\\nimp_attr_cat.setValue(record.get('CAT_CODE'));\\n\\nimp_org_id.setValue(record.get('ORG_ID'));\\n\\nimpWin.show();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"wins\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"win1\",\"height\":\"230\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"600\",\"close\":\"form2.getForm().reset();\\nsetReadonly('WEB_PROJECT',false);\\nWb.load(store);\",\"children\":[{\"xwlMeta\":\"form\",\"bodyPadding\":\"20px 0px 20px 20px \",\"id\":\"form2\",\"style\":\"border-width:0px\",\"border\":\"false\",\"buttons\":\"btn4AddForm\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel3\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"forceSelection\":\"true\",\"allowBlank\":\"false\",\"width\":\"260\",\"labelAlign\":\"right\",\"query\":\"attServTypesQuery\",\"fieldLabel\":\"<font color='red'>*<\\/font>服务器类型\",\"id\":\"SERVER_TYPE\",\"labelWidth\":\"120\",\"select\":\"if(SERVER_TYPE.getValue()=== 'HTTP'){\\n  setReadonly('WEB_PROJECT',false);\\n}else{\\n   WEB_PROJECT.setValue('');\\n   setReadonly('WEB_PROJECT',true);\\n}\\n\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>服务器名称\",\"id\":\"SERVER_NAME\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"240\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel4\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>服务器主机\",\"id\":\"HOST\",\"labelWidth\":\"120\",\"allowBlank\":\"false\",\"width\":\"260\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>服务器端口\",\"id\":\"PORT\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"240\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel41\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"WEB工程名\",\"id\":\"WEB_PROJECT\",\"labelWidth\":\"120\",\"width\":\"260\",\"labelAlign\":\"right\",\"blur\":\"var tmp = text.value.replace(/[\\\\u4e00-\\\\u9fa5]/g,'');\\ntext.setValue(tmp);\\n\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4EmpStatus\",\"value\":\"Y\",\"valueField\":\"CODE\",\"width\":\"240\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"是否启用\",\"id\":\"ENABLE_FLAG\",\"displayField\":\"NAME\",\"labelWidth\":\"100\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel42\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>服务器用户\",\"id\":\"USERNAME\",\"labelWidth\":\"120\",\"allowBlank\":\"false\",\"width\":\"260\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>服务器口令\",\"id\":\"PASSWORD\",\"inputType\":\"password\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"240\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel5\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"SERVER_ID\",\"id\":\"SERVER_ID\",\"labelWidth\":\"100\",\"width\":\"260\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"impWin\",\"height\":\"100\",\"layout\":\"fit\",\"width\":\"380\",\"clickOK\":\"if(Ext.isEmpty(impFile.getValue())){\\n  Wb.message('请选择文件');\\n  return;\\n}\\n\\nExt.Msg.wait('正在处理请稍后...');\\n\\nimpForm.getForm().submit({\\n  url : \\\"{#contextPath#}\\\"+\\\"/xipAttMrgAction.do?method=impZip&attCatCode=\\\"+imp_attr_cat.getValue()+\\\"&org=\\\"+imp_org_id.getValue()+\\\"&serverId=\\\"+ATT_SERVER_ID.getValue(),\\n  method : 'POST',\\t\\t\\t\\t\\t\\t\\t\\n  success : function(from, action) {\\n    Ext.Msg.hide(null, function(){\\n      Wb.message('上传成功');\\n      impWin.hide();\\n    });\\n  },\\t\\t\\t\\t\\t\\t\\t\\n  failure : function(from, action) {\\n    Ext.Msg.hide(null, function(){\\n      Wb.message(action.result.msg);\\n    });\\n  }\\t\\t\\t\\t\\t\\t\\n});\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"impForm\",\"layout\":\"form\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"imp_attr_cat\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"imp_org_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"请选择文件\",\"id\":\"impFile\",\"inputType\":\"file\",\"labelWidth\":\"100\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"updownWin\",\"title\":\"附件导入导出\",\"height\":\"260\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"500\",\"buttons\":\"updownWinBtns\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"ATT_SERVER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"ATT_SERVER_NAME\",\"hidden\":\"true\"},{\"xwlMeta\":\"grid\",\"store\":\"attrcatStore\",\"columns\":\"updownGridColumns\",\"exportExcel\":\"false\",\"id\":\"updownGrid\",\"multiSelect\":\"false\",\"simpleSelect\":\"false\",\"exportPrint\":\"false\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"height\":\"'100%'\",\"layout\":\"border\",\"width\":\"'100%'\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form\",\"style\":\"border-width:0px\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"服务器名称\",\"id\":\"serverName\",\"labelWidth\":\"75\",\"width\":\"190\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n  queryBtn.fireEvent('click');\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"服务器地址\",\"id\":\"serverHost\",\"labelWidth\":\"75\",\"width\":\"190\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n  queryBtn.fireEvent('click');\\n}\"},{\"xwlMeta\":\"comboBox\",\"width\":\"180\",\"labelAlign\":\"right\",\"pickList\":\"[['Y', '是'], ['N', '否']]\",\"fieldLabel\":\"启用状态\",\"id\":\"comboBox1\",\"labelWidth\":\"70\",\"select\":\"queryBtn.fireEvent('click');\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"click\":\"Wb.load(store);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"click\":\"Wb.reset(fieldSet1);\\n\\nWb.load(store);\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store\",\"columns\":\"columnarray\",\"region\":\"center\",\"id\":\"grid\",\"tbar\":\"toolbar1\",\"autoLoad\":\"true\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}]}","附件服务器注册",null,0,0,"admin","2015-01-28 13:33:42.0","admin","2015-10-14 16:34:14.0",1],["23W21HIY5GQF","23VVZ3QMOKQX",null,"data",null,1,0,"admin","2015-01-28 13:33:55.0","admin","2015-06-05 14:07:58.0",2],["23W242WJS0LU","23VTFTNDAVSF","{\"id\":\"module\",\"title\":\"test\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"absolute\"}]}","test",null,0,0,"admin","2015-01-29 09:31:12.0","admin","2015-01-29 09:31:31.0",2],["23W242WJS10Z","23W2FPM1OF6M","{\"id\":\"module\",\"title\":\"taskQuery\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dp_task\",\"sql\":\"select tsk.task_id TASKID,\\n       tsk.task_title TASKTITLE,\\n       tsk.task_state TASKSTATE,\\n       tsk.act_name ACTNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.from_user) FROMUSERNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.assign_user) ASSIGNUSERNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.execute_user) EXECUTEUSERNAME,\\n       pi.business_id BUSINESSID,\\n       pi.business_code BUSINESSCODE,\\n       pi.business_name BUSINESSNAME,\\n       e.entity_name ENTITYNAME,\\n       tsk.begin_date BEGINDATE,\\n       pi.instance_id INSTANCEID,\\n       pi.instance_code INSTANCECODE,\\n       tsk.ATTRIBUTE1 \\n  from xip_wf_ins_task tsk, xip_wf_process_instance pi, xip_wf_entities e\\n where tsk.instance_id = pi.instance_id\\n   and pi.entity_id = e.entity_id\\n   and tsk.task_title like '%{#task_title#}%'\\n   and (tsk.assign_user = {?XIP.userId?} or tsk.execute_user = {?XIP.userId?} )\\n   and tsk.task_state in ('open', 'hung-up')\\n order by tsk.begin_date desc\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","taskQuery",null,0,0,"admin","2015-01-29 10:21:41.0","23XQ4UO678FP","2015-08-20 14:34:25.0",1],["23W2C7FAVOPZ","23W21HIY5GQF","{\"id\":\"module\",\"title\":\"delete\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"SELECT COUNT(*) AS \\\"CT\\\" FROM XIP_PUB_ATT_CAT_SEC WHERE ATT_SERVER_ID IN({#ids#})\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"所要删除附件服务器中包含已授权的记录，请重新选择！\",\"id\":\"except\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"del\",\"sql\":\"delete from XIP_PUB_ATT_SERVER  where SERVER_ID in ({#ids#})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","delete",null,0,0,"admin","2015-01-29 13:38:41.0","admin","2015-06-02 13:50:32.0",5],["23W2EADAWTK6","23W21HIY5GQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insert\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExists\",\"sql\":\"SELECT COUNT(*) as \\\"CT\\\" FROM XIP_PUB_ATT_SERVER a WHERE a.SERVER_NAME={?SERVER_NAME?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except\",\"message\":\"附件服务器名称【{#SERVER_NAME#}】已存在！\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"insert\",\"sql\":\"insert into XIP_PUB_ATT_SERVER\\n  (server_id,\\n   server_name,\\n   server_type,\\n   host,\\n   port, \\n   web_project,\\n   username,\\n   password,\\n   enable_flag,\\n   creation_date,\\n   created_by,\\n   last_update_date,\\n   last_updated_by,\\n   last_update_login\\n  )\\nvalues\\n  ({?primaryKey?},\\n   {?SERVER_NAME?},\\n   {?SERVER_TYPE?},\\n   {?HOST?},\\n   {?PORT?},\\n   {?WEB_PROJECT?},\\n   {?USERNAME?},\\n   {?PASSWORD?},\\n   {?ENABLE_FLAG?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?XIP.userId?}\\n  )\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{id:'{#primaryKey#}'}\"}]}","insert",null,0,0,"admin","2015-01-29 16:02:52.0","admin","2015-10-14 16:32:11.0",6],["23W2EADAWU0Y","23W21HIY5GQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"update\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExists\",\"sql\":\"SELECT COUNT(*) as \\\"CT\\\" FROM XIP_PUB_ATT_SERVER a WHERE a.SERVER_NAME={?SERVER_NAME?} and a.SERVER_ID<>{?SERVER_ID?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except\",\"message\":\"附件服务器名称【{#SERVER_NAME#}】已存在！\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"update\",\"sql\":\"update xip_pub_att_server\\n   set server_name          = {?SERVER_NAME?},\\n       server_type          = {?SERVER_TYPE?},\\n       host                 = {?HOST?},\\n       port                 = {?PORT?},\\n       web_project          = {?WEB_PROJECT?},\\n       username             = {?USERNAME?},\\n       password             = {?PASSWORD?},\\n       enable_flag          = {?ENABLE_FLAG?},\\n       last_update_date     = {?timestamp.sys.date?},\\n       last_updated_by      = {?XIP.userId?},\\n       last_update_login    = {?XIP.userId?}\\n where server_id = {?SERVER_ID?}\"}]}","update",null,0,0,"admin","2015-01-29 16:22:42.0","admin","2015-10-14 16:32:28.0",7],["23W2EADAWUTR","23W1PZV096TI","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\",\\\"#23W4UO78MN1S (pub)\\\"]\",\"id\":\"module\",\"title\":\"待办任务\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nvar pwdLenLimit= com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_LEN_LIMIT\\\");\\nvar pwdIncludeChar =  com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_INCLUDE_CHAR\\\");\\nrequest.setAttribute(\\\"PW_LEN_LIMIT\\\",pwdLenLimit);\\nrequest.setAttribute(\\\"PW_INCLUDE_CHAR\\\",pwdIncludeChar);\",\"head\":\"<style type=\\\"text/css\\\">    \\n.menuItem {\\n\\tdisplay: inline-block;\\n\\twidth: 33% !important;\\n    max-height:87px !important;\\n    min-height:87px !important;\\n}\\n.xzMenuTitle{ text-align:center; font-size:14px; min-height:15px; max-height:15px; overflow:hidden;}\\n<\\/style>\\n\",\"touchMode\":\"true\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store_task\",\"autoLoad\":\"true\",\"url\":\"#23W242WJS10Z (taskQuery)\"}]},{\"xwlMeta\":\"array\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"ttext\",\"type\":\"text\",\"id\":\"searchText\",\"placeHolder\":\"查询待办\"},{\"xwlMeta\":\"tbutton\",\"iconCls\":\"seek_icon\",\"id\":\"tb_search\",\"tap\":\"store_task.load({params:{task_title:searchText.getValue()}});\"}]},{\"xwlMeta\":\"tcontainer\",\"autoCreate\":\"false\",\"id\":\"tc_task_approve\",\"title\":\"审批\",\"layout\":\"fit\",\"activate\":\"tb_search.hide();\\nsearchText.hide();\\ntt_tasktitle.setValue(selRecord.data.TASKTITLE);\\ntt_fromuser.setValue(selRecord.data.FROMUSERNAME);\\nvar ret = selRecord.data.ATTRIBUTE1;\\nif(ret!==null&&ret!==''&&ret!==undefined){\\n   tt_attribute1.setValue(selRecord.data.ATTRIBUTE1);\\n   tt_attribute1.show();\\n}else{\\n  tt_attribute1.hide();\\n}\\ncreate_approve_btns(tnav_task,tc_buttons,selRecord.data.TASKID,tta_comment);\",\"children\":[{\"xwlMeta\":\"tform\",\"id\":\"tf_task\",\"children\":[{\"xwlMeta\":\"tfieldSet\",\"id\":\"tfs_task_dtl\",\"children\":[{\"xwlMeta\":\"ttext\",\"label\":\"发起人\",\"type\":\"text\",\"id\":\"tt_fromuser\",\"readOnly\":\"true\"},{\"xwlMeta\":\"ttextArea\",\"id\":\"tt_tasktitle\",\"name\":\"tt_tasktitle\",\"label\":\"标题\",\"readOnly\":\"true\"},{\"xwlMeta\":\"ttext\",\"label\":\"征询反馈\",\"id\":\"tt_attribute1\",\"readOnly\":\"true\",\"hidden\":\"true\"},{\"xwlMeta\":\"ttextArea\",\"id\":\"tta_comment\",\"label\":\"审批意见\"},{\"xwlMeta\":\"tcontainer\",\"id\":\"tc_buttons\",\"defaults\":\"{\\nstyle:'margin: .5em',\\nflex:1\\n}\"}]}]}]},{\"xwlMeta\":\"tviewport\",\"id\":\"tv_home\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tnaviview\",\"navigationBar\":\"{items:buttons}\",\"id\":\"tnav_task\",\"title\":\"待办\",\"pop\":\"if(\\\"tc_task_approve\\\"===view.getId()){\\n  store_task.load({params:{task_title:searchText.getValue()}});\\n  tb_search.show();\\n  searchText.show();\\n}\",\"push\":\"tb_search.hide();\\nsearchText.hide();\",\"children\":[{\"xwlMeta\":\"tlist\",\"store\":\"store_task\",\"id\":\"tlist_task\",\"title\":\"待办任务\",\"itemTpl\":\"<div><img class=\\\"wb_icon\\\" src=\\\"webbuilder/images/item.gif\\\">{TASKTITLE}<\\/div>\",\"itemtap\":\"Wd.selRecord=record;\\ntnav_task.push(_tc_task_approve);\"}]}]}]}","MobileHomePage",null,0,0,"admin","2015-01-29 16:54:57.0","23XQ4B4KHDBQ","2015-09-01 08:36:55.0",3],["23W2FPM1OA9Z","23VVZ3QMOKQQ",null,"附件分类管理",null,0,0,"admin","2015-01-30 10:07:37.0","admin","2015-01-30 10:07:37.0",2],["23W2FPM1OAAT","23W2FPM1OA9Z","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"附件分类管理\",\"loginRequired\":\"false\",\"head\":\"<style type='text/css'>\\n  .x-form-item-label-right {\\n    text-align: right;\\n}\\n<\\/style>\",\"finalize\":\"if(document.addEventListener){//如果是Firefox\\n\\t\\t   document.addEventListener(\\\"keypress\\\",keyHandler, true);\\n\\t\\t}else{\\n\\t\\t   document.attachEvent(\\\"onkeypress\\\",keyHandler);\\n\\t\\t}\\nfunction keyHandler(evt){\\n\\t\\t   if(evt.keyCode==13){\\n\\t\\t          Wb.load(store);\\n\\t\\t   }\\n\\t\\t}\\n\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"footer\":\"<script type=\\\"text/javascript\\\">\\n  var curIndex=0;\\n //删除附件分类 \\n  var deljson='';\\n  //当前分类ID \\n  var catId=\\\"\\\";\\n<\\/script>\"},{\"xwlMeta\":\"folder\",\"id\":\"request\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23W3JS9VY5OS (insert)\",\"id\":\"saveAttachServeAjax\",\"output\":\"form2\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存失败!\\\");\",\"success\":\"OPERATE_FLAG.setValue('EDIT');\\nwin1.setTitle('编辑分类');\\ngrid2.plugins[0].completeEdit();\\nattachSecStore.sync(\\n  {callback :function(){\\n     Wb.unmask();\\n    }\\n  });\\nExt.MessageBox.alert('提示','保存成功！');\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3JS9VY5R9 (update)\",\"id\":\"updateAttachServeAjax\",\"output\":\"form2\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"修改失败!\\\");\",\"success\":\"OPERATE_FLAG.setValue('EDIT');\\ngrid2.plugins[0].completeEdit();\\nattachSecStore.sync(\\n  {callback :function(){\\n     Wb.unmask();\\n    }\\n  });\\nWb.message('保存成功！');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3JS9VY5OS (insert)\",\"id\":\"saveContinueAjax\",\"output\":\"form2\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存失败!\\\");\",\"success\":\"form2.getForm().reset();\\nOPERATE_FLAG.setValue('ADD');\\nwin1.setTitle('新增分类');\\ngrid2.plugins[0].completeEdit();\\nattachSecStore.sync(\\n  {callback :function(){\\n     Wb.unmask();\\n    }\\n  });\\nExt.MessageBox.alert('提示','保存成功！');\\nvar _newKey = Wb.getUuid();\\nATT_CAT_ID.setValue(_newKey);\\nattachSecStore.load({params:{'ATT_CAT_ID' :_newKey}});\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3JS9VY5R9 (update)\",\"id\":\"updateContinueServeAjax\",\"output\":\"form2\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"修改失败!\\\");\",\"success\":\"form2.getForm().reset();\\nOPERATE_FLAG.setValue('ADD');\\nwin1.setTitle('新增分类');\\ngrid2.plugins[0].completeEdit();\\nattachSecStore.sync(\\n  {callback :function(){\\n     Wb.unmask();\\n    }\\n  });\\nWb.message('保存成功！');\\nvar _newKey = Wb.getUuid();\\nATT_CAT_ID.setValue(_newKey);\\nattachSecStore.load({params:{'ATT_CAT_ID' :_newKey}});\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM42VMV (delcat)\",\"id\":\"deleteAttachAjax\",\"failure\":\"Wb.message('删除失败');\\n\",\"success\":\"Wb.message('删除成功');\\nWb.load(store);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"attachSecStore\",\"proxy\":\"{\\ntype:\\\"ajax\\\",\\napi: {\\nread: 'main?xwl=23X2J7B84IK1',\\nupdate: 'main?xwl=23X2J7B84IYY',\\ncreate: 'main?xwl=23X2J7B84ILM',\\ndestroy: 'main?xwl=23X2J7B84IZA'\\n},\\nreader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\nlisteners:{\\nexception:function(proxy,response,operation,options){\\nWb.except(response.responseText);\\n}\\n}\\n}\",\"pageSize\":\"-1\",\"tagEvents\":\"beforesync:function(){Wb.mask();}\"},{\"xwlMeta\":\"store\",\"id\":\"store\",\"autoLoad\":\"true\",\"url\":\"#23W2FPM1OAG9 (query)\",\"output\":\"form\"},{\"xwlMeta\":\"store\",\"id\":\"orgstore\",\"autoLoad\":\"true\",\"url\":\"#23W3VWM428B4 (orgList)\",\"output\":\"form3\"},{\"xwlMeta\":\"store\",\"id\":\"serverStore\",\"autoLoad\":\"true\",\"url\":\"#23W3VWM429I3 (serverList)\",\"output\":\"form31\"},{\"xwlMeta\":\"store\",\"data\":\"[['Y','已启用'],['N','未启用']]\",\"id\":\"store4EmpStatus\",\"fields\":\"['CODE','NAME']\"}]},{\"xwlMeta\":\"folder\",\"id\":\"unusedReq\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23W3JS9VY5OS (insert)\",\"id\":\"ajax_add\",\"output\":\"ATT_CAT_ID,CAT_CODE,CAT_NAME,DESCRIPTION,ENABLE_FLAG\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存失败!\\\");\",\"success\":\"Wb.warning('保存成功！');\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3JS9VY4YV (attCatSetListById)\",\"id\":\"ajax_query\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3JS9VY5OS (insert)\",\"id\":\"ajax_add_grant\",\"output\":\"ATT_CAT_ID,CAT_CODE,CAT_NAME,DESCRIPTION,ENABLE_FLAG\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存失败!\\\");\",\"success\":\"\\n\"},{\"xwlMeta\":\"ajax\",\"async\":\"false\",\"url\":\"#23W3JS9VY5P3 (attCatListByCode)\",\"id\":\"ajax_querybycode\",\"success\":\"\\nvar param_code_json = Ext.JSON.decode(response.responseText);\\nvar attcatId = ATT_CAT_ID.getValue();\\t\\t\\t\\t\\t\\t\\t\\nvar json =  param_code_json.rows[0];\\t\\nif(json!=null){\\n  if(json.ATT_CAT_ID != null&&json.ATT_CAT_ID!=attcatId){\\n  Ext.Msg.alert('提示',\\\"分类编码已存在\\\");\\n  return false;\\n}\\n}\\n  \\n\\n\\n\\nif(attcatId==\\\"\\\"||attcatId==null){\\n\\n  //新增操作\\n  attcatId= Wb.getUuid();\\n  catId = attcatId;\\n  ATT_CAT_ID.setValue(attcatId) ;\\n  ajax_add_grant.request();  \\n}else{\\n\\n   ajax_upd_grant.request();  \\n}\\n\\nvar e=grid2.plugins[0],index=1;\\ne.completeEdit();\\ngrid2stroe.insert(0,{});\\n\\ngrid2stroe.getAt(0).set('ENABLE_FLAG','Y');\\ne.startEditByPosition({row:0,column:0});\\n\"},{\"xwlMeta\":\"ajax\",\"async\":\"false\",\"url\":\"#23W3JS9VY5P3 (attCatListByCode)\",\"id\":\"ajax_querybycode1\",\"success\":\"var param_code_json = Ext.JSON.decode(response.responseText);\\n//var attcatId = ATT_CAT_ID.getValue();\\t\\nvar  attcatId = catId;\\nvar json =  param_code_json.rows[0];\\t\\n\\nif(!Ext.isEmpty(json)){\\n  if(json.ATT_CAT_ID !== null&&json.ATT_CAT_ID!=attcatId){\\n  Ext.Msg.alert('提示',\\\"分类编码已存在\\\");\\n  return false;\\n}\\n}\\nif(Ext.isEmpty(attcatId)){\\n  //新增操作\\n  attcatId= Wb.getUuid();\\n  Ext.getCmp('ATT_CAT_ID').setValue(attcatId);\\n  ajax_add.request();  \\n}else{\\n\\n   ajax_upd.request();  \\n}\\n\\n//保存子表 \\n\\nvar rec = grid2stroe.getModifiedRecords();\\nif(rec.length===0){\\n  \\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n       if(!rec[i].data.ATT_SERVER_ID){\\n          Ext.Msg.alert('提示',\\\"授权服务器不能为空\\\");\\n\\t\\t  return false;\\n       }\\n    \\t//组织存在时,同一组织下只能有一条数据\\n        if(rec[i].data.ORG_ID){\\t\\n          for(var j=0;j<rec.length;j++){\\n            if(rec[i].data.ORG_ID==rec[j].data.ORG_ID&&rec[i].data.CAT_SEC_ID==rec[j].data.CAT_SEC_ID&&i!=j){\\n           \\t\\tExt.Msg.alert('提示',\\\"组织:\\\"+rec[i].data.ORG_NAME+\\\"下只允许有一个服务器\\\");\\n               ifsave = false;\\n              return false;\\n            }\\n            if(rec[i].data.ORG_ID==rec[j].data.ORG_ID&&rec[i].data.CAT_SEC_ID!=rec[j].data.CAT_SEC_ID){\\n              Ext.Msg.alert('提示',\\\"组织:\\\"+rec[i].data.ORG_NAME+\\\"下只允许有一个服务器\\\");\\n               ifsave = false;\\n              return false;\\n            }\\n            \\n\\n          }\\n      //    var ATT_CAT_ID =  ATT_CAT_ID.getValue();\\t\\n          var  ATT_CAT_ID = catId;\\n          var json = {ORG_ID:rec[i].data.ORG_ID,att_cat_id:ATT_CAT_ID};\\n          var ifsave = true;\\n            Ext.Ajax.request({\\n              url:'main?xwl=23W3VWM432BZ',\\n              method:'POST',\\n              async:false,\\n              params:json,\\n              success:function(response,options){\\n                var json = Ext.JSON.decode(response.responseText);\\n                isExist=json.total;\\n                if(isExist>0){\\n                      Ext.Msg.alert('提示',\\\"组织:\\\"+rec[i].data.ORG_NAME+\\\"下只允许有一个服务器\\\");\\n                      ifsave = false;\\n                      return false;\\n                }else{\\n                }\\n              },\\n              failure:function(response,options){\\n                 Ext.Msg.hide();\\n                 Ext.MessageBox.alert('提示','校验失败');\\n                 return false;\\n              }\\n            });\\n\\n          \\n        }else{\\n           var ifsave = true;\\n          \\t//组织不存时,只允许有一条空组织的数据\\n          for(var j=0;j<rec.length;j++){\\n              if(rec[i].data.ORG_ID==rec[j].data.ORG_ID&&rec[i].data.CAT_SEC_ID==rec[j].data.CAT_SEC_ID&&i!=j){\\n           \\t\\tExt.Msg.alert('提示',\\\"空组织下的服务器只允许有一个\\\");\\n               ifsave = false;\\n              return false;\\n            }\\n            \\n            if(rec[i].data.ORG_ID==rec[j].data.ORG_ID&&rec[i].data.CAT_SEC_ID!=rec[j].data.CAT_SEC_ID){\\n              Ext.Msg.alert('提示',\\\"空组织下的服务器只允许有一个\\\");\\n                ifsave = false;\\n              return false;\\n            }\\n\\n          }\\n             var json1 = {att_cat_id:attcatId};\\n             \\n             Ext.Ajax.request({\\n              url:'main?xwl=23W3VWM4337R',\\n              method:'POST',\\n              async:false,\\n              params:json1,\\n              success:function(response,options){\\n                var json = Ext.JSON.decode(response.responseText);\\n                isExist=json.total;\\n                if(isExist>0){\\n                    var jsondata = json.rows[0];\\n                    if(jsondata.CAT_SEC_ID!=rec[i].data.CAT_SEC_ID){\\n                    Ext.Msg.alert('提示',\\\"空组织下的服务器只允许有一个\\\");\\n                      ifsave = false;\\n                    return false;\\n                  }\\n                }\\n              },\\n              failure:function(response,options){\\n                 Ext.Msg.hide();\\n                 Ext.MessageBox.alert('提示','校验失败');\\n                 return false;\\n              }\\n            });\\n        }\\n      \\n     }\\n  if(ifsave){\\n    for(var i=0;i<rec.length;i++){\\n       //保存\\n        //  var ATT_CAT_ID =  ATT_CAT_ID.getValue();\\t\\n          var  ATT_CAT_ID = catId;\\n       if(rec[i].data.CAT_SEC_ID){\\n         //更新\\n          \\n         var secjson={cat_sec_id:rec[i].data.CAT_SEC_ID,att_cat_id:ATT_CAT_ID,\\n                   org_id:rec[i].data.ORG_ID,att_server_id:rec[i].data.ATT_SERVER_ID,\\n             enable_flag:rec[i].data.ENABLE_FLAG};\\n           ajax_update_sec.request(secjson);\\n         \\n       }else{\\n         //新增\\n         var attcatsecId= Wb.getUuid();\\n         var secjson={cat_sec_id:attcatsecId,att_cat_id:ATT_CAT_ID,\\n                   org_id:rec[i].data.ORG_ID,att_server_id:rec[i].data.ATT_SERVER_ID,\\n             enable_flag:rec[i].data.ENABLE_FLAG};\\n           ajax_add_sec.request(secjson);\\n         \\n       }\\n       \\n     }\\n  \\t\\t\\n      win1.close();\\n      store.load();\\n    \\n    \\n  }\\n  \\n     \\n}\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3JS9VY5R9 (update)\",\"id\":\"ajax_upd\",\"output\":\"ATT_CAT_ID,CAT_CODE,CAT_NAME,DESCRIPTION,ENABLE_FLAG\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"修改失败!\\\");\",\"success\":\"Wb.warning('保存成功!');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3JS9VY5R9 (update)\",\"id\":\"ajax_upd_grant\",\"output\":\"ATT_CAT_ID,CAT_CODE,CAT_NAME,DESCRIPTION,ENABLE_FLAG\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"修改失败!\\\");\"},{\"xwlMeta\":\"ajax\",\"mask\":\"grid2\",\"url\":\"#23W3VWM42852 (deleteAttCatSec)\",\"id\":\"ajax_del_catsec\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除失败!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除成功!\\\");\\n  var sid = \\tATT_CAT_ID.getValue();\\n attachSecStore.load({\\n\\t\\t\\t\\tparams:{\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t'ATT_CAT_ID' :sid\\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM42FCA (attCatSetListById)\",\"id\":\"ajax_attCatSetListById\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM434TT (updateAttcatSec)\",\"id\":\"ajax_update_sec\",\"success\":\"Wb.warning('保存成功！');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM433WE (saveAttCatSec)\",\"id\":\"ajax_add_sec\",\"success\":\"Wb.warning('保存成功！');\"}]},{\"xwlMeta\":\"folder\",\"id\":\"gridEditors\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4EmpStatus\",\"autoCreate\":\"false\",\"value\":\"Y\",\"valueField\":\"CODE\",\"width\":\"245\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"id\":\"ENABLE_FLAG11\",\"displayField\":\"NAME\",\"labelWidth\":\"80\"},{\"xwlMeta\":\"folder\",\"id\":\"serverlov\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"grid\":\"grid1\",\"url\":\"#23W3VWM42OCO (selectServer)\",\"output\":\"menu1\",\"showMask\":\"false\",\"load\":\"menu1.showBy(serverCombo);\\nserverCombo.focus(false,true);\"},{\"xwlMeta\":\"array\",\"id\":\"array1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column31\",\"width\":\"30\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SERVER_ID\",\"id\":\"SERVER_ID_COL\",\"text\":\"SERVER_ID\",\"flex\":\"1\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SERVER_NAME\",\"id\":\"SERVER_NAME_COL1\",\"text\":\"服务器名称\",\"width\":\"150\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SERVER_TYPE\",\"id\":\"SERVER_TYPE_COL\",\"text\":\"服务器类型\",\"width\":\"150\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"HOST\",\"id\":\"HOST_COL\",\"text\":\"服务器主机\",\"width\":\"150\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PORT\",\"id\":\"PORT_COL\",\"text\":\"服务器端口\",\"width\":\"150\",\"flex\":\"1\"}]},{\"xwlMeta\":\"menu\",\"id\":\"menu1\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"height\":\"300\",\"layout\":\"fit\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"autoCreate\":\"false\",\"columns\":\"array1\",\"exportExcel\":\"false\",\"pageSizeMenu\":\"false\",\"forceFit\":\"true\",\"id\":\"grid1\",\"columnLines\":\"true\",\"autoLoad\":\"false\",\"exportPrint\":\"false\",\"select\":\"serverCombo.setValue(record.get('SERVER_NAME'));\\nvar r = attachSecStore.getAt(curIndex);\\nr.set('SERVER_NAME',record.get('SERVER_NAME'));\\nr.set('ATT_SERVER_ID',record.get('SERVER_ID'));\\nmenu1.hide();\"}]}]},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"height\":\"22\",\"queryDelay\":\"160\",\"width\":\"232\",\"queryMode\":\"remote\",\"id\":\"serverCombo\",\"beforequery\":\"Wb.load(store1,{query:queryEvent.query});\",\"change\":\"if(Ext.isEmpty(serverCombo.getValue())){\\n   var currentRecord = attachSecStore.getAt(curIndex);\\n   currentRecord.set('SERVER_NAME','');\\n   currentRecord.set('ATT_SERVER_ID','');\\n}\"}]},{\"xwlMeta\":\"folder\",\"id\":\"orglov\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store11\",\"grid\":\"grid11\",\"url\":\"#23W3VWM428B4 (orgList)\",\"output\":\"menu11\",\"showMask\":\"false\",\"load\":\"menu11.showBy(orgCombo);\\norgCombo.focus(false,true);\"},{\"xwlMeta\":\"array\",\"id\":\"orgcolum1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column32\",\"width\":\"15\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_CODE\",\"id\":\"ORG_CODE_COL1\",\"text\":\"组织编码\",\"width\":\"120\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ORG_ID_COL11\",\"text\":\"组织ID\",\"flex\":\"1\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_COL11\",\"text\":\"组织名称\",\"width\":\"150\",\"flex\":\"1\"}]},{\"xwlMeta\":\"menu\",\"id\":\"menu11\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel21\",\"height\":\"300\",\"layout\":\"fit\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store11\",\"autoCreate\":\"false\",\"columns\":\"orgcolum1\",\"exportExcel\":\"false\",\"scroll\":\"both\",\"pagingToolbar\":\"true\",\"pageSizeMenu\":\"true\",\"forceFit\":\"true\",\"id\":\"grid11\",\"columnLines\":\"true\",\"autoLoad\":\"false\",\"exportPrint\":\"false\",\"select\":\"orgCombo.setValue(record.get('ORG_NAME'));\\nvar r = attachSecStore.getAt(curIndex);\\nr.set('ORG_NAME',record.get('ORG_NAME'));\\nr.set('ORG_ID',record.get('ORG_ID'));\\nmenu11.hide();\"}]}]},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"height\":22,\"queryDelay\":\"160\",\"width\":232,\"queryMode\":\"remote\",\"id\":\"orgCombo\",\"beforequery\":\"Wb.load(store11,{query:queryEvent.query});\",\"change\":\"if(Ext.isEmpty(orgCombo.getValue())){\\n   var currentRecord = attachSecStore.getAt(curIndex);\\n   currentRecord.set('ORG_NAME','');\\n   currentRecord.set('ORG_ID','');\\n}\\n\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar2\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line11\"},{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addGrant\",\"text\":\"新增授权\",\"click\":\"var e=grid2.plugins[0],index=0;\\ne.completeEdit();\\nindex = attachSecStore.getCount();\\nvar _catSecId = Wb.getUuid();\\nattachSecStore.insert(index,{});\\nattachSecStore.getAt(index).set('ENABLE_FLAG','Y');\\nattachSecStore.getAt(index).set('CAT_SEC_ID',_catSecId);\\nattachSecStore.getAt(index).set('ATT_CAT_ID',ATT_CAT_ID.getValue());\\ne.startEditByPosition({row:index,column:0});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line21\"},{\"xwlMeta\":\"button\",\"iconCls\":\"minus_icon\",\"id\":\"delGrant\",\"text\":\"删除授权\",\"click\":\"var m=grid2.getSelectionModel(),s=m.getSelection(),i,j;\\nif(s.length===0)return;\\ngrid2.plugins[0].completeEdit();\\ni=attachSecStore.indexOf(s[0]);\\nattachSecStore.remove(s);\\nj = attachSecStore.getCount() - 1;\\nif (i > j)\\n  i = j;\\nif (i > -1)\\n  m.select(i);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line41\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"new_icon\",\"id\":\"addBtn\",\"click\":\"win1.setTitle('新增分类');\\nOPERATE_FLAG.setValue('ADD');\\nvar hiddenKey =Wb.getUuid();\\nATT_CAT_ID.setValue(hiddenKey);\\nwin1.show();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"修改\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"var sm = grid.getSelectionModel();\\nif(!sm.hasSelection() || sm.getSelection().length>1){\\n  Ext.MessageBox.alert('提示','请选择一条要修改的数据!');\\n  return false;\\n}\\n  var rows = sm.getSelection();\\n  win1.setTitle('编辑');\\n  form2.loadRecord(rows[0]);\\n  var _attActId = rows[0].data.ATT_CAT_ID;\\n  ATT_CAT_ID.setValue(_attActId);\\n  OPERATE_FLAG.setValue('EDIT');\\n  attachSecStore.load({params:{'ATT_CAT_ID' :rows[0].data.ATT_CAT_ID}});\\n  win1.show();\\n  \\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"var rows = grid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择删除的记录!');\\n  return false ;\\n}\\nExt.Msg.confirm('提示','您确定要删除所选的数据吗？',function(a){\\n    if(a ==='yes'){\\n      var idList = \\\"\\\" ;\\n      Ext.each(rows,function(r){\\n        idList +='\\\\''+r.data.ATT_CAT_ID+'\\\\',';\\n      });\\n      idList = idList.substring(0,idList.length-1);\\n      deleteAttachAjax.request({ids:idList});\\n    }\\n  });\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line4\"}]},{\"xwlMeta\":\"array\",\"id\":\"btn4AddForm\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btnSave\",\"text\":\"保存\",\"click\":\"//校验附件分类信息的完整性\\nif(!form2.getForm().isValid()){\\n  Wb.warning('请填写所有必填信息！');\\n  return false;\\n}\\n//校验授权信息的合法性(附件服务器列表不分页,默认附件服务器只有一个<组织为空>，服务器地址、组织唯一性)\\nvar _isValid = false;\\nvar _allServerArray = [];\\nvar _defaultServer = 0;\\nvar _tmpStr = '';\\nvar _isValiad = true;\\n\\nattachSecStore.each(function(item){\\n  if(Ext.isEmpty(item.data.ATT_SERVER_ID)){\\n    _isValiad = false;\\n    return false;\\n  }\\n  if(Ext.isEmpty(item.data.ORG_ID)){\\n    _defaultServer = _defaultServer+1;\\n  }else{\\n     _tmpStr = item.data.ORG_ID;\\n    _allServerArray.push(_tmpStr);\\n  }\\n});\\nif(_isValiad === false){\\n  Wb.warning('附件服务器不能为空！');\\n  return false; \\n}\\nif(_defaultServer>1){\\n  Wb.warning('默认服务器只允许有一个(组织为空时的服务器)!');\\n  return false;\\n}\\nvar _tmpArray = _allServerArray;\\nvar _uniqueArray = Ext.Array.unique(_allServerArray);\\nif(_tmpArray.length !== _uniqueArray.length){\\n  Wb.warning('一个组织只能有一个相对应的附件服务器！');\\n  return false;\\n}\\n//保存记录信息(新增/更新)\\nif(OPERATE_FLAG.getValue() === 'ADD'){\\n  saveAttachServeAjax.request();\\n}else{\\n  updateAttachServeAjax.request();\\n}\\n\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btnSaveContinue\",\"text\":\"保存并添加下一个\",\"click\":\"//校验附件分类信息的完整性\\nif(!form2.getForm().isValid()){\\n  Wb.warning('请填写所有必填信息！');\\n  return false;\\n}\\n//校验授权信息的合法性(附件服务器列表不分页,默认附件服务器只有一个<组织为空>，服务器地址、组织唯一性)\\nvar _isValid = false;\\nvar _allServerArray = [];\\nvar _defaultServer = 0;\\nvar _tmpStr = '';\\nvar _isValiad = true;\\n\\nattachSecStore.each(function(item){\\n if(Ext.isEmpty(item.data.ATT_SERVER_ID)){\\n    _isValiad = false;\\n    return false;\\n  }\\n  if(Ext.isEmpty(item.data.ORG_ID)){\\n    _defaultServer = _defaultServer+1;\\n  }else{\\n     _tmpStr = item.data.ORG_ID;\\n    _allServerArray.push(_tmpStr);\\n  }\\n});\\nif(_isValiad === false){\\n  Wb.warning('附件服务器不能为空！');\\n  return false; \\n}\\nif(_defaultServer>1){\\n  Wb.warning('默认服务器只允许有一个(组织为空时的服务器)!');\\n  return false;\\n}\\nvar _tmpArray = _allServerArray;\\nvar _uniqueArray = Ext.Array.unique(_allServerArray);\\nif(_tmpArray.length !== _uniqueArray.length){\\n  Wb.warning('一个组织只能有一个相对应的附件服务器！');\\n  return false;\\n}\\n//保存记录信息(新增/更新)\\nif(OPERATE_FLAG.getValue() === 'ADD'){\\n  saveContinueAjax.request();\\n}else{\\n  updateContinueServeAjax.request();\\n}\\n\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btnClose\",\"text\":\"关闭\",\"click\":\"win1.close();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"grid2Colum\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum1\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CAT_SEC_ID\",\"id\":\"CAT_SEC_ID_COL\",\"text\":\"CAT_SEC_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ORG_ID_COL\",\"text\":\"组织\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATT_SERVER_ID\",\"id\":\"ATT_SERVER_ID_COL\",\"text\":\"服务器ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SERVER_NAME\",\"id\":\"SERVER_NAME_COL\",\"text\":\"<font color='red'>*<\\/font>服务器\",\"width\":\"150\",\"editor\":\"serverCombo\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_COL\",\"text\":\"组织\",\"width\":\"200\",\"editor\":\"orgCombo\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG_COL1\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"已启用\\\";\\n}else if(value === \\\"N\\\"){\\n  return \\\"未启用\\\";\\n}else{\\n  return value;\\n} \",\"text\":\"<font color='red'>*<\\/font>是否启用\",\"editor\":\"ENABLE_FLAG11\"}]},{\"xwlMeta\":\"array\",\"id\":\"columnarray\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"ATT_CAT_ID\",\"id\":\"ATT_CAT_ID_COL\",\"text\":\"ATT_CAT_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CAT_CODE\",\"id\":\"CAT_CODE_COL\",\"text\":\"分类编码\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CAT_NAME\",\"id\":\"CAT_NAME_COL\",\"text\":\"分类名称\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"DESCRIPTION_COL\",\"text\":\"分类描述\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG_COL\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"已启用\\\";\\n}else if(value === \\\"N\\\"){\\n  return \\\"<font color='red'>未启用<\\/font>\\\";\\n}else{\\n  return value;\\n} \",\"text\":\"是否启用\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"win\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"win1\",\"height\":\"400\",\"layout\":\"border\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"700\",\"buttons\":\"btn4AddForm\",\"buttonAlign\":\"center\",\"close\":\"form2.getForm().reset();\\nWb.load(store);\\n\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"bodyPadding\":\"10px 0px 10px 0px\",\"id\":\"form2\",\"height\":\"100\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel3\",\"height\":\"28\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>分类编码\",\"id\":\"CAT_CODE\",\"labelWidth\":\"120\",\"allowBlank\":\"false\",\"width\":\"270\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>分类名称\",\"id\":\"CAT_NAME\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"270\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel4\",\"height\":\"28\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"分类描述\",\"id\":\"DESCRIPTION\",\"labelWidth\":\"120\",\"width\":\"270\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4EmpStatus\",\"value\":\"Y\",\"valueField\":\"CODE\",\"width\":\"270\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"是否启用\",\"id\":\"ENABLE_FLAG\",\"displayField\":\"NAME\",\"labelWidth\":\"100\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel41\",\"height\":\"28\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"number\",\"minValue\":\"0\",\"fieldLabel\":\"文件限制(MB)\",\"id\":\"FILE_SIZE_LIMIT\",\"labelWidth\":\"120\",\"width\":\"270\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel5\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"ATT_CAT_ID\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"hiddenField\",\"id\":\"OPERATE_FLAG\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"attachSecStore\",\"columns\":\"grid2Colum\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"grid2\",\"tbar\":\"toolbar2\",\"multiSelect\":\"true\",\"selType\":\"checkboxmodel\",\"itemclick\":\"curIndex = index;\\n\\n\\n\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"height\":\"'100%'\",\"layout\":\"border\",\"width\":\"'100%'\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"分类编码\",\"id\":\"catCode\",\"labelWidth\":\"75\",\"width\":\"190\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"分类名称\",\"id\":\"catName\",\"labelWidth\":\"75\",\"width\":\"190\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"click\":\"Wb.load(store);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"click\":\"form.getForm().reset();\\nWb.load(store);\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store\",\"columns\":\"columnarray\",\"split\":\"true\",\"region\":\"center\",\"id\":\"grid\",\"tbar\":\"toolbar1\",\"autoLoad\":\"true\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\nenableTextSelection:true\\n}\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}]}","附件分类管理",null,0,0,"admin","2015-01-30 10:08:40.0","23XQ4B4KHDBR","2015-10-15 14:51:25.0",1],["23W2FPM1OAAZ","23W2FPM1OA9Z",null,"data",null,1,0,"admin","2015-01-30 10:08:48.0","admin","2015-06-05 14:08:06.0",2],["23W2FPM1OAG9","23X2J7B84IJZ","{\"id\":\"module\",\"title\":\"query\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT * FROM XIP_PUB_ATT_CAT\\n\\t\\t\\tWHERE lower(CAT_CODE) LIKE lower('%{#catCode#}%')\\n\\t\\t\\tAND  lower(CAT_NAME) LIKE lower('%{#catName#}%') \\n\\t\\t\\tORDER BY CAT_CODE ASC ,CREATION_DATE DESC\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","query",null,0,0,"admin","2015-01-30 11:01:33.0","admin","2015-06-01 22:05:54.0",6],["23W2FPM1OF6M","23W1PZV096TI",null,"Navigator Subs",null,1,0,"admin","2015-01-30 14:24:02.0","23XSWLY0BYLW","2015-08-25 10:33:32.0",8],["23W3JS9VY4YV","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"attCatSetListById\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT * FROM XIP_PUB_ATT_CAT_SEC\\n\\t\\t\\tWHERE ATT_CAT_ID =  '{#ATT_CAT_ID#}'\\n\\t\\t\\tORDER BY CREATION_DATE DESC\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","attCatSetListById",null,0,0,"admin","2015-02-02 10:15:15.0","admin","2015-03-18 15:03:22.0",3],["23W3JS9VY5D4","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"attCatSecListByCatId\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT S.CAT_SEC_ID,\\n       S.ATT_SERVER_ID, \\n       S.ORG_ID AS ORG_NAME,\\n       S.ORG_ID ORG_ID, \\n       E.SERVER_NAME, \\n       E.SERVER_TYPE||'|'||E.HOST AS HOSTANDTYPENAME,\\n       S.ENABLE_FLAG \\n       FROM XIP_PUB_ATT_CAT_SEC S,XIP_PUB_ORGS O,XIP_PUB_ATT_SERVER E\\n       WHERE S.ORG_ID is null\\n       AND S.ATT_SERVER_ID = E.SERVER_ID\\n       AND S.ATT_CAT_ID =  '{#ATT_CAT_ID#}'\\t\\nUNION\\nSELECT S.CAT_SEC_ID,\\n       S.ATT_SERVER_ID, \\n       O.ORG_NAME AS ORG_NAME,\\n       O.ORG_ID,\\n       E.SERVER_NAME,\\n       E.SERVER_TYPE||'|'||E.HOST AS HOSTANDTYPENAME,\\n       S.ENABLE_FLAG \\n       FROM XIP_PUB_ATT_CAT_SEC S,XIP_PUB_ORGS O,XIP_PUB_ATT_SERVER E\\n\\t   WHERE S.ORG_ID IS NOT  NULL\\n       AND O.ORG_ID = S.ORG_ID\\n\\t   AND S.ATT_SERVER_ID = E.SERVER_ID\\n\\t   AND S.ATT_CAT_ID =  '{#ATT_CAT_ID#}'\\n\\t\\t\",\"mysql\":\"SELECT S.CAT_SEC_ID,\\n       S.ATT_SERVER_ID, \\n       S.ORG_ID AS ORG_NAME,\\n       S.ORG_ID ORG_ID, \\n       E.SERVER_NAME, \\n       CONCAT(E.SERVER_TYPE,'|',E.HOST) AS HOSTANDTYPENAME,\\n       S.ENABLE_FLAG \\n       FROM XIP_PUB_ATT_CAT_SEC S,XIP_PUB_ORGS O,XIP_PUB_ATT_SERVER E\\n       WHERE S.ORG_ID is null\\n       AND S.ATT_SERVER_ID = E.SERVER_ID\\n       AND S.ATT_CAT_ID =  '{#ATT_CAT_ID#}'\\t\\nUNION\\nSELECT S.CAT_SEC_ID,\\n       S.ATT_SERVER_ID, \\n       O.ORG_NAME AS ORG_NAME,\\n       O.ORG_ID,\\n       E.SERVER_NAME,\\n       CONCAT(E.SERVER_TYPE,'|',E.HOST) AS HOSTANDTYPENAME,\\n       S.ENABLE_FLAG \\n       FROM XIP_PUB_ATT_CAT_SEC S,XIP_PUB_ORGS O,XIP_PUB_ATT_SERVER E\\n\\t   WHERE S.ORG_ID IS NOT  NULL\\n       AND O.ORG_ID = S.ORG_ID\\n\\t   AND S.ATT_SERVER_ID = E.SERVER_ID\\n\\t   AND S.ATT_CAT_ID =  '{#ATT_CAT_ID#}'\\n\\t\\t\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","attCatSecListByCatId",null,0,0,"admin","2015-02-02 13:56:10.0","admin","2015-06-09 13:31:10.0",4],["23W3JS9VY5I1","23VVZ3QMOKQA",null,"程序管理",null,0,0,"admin","2015-02-02 14:08:11.0","admin","2015-02-02 14:08:11.0",13],["23W3JS9VY5I5","23W3JS9VY5I1","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"程序管理\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/extShare/examples.js\\\"]\",\"loginRequired\":\"false\",\"cssFiles\":\"[\\\"pub/uip/common/scripts/extShare/example.css\\\"]\",\"finalize\":\"\\n\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM42B3Z (insertgrid1)\",\"id\":\"insertajax\",\"output\":\"window1\",\"failure\":\"Wb.message('保存失败');\",\"success\":\"grid2.plugins[0].completeEdit();\\nvar returnJson = Ext.JSON.decode(response.responseText);\\n\\nif(store2.getModifiedRecords().length==0 && store2.getRemovedRecords().length==0){\\n  if(returnJson.IS_SAVE_NEXT == 'Y'){\\n    Wb.reset(form2);\\n    \\n    OP_TYPE.setValue('_added');\\n    window1.setTitle('新增程序');\\n    var APP_ID = findcombo.getValue();\\n    Wb.get('APP_ID').setValue(APP_ID);\\n    PROGRAM_ID.setValue(Wb.getUuid());\\n    Wb.load(store2,{PROGRAM_ID : '-1'});\\n  }else{\\n  \\tWb.message('保存成功!');\\n    OP_TYPE.setValue('_modified');\\n  }\\n}else{\\n  store2.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n    },\\n    success :function(){\\n      if(returnJson.IS_SAVE_NEXT == 'Y'){\\n        Wb.reset(form2);\\n\\n        OP_TYPE.setValue('_added');\\n        window1.setTitle('新增程序');\\n        var APP_ID = findcombo.getValue();\\n        Wb.get('APP_ID').setValue(APP_ID);\\n        PROGRAM_ID.setValue(Wb.getUuid());\\n        Wb.load(store2,{PROGRAM_ID : '-1'});\\n      }else{\\n        Wb.message('保存成功!');\\n        OP_TYPE.setValue('_modified');\\n      }\\n    },\\n    failure :function(){\\n      Wb.error('参数保存时发生错误!');\\n    }\\n  });\\n}\\n\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM42B3R (updategrid1)\",\"id\":\"updateajax\",\"output\":\"window1\",\"failure\":\"Wb.message('保存失败');\",\"success\":\"grid2.plugins[0].completeEdit();\\nvar returnJson = Ext.JSON.decode(response.responseText);\\n\\nif(store2.getModifiedRecords().length==0 && store2.getRemovedRecords().length==0){\\n  if(returnJson.IS_SAVE_NEXT == 'Y'){\\n    Wb.reset(form2);\\n    \\n    OP_TYPE.setValue('_added');\\n    window1.setTitle('新增程序');\\n    var APP_ID = findcombo.getValue();\\n    Wb.get('APP_ID').setValue(APP_ID);\\n    PROGRAM_ID.setValue(Wb.getUuid());\\n    Wb.load(store2,{PROGRAM_ID : '-1'});\\n  }else{\\n  \\tWb.message('保存成功!');\\n  }\\n}else{\\n  store2.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n    },\\n    success :function(){\\n      if(returnJson.IS_SAVE_NEXT == 'Y'){\\n        Wb.reset(form2);\\n\\n        OP_TYPE.setValue('_added');\\n        window1.setTitle('新增程序');\\n        var APP_ID = findcombo.getValue();\\n        Wb.get('APP_ID').setValue(APP_ID);\\n        PROGRAM_ID.setValue(Wb.getUuid());\\n        Wb.load(store2,{PROGRAM_ID : '-1'});\\n      }else{\\n        Wb.message('保存成功!');\\n      }\\n    },\\n    failure :function(){\\n      Wb.error('参数保存时发生错误!');\\n    }\\n  });\\n}\\n\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM43BYT (deleteall)\",\"id\":\"deleteallajax\",\"failure\":\"Wb.message('删除失败!');\",\"success\":\"Wb.remove(grid1);\\nWb.message('删除成功!');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23W3VWM432AE (获取uuid)\",\"id\":\"initajax\",\"success\":\"var r = Ext.decode(response.responseText);\\n\\nWb.get('PROGRAM_ID').setValue(r.returnUuid);\\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"querystore\",\"pageSize\":\"-1\",\"url\":\"#23W3JS9VY7NM (FindApp)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"store1\",\"autoLoad\":\"false\",\"url\":\"#23W3VWM427UK (Selectgrid1)\",\"beforeload\":\"if(Wb.isEmpty(findcombo.getValue())){\\n  Wb.message('请先选择应用!');\\n  return;\\n}\\n\\nstore1.getProxy().extraParams.APP_ID = findcombo.getValue();\\nstore1.getProxy().extraParams.cxbm1 = cxbm1.getValue();\\nstore1.getProxy().extraParams.cxmc1 = cxmc1.getValue();\"},{\"xwlMeta\":\"store\",\"id\":\"store2\",\"proxy\":\"{\\ntype:\\\"ajax\\\",\\napi: {\\nread: 'main?xwl=23W3VWM428EF',\\nupdate: 'main?xwl=23W3VWM428EH',\\ncreate: 'main?xwl=23W3VWM428EJ',\\ndestroy: 'main?xwl=23W3VWM428EN'\\n},\\nreader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\nlisteners:{\\nexception:function(proxy,response,operation,options){\\nWb.except(response.responseText);\\n}\\n}\\n}\",\"pageSize\":\"-1\",\"output\":\"window1\",\"tagEvents\":\"beforesync:function(){Wb.mask();}\"},{\"xwlMeta\":\"store\",\"id\":\"queryzjid\",\"grid\":\"grid3\",\"url\":\"#23W3VWM42JTQ (FindZJID)\",\"output\":\"menu1\",\"showMask\":\"false\",\"load\":\"menu1.showBy(zj_ed);\\nzj_ed.focus(false,true);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"editors\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"order_ed\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"csbm_ed\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"csmc_ed\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"forceSelection\":\"true\",\"value\":\"S\",\"pickList\":\"[['S','SQL'],['V','值集'],['H','手工录入']]\",\"id\":\"type_ed\",\"select\":\"var seletedGird = grid2.getSelectionModel().getSelection();\\nvar record1 = seletedGird[0];\\nfor(var i = 0; i < seletedGird.length; i++){   \\n  var ids1 = seletedGird[0].get(\\\"VAL_SRC_TYPE\\\");\\n  var status = Wb.get('type_ed').getValue();\\n  Wb.get('text4').setValue(status);\\n\\n  if(status=='S'){\\n    seletedGird[0].set('VAL_SET_NAME','');\\n    seletedGird[0].set('VAL_SET_ID','');\\n    Wb.get('zj_ed').reset();\\n  }else if(status=='V'){\\n    seletedGird[0].set('SQL_STR','');\\n    Wb.get('sql_ed').reset();\\n  }else{\\n    seletedGird[0].set('VAL_SET_NAME','');\\n    seletedGird[0].set('VAL_SET_ID','');\\n    seletedGird[0].set('SQL_STR','');\\n  }\\n}\\n\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"queryDelay\":\"160\",\"queryMode\":\"remote\",\"id\":\"zj_ed\",\"beforequery\":\"Wb.load(queryzjid,{query:queryEvent.query});\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"sql_ed\"}]},{\"xwlMeta\":\"folder\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"gridquery1\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"rownumber\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_CODE\",\"id\":\"cxbm\",\"text\":\"程序编码\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_NAME\",\"id\":\"cxmc\",\"text\":\"程序名称\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_TYPE\",\"id\":\"cxlx\",\"renderer\":\"if(value === \\\"F\\\"){\\n  return \\\"函数\\\";\\n}else if(value === \\\"W\\\"){\\n  return \\\"WEB服务\\\";\\n}else if(value === \\\"J\\\"){\\n  return \\\"JAVA方法\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"程序类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"OPERATION\",\"id\":\"cxgs\",\"text\":\"程序格式\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROG_DESC\",\"id\":\"cxms\",\"text\":\"程序描述\",\"width\":\"200\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_ID\",\"id\":\"bfcsID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"AppId\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"querycombo\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_ID\",\"id\":\"zjid1\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_NAME\",\"id\":\"zjmc\",\"text\":\"值集名称\",\"width\":\"200\"}]},{\"xwlMeta\":\"array\",\"id\":\"queryarry\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SEQ_NO\",\"id\":\"indexnum1\",\"text\":\"排序号\",\"width\":\"60\",\"editor\":\"order_ed\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_CODE\",\"id\":\"csbm1\",\"text\":\"参数编码\",\"width\":\"80\",\"editor\":\"csbm_ed\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_NAME\",\"id\":\"csmc1\",\"text\":\"参数名称\",\"width\":\"80\",\"editor\":\"csmc_ed\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SRC_TYPE\",\"id\":\"VAL_SRC_TYPE\",\"renderer\":\"if(value === \\\"S\\\"){\\n  return \\\"SQL\\\";\\n}else if(value === \\\"V\\\"){\\n  return \\\"值集\\\";\\n}else if(value === \\\"H\\\"){\\n  return \\\"手工录入\\\";\\n}else{\\n  return value;\\n}\\n\",\"text\":\"参数来源类型\",\"width\":\"80\",\"editor\":\"type_ed\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_NAME\",\"id\":\"VAL_SET_NAME\",\"text\":\"值集\",\"width\":\"200\",\"editor\":\"zj_ed\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SQL_STR\",\"id\":\"SQL_STR\",\"text\":\"SQL语句\",\"width\":\"180\",\"flex\":\"1\",\"editor\":\"sql_ed\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_ID\",\"id\":\"VAL_SET_ID\",\"text\":\"值集id\",\"width\":\"250\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_ID\",\"id\":\"proid\",\"text\":\"PROGRAM_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_PARAM_ID\",\"id\":\"propid\",\"text\":\"PROGRAM_PARAM_ID\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"btnadd\",\"text\":\"新增\",\"click\":\"var _findcombo = findcombo.getValue();\\nif(_findcombo === null || _findcombo === \\\"\\\"){\\n  Ext.Msg.alert('提示','请选择应用!');\\n  return false;\\n}else{\\n  Wb.edit(window1);\\n  window1.setTitle('新增程序');\\n  var APP_ID = findcombo.getValue();\\n  Wb.get('APP_ID').setValue(APP_ID);\\n  \\n  OP_TYPE.setValue('_added');\\n  PROGRAM_ID.setValue(Wb.getUuid());\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"btnedit\",\"text\":\"修改\",\"click\":\"Wb.edit(grid1,window1,PROGRAM_ID);\\nWb.load(store2,{PROGRAM_ID : Wb.get('PROGRAM_ID').getValue()});\\nwindow1.setTitle('编辑程序');\\nOP_TYPE.setValue('_modified');\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"btndelete\",\"text\":\"删除\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择一行!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的信息吗？子表信息也将清空',function(a){\\n    if(a=='yes'){\\n      deleteallajax.request({PROGRAM_ID:rows[0].get('PROGRAM_ID')});\\n    }\\n  });\\n}\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar2\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"btnadd1\",\"text\":\"新增\",\"click\":\"var e=grid2.plugins[0],index=1;\\ne.completeEdit();\\n\\nvar insertJson = {\\n  'PROGRAM_PARAM_ID':Wb.getUuid(),\\n  'PROGRAM_ID':Wb.get('PROGRAM_ID').getValue()\\n};\\n\\nvar storeCount = store2.getCount();\\n\\nstore2.insert(storeCount,insertJson);\\ne.startEditByPosition({row:storeCount,column:2});\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"btndelete1\",\"text\":\"删除\",\"click\":\"var m = grid2.getSelectionModel(), s = m.getSelection(),i,j;\\n\\nif(s.length==0){\\n  Ext.Msg.alert('提示','请选择一行!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的信息吗？',function(a){\\n    if(a=='yes'){\\n      grid2.plugins[0].completeEdit();\\n      store2.remove(s);\\n      /*grid2.plugins[0].completeEdit();\\n\\n      i=store2.indexOf(s[0]);\\n      store2.remove(s);\\n      j = store2.getCount() - 1;\\n      if (i > j)\\n        i = j;\\n      if (i > -1)\\n        m.select(i);\\n      \\n      grid2.plugins[0].completeEdit();\\n      \\n      store2.sync(\\n        {\\n          callback :function(){\\n\\n            Wb.unmask();\\n          }\\n        });\\n      Wb.load(store2);\\n      Ext.MessageBox.alert('提示', '删除成功！');*/\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btnsave\",\"text\":\"保存\",\"hidden\":\"true\",\"click\":\"grid2.plugins[0].completeEdit();\\nstore2.sync(\\n  {\\n    callback :function(){\\n    \\n      Wb.unmask();\\n    }\\n  });\\n Wb.load(store2);\"},{\"xwlMeta\":\"text\",\"id\":\"text4\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"menu\",\"id\":\"menu1\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"tr_1\",\"height\":\"300\",\"columnWidth\":\".5\",\"width\":\"200\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"queryzjid\",\"columns\":\"querycombo\",\"height\":\"300\",\"exportExcel\":\"false\",\"width\":\"200\",\"pageSizeMenu\":\"false\",\"id\":\"grid3\",\"columnLines\":\"true\",\"autoLoad\":\"false\",\"exportPrint\":\"false\",\"select\":\"zj_ed.setValue(record.get('VAL_SET_NAME'));\\n\\nvar id=record.get('VAL_SET_ID');\\n//alert(id);\\nvar record = grid2.getSelectionModel().getSelection();\\nrecord[0].set('VAL_SET_ID',id);\\nmenu1.hide();\"}]}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"btnarry\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"save\",\"text\":\"保存\",\"click\":\"var _PROGRAM_CODE = PROGRAM_CODE.getValue();\\nif(_PROGRAM_CODE === null || _PROGRAM_CODE === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序编码\\\") ;\\n  return false ;\\n}\\n\\nvar _PROGRAM_NAME = PROGRAM_NAME.getValue();\\nif(_PROGRAM_NAME === null || _PROGRAM_NAME === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序名称\\\") ;\\n  return false ;\\n}\\n\\nvar _PROGRAM_TYPE = PROGRAM_TYPE.getValue();\\nif(_PROGRAM_TYPE === null || _PROGRAM_TYPE === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序类型\\\") ;\\n  return false ;\\n}\\n\\nvar _OPERATION = OPERATION.getValue();\\nif(_OPERATION === null || _OPERATION === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序内容\\\") ;\\n  return false ;\\n}\\n\\n//判断参数编码是否有重复\\n//将store中的所有记录的参数编码放到一个数组中，获取此数据的长度，然后去重，获取新数据的长度，如果两个数字长度相同，则没有重复，否则有重复\\nvar paramsArray = new Array();\\nfor(var i=0; i<store2.getCount(); i++){\\n  var record = store2.getAt(i);\\n  if(Ext.isEmpty(record.get('PARAM_CODE'))){\\n    Wb.warning('参数编码不能为空!');\\n  return;\\n  }\\n  paramsArray.push(record.get('PARAM_CODE'));\\n}\\n\\nvar newParamsArray = Ext.Array.unique(paramsArray);\\n\\nif(paramsArray.length != newParamsArray.length){\\n  Wb.warning('参数编码不能重复!');\\n  return;\\n}\\n\\nvar rec = store2.getModifiedRecords();\\nfor(var i=0; i<rec.length; i++){\\n  if(rec[i].data.VAL_SRC_TYPE===''){\\n    Ext.Msg.alert('提示','参数来源类型不能为空!');\\n    return false;\\n  }else if((rec[i].data.SQL_STR==='')&&rec[i].data.VAL_SRC_TYPE=='S'){\\n    Ext.Msg.alert('提示','请填写sql语句!');\\n    return false;\\n  }else if((rec[i].data.VAL_SET_NAME==='')&&rec[i].data.VAL_SRC_TYPE=='V'){\\n    Ext.Msg.alert('提示','请选择值集!');\\n    return false;\\n  }\\n}   \\n\\nvar opType = OP_TYPE.getValue();\\n\\nif(opType=='_added'){\\n  insertajax.request({IS_SAVE_NEXT:'N'});\\n}else{\\n  updateajax.request({IS_SAVE_NEXT:'N'});\\n}\\n \\n/*var programId = Ext.getCmp('PROGRAM_ID').getValue();\\n\\nif(programId===''){//新增\\n  Ext.getCmp('PROGRAM_ID').setValue(Wb.getUuid());\\n  insertajax.request();\\n}else{//更新\\n  updateajax.request();\\n}*/\\n \\t\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"savenext\",\"text\":\"保存并添加下一个\",\"click\":\"var _PROGRAM_CODE = PROGRAM_CODE.getValue();\\nif(_PROGRAM_CODE === null || _PROGRAM_CODE === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序编码\\\") ;\\n  return false ;\\n}\\n\\nvar _PROGRAM_NAME = PROGRAM_NAME.getValue();\\nif(_PROGRAM_NAME === null || _PROGRAM_NAME === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序名称\\\") ;\\n  return false ;\\n}\\n\\nvar _PROGRAM_TYPE = PROGRAM_TYPE.getValue();\\nif(_PROGRAM_TYPE === null || _PROGRAM_TYPE === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序类型\\\") ;\\n  return false ;\\n}\\n\\nvar _OPERATION = OPERATION.getValue();\\nif(_OPERATION === null || _OPERATION === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序内容\\\") ;\\n  return false ;\\n}\\n\\n//判断参数编码是否有重复\\n//将store中的所有记录的参数编码放到一个数组中，获取此数据的长度，然后去重，获取新数据的长度，如果两个数字长度相同，则没有重复，否则有重复\\nvar paramsArray = new Array();\\n\\nfor(var i=0; i<store2.getCount(); i++){\\n  var record = store2.getAt(i);\\n  if(Ext.isEmpty(record.get('PARAM_CODE'))){\\n    Wb.warning('参数编码不能为空!');\\n  return;\\n  }\\n  paramsArray.push(record.get('PARAM_CODE'));\\n}\\n\\nvar newParamsArray = Ext.Array.unique(paramsArray);\\n\\nif(paramsArray.length != newParamsArray.length){\\n  Wb.warning('参数编码不能重复!');\\n  return;\\n}\\n\\nvar rec = store2.getModifiedRecords();\\nfor(var i=0; i<rec.length; i++){\\n  if(rec[i].data.VAL_SRC_TYPE===''){\\n    Ext.Msg.alert('提示','参数来源类型不能为空!');\\n    return false;\\n  }else if((rec[i].data.SQL_STR==='')&&rec[i].data.VAL_SRC_TYPE=='S'){\\n    Ext.Msg.alert('提示','请填写sql语句!');\\n    return false;\\n  }else if((rec[i].data.VAL_SET_NAME==='')&&rec[i].data.VAL_SRC_TYPE=='V'){\\n    Ext.Msg.alert('提示','请选择值集!');\\n    return false;\\n  }\\n} \\n\\nvar opType = OP_TYPE.getValue();\\n\\nif(opType=='_added'){\\n  insertajax.request({IS_SAVE_NEXT:'Y'});\\n}else{\\n  updateajax.request({IS_SAVE_NEXT:'Y'});\\n}\\n\\n/*if(window1.isNew){\\n  var programId = Ext.getCmp('PROGRAM_ID').getValue();\\n  if(programId===''){//新增\\n    Ext.getCmp('PROGRAM_ID').setValue(Wb.getUuid());\\n    insertajax.request(json);\\n  }\\n}else{\\n  \\n}\\n\\nWb.edit(window1);\\nwindow1.setTitle('新增程序');\\n\\nform2.form.reset();\\nWb.load(store2,{PROGRAM_ID : '-1'});*/\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closeWinBtn\",\"text\":\"关闭\",\"click\":\"window1.close();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"wins\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"height\":\"400\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"700\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form2\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"操作的标记新增或者删除\",\"id\":\"OP_TYPE\",\"hidden\":\"true\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1_1\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_2_1\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"forceSelection\":\"true\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"pickList\":\"[['F','函数'],['W','WEB服务'],['J','JAVA方法']]\\n\",\"fieldLabel\":\"程序类型<font color='red'>*<\\/font>\",\"id\":\"PROGRAM_TYPE\",\"labelWidth\":\"80\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_1\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"程序编码<font color='red'>*<\\/font>\",\"id\":\"PROGRAM_CODE\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_3_1\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_2\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"程序名称<font color='red'>*<\\/font>\",\"id\":\"PROGRAM_NAME\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_3_1\",\"layout\":\"form\",\"columnWidth\":\".45\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"程序内容<font color='red'>*<\\/font>\",\"id\":\"OPERATION\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_4_1\",\"height\":\"40\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_4_1\",\"layout\":\"form\",\"columnWidth\":\".90\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"程序描述\",\"id\":\"PROG_DESC\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_5_1\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_3\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"id\",\"id\":\"PROGRAM_ID\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_4\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"appid\",\"id\":\"APP_ID\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store2\",\"columns\":\"queryarry\",\"pagingToolbar\":\"false\",\"buttonAlign\":\"center\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"grid2\",\"tbar\":\"toolbar2\",\"buttons\":\"btnarry\",\"cellclick\":\"if(cellIndex == 5){//点击的值集列\\n  if(record.get('VAL_SRC_TYPE')=='S' || record.get('VAL_SRC_TYPE')=='H'){\\n    return false;\\n  }\\n  return true;\\n}else if(cellIndex == 6){//点击的SQL列\\n  if(record.get('VAL_SRC_TYPE')=='V' || record.get('VAL_SRC_TYPE')=='H'){\\n    return false;\\n  }\\n  return true;\\n}\\nreturn true;\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel1\",\"layout\":\"border\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form1\",\"height\":\"'14%'\",\"style\":\"border-width:0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"querystore\",\"valueField\":\"APP_ID\",\"width\":\"180\",\"labelAlign\":\"right\",\"fieldLabel\":\"应用\",\"id\":\"findcombo\",\"displayField\":\"APP_NAME\",\"labelWidth\":\"40\",\"beforequery\":\"\\n\\n \\n\",\"select\":\"Wb.load(store1);\",\"specialkey\":\"Wb.checkEnter(function(){Wb.load(store1);},comboBox);\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"程序编码\",\"id\":\"cxbm1\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(store1);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"程序名称\",\"id\":\"cxmc1\",\"labelWidth\":\"70\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(store1);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"query1\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"Wb.load(store1);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"reset1\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"cxbm1.setValue('');\\ncxmc1.setValue('');\\nWb.load(store1);\\n\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"gridquery1\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"autoLoad\":\"false\",\"itemdblclick\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nif(rows.length === 0 || rows.length > 1){\\n  Ext.Msg.alert('提示','请选择一条程序信息!');\\n  return false;  \\n}else{\\n  Wb.edit(grid1,window1,'PROGRAM_ID');\\n  Wb.load(store2,{PROGRAM_ID : Wb.get('PROGRAM_ID').getValue()});\\n  window1.setTitle('编辑程序');\\n}\"}]}]}]}","程序管理",null,0,0,"admin","2015-02-02 14:08:30.0","admin","2015-08-31 15:26:02.0",1],["23W3JS9VY5I8","23W3JS9VY5I1",null,"DATA",null,1,0,"admin","2015-02-02 14:08:40.0","admin","2015-06-05 14:06:25.0",3],["23W3JS9VY5OS","23X2J7B84IJZ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insert\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExists\",\"sql\":\"SELECT COUNT(*) as \\\"CT\\\" FROM XIP_PUB_ATT_CAT a WHERE a.CAT_CODE={?CAT_CODE?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except1\",\"message\":\"分类编码【{#CAT_CODE#}】已存在！\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"checkExists1\",\"sql\":\"SELECT COUNT(*) as \\\"CT\\\" FROM XIP_PUB_ATT_CAT a WHERE a.CAT_NAME={?CAT_NAME?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except2\",\"message\":\"分类名称【{#CAT_NAME#}】已存在！\",\"name\":\"checkExists1.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"inserAttachServer\",\"sql\":\"insert into XIP_PUB_ATT_CAT\\n  (att_cat_id,\\n   cat_code,\\n   cat_name,\\n   description,   \\n   enable_flag,\\n   file_size_limit,\\n   creation_date,\\n   created_by,\\n   last_update_date,\\n   last_updated_by,\\n   last_update_login\\n  )\\nvalues\\n  ({?ATT_CAT_ID?},\\n   {?CAT_CODE?},\\n   {?CAT_NAME?},\\n   {?DESCRIPTION?},\\n   {?ENABLE_FLAG?},\\n   {?FILE_SIZE_LIMIT?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?XIP.userId?}\\n  )\"}]}","insert",null,0,0,"admin","2015-02-02 15:04:02.0","23XQ4B4KHDBR","2015-10-15 14:48:14.0",7],["23W3JS9VY5P3","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"attCatListByCode\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT * FROM XIP_PUB_ATT_CAT\\n\\t\\t\\tWHERE CAT_CODE = '{#CAT_CODE#}'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","attCatListByCode",null,0,0,"admin","2015-02-02 15:06:13.0","admin","2015-03-18 15:03:49.0",6],["23W3JS9VY5R9","23X2J7B84IJZ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"update\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExistCode\",\"sql\":\"SELECT COUNT(*) as \\\"CT\\\" FROM XIP_PUB_ATT_CAT a WHERE a.CAT_CODE={?CAT_CODE?} and a.ATT_CAT_ID<>{?ATT_CAT_ID?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"exceptCode\",\"message\":\"分类编码【{#CAT_CODE#}】已存在！\",\"name\":\"checkExistCode.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"checkExistName\",\"sql\":\"SELECT COUNT(*) as \\\"CT\\\" FROM XIP_PUB_ATT_CAT a WHERE a.CAT_NAME={?CAT_NAME?} and a.ATT_CAT_ID<>{?ATT_CAT_ID?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"exceptName\",\"message\":\"分类名称【{#CAT_NAME#}】已存在！\",\"name\":\"checkExistName.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"update\",\"sql\":\"update XIP_PUB_ATT_CAT\\n   set cat_code          = {?CAT_CODE?},\\n       cat_name          = {?CAT_NAME?},\\n       description       = {?DESCRIPTION?},     \\n       enable_flag       = {?ENABLE_FLAG?},\\n       file_size_limit   = {?FILE_SIZE_LIMIT?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where att_cat_id = {?ATT_CAT_ID?}\"}]}","update",null,0,0,"admin","2015-02-02 15:43:03.0","23XQ4B4KHDBR","2015-10-15 14:48:45.0",8],["23W3JS9VY7NM","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"FindApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  s.APP_ID,\\n  s.APP_NAME \\nFROM\\n  XIP_PUB_APPS s \\nWHERE s.APP_NAME LIKE {?findKey?} \\n  AND s.ENABLE_FLAG = 'Y' \\n  AND (s.APP_ID IN \\n  (SELECT \\n    c.APP_ID \\n  FROM\\n    XIP_PUB_APP_SEC c \\n  WHERE c.USER_ID = {?XIP.userId?}))\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","FindApp",null,0,0,"admin","2015-02-03 10:55:02.0","admin","2015-05-29 15:19:30.0",1],["23W3K93FUQBZ","23W090GMALLT","{\"id\":\"module\",\"title\":\"UpdateEntity\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"chkNameExists\",\"sql\":\"select count(1) as \\\"V\\\" from xip_wf_entities t \\nwhere t.app_id = {?e_appId?} \\n  and t.entity_name = {?e_entityName?} \\n  and t.entity_id <> {?e_entityId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"实体名称已存在！\\\"]\",\"id\":\"entityNameExists\",\"xwlMeta\":\"except\",\"name\":\"chkNameExists.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"updateEntity\",\"sql\":\"update xip_wf_entities\\n   set entity_code       = {?e_entityCode?},\\n       entity_name       = {?e_entityName?},\\n       entity_desc       = {?e_entityDesc?},\\n       attribute1        = {?e_cbxFuncType?},\\n       attribute2        = {?e_cbxFuncName?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where entity_id = {?e_entityId?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","UpdateEntity",null,0,0,"admin","2015-02-02 11:21:05.0","admin","2015-06-24 15:58:20.0",5],["23W3VWM427UK","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"Selectgrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#cxbm1#}%\"},{\"id\":\"attribute2\",\"xwlMeta\":\"attribute\",\"value\":\"%{#cxmc1#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  * \\nFROM\\n  XIP_PUB_PROGRAM \\nWHERE APP_ID = {?APP_ID?} \\n  AND PROGRAM_CODE LIKE {?attribute1?} \\n  AND PROGRAM_NAME LIKE {?attribute2?}\\nORDER BY PROGRAM_CODE asc\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Selectgrid1",null,0,0,"admin","2015-02-03 13:09:43.0","admin","2015-05-29 14:41:23.0",3],["23W3VWM42852","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"deleteAttCatSec\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\" DELETE FROM XIP_PUB_ATT_CAT_SEC WHERE CAT_SEC_ID in ({#ids#})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","deleteAttCatSec",null,0,0,"admin","2015-02-03 13:36:38.0","admin","2015-03-18 15:04:09.0",8],["23W3VWM428B4","23X2J7B84IJZ","{\"id\":\"module\",\"title\":\"orgList\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select * from xip_pub_orgs  g where   (g.org_name like {?findKey?} or g.org_name is null) \\t\\n         AND ENABLE_FLAG = 'Y'\\n\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","orgList",null,0,0,"admin","2015-02-03 13:49:23.0","admin","2015-03-18 15:04:25.0",9],["23W3VWM428EF","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"read\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.*,(select VAL_SET_NAME from XIP_PUB_VAL_SETS m where t.VAL_SET_ID = m.VAL_SET_ID) VAL_SET_NAME\\nfrom XIP_PUB_PROGRAM_PARAMS t WHERE PROGRAM_ID = {?PROGRAM_ID?} \\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","read",null,0,0,"admin","2015-02-03 14:04:24.0","admin","2015-02-06 14:34:15.0",9],["23W3VWM428EH","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"update\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update XIP_PUB_PROGRAM_PARAMS \\nset SEQ_NO = {?SEQ_NO?},\\n    PARAM_CODE = {?PARAM_CODE?} ,\\n    PARAM_NAME = {?PARAM_NAME?},\\n    VAL_SRC_TYPE = {?VAL_SRC_TYPE?},\\n    VAL_SET_ID ={?VAL_SET_ID?},\\n    SQL_STR = {?SQL_STR?},\\n    LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n    LAST_UPDATED_BY = {?XIP.userId?} \\n where PROGRAM_PARAM_ID = {?PROGRAM_PARAM_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\"}","update",null,0,0,"admin","2015-02-03 14:04:45.0","admin","2015-06-23 09:22:57.0",10],["23W3VWM428EJ","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"create\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_PROGRAM_PARAMS(\\n  PROGRAM_PARAM_ID,\\n  PROGRAM_ID,\\n  SEQ_NO,\\n  PARAM_CODE,\\n  PARAM_NAME,\\n  VAL_SRC_TYPE,\\n  SQL_STR,\\n  VAL_SET_ID,\\n  CREATION_DATE,    \\n  CREATED_BY,       \\n  LAST_UPDATE_DATE, \\n  LAST_UPDATED_BY  \\n ) values\\n(\\n {?PROGRAM_PARAM_ID?},\\n {?PROGRAM_ID?},\\n {?SEQ_NO?},\\n {?PARAM_CODE?},\\n {?PARAM_NAME?},\\n {?VAL_SRC_TYPE?},\\n {?SQL_STR?},\\n {?VAL_SET_ID?},\\n {?timestamp.sys.date?},\\n {?XIP.userId?},\\n {?timestamp.sys.date?},\\n {?XIP.userId?}\\n)\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"},{\"id\":\"response1\",\"xwlMeta\":\"response\",\"object\":\"returns\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nvar i, r=Wb.decode(result);\\nr=Wb.encode(r);\\nrequest.setAttribute('returns',r);\\nrequest.setAttribute('rows',r);\",\"loginRequired\":\"false\"}","create",null,0,0,"admin","2015-02-03 14:04:54.0","admin","2015-06-23 09:24:09.0",11],["23W3VWM428EN","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"destroy\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_PROGRAM_PARAMS where PROGRAM_PARAM_ID = {?PROGRAM_PARAM_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\"}","destroy",null,0,0,"admin","2015-02-03 14:05:03.0","admin","2015-02-04 09:58:11.0",13],["23W3VWM429I3","23X2J7B84IJZ","{\"id\":\"module\",\"title\":\"serverList\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT * FROM XIP_PUB_ATT_SERVER \\n\\t\\t\\tWHERE SERVER_NAME LIKE '%{#SERVER_NAME1#}%'\\n\\t\\t\\tAND lower(SERVER_TYPE) LIKE lower('%{#SERVER_TYPE#}%')\\n\\t\\t\\tAND ENABLE_FLAG = 'Y'\\n\\t\\t\\tORDER BY CREATION_DATE DESC\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","serverList",null,0,0,"admin","2015-02-03 14:48:50.0","admin","2015-03-18 15:04:40.0",10],["23W3VWM42B3R","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"updategrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkCodeExist\",\"sql\":\"select count(*) as \\\"CT\\\" from XIP_PUB_PROGRAM where PROGRAM_CODE = {?PROGRAM_CODE?} and PROGRAM_ID <> {?PROGRAM_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"程序编码'{#PROGRAM_CODE#}'已存在!\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkCodeExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkNameExist\",\"sql\":\"select count(*) as \\\"CT\\\" from XIP_PUB_PROGRAM where PROGRAM_NAME = {?PROGRAM_NAME?} and PROGRAM_ID <> {?PROGRAM_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"程序名称'{#PROGRAM_NAME#}'已存在!\",\"id\":\"except11\",\"xwlMeta\":\"except\",\"name\":\"checkNameExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"updateProgram\",\"sql\":\"UPDATE \\n  XIP_PUB_PROGRAM \\nSET\\n  PROGRAM_CODE = {?PROGRAM_CODE?},\\n  PROGRAM_NAME = {?PROGRAM_NAME?},\\n  PROGRAM_TYPE = {?PROGRAM_TYPE?},\\n  APP_ID       = {?APP_ID?},\\n  OPERATION    = {?OPERATION?},\\n  PROG_DESC    = {?PROG_DESC?},\\n  LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n  LAST_UPDATED_BY = {?XIP.userId?} \\nWHERE PROGRAM_ID = {?PROGRAM_ID?}\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{'IS_SAVE_NEXT':'{#IS_SAVE_NEXT#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","updategrid1",null,0,0,"admin","2015-02-03 15:44:59.0","admin","2015-06-23 09:21:13.0",6],["23W3VWM42B3Z","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"insertgrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkCodeExist\",\"sql\":\"select count(*) as \\\"CT\\\" from XIP_PUB_PROGRAM where PROGRAM_CODE = {?PROGRAM_CODE?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"程序编码'{#PROGRAM_CODE#}'已存在!\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkCodeExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkNameExist\",\"sql\":\"select count(*) as \\\"CT\\\" from XIP_PUB_PROGRAM where PROGRAM_NAME = {?PROGRAM_NAME?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"程序名称'{#PROGRAM_NAME#}'已存在!\",\"id\":\"except11\",\"xwlMeta\":\"except\",\"name\":\"checkNameExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"insertProgram\",\"sql\":\"INSERT INTO XIP_PUB_PROGRAM (\\n  PROGRAM_ID,\\n  PROGRAM_CODE,\\n  PROGRAM_NAME,\\n  PROGRAM_TYPE,\\n  APP_ID,\\n  OPERATION,\\n  PROG_DESC,\\n  CREATION_DATE,    \\n  CREATED_BY,       \\n  LAST_UPDATE_DATE, \\n  LAST_UPDATED_BY  \\n) values (\\n  {?PROGRAM_ID?},\\n  {?PROGRAM_CODE?},\\n  {?PROGRAM_NAME?},\\n  {?PROGRAM_TYPE?},\\n  {?APP_ID?},\\n  {?OPERATION?},\\n  {?PROG_DESC?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?}\\n)\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{'IS_SAVE_NEXT':'{#IS_SAVE_NEXT#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","insertgrid1",null,0,0,"admin","2015-02-03 15:45:09.0","admin","2015-06-23 09:20:20.0",5],["23W3VWM42FCA","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"attCatSetListById\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT * FROM XIP_PUB_ATT_CAT_SEC\\n\\t\\t\\tWHERE ATT_CAT_ID =  '{#ATT_CAT_ID#}'\\n\\t\\t\\tORDER BY CREATION_DATE DESC\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","attCatSetListById",null,0,0,"admin","2015-02-04 10:17:01.0","admin","2015-03-18 15:04:49.0",11],["23W3VWM42JTQ","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"FindZJID\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  * \\nFROM\\n  XIP_PUB_VAL_SETS \\nWHERE VAL_SET_NAME LIKE {?findKey?}\\n  AND ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","FindZJID",null,0,0,"admin","2015-02-04 13:55:12.0","admin","2015-05-29 14:49:31.0",2],["23W3VWM42OCO","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"select\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT * FROM XIP_PUB_ATT_SERVER \\n\\t\\t\\tWHERE SERVER_NAME LIKE {?findKey?}\\n\\t\\t\\t\\n\\t\\t\\tAND ENABLE_FLAG = 'Y'\\n\\t\\t\\tORDER BY CREATION_DATE DESC\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectServer",null,0,0,"admin","2015-02-04 15:30:12.0","admin","2015-06-01 15:34:59.0",12],["23W3VWM42RBT","23W090GMALLT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Update EntityAttr\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"attrCodeExists\",\"sql\":\"select count(1) as \\\"V\\\" \\nfrom xip_wf_entity_attrs t \\nwhere t.entity_id = {?a_entity_id?} \\n  and t.attr_code = {?a_attr_code?} \\n  and t.attr_id <> {?a_attr_id?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except1\",\"message\":\"[\\\"属性编码已存在！\\\"]\",\"name\":\"attrCodeExists.V\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"attrNameExists\",\"sql\":\"select count(1) as \\\"V\\\" \\nfrom xip_wf_entity_attrs t \\nwhere t.entity_id = {?a_entity_id?} \\n  and t.attr_name = {?a_attr_name?} \\n  and t.attr_id <> {?a_attr_id?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except2\",\"message\":\"[\\\"属性名称已存在！\\\"]\",\"name\":\"attrNameExists.V\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"modifyAttr\",\"sql\":\"update xip_wf_entity_attrs\\n   set attr_code         = {?a_attr_code?},\\n       attr_name         = {?a_attr_name?},\\n       attr_category     = {?a_attr_category?},\\n\\t   attr_data_type    = {?a_attr_dataType?},\\n       func_type         = {?a_attr_funcType?},\\n       func_value        = {?a_attr_funcName?},\\n       attr_desc         = {?a_attr_desc?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where attr_id = {?a_attr_id?}\"}]}","Update EntityAttr",null,0,0,"admin","2015-02-04 16:46:49.0","23XQ4UO678F8","2015-10-16 15:17:20.0",9],["23W3VWM42VMV","23X2J7B84IJZ","{\"id\":\"module\",\"title\":\"delcat\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from XIP_PUB_ATT_CAT_SEC where ATT_CAT_ID in({#ids#})\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"所要删除的记录包含已授权的分类，请重新选择！\",\"id\":\"errors\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"delAjax\",\"sql\":\"DELETE FROM XIP_PUB_ATT_CAT WHERE ATT_CAT_ID IN({#ids#}) \",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","delcat",null,0,0,"admin","2015-02-05 10:23:42.0","admin","2015-06-02 09:42:34.0",5],["23W3VWM431PA","23W090GMALLT","{\"id\":\"module\",\"title\":\"Update BizStatus\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkBizName\",\"sql\":\"select count(1) as \\\"V\\\" from xip_wf_biz_status_enum t  \\nwhere t.entity_id = {?B_ENTITY_ID?} and t.STATUS_CATEGORY = {?B_STATUS_CATEGORY?} and t.STATUS_DESC = {?B_STATUS_DESC?}\\n  and t.enum_id <> {?B_ENUM_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"此业务状态信息已存在！\\\"]\",\"id\":\"nameExists\",\"xwlMeta\":\"except\",\"name\":\"checkBizName.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"updateBizStatus\",\"sql\":\"update xip_wf_biz_status_enum\\n   set status_category   = {?B_STATUS_CATEGORY?},\\n       status_desc       = {?B_STATUS_DESC?},\\n       enable_flag       = {?B_ENABLE_FLAG?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where enum_id = {?B_ENUM_ID?}\\n\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Update BizStatus",null,0,0,"admin","2015-02-05 14:18:04.0","admin","2015-06-24 16:00:37.0",13],["23W3VWM432AE","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"获取uuid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"response1\",\"text\":\"{returnUuid:'{#uuid#}'}\",\"xwlMeta\":\"response\"}],\"initScript\":\"request.setAttribute(\\\"uuid\\\",java.util.UUID.randomUUID());\",\"loginRequired\":\"false\"}","获取uuid",null,0,0,"admin","2015-02-05 14:37:24.0","admin","2015-02-05 14:38:36.0",14],["23W3VWM432BZ","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"attCatSecListByAttIdAndOrgid_ext\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT * FROM XIP_PUB_ATT_CAT_SEC \\n\\t\\t\\tWHERE ORG_ID =  '{#ORG_ID#}' and ATT_CAT_ID= '{#att_cat_id#}' \",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","attCatSecListByAttIdAndOrgid_ext",null,0,0,"admin","2015-02-05 14:38:41.0","admin","2015-03-18 15:05:25.0",14],["23W3VWM4337R","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"attCatSecListByAttIdAndOrgNull_ext\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT * FROM XIP_PUB_ATT_CAT_SEC \\n\\t\\t\\tWHERE   att_cat_id = {?att_cat_id?}  and (ORG_ID IS NULL or ORG_ID ='')\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","attCatSecListByAttIdAndOrgNull_ext",null,0,0,"admin","2015-02-05 15:03:59.0","admin","2015-03-18 15:05:36.0",15],["23W3VWM433WE","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"saveAttCatSec\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"insert into XIP_PUB_ATT_CAT_SEC\\n  (cat_sec_id,\\n   att_cat_id,\\n   org_id,\\n   att_server_id,\\n    \\n   enable_flag,\\n   creation_date,\\n   created_by,\\n   last_update_date,\\n  last_updated_by,\\n   last_update_login\\n  )\\nvalues\\n  ({?cat_sec_id?},\\n   {?att_cat_id?},\\n   {?org_id?},\\n   {?att_server_id?},\\n  \\n\\n   {?enable_flag?},\\n  \\n   \\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n    {?XIP.userId?}\\n  )\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","saveAttCatSec",null,0,0,"admin","2015-02-05 15:16:03.0","admin","2015-03-18 15:05:47.0",16],["23W3VWM434TT","23W2FPM1OAAZ","{\"id\":\"module\",\"title\":\"updateAttcatSec\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"update XIP_PUB_ATT_CAT_SEC\\n   set \\n       att_cat_id          = {?att_cat_id?},\\n       org_id                 = {?org_id?},\\n       att_server_id             = {?att_server_id?},\\n     \\n       enable_flag        = {?enable_flag?},\\n    \\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n     \\n where cat_sec_id = {?cat_sec_id?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","updateAttcatSec",null,0,0,"admin","2015-02-05 15:32:55.0","admin","2015-03-18 15:05:56.0",17],["23W3VWM43BYT","23W3JS9VY5I8","{\"id\":\"module\",\"title\":\"deleteall\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"SELECT \\n  COUNT(*) as \\\"CT\\\"\\nFROM\\n  xip_pub_program_run_config c \\nWHERE c.program_id = {?PROGRAM_ID?}\",\"xwlMeta\":\"query\"},{\"message\":\"该程序已被关联，请确认!\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"deleteProgramParams\",\"sql\":\"delete from XIP_PUB_PROGRAM_PARAMS where PROGRAM_ID = {?PROGRAM_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"deleteProgram\",\"sql\":\"DELETE FROM XIP_PUB_PROGRAM WHERE PROGRAM_ID = {?PROGRAM_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteall",null,0,0,"admin","2015-02-06 10:42:51.0","admin","2015-05-29 15:07:55.0",8],["23W4RPJ5G14B","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"getBtns\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT B.BTN_ID, B.BTN_CODE, B.BTN_NAME, B.ENABLE_FLAG BTN_ENABLE, B.FUN_TREE_ID\\n  FROM XIP_PUB_BTNREG B\\n where B.fun_tree_id = {?FUNC_ID?}\",\"xwlMeta\":\"dataProvider\"}]}","getBtns",null,0,0,"admin","2015-02-06 10:46:55.0","admin","2015-04-23 13:11:20.0",2],["23W4RPJ5G1DJ","23W20GG51T5Y","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getFuncMenuById\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select t.fun_tree_id FUNC_ID,\\n       t.fun_tree_code FUNC_CODE,\\n       t.fun_tree_name FUNC_NAME,\\n       t.description FUNC_DESC,\\n       t.enable_flag FUNC_ENABLE,\\n       t.up_id UP_ID,\\n       t.SMALL_ICON,\\n       t.LARGE_ICON,\\n       t.APP_ID,\\n       (select s.app_name from xip_pub_apps s where s.app_id = t.app_id) APP_NAME,\\n       (select s.attribute2 from xip_pub_apps s where s.app_id = t.app_id) IS_SYS,\\n       t.NODE_TYPE,\\n       t.NODE_ORDER,\\n       t.url FUNC_URL,\\n       t.mob_url MOBILE_URL,\\n       t.show_style SHOW_STYLE\\n  from xip_pub_fun_tree t\\n where t.fun_tree_id = {?func_tree_id?}\"}]}","getFuncMenuById",null,0,0,"admin","2015-02-06 15:18:46.0","admin","2015-10-13 14:24:50.0",6],["23W4RPJ5G1N5","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"getApps\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  p.APP_ID,\\n  p.APP_NAME \\nFROM\\n  xip_pub_apps p \\nWHERE p.enable_flag = 'Y' \\nAND p.attribute2 <> 'S'\\n OR p.attribute2 IS NULL\\n\\nUNION\\n\\nSELECT \\n  p.APP_ID,\\n  p.APP_NAME \\nFROM\\n  xip_pub_apps p \\nWHERE p.enable_flag = 'Y' \\nAND p.attribute2 = 'S'\\nAND {?godMoadl?} = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"initScript\":\"var godMoadl = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('godMode');\\nrequest.setAttribute(\\\"godMoadl\\\",godMoadl);\",\"loginRequired\":\"false\"}","getApps",null,0,0,"admin","2015-02-06 16:21:21.0","admin","2015-06-05 09:44:43.0",7],["23W4UO78MN1O","23W0CDJH1JO3",null,"pub",null,0,0,"admin","2015-02-08 22:55:37.0","admin","2015-02-08 22:55:37.0",4],["23W4UO78MN1S","23W4UO78MN1O","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"pub\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"touchMode\":\"true\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"pubTouchJs\",\"initialize\":\"var xip_wf_consultCode = 'btnConsult';             // 征询\\nvar xip_wf_delegateCode = 'btnDelegate';           // 委派\\nvar xip_wf_goBackCode = 'btnBack';                 // 回退\\nvar xip_wf_consultCloseCode = 'btnCloseConsult';   // 征询反馈\\nvar xip_wf_consultRevokeCode = 'btnRevokeConsult'; // 撤销征询\\nvar xip_wf_submitCode = 'btnSubmit';               // 提交流程\\nvar xip_wf_cancelCode = 'btnCancel';               // 撤销流程\\nvar xip_wf_copyToCode = 'btnCopyTo';               // 关闭抄送\\nvar xip_wf_rejectCode = 'btnReject';               // 驳回流程\\n/**\\n *选择要征询和委派的人员\\n*/\\nfunction chooseConsultOrDelegateUser(taskNaviView,taskId,btnCode,comment){\\n   Ext.define('ConsultOrDelegateUser', \\n     {\\n         extend: 'Ext.data.Model',\\n         config: {\\n                    fields:[\\n                              {name: 'USERID',type: 'string'},\\n                              {name: 'USERNAME',type: 'string'},\\n                              {name: 'EMPCODE',type: 'string'},\\n                              {name: 'EMPNAME',type: 'string'},\\n                              {name: 'ORGNAME',type: 'string'}\\n                           ]\\n                 }\\n      });\\n   var orgSql = \\\"select wp.ORG_ID from xip_wf_processes wp,xip_wf_ins_task it where wp.process_id = it.process_id and it.task_id = '\\\"+taskId+\\\"'\\\";\\n   orgSql = Wb.encode64(orgSql);\\n   var orgId=\\\"\\\";\\n   Ext.Ajax.request({\\n     url : '{#contextPath#}'+'/platformAction.do?method=execQuery4Touch',\\n     params:{\\n       sql:orgSql\\n     },\\n     method: 'POST',\\n     async : false,\\n     success: function(response,options){\\n       var resp = Ext.JSON.decode(response.responseText);\\n       if(resp.success==='true'){\\n         orgId = resp.dataList[0].ORG_ID;\\n       }else {\\n         Ext.Msg.alert(\\\"提示\\\", \\\"获取代办所属组织失败\\\");\\n         return;\\n       }\\n     },\\n     failure: function(response,options){\\n       Ext.Msg.alert('错误','失败，服务器没有响应');\\n       return;\\n     }\\n   });\\n  var sql=\\\"\\\";\\n  if(orgId===\\\"\\\"){\\n       sql = \\\"select pu.user_id USERID, \\\"+\\n             \\\"       pu.user_name USERNAME, \\\"+\\n             \\\"       pe.emp_code EMPCODE, \\\"+\\n             \\\"       pe.emp_name EMPNAME, \\\"+\\n             \\\"       po.org_name ORGNAME \\\"+\\n             \\\"  from xip_pub_users pu, xip_pub_emps pe \\\"+\\n             \\\"  left join xip_pub_emp_asg pea \\\"+\\n             \\\"    on pea.emp_id = pe.emp_id \\\"+\\n             \\\"   and pea.enabled = 'Y' \\\"+\\n             \\\"  left join xip_pub_orgs po \\\"+\\n             \\\"    on po.org_id = pea.org_id \\\"+\\n             \\\"   and po.enable_flag = 'Y' \\\"+\\n             \\\" where pu.emp_id = pe.emp_id and pe.emp_name like '%${empName}%'\\\"+\\n             \\\" group by pu.user_id, \\\"+\\n             \\\"          pu.user_name, \\\"+\\n             \\\"          pe.emp_code, \\\"+\\n             \\\"          pe.emp_name, \\\"+\\n             \\\"          po.org_name \\\";\\n   \\n  }else{\\n       sql = \\\"select pu.user_id USERID, \\\"+\\n             \\\"       pu.user_name USERNAME, \\\"+\\n             \\\"       pe.emp_code EMPCODE, \\\"+\\n             \\\"       pe.emp_name EMPNAME, \\\"+\\n             \\\"       po.org_name ORGNAME \\\"+\\n             \\\"  from xip_pub_users pu, xip_pub_emps pe, \\\"+\\n             \\\"       xip_pub_emp_asg pea,\\\"+\\n             \\\"       xip_pub_orgs po \\\"+\\n             \\\" where pu.emp_id = pe.emp_id and pe.emp_name like '%${empName}%'\\\"+\\n             \\\"   and pea.emp_id = pe.emp_id \\\"+\\n             \\\"   and po.org_id = pea.org_id \\\"+\\n             \\\"   and po.enable_flag = 'Y' \\\"+\\n             \\\"   and pea.enabled = 'Y' and pea.org_id='\\\"+orgId+\\\"' \\\"+\\n             \\\" group by pu.user_id, \\\"+\\n             \\\"          pu.user_name, \\\"+\\n             \\\"          pe.emp_code, \\\"+\\n             \\\"          pe.emp_name, \\\"+\\n             \\\"          po.org_name \\\";\\n  }\\n  sql = Wb.encode64(sql);\\n  var wfEmpQueryStore = Ext.create(\\\"Ext.data.Store\\\", {\\n      model: \\\"ConsultOrDelegateUser\\\",\\n      pageSize:4,\\n      clearOnPageLoad:false,\\n      proxy: {\\n        type: \\\"ajax\\\",\\n        url : '{#contextPath#}'+'/platformAction.do?method=execQuery4Touch',\\n        startParam:'start',\\n        limitParam:'limit',\\n        reader: {\\n           type: \\\"json\\\",\\n           rootProperty: \\\"dataList\\\",\\n           totalProperty:\\\"total\\\"\\n        }\\n      },\\n      autoLoad: false\\n   });\\n  var chooseEmpContainer = Ext.create(\\\"Ext.Container\\\",\\n      {\\n        id:\\\"chooseEmpContainer\\\",\\n        title:\\\"请选人\\\",\\n        layout:\\\"fit\\\",\\n        xtype:\\\"container\\\",\\n        items:[\\n                {\\n                  id:\\\"empList\\\",\\n                  xtype:\\\"list\\\",\\n                  store:wfEmpQueryStore,\\n                  itemTpl:\\\"<div><div style='float:left;width:100px'>{EMPNAME}<\\\\/div><div style='float:left;width:80px'>{USERNAME}<\\\\/div><div style='float:left;width:80px'>{EMPCODE}<\\\\/div><\\\\/div><div style='width:260px'><font size=1>{ORGNAME}<\\\\/font><\\\\/div>\\\",\\n                  fullscreen: true,\\n                  limit: 4,\\n                  plugins: [\\n                    {\\n                    xclass: 'Ext.plugin.ListPaging',\\n                    loadMoreText: '更多\\u2026\\u2026',\\n                    noMoreRecordsText: '没有更多条记录了',\\n                    autoPaging: true //设置为TRUE将自动触发\\n                  }],\\n                  items:[\\n                    {\\n                      xtype:\\\"toolbar\\\",\\n                      docked:\\\"top\\\",\\n                      items:[\\n                        {\\n                          xtype:\\\"searchfield\\\",\\n                          id:\\\"tt_name\\\",\\n                          placeHolder:\\\"请输入员工姓名\\\",\\n                          width:300,\\n                          listeners: {\\n                            action: function(searchfield, e) {\\n                              if(tt_name.getValue()===''){\\n                                Ext.Msg.alert(\\\"提示\\\",\\\"请输入员工姓名\\\",function(){tt_name.focus();});\\n                                return;\\n                              }\\n                              wfEmpQueryStore.getProxy().setExtraParam('sql', sql);\\n                              wfEmpQueryStore.getProxy().setExtraParam('queryParams', \\\"{empName:'\\\"+tt_name.getValue()+\\\"'}\\\");\\n                              wfEmpQueryStore.currentPage=1;\\n                              wfEmpQueryStore.load();\\n                        }\\n                        }\\n                        }\\n                      ]\\n                    },\\n                    {\\n                      id:\\\"tc_btns\\\",\\n                      docked:\\\"bottom\\\",\\n                      xtype:\\\"container\\\",\\n                      items:[\\n                        {\\n                          id:\\\"tb_ok\\\",\\n                          text:\\\"确定\\\",\\n                          xtype:\\\"button\\\",\\n                          listeners:{tap:function(comp,options){\\n                             var items = empList.getSelection();\\n                             var cnt = items.length;\\n                            if(cnt===0){\\n                              Ext.Msg.alert(\\\"提示\\\",\\\"请先选择用户后再点击确定。\\\");\\n                              return;\\n                            }\\n                            var item=items[0];\\n                            var userId = item.data.USERID;\\n                            if (btnCode===xip_wf_consultCode){\\n                              Ext.Ajax.request({\\n\\t\\t                                        url \\t: '{#contextPath#}' + '/workItemAction.do?method=doConsult',\\n                                                params\\t: {\\n                                                            'taskId'  \\t: \\ttaskId,\\n                                                            'userId'\\t:\\tuserId,\\n                                                            'comment'   :   comment\\n                                                          },\\n                                                method \\t: 'post',\\n                                                async : false,\\n                                                timeout : 3600000,\\n                                                success : function(response, options) {\\n                                                  var resp = Ext.JSON.decode(response.responseText);\\n                                                  // 提交成功\\n                                                  Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n                                                    // 关闭选人页面和代办页面\\n                                                    taskNaviView.pop(2);\\n                                                  },this) ;\\t\\n                                                },\\n                                                failure : function(reponse, options) {\\n                                                  var resp = Ext.JSON.decode(response.responseText);\\n                                                  Ext.Msg.alert(\\\"提示\\\", response.msg);\\n                                                }\\n                              });\\t\\n                            }\\n                            if (btnCode===xip_wf_delegateCode){\\n                              Ext.Ajax.request({\\n\\t\\t                                        url \\t: '{#contextPath#}' + '/workItemAction.do?method=doDelegate',\\n                                                params\\t: {\\n                                                            'taskId'  \\t: \\ttaskId,\\n                                                            'userId'\\t:\\tuserId,\\n                                                            'comment'   :   comment\\n                                                          },\\n                                                method \\t: 'post',\\n                                                async : false,\\n                                                timeout : 3600000,\\n                                                success : function(response, options) {\\n                                                  var response = Ext.JSON.decode(response.responseText);\\n                                                  // 提交成功\\n                                                  Ext.Msg.alert(\\\"提示\\\",response.msg,function(){\\n                                                    // 关闭选人页面和代办页面\\n                                                    taskNaviView.pop(2);\\n                                                  },this) ;\\t\\n                                                },\\n                                                failure : function(reponse, options) {\\n                                                  var response = Ext.JSON.decode(response.responseText);\\n                                                  Ext.Msg.alert(\\\"提示\\\", response.msg);\\n                                                }\\n                              });\\t\\n                            }\\n                                                               }\\n                                    }\\n                        }\\n                      ]\\n                    }\\n                  ]\\n                }\\n        ]\\n      });\\n  taskNaviView.push(chooseEmpContainer);\\n}\\n/**\\n *选择审批人\\n * @param taskNaviView 需要手工选人的时候，选择审批人的界面被推入的导航视图\\n * @param taskId 待办的ID\\n * @param buttonCode 调用选择审批人界面的按钮编码\\n * @param multiSelection 是否多选审批人\\n * @param records 审批人Json数据\\n */\\nfunction choose_approver(taskNaviView,taskId,buttonCode,multiSelection,actName,records,comment,entityAttrs,callBack)\\n{\\n   Ext.define('Approver', \\n     {\\n         extend: 'Ext.data.Model',\\n         config: {\\n                    fields:[\\n                              {name: 'userId',type: 'string'},\\n                              {name: 'actName',type: 'string'},\\n                              {name: 'userName',type: 'string'},\\n                              {name: 'empName',type: 'string'},\\n                              {name: 'orgName',type: 'string'}\\n                           ]\\n                 }\\n      });\\n   var approverStore = Ext.create(\\\"Ext.data.Store\\\", \\n          {\\n             storeId: \\\"approverStore\\\",\\n             model: \\\"Approver\\\",\\n             data : records\\n          });\\n   var approverList = Ext.create(\\\"Ext.List\\\", \\n         {\\n            id:\\\"approverList\\\",\\n            store: \\\"approverStore\\\",\\n            itemTpl: \\\"<div><div style='float:left;width:100px'>{empName}<\\\\/div><div style='float:left;width:160px'>{userName}<\\\\/div><\\\\/div><div style='width:260px'><font size=1>{orgName}<\\\\/font><\\\\/div>\\\",\\n            fullscreen: true,\\n            items:[\\n                   {\\n                    docked:\\\"bottom\\\",\\n                    xtype:\\\"container\\\",\\n                    items:[\\n                             {\\n                                id:\\\"tb_ok\\\",\\n                                text:\\\"确定\\\",\\n                                xtype:\\\"button\\\",\\n                                listeners:\\n                                   {tap:function(comp,options){\\n                                      var userIds = '';\\n                                      var items = approverList.getSelection();\\n                                      var cnt = items.length;\\n                                      if(cnt===0){\\n                                        Ext.Msg.alert(\\\"提示\\\",\\\"请选择审批人之后再确定！\\\");\\n                                      }else{\\n                                        for(var i=0;i<cnt;i++){\\n                                          var item = items[i];\\n                                          if(i===0){\\n                                            userIds = item.data.userId;\\n                                          }else{\\n                                            userIds = userIds+','+item.data.userId;\\n                                          }\\n                                        }\\n                                        if(buttonCode===xip_wf_submitCode){\\n                                             Ext.Ajax.request({\\n                                               url : '{#contextPath#}/workItemAction.do?method=submitProcess',\\n                                               params:{\\n                                                 taskId:taskId,\\n                                                 userIds:userIds\\n                                               },\\n                                               method: 'POST',\\n                                               async : false,\\n                                               success: function(response,options){\\n                                                 var resp = Ext.JSON.decode(response.responseText);\\n                                                 if(resp.flag==='0'){\\n                                                   Ext.Msg.alert(\\\"提示\\\",\\n                                                                 response.msg,\\n                                                                 function(){\\n                                                                              taskNaviView.pop();\\n                                                                            },\\n                                                                 this) ;\\n                                                 }else if(resp.flag==='1'){\\n                                                   Ext.Msg.alert(\\\"提示\\\", response.msg);\\n                                                 }\\n                                               },\\n                                               failure: function(response,options){\\n                                                 Ext.Msg.alert('错误','失败，服务器没有响应');\\n                                               }\\n                                             });\\n                                        }else if(buttonCode===\\\"submitWithInstanceCode\\\"){\\n                                            Ext.Ajax.request({\\n                                                url : '{#contextPath#}/workflowUtilAction.do?method=submitProcess',\\n                                                params:{\\n                                                  instanceCode:taskId,\\n                                                  entityAttJson:entityAttrs,\\n                                                  userIds:userIds\\n                                                },\\n                                                method: 'POST',\\n                                                async : false,\\n                                                success: function(response,options){\\n                                                  var resp = Ext.JSON.decode(response.responseText);\\n                                                  if(resp.flag===\\\"0\\\"){\\n                                                \\tcallBack({\\\"flag\\\":\\\"0\\\",\\\"instanceCode\\\":taskId,\\\"chooseApprover\\\":\\\"Y\\\"});\\n                                                  }else if(resp.flag===\\\"1\\\"){\\n                                                    callBack({\\\"flag\\\":\\\"1\\\",\\\"msg\\\":resp.msg});\\n                                                  }\\n                                                },\\n                                                failure: function(response,options){\\n                                                  callBack({\\\"flag\\\":1,\\\"msg\\\":\\\"提交流程请求无法发送，请检查网络\\\"});\\n                                                }\\n                                              });\\n                                        }else{\\n                                            Ext.Ajax.request({\\n                                                url   : '{#contextPath#}' + '/workItemAction.do?method=completeWorkItem',\\n                                                params  : \\n                                                {\\n                                                  'taskId'  :   taskId,\\n                                                  'comment' : comment,\\n                                                  'userIds' : userIds,\\n                                                  'lineCode'  : buttonCode\\n                                                },\\n                                                method  : 'post',\\n                                                async   : false,\\n                                                timeout : 3600000,\\n                                                success : function(response, options) {\\n                                                  var resp = Ext.util.JSON.decode(response.responseText);\\n                                                  if(resp.flag == '0'){ // 提交成功\\n                                                    Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n                                                                                             taskNaviView.pop(2);\\n                                                                                           },this) ;\\n                                                  }else if(resp.flag == '1'){ // 提交失败\\n                                                    Ext.Msg.alert(\\\"提示\\\", resp.msg);\\n                                                    return false;\\n                                                  }\\n                                                },\\n                                                failure : function(reponse, options) {\\n                                                  var response = Ext.util.JSON.decode(response.responseText);\\n                                                  Ext.Msg.alert(\\\"提示\\\", response.msg);\\n                                                }\\n                                              }); \\n                                        }\\n                                      }\\n                                   }\\n                                }\\n                             }\\n                          ]\\n                   }\\n                  ]\\n         });\\n   var chooseapproverContainer=new Ext.Container(\\n   {\\n      title:actName,\\n      layout:\\\"fit\\\",\\n      xtype:\\\"container\\\",\\n      listeners:{\\n         activate:function(newActiveItem,comp,oldActiveItem,options)\\n         {\\n            if(multiSelection==='Y'){\\n               approverList.setMode('MULTI');\\n            }else{\\n               approverList.setMode('SINGLE');\\n            }\\n         }\\n      },\\n      items:[\\n               {\\n                  xtype:\\\"container\\\",\\n                  layout:\\\"fit\\\",\\n                  items:[approverList]\\n               }\\n            ]\\n   }\\n   );\\n   taskNaviView.push(chooseapproverContainer);\\n}\\n/**\\n * 完成待办\\n * @param taskNaviView 审批页面所在的导航视图\\n * @param taskId 任务ID\\n * @param comment 审批意见\\n * @param buttonCode 调用完成代办的按钮编码\\n */\\nfunction completeTask(taskNaviView,taskId, comment,buttonCode){\\n  if(comment === null || comment === \\\"\\\" || comment === \\\"undefined\\\"){\\n    Ext.Msg.alert(\\\"提示\\\",\\\"请填写审批意见!\\\") ;\\n    return false ; \\n  } \\n  // 提交请求\\n  var userIds='';\\n  Ext.Ajax.request({\\n    url   : '{#contextPath#}' + '/workItemAction.do?method=completeWorkItem',\\n    params  : \\n    {\\n      'taskId'  :   taskId,\\n      'comment' : comment,\\n      'userIds' : userIds,\\n      'lineCode'  : buttonCode\\n    },\\n    method  : 'post',\\n    async   : false,\\n    timeout : 3600000,\\n    success : function(response, options) {\\n      var resp = Ext.util.JSON.decode(response.responseText);\\n      if(resp.flag == '0'){ // 提交成功\\n        Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n                                                 taskNaviView.pop();\\n                                               },this) ;\\n      }else if(resp.flag == '1'){ // 提交失败\\n        Ext.Msg.alert(\\\"提示\\\", resp.msg);\\n        return false;\\n      }else{  \\n         // 手动选人\\n         choose_approver(taskNaviView,taskId,buttonCode,resp.multiselect,resp.actName,resp.data,comment,'','');\\n      }\\n    },\\n    failure : function(reponse, options) {\\n      var response = Ext.util.JSON.decode(response.responseText);\\n      Ext.Msg.alert(\\\"提示\\\", response.msg);\\n    }\\n  }); \\n}\\n/**\\n * 撤销流程\\n * @param taskId 任务ID\\n */\\nfunction doCancle(taskId)\\n{\\n  Ext.Ajax.request({\\n\\t\\turl \\t: '{#contextPath#}' + '/workItemAction.do?method=revokeProcess',\\n\\t\\tparams\\t: {\\n\\t\\t\\t'taskId'  : taskId\\n\\t\\t},\\n\\t\\tmethod \\t: 'post',\\n        async   : false,\\n\\t\\ttimeout : 3600000,\\n\\t\\tsuccess : function(response, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n\\t\\t\\t// 提交成功\\n\\t\\t\\tExt.Msg.alert(\\\"提示\\\", resp.msg) ;\\t\\t\\t\\n\\t\\t},\\n\\t\\tfailure : function(reponse, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n\\t\\t\\tExt.Msg.alert(\\\"提示\\\", resp.msg);\\n\\t\\t}\\n\\t});\\t\\t\\n}\\n/**\\n * 征询\\n * @param taskNaviView 审批页面所在的导航视图\\n * @param taskId 待办ID\\n * @param comment 征询内容描述\\n */\\nfunction doConsult(taskNaviView,taskId,comment){\\n  chooseConsultOrDelegateUser(taskNaviView,taskId,xip_wf_consultCode,comment);\\n}\\n/**\\n * 委派\\n * @param taskNaviView 审批页面所在的导航视图\\n * @param taskId 待办ID\\n * @param comment 委派说明\\n */\\nfunction doDelegate(taskNaviView,taskId,comment){\\n  chooseConsultOrDelegateUser(taskNaviView,taskId,xip_wf_delegateCode,comment);\\n}\\n/**\\n * 征询反馈\\n * @param taskNaviView 审批页面所在的导航视图\\n * @param taskId 待办ID\\n * @param comment 审批意见\\n */\\nfunction closeConsult(taskNaviView,taskId,comment)\\n{\\n  if(comment === null || comment === \\\"\\\" || comment === \\\"undefined\\\"){\\n     Ext.Msg.alert(\\\"提示\\\",\\\"请在审批意见框中填写征询反馈意见!\\\") ;\\n\\t return; \\n  }\\t\\n  Ext.Ajax.request({\\n\\t\\turl \\t: '{#contextPath#}' + '/workItemAction.do?method=closeConsultTask',\\n\\t\\tparams\\t: {\\n\\t\\t\\t'taskId'  : taskId,\\n\\t\\t\\t'comment' :\\tcomment\\n\\t\\t},\\n\\t\\tmethod \\t: 'post',\\n        async   : false,\\n\\t\\ttimeout : 3600000,\\n\\t\\tsuccess : function(response, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n            if(resp.flag==='0'){\\n\\t\\t\\t   Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n\\t\\t\\t\\t taskNaviView.pop();\\n\\t\\t\\t   },this) ;\\t\\n            }else{\\n              Ext.Msg.alert(\\\"提示\\\",resp.msg);\\n            }\\n\\t\\t},\\n\\t\\tfailure : function(reponse, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n\\t\\t\\tExt.Msg.alert(\\\"提示\\\", resp.msg);\\n\\t\\t}\\n\\t});\\t\\t\\n}\\n/**\\n * 撤销征询\\n * @param taskNaviView 审批页面所在的导航视图\\n * @param taskId 待办ID\\n * @param comment 撤销征询说明\\n */\\nfunction revokeConsult(taskNaviView,taskId,comment)\\n{\\n  if(comment === null || comment === \\\"\\\" || comment === \\\"undefined\\\"){\\n     Ext.Msg.alert(\\\"提示\\\",\\\"请在审批意见框中填写撤销征询说明!\\\") ;\\n\\t return; \\n  }\\t\\n  Ext.Ajax.request({\\n\\t\\turl \\t: '{#contextPath#}' + '/workItemAction.do?method=revokeConsultTask',\\n\\t\\tparams\\t: {\\n\\t\\t\\t'taskId'  : taskId,\\n\\t\\t\\t'comment' :\\tcomment\\n\\t\\t},\\n\\t\\tmethod \\t: 'post',\\n        async   : false,\\n\\t\\ttimeout : 3600000,\\n\\t\\tsuccess : function(response, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n            if(resp.flag==='0'){\\n\\t\\t\\t   Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n\\t\\t\\t\\t taskNaviView.pop();\\n\\t\\t\\t   },this) ;\\t\\n            }else{\\n              Ext.Msg.alert(\\\"提示\\\",resp.msg);\\n            }\\n\\t\\t},\\n\\t\\tfailure : function(reponse, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n\\t\\t\\tExt.Msg.alert(\\\"提示\\\", resp.msg);\\n\\t\\t}\\n\\t});\\t\\t\\n}\\n/**\\n * 关闭抄送\\n * @param taskNaviView 审批页面所在的导航视图\\n * @param taskId 待办ID\\n */\\nfunction closeCopyTo(taskNaviView,taskId)\\n{\\n  Ext.Ajax.request({\\n\\t\\turl \\t: '{#contextPath#}' + '/workItemAction.do?method=closeCopyToTask',\\n\\t\\tparams\\t: {\\n\\t\\t\\t'taskId'  : taskId\\n\\t\\t},\\n\\t\\tmethod \\t: 'post',\\n        async   : false,\\n\\t\\ttimeout : 3600000,\\n\\t\\tsuccess : function(response, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n            if(resp.flag==='0'){\\n\\t\\t\\t   Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n\\t\\t\\t\\t taskNaviView.pop();\\n\\t\\t\\t   },this) ;\\t\\n            }else{\\n              Ext.Msg.alert(\\\"提示\\\",resp.msg);\\n            }\\n\\t\\t},\\n\\t\\tfailure : function(reponse, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n\\t\\t\\tExt.Msg.alert(\\\"提示\\\", resp.msg);\\n\\t\\t}\\n\\t});\\t\\t\\n}\\n/**\\n * 退回\\n * @param taskNaviView 审批页面所在的导航视图\\n * @param taskId 待办ID\\n * @param comment 退回说明\\n */\\nfunction doBack(taskNaviView,taskId,comment)\\n{\\n  if(comment === null || comment === \\\"\\\" || comment === \\\"undefined\\\"){\\n     Ext.Msg.alert(\\\"提示\\\",\\\"请在审批意见框中填写退回说明!\\\") ;\\n\\t return; \\n  }\\n  var acts;\\n  Ext.Ajax.request({\\n\\t\\turl \\t: '{#contextPath#}' + '/workItemAction.do?method=getBackActivityList',\\n\\t\\tparams\\t: {\\n\\t\\t\\t'taskId'  : taskId\\n\\t\\t},\\n\\t\\tmethod \\t: 'post',\\n        async   : false,\\n\\t\\ttimeout : 3600000,\\n\\t\\tsuccess : function(response, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n            if(resp.flag==='0'){\\n\\t\\t\\t   acts = resp.data;\\n            }else{\\n              Ext.Msg.alert(\\\"提示\\\",resp.msg);\\n              return;\\n            }\\n\\t\\t},\\n\\t\\tfailure : function(reponse, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n\\t\\t\\tExt.Msg.alert(\\\"提示\\\", resp.msg);\\n            return;\\n\\t\\t}\\n\\t});\\t\\n   Ext.define('BackAct', \\n     {\\n         extend: 'Ext.data.Model',\\n         config: {\\n                    fields:[\\n                              {name: 'activityId',type: 'string'},\\n                              {name: 'activityCode',type: 'string'},\\n                              {name: 'activityName',type: 'string'}\\n                           ]\\n                 }\\n      });\\n   var actsStore = Ext.create(\\\"Ext.data.Store\\\", \\n          {\\n             storeId: \\\"actsStore\\\",\\n             model: \\\"BackAct\\\",\\n             data : acts\\n          });\\n   var actsList = Ext.create(\\\"Ext.List\\\", \\n         {\\n            id:\\\"actsList\\\",\\n            store: actsStore,\\n            itemTpl: \\\"<div><div style='float:left;width:80px'>{activityCode}<\\\\/div><div style='float:left;width:140px'>{activityName}<\\\\/div><\\\\/div>\\\",\\n            items:[\\n                   {\\n                    docked:\\\"bottom\\\",\\n                    xtype:\\\"container\\\",\\n                    items:[\\n                             {\\n                                id:\\\"tb_ok\\\",\\n                                text:\\\"确定\\\",\\n                                xtype:\\\"button\\\",\\n                                listeners:\\n                                   {tap:function(comp,options){\\n                                      var userIds = '';\\n                                      var items = actsList.getSelection();\\n                                      var cnt = items.length;\\n                                      if(cnt===0){\\n                                        Ext.Msg.alert(\\\"提示\\\",\\\"请选择要退回到的节点之后再点击确定！\\\");\\n                                      }else{\\n                                        var actId =  items[0].data.activityId;\\n                                             Ext.Ajax.request({\\n                                               url : '{#contextPath#}/workItemAction.do?method=doBack',\\n                                               params:{\\n                                                 taskId:taskId,\\n                                                 backToActivityId:actId,\\n                                                 comment:comment\\n                                               },\\n                                               method: 'POST',\\n                                               async : false,\\n                                               success: function(response,options){\\n                                                 var resp = Ext.JSON.decode(response.responseText);\\n                                                 if(resp.flag==='0'){\\n                                                   Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n                                                                                                  taskNaviView.pop(2);\\n                                                                                              },this) ;\\n                                                 }else if(resp.flag==='1'){\\n                                                   Ext.Msg.alert(\\\"提示\\\", response.msg);\\n                                                 }\\n                                               },\\n                                               failure: function(response,options){\\n                                                 Ext.Msg.alert('错误','失败，服务器没有响应');\\n                                               }\\n                                             });\\n                                      }\\n                                   }\\n                                }\\n                             }\\n                          ]\\n                   }\\n                  ]\\n         });\\n   var chooseActsContainer=new Ext.Container(\\n   {\\n      title:\\\"选择要退到的节点\\\",\\n      layout:\\\"fit\\\",\\n      xtype:\\\"container\\\",\\n      items:[\\n               {\\n                  xtype:\\\"container\\\",\\n                  layout:\\\"fit\\\",\\n                  items:[actsList]\\n               }\\n            ]\\n   }\\n   );\\n   taskNaviView.push(chooseActsContainer);\\n}\\n/**\\n * 驳回\\n * @param taskNaviView 审批页面所在的导航视图\\n * @param taskId 待办ID\\n * @param comment 驳回说明\\n */\\nfunction doReject(taskNaviView,taskId,comment)\\n{\\n  if(comment === null || comment === \\\"\\\" || comment === \\\"undefined\\\"){\\n     Ext.Msg.alert(\\\"提示\\\",\\\"请在审批意见框中填写驳回说明!\\\") ;\\n\\t return; \\n  }\\t\\n  Ext.Ajax.request({\\n\\t\\turl \\t: '{#contextPath#}' + '/workItemAction.do?method=rejectProcess',\\n\\t\\tparams\\t: {\\n\\t\\t\\t'taskId'  : taskId,\\n\\t\\t\\t'comment' :\\tcomment\\n\\t\\t},\\n\\t\\tmethod \\t: 'post',\\n        async   : false,\\n\\t\\ttimeout : 3600000,\\n\\t\\tsuccess : function(response, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n            if(resp.flag==='0'){\\n\\t\\t\\t   Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n\\t\\t\\t\\t taskNaviView.pop();\\n\\t\\t\\t   },this) ;\\t\\n            }else{\\n              Ext.Msg.alert(\\\"提示\\\",resp.msg);\\n            }\\n\\t\\t},\\n\\t\\tfailure : function(reponse, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n\\t\\t\\tExt.Msg.alert(\\\"提示\\\", resp.msg);\\n\\t\\t}\\n\\t});\\t\\t\\n}\\n/**\\n * 根据Task ID为审批页面动态创建审批按钮。\\n * @param taskNaviView 需要手工选人的时候，选择审批人的界面被推入的导航视图\\n * @param bntContainer 审批按钮的容器\\n * @param taskId 待办的ID\\n * @param instCode 流程实例编码\\n * @param bizId 业务主键ID\\n * 返回 无 \\n */\\nfunction create_approve_btns(taskNaviView,bntContainer,taskId,descObj){\\n   Ext.Ajax.request({\\n       url : '{#contextPath#}'+'/workItemAction.do?method=getButtonsByTaskId',\\n       params:{\\n             taskId:taskId\\n       },\\n       method: 'POST',\\n       async : false,\\n       success: function(response,options){\\n           var temp = response.responseText;\\n           var obj = Ext.JSON.decode(temp);\\n           if(obj.flag==='0'){\\n             var buttons = obj.data; \\n             bntContainer.removeAll();\\n             var buttonArray = new Array();\\n             for(var i=0; i<buttons.length; i++){\\n               var button = buttons[i];\\n               var id  = button.id ;\\n               var code = button.code;\\n               var name = button.name;\\n               var disable = button.disable;\\n               if(disable==='N'){\\n                 var btn = new Ext.Button({text: name});\\n                 if(code ===xip_wf_consultCode)\\n                 {\\n                   //征询\\n                   btn.setHandler(function(){\\n                     doConsult(taskNaviView,taskId,descObj.getValue());\\n                   });\\n                 }else if(code ===xip_wf_delegateCode)\\n                 {\\n                   //委派\\n                   btn.setHandler(function(){\\n                     doDelegate(taskNaviView,taskId,descObj.getValue());\\n                   });\\n                 }else if(code ===xip_wf_goBackCode)\\n                 {\\n                   //退回\\n                   btn.setHandler(function(){\\n                     doBack(taskNaviView,taskId,descObj.getValue());\\n                   });\\n                 }else if(code ===xip_wf_consultCloseCode)\\n                 {\\n                   //关闭征询\\n                   btn.setHandler(function(){\\n                     closeConsult(taskNaviView,taskId,descObj.getValue());\\n                   });\\n                 }else if(code ===xip_wf_consultRevokeCode)\\n                 {\\n                   //撤销征询\\n                   btn.setHandler(function(){\\n                     revokeConsult(taskNaviView,taskId,descObj.getValue());\\n                   });\\n                 }else if(code ===xip_wf_cancelCode)\\n                 {\\n                   //撤回\\n                   btn.setHandler(function(){\\n                     doCancle(taskId);\\n                   });\\n                 }else if(code ===xip_wf_copyToCode)\\n                 {\\n                   //关闭抄送\\n                   btn.setHandler(function(){\\n                     closeCopyTo(taskNaviView,taskId);\\n                   });\\n                 }else if(code ===xip_wf_rejectCode)\\n                 {\\n                   //驳回\\n                   btn.setHandler(function(){\\n                     doReject(taskNaviView,taskId,descObj.getValue());\\n                   });\\n                 }else\\n                 {\\n                   //结束任务\\n                   buttonArray.push(btn.getId()+\\\";\\\"+code);\\n                   btn.setHandler(function(code){\\n                     var lineCode  = '' ;\\n                     for(var j=0; j<buttonArray.length; j++){\\n                       var a = buttonArray[j].split(';') ;\\n                       if(a[0] == code.id){\\n                         lineCode = a[1] ;\\n                         break ;\\n                       }\\n                     }\\n                     completeTask(taskNaviView,taskId,descObj.getValue(),lineCode);\\n                   });\\n                 }\\n                 bntContainer.add(btn);\\n               }\\n             }\\n             var busFormUrl =\\\"\\\";\\n             Ext.Ajax.request({\\n\\t\\t\\t\\t\\t\\t\\t\\turl \\t: '{#contextPath#}' + '/workflowUtilAction.do?method=getMobileFormUrlByTaskId',\\n\\t\\t\\t\\t\\t\\t\\t\\tparams\\t: {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t'taskId'  : taskId\\n\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\tmethod \\t: 'post',\\n\\t\\t\\t\\t\\t\\t        async   : false,\\n\\t\\t\\t\\t\\t\\t\\t\\ttimeout : 3600000,\\n\\t\\t\\t\\t\\t\\t\\t\\tsuccess : function(response, options) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n\\t\\t\\t\\t\\t\\t            if(resp.flag==='0'){\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t   busFormUrl = resp.formUrl;\\n\\t\\t\\t\\t\\t\\t            }else{\\n\\t\\t\\t\\t\\t\\t              busFormUrl =\\\"\\\";\\n\\t\\t\\t\\t\\t\\t            }\\n\\t\\t\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t\\t\\tfailure : function(reponse, options) {\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tbusFormUrl =\\\"\\\";\\n\\t\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t});\\t\\n             if(busFormUrl!==\\\"\\\"){\\n               var busBtn = new Ext.Button({text: '业务信息'});\\n               busBtn.setHandler(function(){\\n                 var busContainer=new Ext.Container(\\n                      {\\n                        title:\\\"业务信息\\\",\\n                        layout:\\\"fit\\\",\\n                        xtype:\\\"container\\\",\\n                        html:'<iframe scrolling=\\\"auto\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\" src=\\\"'+ busFormUrl+'\\\"><\\/iframe>'\\n                      }\\n                  );\\n                 taskNaviView.push(busContainer);\\n               });\\n               bntContainer.add(busBtn);\\n             }else{\\n               var busBtn = new Ext.Button({text: '业务信息'});\\n               busBtn.setHandler(function(){\\n                 var busContainer=new Ext.Container(\\n                      {\\n                        title:\\\"业务信息\\\",\\n                        layout:\\\"fit\\\",\\n                        xtype:\\\"container\\\",\\n                        html:'<p>流程中没有配置移动端表单！<\\/p>'\\n                      }\\n                  );\\n                 taskNaviView.push(busContainer);\\n               });\\n               bntContainer.add(busBtn);\\n             }\\n          }\\n       },\\n       failure: function(response,options){\\n           Ext.Msg.alert('错误','失败，服务器没有响应');\\n       }\\n   });\\n}\\n/**\\n * 根据流程Code创建流程实例\\n * @param processCode \\n * @oaram callback 回调函数，参数为instanceCode，流程实例创建成功调用此函数\\n */\\nfunction createInstanceByProcessCode(processCode,callback){\\n  Ext.Ajax.request({\\n\\t\\turl \\t: '{#contextPath#}' + '/workflowUtilAction.do?method=createInstanceByProcessCode',\\n\\t\\tparams\\t: {\\n\\t\\t\\t'processCode'  : processCode\\n\\t\\t},\\n\\t\\tmethod \\t: 'post',\\n        async   : false,\\n\\t\\ttimeout : 3600000,\\n\\t\\tsuccess : function(response, options) {\\n\\t\\t\\tvar resp = Ext.util.JSON.decode(response.responseText);\\n            if(resp.flag==='0'){\\n\\t\\t\\t   callback({\\\"flag\\\":'0',\\\"instanceCode\\\":resp.instanceCode});\\n            }else{\\n            \\tcallback({\\\"flag\\\":'1',\\\"msg\\\":resp.msg});\\n            }\\n\\t\\t},\\n\\t\\tfailure : function(reponse, options) {\\n\\t\\t\\tcallback({\\\"flag\\\":1,\\\"msg\\\":\\\"无法发送创建流程实例请求，请检查网络！\\\"});\\n\\t\\t}\\n\\t});\\t\\t\\n}\\n/**\\n *待办中提交按钮（流程驱动中才会用到）\\n * @param taskNaviView 需要手工选人的时候，选择审批人的界面被推入的导航视图\\n * @param taskId 待办的ID\\n * @param instCode 流程实例编码\\n * @param bizId 业务主键ID\\n * 返回 无\\n */\\nfunction doSubmit(taskNaviView,taskId)\\n{  var userIds='';\\n   Ext.Ajax.request({\\n       url : '{#contextPath#}/workItemAction.do?method=submitProcess',\\n       params:{\\n             taskId:taskId,\\n             userIds:userIds\\n       },\\n       method: 'POST',\\n       async : false,\\n       success: function(response,options){\\n           var resp = Ext.JSON.decode(response.responseText);\\n           if(resp.flag==='0'){\\n             Ext.Msg.alert(\\\"提示\\\",resp.msg,function(){\\n                                                       taskNaviView.pop();\\n                                                    },this);\\n           }else if(resp.flag==='1'){\\n             Ext.Msg.alert(\\\"提示\\\", resp.msg);\\n           }else{\\n             // 手动选人\\n             choose_approver(taskNaviView,taskId,xip_wf_submitCode,resp.multiselect,resp.actName,resp.data,'');\\n           }\\n       },\\n       failure: function(response,options){\\n           Ext.Msg.alert('错误','失败，服务器没有响应');\\n       }\\n   });\\n}\\n\\n/**\\n * 提交流程\\n * @param taskNaviView 需要手工选人的时候，选择审批人的界面被推入的导航视图\\n * @param instanceCode 流程实例编码\\n * @param entityAttrs 实体属性值对Json\\n */\\nfunction submitProcess(taskNaviView,instanceCode,entityAttrs,callBack,isCallSelf){\\n\\t   Ext.Ajax.request({\\n\\t       url : '{#contextPath#}/workflowUtilAction.do?method=submitProcess',\\n\\t       params:{\\n\\t    \\t   instanceCode:instanceCode,\\n\\t    \\t   entityAttJson:entityAttrs\\n\\t       },\\n\\t       method: 'POST',\\n\\t       async : false,\\n\\t       success: function(response,options){\\n\\t           var resp = Ext.JSON.decode(response.responseText);\\n\\t           if(resp.flag==='0'){\\n\\t        \\t   callBack({\\\"flag\\\":'0',\\\"instanceCode\\\":instanceCode,\\\"chooseApprover\\\":\\\"N\\\"});\\n\\t           }else if(resp.flag==='1'){\\n\\t        \\t   callBack({\\\"flag\\\":1,\\\"msg\\\":resp.msg});\\n\\t           }else{\\n\\t             // 手动选人\\n\\t             choose_approver(taskNaviView,instanceCode,\\\"submitWithInstanceCode\\\",resp.multiselect,resp.actName,resp.data,'',entityAttrs,function(obj){\\n                   if(obj.flag==='0'){\\n                     if(isCallSelf===undefined||isCallSelf===null||isCallSelf===''||isCallSelf==='N'){\\n                       taskNaviView.pop();\\n                     }\\n                     callBack(obj);\\n                   }else{\\n                     callBack(obj);\\n                   }\\n                 });\\n\\t           }\\n\\t       },\\n\\t       failure: function(response,options){\\n\\t    \\t   callback({\\\"flag\\\":1,\\\"msg\\\":\\\"无法发送提交流程请求，请检查网络！\\\"});\\n\\t       }\\n\\t   });\\n}\\n/**\\n * 重启流程实例\\n * @param instanceCode 流程实例编码\\n * @param processId 流程Id，如果此参数为空则使用实例原来对应的流程\\n */\\nfunction restartInstance(instanceCode,processId){\\n  Ext.Ajax.request({\\n      url \\t: '{#contextPath#}' + '/workflowUtilAction.do?method=restartInstance',\\n      params\\t: {\\n        'instanceCode':instanceCode,\\n        'processId'  : processId\\n      },\\n      method \\t: 'post',\\n      async : false,\\n      timeout : 3600000,\\n      success : function(response, options) {\\n        var resp = Ext.util.JSON.decode(response.responseText);\\n        callBack(resp);\\n      },\\n      failure : function(reponse, options) {\\n        callBack({\\\"flag\\\":'1',\\\"msg\\\":\\\"无法发送重启流程实例请求，请检查网络！\\\"});\\n      }\\n    });\\t\\t\\n}\\n\\n/**\\n * 根据业务实体编码创建流程实例并提交\\n * @param taskNaviView 需要手工选人的时候，选择审批人的界面被推入的导航视图\\n * @param instanceCode 流程实例编码\\n * @param processId 流程Id,如果此参数为空则使用实例原来对应的流程\\n * @param entityAttrs 实体属性值对Json\\n * @param callBack 回调函数，传入json对象，其中flag 为'0' 为成功可以通过instanceCode获取流程实例编码\\n */\\nfunction restartAndSubmitInstance(taskNaviView,instanceCode,processId,entityAttrs,callBack){\\n  Ext.Ajax.request({\\n      url \\t: '{#contextPath#}' + '/workflowUtilAction.do?method=restartInstance',\\n      params\\t: {\\n        'instanceCode':instanceCode,\\n        'processId'  : processId\\n      },\\n      method \\t: 'post',\\n      async : false,\\n      timeout : 3600000,\\n      success : function(response, options) {\\n        var resp = Ext.util.JSON.decode(response.responseText);\\n        if(resp.flag==='0'){\\n          submitProcess(taskNaviView,instanceCode,entityAttrs,function(obj){\\n            if(obj.flag==='0'){\\n              if(obj.chooseApprover==='Y'){\\n                taskNaviView.pop();\\n              }\\n              callBack(obj);\\n            }else{\\n              callBack(obj);\\n            }\\n          },'Y');\\n        }else{\\n          callBack({\\\"flag\\\":'1',\\\"msg\\\":resp.msg});\\n        }\\n      },\\n      failure : function(reponse, options) {\\n        callBack({\\\"flag\\\":'1',\\\"msg\\\":\\\"无法发送重启流程实例请求，请检查网络！\\\"});\\n      }\\n    });\\t\\t\\n}\\n/**\\n * 根据流程编码启动并提交流程\\n * @param taskNaviView 需要手工选人的时候，选择审批人的界面被推入的导航视图\\n * @param processCode 流程编码\\n * @param entityAttrs 实体属性值对Json\\n * @param callBack 回调函数，传入json对象，其中flag 为'0' 为成功可以通过instanceCode获取流程实例编码\\n */\\nfunction startAndSubmitWithPorcessCode(taskNaviView,processCode,entityAttrs,callBack,isCallSelf){\\n    Ext.Ajax.request({\\n      url \\t: '{#contextPath#}' + '/workflowUtilAction.do?method=createInstanceByProcessCode',\\n      params\\t: {\\n        'processCode'  : processCode\\n      },\\n      method \\t: 'post',\\n      async : false,\\n      timeout : 3600000,\\n      success : function(response, options) {\\n        var resp = Ext.util.JSON.decode(response.responseText);\\n        if(resp.flag==='0'){\\n          submitProcess(taskNaviView,resp.instanceCode,entityAttrs,function(obj){\\n            if(obj.flag==='0'){\\n              if(obj.chooseApprover==='Y'){\\n                if(isCallSelf===undefined||isCallSelf===null||isCallSelf===''||isCallSelf==='N'){\\n                  taskNaviView.pop();\\n                }\\n              }\\n            }\\n            callBack(obj);},'Y');\\n        }else{\\n          callBack({\\\"flag\\\":'1',\\\"msg\\\":resp.msg});\\n        }\\n      },\\n      failure : function(reponse, options) {\\n        callBack({\\\"flag\\\":'1',\\\"msg\\\":\\\"无法发送创建流程实例请求，请检查网络！\\\"});\\n      }\\n    });\\t\\t\\n}\\n/**\\n * 根据实例编码启动并提交流程\\n * @param taskNaviView 需要手工选人的时候，选择审批人的界面被推入的导航视图\\n * @param entityCode 业务实体编码\\n * @param entityAttrs 实体属性值对Json\\n * @param callBack 回调函数\\n */\\nfunction startAndSubmitWithEntityCode(taskNaviView,entityCode,entityAttrs,callBack){\\n\\t   Ext.Ajax.request({\\n\\t       url : '{#contextPath#}/workflowUtilAction.do?method=getProcessIdByEntityCode',\\n\\t       params:{\\n\\t    \\t   entityCode:entityCode,\\n\\t    \\t   entityAttJson:entityAttrs\\n\\t       },\\n\\t       method: 'POST',\\n\\t       async : false,\\n\\t       success: function(response,options){\\n\\t           var resp = Ext.JSON.decode(response.responseText);\\n\\t           if(resp.flag==='0'){\\n\\t             //只有一个流程，直接用其创建实例并提交\\n\\t        \\t var processId = resp.processId;\\n\\t      \\t     Ext.Ajax.request({\\n\\t    \\t       url : '{#contextPath#}/workflowUtilAction.do?method=createInstanceByProcessId',\\n\\t    \\t       params:{\\n\\t    \\t    \\t   processId:processId\\n\\t    \\t       },\\n\\t    \\t       method: 'POST',\\n\\t    \\t       async : false,\\n\\t    \\t       success: function(response,options){\\n\\t    \\t    \\t   var ret = Ext.JSON.decode(response.responseText);\\n\\t    \\t    \\t   if(ret.flag==='0'){\\n\\t    \\t    \\t\\t   submitProcess(taskNaviView,ret.instanceCode,entityAttrs,callBack);\\n\\t    \\t    \\t   }else{\\n\\t    \\t    \\t\\t   callBack({\\\"flag\\\":'1',\\\"msg\\\":ret.msg});\\n\\t    \\t    \\t   }\\n\\t    \\t       },\\n\\t    \\t       failure : function(reponse, options){\\n\\t    \\t    \\t   callBack({\\\"flag\\\":'1',\\\"msg\\\":\\\"无法发送创建流程实例请求，请检查网络！\\\"});\\n\\t    \\t       }\\n\\t      \\t     });\\n\\t           }else if(resp.flag==='1'){\\n\\t             callBack({\\\"flag\\\":1,\\\"msg\\\":resp.msg});\\n\\t           }else{\\n\\t            //多个流程，需要手工选择流程\\n\\t\\t\\t\\t Ext.define('ProcessModel', {\\n                   extend: 'Ext.data.Model',\\n                   config:{\\n                     fields: [\\n\\t\\t\\t\\t         {name: 'processId', type: 'string'},\\n\\t\\t\\t\\t         {name: 'processCode', type: 'string'},\\n\\t\\t\\t\\t         {name: 'processName', type: 'string'}\\n\\t\\t\\t\\t     ]\\n                   }\\n\\t\\t\\t\\t });\\n\\t\\t\\t\\t var ds = Ext.create('Ext.data.Store', {\\n                   storeId:'processStore',\\n\\t\\t\\t\\t     model: 'ProcessModel',\\n\\t\\t\\t\\t     data :  resp.data\\n\\t\\t\\t\\t });\\n\\t\\t\\t\\t var chooseProcessContainer = Ext.create(\\\"Ext.Container\\\",\\n\\t\\t\\t      {\\n\\t\\t\\t        title:\\\"选择流程\\\",\\n\\t\\t\\t        layout:\\\"fit\\\",\\n\\t\\t\\t        xtype:\\\"container\\\",\\n                    items:[\\n                      {\\n                        xtype:\\\"list\\\",\\n                        id:\\\"processList\\\",\\n                        store:ds,\\n                        itemTpl:\\\"<div>{processName}<\\\\/div>\\\",\\n                        fullscreen: true,\\n                        items:[\\n                          {\\n                            docked:\\\"bottom\\\",\\n                            xtype:\\\"container\\\",\\n                            items:[\\n                              {\\n                                text:\\\"确定\\\",\\n                                xtype:\\\"button\\\",\\n                                listeners:{tap:function(comp,options){\\n                                  var items = processList.getSelection();\\n                                  var cnt = items.length;\\n                                  if(cnt===0){\\n                                    Ext.Msg.alert(\\\"提示\\\",\\\"请先选择流程后再点击确定。\\\");\\n                                    return;\\n                                  }\\n                                  var item=items[0];\\n                                  var processCode = item.data.processCode;\\n                                  startAndSubmitWithPorcessCode(taskNaviView,processCode,entityAttrs,function(obj){\\n                                    if(obj.flag==='0'){\\n                                      if(obj.chooseApprover==='Y'){\\n                                        taskNaviView.pop(2);\\n                                      }else{\\n                                        taskNaviView.pop();\\n                                      }\\n                                      callBack(obj);\\n                                    }else{\\n                                      callBack(obj);\\n                                    }\\n                                  },'Y');\\n                                }\\n                                          }\\n                              }\\n                            ]\\n                          }\\n                        ]\\n                      }\\n                    ]\\n\\t\\t\\t      });\\n\\t\\t\\t\\ttaskNaviView.push(chooseProcessContainer);\\n\\t           }\\n\\t       },\\n\\t       failure: function(response,options){\\n\\t           Ext.Msg.alert('错误','失败，服务器没有响应');\\n\\t       }\\n\\t   });\\n}\\n\\nfunction revokeByInsCode(instanceCode,callBack){\\n  Ext.Ajax.request({\\n      url \\t: '{#contextPath#}' + '/workflowUtilAction.do?method=revokeByInsCode',\\n      params\\t: {\\n        'instanceCode':instanceCode\\n      },\\n      method \\t: 'post',\\n      async : false,\\n      timeout : 3600000,\\n      success : function(response, options) {\\n        var resp = Ext.util.JSON.decode(response.responseText);\\n        callBack(resp);\\n      },\\n      failure : function(reponse, options) {\\n        callBack({\\\"flag\\\":'1',\\\"msg\\\":\\\"无法发送撤回流程请求，请检查网络！\\\"});\\n      }\\n    });\\t\\t\\n}\\n/**\\n * 审批历史记录查询\\n * @param taskNaviView 审批历史记录容器将被推入到该导航条内显示\\n * @param instanceCode 流程实例编码\\n */\\nfunction queryHistoryRecord(taskNaviView,instanceCode){\\n     Ext.define('HistoryModel', \\n     {\\n         extend: 'Ext.data.Model',\\n         config: {\\n                    fields:[\\n                              {name: 'PERIOD_NAME',type: 'string'},\\n                              {name: 'EXECUTOR_NAME',type: 'string'},\\n                              {name: 'BEGIN_DATE',type: 'string'},\\n                              {name: 'END_DATE',type: 'string'},\\n                              {name: 'RESULT',type: 'string'},\\n                              {name: 'APPROVE_COMMNET',type: 'string'}\\n                           ]\\n                 }\\n      });\\n   var historyStore = Ext.create(\\\"Ext.data.Store\\\", \\n        {\\n          storeId: \\\"historyStore\\\",\\n          model: \\\"HistoryModel\\\",\\n          proxy: {\\n            type: \\\"ajax\\\",\\n            url : \\\"{#contextPath#}/main?xwl=23XYEMHAE9ZA&insCode=\\\"+instanceCode,\\n            reader: {\\n              type: \\\"json\\\",\\n              rootProperty: \\\"rows\\\"\\n        }\\n    },\\n          autoLoad :true\\n          });\\n   var historyList = Ext.create(\\\"Ext.List\\\", \\n         {\\n            id:\\\"historyList\\\",\\n            store: \\\"historyStore\\\",\\n            itemTpl: \\\"<div><div style='float:left;width:180px'>{PERIOD_NAME}<\\\\/div><div style='float:left;width:60px'>{EXECUTOR_NAME}<\\\\/div><div style='float:right;width:80px'>{RESULT}<\\\\/div><\\\\/div><div style='float:left;width:100%'><font size=2>{APPROVE_COMMNET}<\\\\/font><\\\\/div>\\\",\\n            fullscreen: true,\\n            inline : true\\n   \\n            \\n         });\\n   var appearHistoryContainer=new Ext.Container(\\n   {\\n      title:'审批历史记录',\\n      layout:\\\"fit\\\",\\n      xtype:\\\"container\\\",\\n      items:[\\n               {\\n                  xtype:\\\"container\\\",\\n                  layout:\\\"fit\\\",\\n                  items:[historyList]\\n               }\\n            ]\\n   }\\n   );\\n   taskNaviView.push(appearHistoryContainer);\\n}\"}]}","pub",null,0,0,"admin","2015-02-08 22:56:03.0","23XQ4UO678F0","2015-09-15 10:26:35.0",1],["23W4UO78MP43","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"Select EMP ASG\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"readEmpAsg\",\"sql\":\"SELECT XA.ASG_ID,\\n       XA.EMP_ID,\\n       XE.EMP_NAME,\\n       XA.POST_ID,\\n       XP.POST_NAME,\\n       XA.DEPT_ID,\\n       XD.DEPT_NAME,\\n       XA.ORG_ID,\\n       XO.ORG_NAME,\\n       XA.ENABLED\\n  FROM XIP_PUB_EMP_ASG XA,\\n       XIP_PUB_EMPS    XE,\\n       XIP_PUB_POSTS   XP,\\n       XIP_PUB_DEPTS   XD,\\n       XIP_PUB_ORGS    XO\\n WHERE XA.EMP_ID = XE.EMP_ID\\n   AND XA.POST_ID = XP.POST_ID\\n   AND XA.DEPT_ID = XD.DEPT_ID\\n   AND XA.ORG_ID = XO.ORG_ID\\n   AND XP.ENABLE_FLAG = 'Y'\\n   AND XD.ENABLE_FLAG = 'Y'\\n   AND XO.ENABLE_FLAG = 'Y'\\n   AND XA.EMP_ID = {?empId?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","readEmpAsg",null,0,0,"admin","2015-02-09 10:57:20.0","admin","2015-02-27 09:19:52.0",11],["23W4UO78MY9U","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"Select Orgs\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT T.ORG_ID ID, T.ORG_CODE CODE, T.ORG_NAME NAME\\n  FROM XIP_PUB_ORGS T\\n WHERE T.ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Select Orgs",null,0,0,"admin","2015-02-10 09:22:28.0","admin","2015-02-27 10:16:34.0",8],["23W4UO78MY9X","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"Select Depts\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT T.DEPT_ID ID,T.DEPT_CODE CODE,T.DEPT_NAME NAME\\n  FROM XIP_PUB_DEPTS T\\n WHERE T.ORG_ID = {?orgId?}\\n   AND T.ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Select Depts",null,0,0,"admin","2015-02-10 09:22:39.0","admin","2015-02-10 10:07:59.0",9],["23W4UO78MY9Z","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"Select Posts\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT T.POST_ID ID, T.POST_CODE CODE, T.POST_NAME NAME\\nFROM XIP_PUB_POSTS T\\nWHERE T.ORG_ID = {?orgId?}\\nAND T.DEPT_ID = {?deptId?}\\nAND T.ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Select Posts",null,0,0,"admin","2015-02-10 09:22:45.0","admin","2015-02-10 10:07:59.0",10],["23W5OSRTNHK9","23W20GG51T5Y","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insertFuncMenu\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_fun_tree t where t.fun_tree_code = {?funcTreeCode?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except1\",\"message\":\"编码 \\\"{#funcTreeCode#}\\\" 已存在!\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"checkFuncNameExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_fun_tree t where t.fun_tree_name = {?funcTreeName?} and t.node_type = {?nodeType?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except11\",\"message\":\"名称 \\\"{#funcTreeName#}\\\" 已存在!\",\"name\":\"checkFuncNameExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_pub_fun_tree\\n  (FUN_TREE_ID,\\n   FUN_TREE_CODE,\\n   FUN_TREE_NAME,\\n   UP_ID,\\n   NODE_TYPE,\\n   DESCRIPTION,\\n   URL,\\n   MOB_URL,\\n   SMALL_ICON,\\n   LARGE_ICON,\\n   APP_ID,\\n   ENABLE_FLAG,\\n   NODE_ORDER,\\n   SHOW_STYLE,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ('{#funcTreeId#}',\\n   '{#funcTreeCode#}',\\n   '{#funcTreeName#}',\\n   '{#upId#}',\\n   '{#nodeType#}',\\n   '{#desc#}',\\n   '{#url#}',\\n   '{#mobUrl#}',\\n   '{#smallIcon#}',\\n   '{#largeIcon#}',\\n   '{#appId#}',\\n   '{#enableFlag#}',\\n   (select case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = '{#upId#}') = 0 then\\n          0\\n         else\\n          (select max(t2.node_order) + 1\\n             from xip_pub_fun_tree t2\\n            where t2.up_id = '{#upId#}')\\n       end as \\\"dex\\\"\\n  from dual),\\n   '{#showStyle#}',\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{funcTreeId:'{#funcTreeId#}', funcTreeCode:'{#funcTreeCode#}', funcTreeName:'{#funcTreeName#}', upId:'{#upId#}', nodeType:'{#nodeType#}', addType:'{#addType#}', menuOpType:'{#menuOpType#}'}\"}]}","insertFuncMenu",null,0,0,"admin","2015-02-09 09:41:33.0","admin","2015-10-13 14:33:55.0",8],["23W5OSRTNHKK","23W20GG51T5Y","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"updateRole\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_fun_tree t where t.FUN_TREE_CODE = {?funcTreeCode?} and t.FUN_TREE_ID <> {?funcTreeId?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except1\",\"message\":\"编码 \\\"{#funcTreeCode#}\\\" 已存在!\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"checkFuncNameExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_fun_tree t where t.FUN_TREE_NAME = {?funcTreeName?} \\nand t.node_type = {?nodeType?}\\nand t.FUN_TREE_ID <> {?funcTreeId?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except11\",\"message\":\"名称 \\\"{#funcTreeName#}\\\" 已存在!\",\"name\":\"checkFuncNameExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"updateFunTree\",\"sql\":\"update xip_pub_fun_tree\\n   set FUN_TREE_CODE    = '{#funcTreeCode#}',\\n       FUN_TREE_NAME    = '{#funcTreeName#}',\\n       UP_ID            = '{#upId#}',\\n       NODE_TYPE        = '{#nodeType#}',\\n       DESCRIPTION      = '{#desc#}',\\n       URL              = '{#url#}',\\n       APP_ID           = '{#appId#}',\\n       MOB_URL          = '{#mobUrl#}',\\n       SMALL_ICON       = '{#smallIcon#}',\\n       LARGE_ICON       = '{#largeIcon#}',\\n       ENABLE_FLAG      = '{#enableFlag#}',\\n       SHOW_STYLE       = '{#showStyle#}',\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY  = {?XIP.userId?}\\n where FUN_TREE_ID = '{#funcTreeId#}'\",\"transaction\":\"start\"},{\"xwlMeta\":\"query\",\"id\":\"updateMenuTree\",\"sql\":\"update xip_pub_mnu_tree\\n   set NAME             = '{#funcTreeName#}',\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY  = {?XIP.userId?}\\n where FUN_TREE_ID = '{#funcTreeId#}'\\n   and NODE_TYPE = 'F'\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{funcTreeId:'{#funcTreeId#}',nodeType:'{#nodeType#}',funcTreeCode:'{#funcTreeCode#}',funcTreeName:'{#funcTreeName#}'}\"}]}","updateFuncMenu",null,0,0,"admin","2015-02-09 09:41:50.0","admin","2015-10-13 14:35:27.0",9],["23W6012ZUZMQ","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"updateBtns\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_pub_btnreg\\n   set BTN_CODE         = {?BTN_CODE?},\\n       BTN_NAME         = {?BTN_NAME?},\\n       ENABLE_FLAG      = {?BTN_ENABLE?},\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY  = {?XIP.userId?}\\n where BTN_ID = {?BTN_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\"}","updateBtns",null,0,0,"admin","2015-02-10 09:46:26.0","admin","2015-03-20 10:47:04.0",3],["23W6012ZUZMS","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"insertBtns\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_pub_btnreg\\n  (BTN_ID,\\n   BTN_CODE,\\n   BTN_NAME,\\n   ENABLE_FLAG,\\n   FUN_TREE_ID,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ({?BTN_ID?},\\n   {?BTN_CODE?},\\n   {?BTN_NAME?},\\n   {?BTN_ENABLE?},\\n   {?FUNC_ID?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"},{\"id\":\"response1\",\"xwlMeta\":\"response\",\"object\":\"returns\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nvar i, r=Wb.decode(result);\\nr=Wb.encode(r);\\nrequest.setAttribute('returns',r);\\nrequest.setAttribute('rows',r);\\n//You can also use org.json package to process JSON.\",\"loginRequired\":\"false\"}","insertBtns",null,0,0,"admin","2015-02-10 09:46:42.0","admin","2015-03-20 10:47:10.0",4],["23W6012ZUZMW","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"deleteBtns\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_btnreg where BTN_ID = '{#BTN_ID#}'\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\"}","deleteBtns",null,0,0,"admin","2015-02-10 09:47:11.0","admin","2015-03-20 10:47:15.0",5],["23W6012ZUZRR","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"deleteFunction\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExists1\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_mnu_tree t where t.fun_tree_id = '{#funTreeId#}'\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"功能被菜单功能组关联,不可删除!\",\"id\":\"except11\",\"xwlMeta\":\"except\",\"name\":\"checkExists1.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"deleteBtnSec\",\"sql\":\"DELETE \\nFROM\\n  xip_pub_user_fun_btns\\nWHERE btn_id IN \\n  (SELECT \\n    r.btn_id \\n  FROM\\n    xip_pub_btnreg r \\n  WHERE r.fun_tree_id = '{#funTreeId#}')\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"deleteBtns\",\"sql\":\"delete from xip_pub_btnreg  where FUN_TREE_ID = '{#funTreeId#}'\",\"xwlMeta\":\"query\"},{\"id\":\"deleteFun\",\"sql\":\"delete from xip_pub_fun_tree  where FUN_TREE_ID = '{#funTreeId#}'\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{funcTreeId:'{#funcTreeId#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","deleteFunction",null,0,0,"admin","2015-02-10 11:14:28.0","admin","2015-06-03 10:01:39.0",10],["23W6012ZUZSH","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"deleteMenu\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_fun_tree t where t.up_id = {?funTreeId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"菜单已经包含子功能菜单，请确认后再删除!\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkExists1\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_mnu_tree t where t.fun_tree_id = {?funTreeId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"菜单被菜单功能组关联,不可删除!\",\"id\":\"except11\",\"xwlMeta\":\"except\",\"name\":\"checkExists1.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"delete from xip_pub_fun_tree  where FUN_TREE_ID = '{#funTreeId#}'\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{funcTreeId:'{#funcTreeId#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","deleteMenu",null,0,0,"admin","2015-02-10 13:19:42.0","admin","2015-05-28 15:05:30.0",11],["23W62VZ7M50Z","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"getIcons\",\"finalMethod\":\"com.xzsoft.xip.platform.action.FrameAction.getIcons\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\"}","getIcons",null,0,0,"admin","2015-02-10 15:51:52.0","admin","2015-02-10 15:53:06.0",12],["23W62VZ7M55O","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"saveFuncHelp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_pub_fun_tree\\n   set FUN_HELP    = '{#funcHelp#}'\\n where FUN_TREE_ID = '{#funcTreeId#}'\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","saveFuncHelp",null,0,0,"admin","2015-02-10 16:41:40.0","admin","2015-03-20 10:47:58.0",13],["23W6AX1F7PIN","23W20GG51T5Y","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"updateFunTreeIndex\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"update xip_pub_fun_tree \\n   set node_order = node_order + 1 \\n where (case when (nvl(up_id,'-1')='-1') then '-1' else up_id end) = {?parentId?}\\n   and node_order >= {?integer.idx?}\",\"id\":\"updateFunTreeIndex\",\"mysql\":\"update xip_pub_fun_tree \\n   set node_order = node_order + 1 \\n where (case when (ifnull(up_id,'-1')='-1' or up_id='') then '-1' else up_id end) = {?parentId?}\\n   and node_order >= {?integer.idx?}\"},{\"xwlMeta\":\"query\",\"id\":\"updateOtherNode\",\"sqlSwitcher\":\"updateFunTreeIndex\",\"transaction\":\"start\"},{\"xwlMeta\":\"query\",\"id\":\"updateOwnNode\",\"sql\":\"update xip_pub_fun_tree set up_id={?parentId?},node_order={?integer.idx?} where fun_tree_id={?funTreeId?}\"}]}","updateFunTreeIndex",null,0,0,"admin","2015-02-11 11:15:56.0","23XQ4B4KHDBR","2015-08-28 09:28:40.0",14],["23WAWZLZBBKV","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"addEmpAsg\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"insertEmpAsg\",\"sql\":\"insert into xip_pub_emp_asg\\n  (asg_id,\\n   emp_id,\\n   post_id,\\n   dept_id,\\n   org_id,\\n   enabled,\\n   creation_date,\\n   created_by,\\n   post_seq)\\nvalues\\n  ({?ASG_ID?},\\n   {?EMP_ID?},\\n   {?POST_ID?},\\n   {?DEPT_ID?},\\n   {?ORG_ID?},\\n   {?ENABLED?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   'N')\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"},{\"id\":\"response1\",\"xwlMeta\":\"response\",\"object\":\"returns\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nvar i, r=Wb.decode(result);\\nfor(i in r){\\n  r[i].CUST_ID=SysUtil.getId();\\n}\\nr=Wb.encode(r);\\nrequest.setAttribute('returns',r);\\nrequest.setAttribute('rows',r);\",\"loginRequired\":\"false\"}","createEmpAsg",null,0,0,"admin","2015-02-26 11:19:45.0","admin","2015-02-27 09:19:17.0",12],["23WAWZLZBBKX","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"delEmpAsg\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"deleteEmpAsg\",\"sql\":\"delete from xip_pub_emp_asg where asg_id = {?ASG_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\"}","destroyEmpAsg",null,0,0,"admin","2015-02-26 11:19:52.0","admin","2015-02-27 09:20:08.0",14],["23WAWZLZBBKZ","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"updEmpAsg\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"updateEmpAsg\",\"sql\":\"update xip_pub_emp_asg\\n   set emp_id            = {?EMP_ID?},\\n       post_id           = {?POST_ID?},\\n       dept_id           = {?DEPT_ID?},\\n       org_id            = {?ORG_ID?},\\n       enabled           = {?ENABLED?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where asg_id = {?ASG_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\"}","updateEmpAsg",null,0,0,"admin","2015-02-26 11:20:00.0","admin","2015-02-27 09:19:40.0",13],["23WBI6MXCU26","23WW4OF5S66N",null,"WEB服务配置",null,0,0,"admin","2015-02-28 09:12:03.0","admin","2015-03-18 11:15:22.0",4],["23WBI6MXCU2B","23WBI6MXCU26","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Web服务配置\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"appstore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23WBI6MXCU8S (appquery)\"},{\"xwlMeta\":\"store\",\"id\":\"appstore4Win\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23WBI6MXCU8S (appquery)\"},{\"xwlMeta\":\"store\",\"id\":\"mainQuery\",\"url\":\"#23WBI6MXCUCC (query)\",\"beforeload\":\"mainQuery.getProxy().extraParams.APP_ID = appCombox.getValue();\\nmainQuery.getProxy().extraParams.SQLKEY = sqlKeyField.getValue();\\nmainQuery.getProxy().extraParams.SQL_TYPE = type_combo.getValue();\\nmainQuery.getProxy().extraParams.DATAS_FORMAT = format_combo.getValue();\"}]},{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WCQ6TFGWZ5 (insert)\",\"id\":\"ajax_add\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存失败!\\\");\",\"success\":\"var returnJson = Ext.JSON.decode(response.responseText);\\n\\nif(returnJson.IS_SAVE_NEXT=='Y'){\\n  Wb.reset(form1);\\n  SQL_ID.setValue(Wb.getUuid());\\n  SQL_TYPE.setValue('Q');\\n  DATAS_FORMAT.setValue('xml');\\n  OP_TYPE.setValue('_added');\\n}else{\\n  OP_TYPE.setValue('_modified');\\n}\\n\\nExt.Msg.alert(\\\"提示\\\",\\\"保存成功!\\\");\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WCQ6TFGWZ9 (update)\",\"id\":\"ajax_upd\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"保存失败!\\\");\",\"success\":\"var returnJson = Ext.JSON.decode(response.responseText);\\n\\nif(returnJson.IS_SAVE_NEXT=='Y'){\\n  Wb.reset(form1);\\n  SQL_ID.setValue(Wb.getUuid());\\n  SQL_TYPE.setValue('Q');\\n  DATAS_FORMAT.setValue('xml');\\n  OP_TYPE.setValue('_added');\\n}else{\\n  OP_TYPE.setValue('_modified');\\n}\\n\\nExt.Msg.alert(\\\"提示\\\",\\\"保存成功!\\\");\"},{\"xwlMeta\":\"ajax\",\"mask\":\"grid1\",\"url\":\"#23WCQ6TFGS73 (del)\",\"id\":\"ajax_del\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除失败!\\\");\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"删除成功!\\\");\\n\\nWb.load(mainQuery);\"},{\"xwlMeta\":\"ajax\",\"async\":\"false\",\"url\":\"#23WCQ6TFH0YM (queybysqlkey)\",\"id\":\"ajax_querybysqlkey\",\"success\":\"\\nvar param_code_json = Ext.JSON.decode(response.responseText);\\nvar sqlId = SQL_ID.getValue();\\t\\t\\t\\t\\t\\t\\t\\nvar json =  param_code_json.rows[0];\\t\\nif(json!=null){\\n  if(json.SQL_ID != null&&json.SQL_ID!=sqlId){\\n  Ext.Msg.alert('提示',\\\"关键码已存在\\\");\\n  return false;\\n}\\n}\\n  \\n\\n\\n\\nif(sqlId==\\\"\\\"||sqlId==null){\\n  var json = {SQLKEY:SQLKEY.getValue(),SQL_TYPE:SQL_TYPE.getValue(),APP_NAME:APP_NAME.getValue(),DATAS_FORMAT:DATAS_FORMAT.getValue(),SQL_STR:SQL_STR.getValue()};\\n  //新增操作\\n  \\n// SQL_ID，SQLKEY，SQL_TYPE，APP_NAME，DATAS_FORMAT，SQL_STR\\n  \\n}else{\\n  \\n  \\n\\n   \\n}\"}]},{\"xwlMeta\":\"folder\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"columnarray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SQL_ID\",\"id\":\"SQL_ID_COL\",\"text\":\"SQL_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SQLKEY\",\"id\":\"SQLKEY_COL\",\"text\":\"关键码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SQL_TYPE\",\"id\":\"SQL_TYPE_COL\",\"renderer\":\"if(value=='Q'){\\n  return '查询';\\n}else if(value=='U'){\\n  return '数据操作';\\n}else if(value=='P'){\\n  return '过程';\\n}else if(value=='J'){\\n  return 'Java方法';\\n}\",\"text\":\"类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DATAS_FORMAT\",\"id\":\"DATAS_FORMAT_COL\",\"text\":\"查询结果格式\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME_COL\",\"text\":\"按应用名称\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SQL_STR\",\"id\":\"SQL_STR_COL\",\"text\":\"WS内容\",\"width\":\"400\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"tbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"new_icon\",\"id\":\"addBtn\",\"click\":\"SQL_TYPE.setValue('Q');\\nDATAS_FORMAT.setValue('xml');\\nSQL_ID.setValue(Wb.getUuid());\\nOP_TYPE.setValue('_added');\\n\\nwin1.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"编辑\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"var sm = grid1.getSelectionModel();\\nif(!sm.hasSelection() || sm.getSelection().length>1){\\n  Ext.MessageBox.alert('提示','请选择一条要修改的数据!');\\n  return false;\\n}else{\\n  /*------------编辑--------------*/\\n  var rows = sm.getSelection();\\n  win1.title=\\\"修改\\\";\\n  form1.loadRecord(rows[0]);\\n  \\n  APP_NAME.setValue(rows[0].get('APP_ID'));\\n\\n  if(rows[0].get('SQL_TYPE') =='Q'){\\n    DATAS_FORMAT.enable();\\n\\n  }else{\\n    DATAS_FORMAT.disable();\\n  }\\n  \\n  OP_TYPE.setValue('_modified');\\n  win1.show();\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择删除的记录!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的数据吗？',function(a){\\n    if(a=='yes'){\\n      var idList = \\\"\\\" ;\\n      Ext.each(rows,function(r){\\n      \\tvar id = \\\"'\\\" + r.data.SQL_ID + \\\"'\\\";\\n        if(idList === \\\"\\\"){\\n          idList = id ;\\n        }else{\\n          idList = idList+\\\",\\\"+id ;\\n        }\\n      });\\n      var json = {'ids' : idList} ;\\n      ajax_del.request(json);\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line4\"},{\"xwlMeta\":\"menuItem\",\"text\":\"测试\",\"iconCls\":\"check_icon\",\"id\":\"testBtn\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\nvar sm=0;\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择测试的记录!');\\n  return false ;\\n}else{\\n  \\n  if(rows.length===1){\\n   Ext.Msg.wait(\\\"正在测试，请稍后...\\\");\\n   var sql_str = rows[0].get('SQL_STR');\\n   var sqlKey = rows[0].get('SQLKEY');\\n   var paramList = '';\\n   var testArray = [];\\n   var  keyArray = [];\\n   testArray.push(sql_str);\\n   Ext.each(testArray,function(a){\\n    var  sqlArray = a.split('${');\\n    for(var i = 1;i<sqlArray.length;i++){\\n      var tmpStr = sqlArray[i].substring(0,sqlArray[i].indexOf('}'));\\n      keyArray.push(tmpStr);\\n   }\\n   });\\n\\n  var newArray = Ext.Array.unique(keyArray);\\n  //如果存在参数，要求输入参数 否则直接发请求\\n  if(newArray.length>0){\\n    for(var h=0;h<newArray.length;h++){\\n      var paramText = Ext.create('Ext.form.field.Text',{\\n        id:'p_'+sm,\\n        name:'paramText',\\n        fieldLabel:newArray[h],\\n        labelAlign:'right'\\n      });\\n      sm++;\\n      NUM.setValue(sm);\\n      paramPanel.add(paramText);\\n    }\\n    testWindow.show();\\n    panel2.setHeight(440-30*sm);\\n    acceptBtn.show();\\n      \\n  }else{\\n      Ext.Ajax.request({\\n       url  : '{#contextPath#}'+'/platformAction.do?method=wsTest',\\n       method:'post',\\n       params:{sqlKey: sqlKey,\\n               paramList: paramList\\n              },\\n       success: function(response,options){\\n           Ext.Msg.hide();\\n           var respText = Ext.JSON.decode(response.responseText);\\n           testWindow.show();\\n           resultArea.setValue(respText.msg);\\n           panel2.setHeight(440);\\n           acceptBtn.hide();\\n           //Ext.Msg.alert('',respText.msg);\\n       },\\n       failure : function(response,options){\\n         //var respText = Ext.JSON.decode(response.responseText);\\n         //Ext.Msg.alert('',respText.msg);\\n       }\\n     });\\n  }\\n  }else{\\n     Ext.Msg.alert('提示','请选择一条测试的记录!');\\n     return false ;\\n  } \\n  \\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line5\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"btn4AddForm\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btnSave\",\"text\":\"保存\",\"click\":\"var sqlId = SQL_ID.getValue();\\n\\nvar sqlkey = SQLKEY.getValue();\\nif(sqlkey === null || sqlkey === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"关键码不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar type = SQL_TYPE.getValue();\\nif(type === null || type === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"类型不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar appname = APP_NAME.getValue();\\nif(appname === null || appname === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"应用不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar format = DATAS_FORMAT.getValue();\\nif(type=='Q'&&!format){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"查询结果格式不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar sql_str = SQL_STR.getValue();\\nif(sql_str === null || sql_str === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"WS内容不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar opType = OP_TYPE.getValue();\\n\\nvar json = {\\n  SQL_ID:SQL_ID.getValue(),\\n  APP_ID:APP_ID.getValue(),\\n  SQLKEY:SQLKEY.getValue(),\\n  SQL_TYPE:SQL_TYPE.getValue(),\\n  DATAS_FORMAT:DATAS_FORMAT.getValue(),\\n  SQL_STR:SQL_STR.getValue(),\\n  IS_SAVE_NEXT:'N'\\n};\\n\\nif(opType == '_added'){\\n  ajax_add.request(json);  \\n}else{\\n  ajax_upd.request(json);  \\n}\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btnSaveAndNext\",\"text\":\"保存并添加下一个\",\"click\":\"var sqlId = SQL_ID.getValue();\\n\\nvar sqlkey = SQLKEY.getValue();\\nif(sqlkey === null || sqlkey === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"关键码不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar type = SQL_TYPE.getValue();\\nif(type === null || type === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"类型不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar appname = APP_NAME.getValue();\\nif(appname === null || appname === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"应用不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar format = DATAS_FORMAT.getValue();\\nif(type=='Q'&&!format){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"查询结果格式不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar sql_str = SQL_STR.getValue();\\nif(sql_str === null || sql_str === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"WS内容不能为空\\\") ;\\n  return false ;\\n}\\n\\nvar opType = OP_TYPE.getValue();\\n\\nvar json = {\\n  SQL_ID:SQL_ID.getValue(),\\n  APP_ID:APP_ID.getValue(),\\n  SQLKEY:SQLKEY.getValue(),\\n  SQL_TYPE:SQL_TYPE.getValue(),\\n  DATAS_FORMAT:DATAS_FORMAT.getValue(),\\n  SQL_STR:SQL_STR.getValue(),\\n  IS_SAVE_NEXT:'Y'\\n};\\n\\nif(opType == '_added'){\\n  ajax_add.request(json);  \\n}else{\\n  ajax_upd.request(json);  \\n}\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btnCancel\",\"text\":\"取消\",\"click\":\"win1.hide();\"}]},{\"xwlMeta\":\"array\",\"id\":\"testWindowBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptBtn\",\"text\":\"确定\",\"click\":\"var record = grid1.getSelectionModel().getSelection();\\nvar sqlKey = record[0].get('SQLKEY');\\nvar string = 'p_';\\nvar dd = '';\\nfor(var l = 0;l<NUM.getValue();l++){\\nvar val = Ext.getCmp(string+l).getValue();\\n  if(val=== null||val=== ''){\\n    Wb.warning('参数值不能为空');\\n    return false;\\n  }\\n var name = Ext.getCmp(string+l).getFieldLabel();\\n  dd = dd +','+\\\"'\\\"+name+\\\"'\\\"+':'+\\\"'\\\"+val+\\\"'\\\";\\n}\\nvar paramList= '{'+dd.substring(1,dd.length)+'}';\\nExt.Msg.wait(\\\"正在测试，请稍后...\\\");\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=wsTest',\\n  method:'post',\\n  params:{\\n          sqlKey: sqlKey,\\n          paramList: paramList\\n         },\\n  success: function(response,options){\\n      Ext.Msg.hide();\\n      var respText = Ext.JSON.decode(response.responseText);\\n      resultArea.setValue(respText.msg);\\n      //Ext.Msg.alert('',respText.msg);\\n  },\\n  failure : function(response,options){\\n      //var respText = Ext.JSON.decode(response.responseText);\\n      //Ext.Msg.alert('',respText.msg);\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"id\":\"closeBtn\",\"text\":\"关闭\",\"click\":\"testWindow.close();\\nExt.Msg.hide();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"win\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"win1\",\"title\":\"WEB服务注册/修改\",\"height\":\"400\",\"layout\":\"fit\",\"resizable\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"650\",\"hide\":\"queryBtn.fireEvent('click');\",\"children\":[{\"xwlMeta\":\"form\",\"bodyPadding\":\"10\",\"id\":\"form1\",\"style\":\"border-width:0px\",\"layout\":\"form\",\"border\":\"false\",\"buttons\":\"btn4AddForm\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"OP_TYPE\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"SQL_ID\",\"id\":\"SQL_ID\",\"labelWidth\":\"100\",\"width\":\"300\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"APP_ID\",\"id\":\"APP_ID\",\"width\":\"300\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel4\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"关键码\",\"id\":\"SQLKEY\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"appstore4Win\",\"forceSelection\":\"true\",\"valueField\":\"ID\",\"allowBlank\":\"false\",\"width\":\"320\",\"editable\":\"true\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"emptyText\":\"请选择\",\"fieldLabel\":\"所属应用名称\",\"id\":\"APP_NAME\",\"queryLike\":\"true\",\"displayField\":\"NAME\",\"labelWidth\":\"100\",\"select\":\"APP_ID.setValue(APP_NAME.getValue());\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel5\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"forceSelection\":\"true\",\"allowBlank\":\"false\",\"width\":\"280\",\"editable\":\"true\",\"labelAlign\":\"right\",\"pickList\":\" [['Q', '查询'], ['U', '数据操作'], ['P', '过程'], ['J', 'Java方法']]\",\"emptyText\":\"请选择\",\"fieldLabel\":\"类型\",\"id\":\"SQL_TYPE\",\"labelWidth\":\"60\",\"disabled\":\"false\",\"collapse\":\"                   if(SQL_TYPE.getValue()!='Q'){\\n\\t\\t\\t\\t\\t   DATAS_FORMAT.setRawValue('');\\n\\t\\t\\t\\t\\t   DATAS_FORMAT.setValue('');\\n\\t\\t\\t\\t\\t   DATAS_FORMAT.disable();\\n\\t\\t\\t\\t   }else{\\n\\t\\t\\t\\t\\t   DATAS_FORMAT.enable();\\n\\t\\t\\t\\t   }\"},{\"xwlMeta\":\"comboBox\",\"forceSelection\":\"true\",\"allowBlank\":\"false\",\"width\":\"320\",\"editable\":\"true\",\"labelAlign\":\"right\",\"pickList\":\"[['xml', 'xml'], ['json', 'json']]\",\"emptyText\":\"请选择\",\"fieldLabel\":\"查询结果格式\",\"id\":\"DATAS_FORMAT\",\"labelWidth\":\"100\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel6\",\"layout\":\"column\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"WS内容\",\"id\":\"SQL_STR\",\"height\":\"250\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"width\":\"600\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"testWindow\",\"title\":\"请输入参数值\",\"height\":\"500\",\"layout\":\"border\",\"resizable\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"700\",\"buttons\":\"testWindowBtn\",\"buttonAlign\":\"center\",\"beforeclose\":\"paramPanel.removeAll();\",\"close\":\"Ext.Msg.hide();\",\"beforehide\":\"paramPanel.removeAll();\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-boder\",\"padding\":\"10px 40px 0px 0px\",\"id\":\"paramPanel\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"columnWidth\":\".5\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"NUM\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"my-panel-no-border\",\"padding\":\"10px 40px 0px 0px\",\"id\":\"panel2\",\"height\":\"'80%'\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"测试结果\",\"id\":\"resultArea\",\"height\":\"280\",\"width\":\"600\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"条件查询\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel13\",\"layout\":\"form\",\"columnWidth\":\".28\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"appstore\",\"valueField\":\"ID\",\"labelAlign\":\"right\",\"emptyText\":\"请选择\",\"fieldLabel\":\"所属应用名称\",\"id\":\"appCombox\",\"displayField\":\"NAME\",\"labelWidth\":\"90\",\"select\":\"queryBtn.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel14\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"关键码\",\"id\":\"sqlKeyField\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey()==13){\\n  queryBtn.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel15\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"labelAlign\":\"right\",\"pickList\":\" [['Q', '查询'], ['U', '数据操作'], ['P', '过程'], ['J', 'Java方法']]\",\"emptyText\":\"请选择\",\"fieldLabel\":\"类型\",\"id\":\"type_combo\",\"labelWidth\":\"60\",\"select\":\"queryBtn.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel8\",\"layout\":\"form\",\"columnWidth\":\".1\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"bodyPadding\":\"0px 0px 0px 5px\",\"id\":\"panel9\",\"layout\":\"column\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel10\",\"layout\":\"form\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"autoWidth\":\"true\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"x\":\"10\",\"click\":\"Wb.load(mainQuery);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel12\",\"layout\":\"form\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"autoWidth\":\"true\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"x\":\"25\",\"click\":\"Wb.reset(fieldSet1);\\nWb.load(mainQuery);\"}]}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel3\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"width\":\"250\",\"labelAlign\":\"right\",\"pickList\":\"[['xml', 'xml'], ['json', 'json']]\",\"emptyText\":\"请选择\",\"fieldLabel\":\"查询结果格式\",\"id\":\"format_combo\",\"labelWidth\":\"100\",\"hidden\":\"true\",\"select\":\"queryBtn.fireEvent('click');\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"mainQuery\",\"columns\":\"columnarray\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}","Web服务配置",null,0,0,"admin","2015-02-28 09:25:56.0","23XQ4UO678F5","2015-10-23 13:15:41.0",1],["23WBI6MXCU2D","23WBI6MXCU26",null,"DATA",null,1,0,"admin","2015-02-28 09:26:03.0","admin","2015-06-05 14:06:40.0",2],["23WBI6MXCU8S","23WBI6MXCU2D","{\"id\":\"module\",\"title\":\"appquery\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  s.app_id ID,\\n  s.app_name NAME \\nFROM\\n  XIP_PUB_APPS s \\nWHERE s.app_id IN \\n  (SELECT \\n    c.app_id \\n  FROM\\n    xip_pub_app_sec c \\n  WHERE c.user_id = {?XIP.userId?})\\nAND s.ENABLE_FLAG ='Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","appquery",null,0,0,"admin","2015-02-28 13:31:16.0","admin","2015-05-29 14:13:30.0",1],["23WBI6MXCUCC","23WBI6MXCU2D","{\"id\":\"module\",\"title\":\"query\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.sql_id,\\n       t.sqlkey,\\n       t.sql_type,\\n       t.sql_str,\\n       t.datas_format,\\n       t.app_id,\\n       a.app_name\\n  from XIP_PUB_WS_SQL t, xip_pub_apps a\\n where t.app_id = a.app_id\\n   and t.sqlkey like '%{#SQLKEY#}%'\\n   and ('{#SQL_TYPE#}' is null or t.sql_type ='{#SQL_TYPE#}' )\\n   and ('{#DATAS_FORMAT#}' is null or t.datas_format ='{#DATAS_FORMAT#}')\\n   and ('{#APP_ID#}' is null or t.app_id ='{#APP_ID#}')\\n order BY t.sqlkey\",\"mysql\":\"select T.SQL_ID,\\n       T.SQLKEY,\\n       T.SQL_TYPE,\\n       T.SQL_STR,\\n       T.DATAS_FORMAT,\\n       T.APP_ID,\\n       A.APP_NAME\\n  from XIP_PUB_WS_SQL T, xip_pub_apps A\\n where t.app_id = a.app_id\\n   and t.sqlkey like '%{#SQLKEY#}%'\\n   and (('{#SQL_TYPE#}' <>'' and t.sql_type ='{#SQL_TYPE#}' ) or '{#SQL_TYPE#}'='')\\n   and (('{#DATAS_FORMAT#}' <>'' and t.datas_format ='{#DATAS_FORMAT#}') or '{#DATAS_FORMAT#}'='')\\n   and (('{#APP_ID#}'<>''  and t.app_id ='{#APP_ID#}') or '{#APP_ID#}'='')\\n   order BY t.sqlkey\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}]}","query",null,0,0,"admin","2015-02-28 14:52:53.0","admin","2015-04-22 16:35:50.0",2],["23WCFT07IZJC","23VVZ3QMOKQM",null,"角色管理",null,0,0,"admin","2015-03-03 10:32:37.0","admin","2015-03-03 10:38:17.0",6],["23WCFT07IZJD","23WCFT07IZJC","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"角色管理\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar userName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userName');\\nvar empName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('empName');\\n\\nvar authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nvar roleId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleId');\\nvar roleName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleName');\\nvar roleCode = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleCode');\\n\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\nrequest.setAttribute(\\\"empName\\\",empName);\\n\\nrequest.setAttribute(\\\"authModel\\\",authModel);\\nrequest.setAttribute(\\\"roleId\\\",roleId);\\nrequest.setAttribute(\\\"roleName\\\",roleName);\\nrequest.setAttribute(\\\"roleCode\\\",roleCode);\\n\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"cssFiles\":\"[\\\"common/css/default.css\\\"]\",\"finalize\":\"//设置节点子级全部选中\\n           function SetChildNodeChecked(node) {\\n               var isChecked = node.data.checked;\\n               var childCount = node.childNodes.length;\\n               if (childCount > 0) {\\n                   for (var i = 0; i < childCount; i++) {\\n                       var child = node.childNodes[i];\\n                       var checkBox = child.getUI().checkbox;\\n                       child.data.checked = isChecked;\\n                       checkBox.checked = isChecked;\\n                       checkBox.indeterminate = false;\\n                       SetChildNodeChecked(child);\\n                   }\\n               }\\n           }\\n           //设置节点父节点选中状态\\n           function SetParentNodeCheckState(node) {             \\n               var parentNode = node.parentNode;\\n               if (parentNode != null) {\\n                   var checkBox = parentNode.getUI().checkbox;\\n                   var isAllChildChecked = true;\\n                   var someChecked = false;\\n                   var childCount = parentNode.childNodes.length;\\n                   for (var i = 0; i < childCount; i++) {\\n                       var child = parentNode.childNodes[i];\\n                       if (child.data.checked) {\\n                           someChecked = true;\\n                       }\\n                       else if (child.getUI().checkbox.indeterminate == true && child.getUI().checkbox.checked == false) {\\n                           someChecked = true;\\n                           isAllChildChecked = false;\\n                           break;\\n                       }\\n                       else {\\n                           isAllChildChecked = false;\\n                       }\\n                   }\\n                    \\n                   if (isAllChildChecked && someChecked) {\\n                       parentNode.data.checked = true;\\n                       if (checkBox != null) {\\n                           checkBox.indeterminate = false;\\n                           checkBox.checked = true;\\n                       }\\n                   }\\n                   else if (someChecked) {\\n                       parentNode.data.checked = false;\\n                       if (checkBox != null) {\\n                           checkBox.indeterminate = true;\\n                           checkBox.checked = false;\\n                       }\\n                   }\\n                   else {\\n                       parentNode.data.checked = false;\\n                       if (checkBox != null) {\\n                           checkBox.indeterminate = false;\\n                           checkBox.checked = false;\\n                       }\\n                   }\\n   \\n                  SetParentNodeCheckState(parentNode);\\n               }\\n           }\",\"initialize\":\"var sourceRootNodeId;\\n\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WCTC3Q4FQ1 (insertRole)\",\"id\":\"insertRole\",\"failure\":\"Ext.Msg.alert('提示','保存失败!');\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\nExt.getCmp('type').setValue('_modified');\\nExt.Msg.alert('提示','保存成功!');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WCTC3Q4FQO (updateRole)\",\"id\":\"updateRole\",\"failure\":\"Ext.Msg.alert('提示','保存失败!');\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\nExt.Msg.alert('提示','保存成功!');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WEKGND73H5 (deleteRole)\",\"id\":\"deleteRole\",\"failure\":\"Ext.Msg.alert('提示','删除失败!');\",\"success\":\"Ext.Msg.alert('提示','删除成功!');\\nroleStore.load();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WEL27UOYZN (insertMenu)\",\"id\":\"insertMenu\",\"failure\":\"Ext.Msg.alert('提示','保存失败!');\\n\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\nvar operateType = resultJson.operateType;\\n\\nif(operateType=='_after'){\\n  var n = Wb.getSelNode(menuGroupTree).parentNode;\\n  \\n  var nodeOrder = n.lastChild.previousSibling ? n.lastChild.previousSibling.get('IDX') : 0;\\n  \\n  nodeOrder = nodeOrder + 1;\\n  \\n  n.expand();\\n\\n  n.appendChild({text:resultJson.menuName, ID:resultJson.rightMenuId, parent_id:resultJson.upId, NODE_TYPE:'M', NODE_ORDER:nodeOrder, checked:false, children:[]});\\n  n.commit();\\n}else if(operateType=='_append'){\\n  var n = Wb.getSelNode(menuGroupTree);\\n  n.expand();\\n  \\n  var nodeOrder = 0;\\n  \\n  if(n.lastChild){\\n    if(n.lastChild.previousSibling){\\n      if(n.lastChild.previousSibling.get('IDX')){\\n        nodeOrder = n.lastChild.previousSibling.get('IDX');\\n      } \\n    } \\n  }\\n  \\n  nodeOrder = nodeOrder + 1;\\n  \\n  n.appendChild({text:resultJson.menuName, ID:resultJson.rightMenuId, parent_id:resultJson.upId, NODE_TYPE:'M', NODE_ORDER:nodeOrder, checked:false, children:[]});\\n  n.commit();\\n}\\n\\nExt.Msg.alert('提示','保存成功!');\\nrightClickWin.hide();\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WEL27UOYZP (updateMenu)\",\"id\":\"updateMenu\",\"failure\":\"Ext.Msg.alert('提示','保存失败!');\",\"success\":\"Ext.Msg.alert('提示','保存成功!');\\nvar temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\nvar n = Wb.getSelNode(menuGroupTree);\\n\\nn.set('NAME',resultJson.menuName);\\nn.set('text',resultJson.menuName);\\nn.commit();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WEL27UOZ3H (deleteFuns)\",\"id\":\"deleteFuns\",\"failure\":\"Ext.Msg.alert('提示','删除失败!');\",\"success\":\"var selectLength = menuGroupTree.getChecked().length;\\n/*for(var i=0; i<selectLength; i++){\\n  var n = menuGroupTree.getChecked()[i];\\n  if(n.data.NODE_TYPE == 'F'){\\n    var pNode = n.parentNode;\\n    if(pNode){\\n      pNode.removeChild(n);\\n      pNode.commit();\\n    }\\n  }\\n}*/\\n\\nfor(var i=selectLength-1; i>=0; i--){\\n  var n = menuGroupTree.getChecked()[i];\\n  if(n.data.NODE_TYPE == 'F'){\\n    var pNode = n.parentNode;\\n    if(pNode){\\n      pNode.removeChild(n);\\n      pNode.commit();\\n    }\\n  }\\n}\\n\\nExt.Msg.alert('提示','删除成功!');\\nmenuFunctionStore.load();\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"roleStore\",\"autoLoad\":\"true\",\"url\":\"#23WCFT07IZK5 (getRoles)\",\"output\":\"roleCodeName\"},{\"xwlMeta\":\"store\",\"id\":\"singleRoleStore\",\"url\":\"#23WCTC3Q4FP6 (getRoleById)\",\"load\":\"if(singleRoleStore.getAt(0)) {\\n  var record = singleRoleStore.getAt(0);\\n  roleForm.loadRecord(record);\\n  \\n  var enableFlag = record.get('ENABLE_FLAG');\\n  \\n  if(enableFlag=='Y'){\\n    Ext.getCmp('ENABLE_FLAG').setValue(true);\\n  }else if(enableFlag=='N'){\\n    Ext.getCmp('ENABLE_FLAG').setValue(false);\\n  }\\n  \\n  menuGroupStore.load({params:{menuGroupId:Ext.getCmp('MNU_GROUP_ID').getValue()}});\\n  menuFunctionStore.getProxy().extraParams.menuGroupId = Ext.getCmp('MNU_GROUP_ID').getValue();\\n  menuFunctionStore.load();\\n  //menuFunctionStore.load({params:{menuGroupId:Ext.getCmp('MNU_GROUP_ID').getValue()}});\\n}\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#23WCFT07J466 (getMenuFunctionsTree)\",\"id\":\"menuFunctionStore\",\"beforeload\":\"operation.params.parentID=operation.node.get('ID');\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#23WD1G549AX0 (getMenuGroupTree)\",\"id\":\"menuGroupStore\",\"load\":\"menuGroupTree.getRootNode().expand();\",\"beforeload\":\"operation.params.parentID=operation.node.get('ID');\"},{\"xwlMeta\":\"store\",\"id\":\"getRoleByCodeStore\"},{\"xwlMeta\":\"store\",\"id\":\"roleComboxStore\",\"url\":\"#23WEKSCAZD0U (getRolesCombox)\"},{\"xwlMeta\":\"store\",\"id\":\"syncRoleStore\",\"autoLoad\":\"false\",\"url\":\"#23X8M3R27ZTH (getSyncRole)\",\"output\":\"sourceRoleId,syncRoleName\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"roleGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"column1\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"col_role_id\",\"text\":\"角色id\",\"width\":\"120\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_CODE\",\"id\":\"col_role_code\",\"text\":\"角色编码\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"col_role_name\",\"text\":\"角色名称\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"col_role_desc\",\"text\":\"描述\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"col_role_enable\",\"renderer\":\"if(value=='Y'){\\n  return '是';\\n}else if(value=='N'){\\n  return \\\"<font color='red'>否<\\/font>\\\";\\n}else{\\n  return '';\\n}\",\"text\":\"是否启用\",\"align\":\"center\",\"width\":\"60\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MNU_GROUP_ID\",\"id\":\"col_group_id\",\"text\":\"编码id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"syncRoleGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"rowNum\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"ROLE_ID_syncRoleGrid\",\"text\":\"id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_CODE\",\"id\":\"ROLE_CODE_syncRoleGrid\",\"text\":\"角色编码\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"ROLE_NAME_syncRoleGrid\",\"text\":\"角色名称\",\"width\":\"150\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"tbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"roleGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"btn_add\",\"text\":\"新增\",\"click\":\"//roleForm.getForm().reset();\\n//Wb.reset(fieldSet2);\\n\\nExt.getCmp('type').setValue('');\\nExt.getCmp('ROLE_ID').setValue('');\\nExt.getCmp('MNU_GROUP_ID').setValue('');\\nExt.getCmp('ROLE_CODE').setValue('');\\nExt.getCmp('DESCRIPTION').setValue('');\\nExt.getCmp('ROLE_NAME').setValue('');\\nExt.getCmp('ENABLE_FLAG').setValue(true);\\n\\nroleWin.setTitle('新增');\\nroleWin.show();\\nExt.getCmp('type').setValue('_added');\\nExt.getCmp('ROLE_ID').setValue(Wb.getUuid());\\nExt.getCmp('MNU_GROUP_ID').setValue(Wb.getUuid());\\n\\nmenuGroupStore.load({params:{menuGroupId:'-1'}});\\n\\nmenuFunctionStore.load();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"btn_edit\",\"text\":\"修改\",\"click\":\"var rows = roleGrid.getSelectionModel().getSelection();\\nif(rows.length==0 || rows.length>1){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  roleWin.setTitle('编辑');\\n  roleWin.show();\\n  Ext.getCmp('type').setValue('_modified');\\n  //menuFunctionStore.load();\\n  \\n  var id = rows[0].data.ROLE_ID;\\n  singleRoleStore.load({params:{roleId:id}});\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"btn_del\",\"text\":\"删除\",\"click\":\"var rows = roleGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  Ext.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n    if(a=='yes'){\\n      var id = rows[0].data.MNU_GROUP_ID;\\n      var roleId = rows[0].data.ROLE_ID;\\n      deleteRole.request({roleId:roleId,menuGroupId:id});\\n    }\\n  }); \\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"button\",\"iconCls\":\"copy_icon\",\"id\":\"btn_copy\",\"text\":\"复制\",\"click\":\"copyRoleWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\"},{\"xwlMeta\":\"button\",\"iconCls\":\"ajax_icon\",\"id\":\"btn_sync\",\"text\":\"同步\",\"click\":\"var rows = roleGrid.getSelectionModel().getSelection();\\nif(rows.length==0 || rows.length>1){\\n  Ext.Msg.alert('提示','请选择来源角色!');\\n}else{\\n  var id = rows[0].data.ROLE_ID;\\n  \\n  Ext.getCmp('sourceRoleId').setValue(id);\\n  \\n  syncRoleStore.load();\\n  \\n  syncWin.setTitle(' 来源角色<font style=\\\"color:red\\\">【'+rows[0].data.ROLE_NAME+'】<\\/font>,请选择将要被同步的角色');\\n  \\n  syncWin.show();\\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem6\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"syncRoleGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem7\"},{\"xwlMeta\":\"text\",\"fieldStyle\":\"角色名称\",\"id\":\"syncRoleName\",\"labelWidth\":\"40\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tsyncRoleStore.load();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem8\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btn_query_syncgrid\",\"text\":\"查询\",\"click\":\"syncRoleStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem9\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btn_reset_syncgrid\",\"text\":\"重置\",\"click\":\"syncRoleName.setValue('');\\nsyncRoleStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem10\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"roleWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btn_confirm_rolewin\",\"text\":\"保存\",\"click\":\"if(roleForm.getForm().isValid()==false){\\n  Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n  return;\\n}\\nvar operatorType = Ext.getCmp('type').getValue();\\n\\nvar saveJson = {\\n  roleId : Ext.getCmp('ROLE_ID').getValue(),\\n  roleCode : Ext.getCmp('ROLE_CODE').getValue(),\\n  roleName : Ext.getCmp('ROLE_NAME').getValue(),\\n  description : Ext.getCmp('DESCRIPTION').getValue(),\\n  enableFlag : Ext.getCmp('ENABLE_FLAG').getValue()==true?'Y':'N',\\n  menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue()\\n};\\n\\nif(operatorType == '_added'){\\n  insertRole.request(saveJson); \\n}else if(operatorType == '_modified'){\\n  updateRole.request(saveJson);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btn_cancel_rolewin\",\"text\":\"关闭\",\"click\":\"roleWin.hide();\\nroleStore.load();\"}]},{\"xwlMeta\":\"array\",\"id\":\"copyWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_confirm_copywin\",\"text\":\"确定\",\"click\":\"if(copyRoleForm.getForm().isValid()==false){\\n  Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n  return;\\n}\\n\\nvar isExistFlag = false;\\nExt.Ajax.request({\\n  url : 'main?xwl=23WEKSCAZCZX',\\n  method: 'POST',\\n  async: false, //发送同步请求\\n  params:{roleCode:Ext.getCmp('copyRoleCode').getValue()},\\n  success: function(response,options){\\n    var json = Ext.JSON.decode(response.responseText);\\n    isExistFlag = json.total;\\n  },\\n  failure: function(response,options){\\n    Ext.Msg.hide();\\n    alert('发送请求失败，服务器没有响应');\\n  }\\n});\\n\\nif(isExistFlag != 0){\\n  Ext.Msg.alert('提示','角色编码已存在!');\\n  return;\\n}\\n\\nvar saveJson = {\\n  newRoleCode : Ext.getCmp('copyRoleCode').getValue(),\\n  newRoleName : Ext.getCmp('copyRoleName').getValue(),\\n  newRoleDesc : Ext.getCmp('copyRoleDesc').getValue(),\\n  newRoleEnable : Ext.getCmp('copyRoleEnableFlag').getValue()==true?'Y':'N',\\n  menuGroupId : Ext.getCmp('roleCombox').getValue()\\n};\\n\\nExt.Msg.wait('正在复制,请稍后...');\\nExt.Ajax.request({\\n  url : '{#contextPath#}' +'/menuGroupEgisAction.do?method=copyMenuGroup',\\n  params:saveJson,\\n  method: 'POST',\\n  success: function(response,options){\\n    Ext.Msg.hide();\\n    var temp = response.responseText;\\n    var obj = Ext.JSON.decode(temp);\\n\\n    copyRoleWin.hide();\\n    Ext.Msg.alert('提示','复制成功!');\\n    \\n    roleStore.load();\\n  },\\n  failure: function(response,options){\\n    Ext.Msg.alert('错误','失败，服务器没有响应');\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"id\":\"btn_cancel_copywin\",\"text\":\"取消\",\"click\":\"copyRoleWin.hide();\\nroleStore.load();\"}]},{\"xwlMeta\":\"array\",\"id\":\"rightClickWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_confirm_rightcilckwin\",\"text\":\"确定\",\"click\":\"if(rightClickForm.getForm().isValid()==false){\\n  Ext.Msg.alert('提示','菜单信息不完整，请确认!');\\n  return;\\n}\\n\\nvar operateType = Ext.getCmp('type').getValue();\\n\\nif(operateType=='_added'){\\n  var isExistFlag = false;\\n  Ext.Ajax.request({\\n    url : 'main?xwl=23WEKSCAZCZX',\\n    method: 'POST',\\n    async: false, //发送同步请求\\n    params:{roleCode:Ext.getCmp('ROLE_CODE').getValue()},\\n    success: function(response,options){\\n      var json = Ext.JSON.decode(response.responseText);\\n      isExistFlag = json.total;\\n    },\\n    failure: function(response,options){\\n      //Ext.Msg.hide();\\n      Ext.Msg.alert('','发送请求失败，服务器没有响应');\\n    }\\n  });\\n\\n  if(isExistFlag != 0){\\n    Ext.Msg.alert('提示','角色编码已存在!');\\n    return false;\\n  }\\n\\n  var saveJson = {\\n    roleId : Ext.getCmp('ROLE_ID').getValue(),\\n    roleCode : Ext.getCmp('ROLE_CODE').getValue(),\\n    roleName : Ext.getCmp('ROLE_NAME').getValue(),\\n    description : Ext.getCmp('DESCRIPTION').getValue(),\\n    enableFlag : Ext.getCmp('ENABLE_FLAG').getValue()==true?'Y':'N',\\n    menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue()\\n  };\\n  \\n  //alert(saveJson.menuGroupId);return;\\n\\n  Ext.Ajax.request({\\n    url : 'main?xwl=23WCTC3Q4FQ1',\\n    method: 'POST',\\n    params:saveJson,\\n    async: false, //发送同步请求\\n    success: function(response,options){\\n      //var json = Ext.JSON.decode(response.responseText);\\n      //isExistFlag = json.total;\\n      Ext.getCmp('type').setValue('_modified');\\n      \\n      var operatorType = Ext.getCmp('rightType').getValue();\\n\\n      if(operatorType == '_after'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuCode : Ext.getCmp('rightMenuCode').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_after'\\n        };\\n        insertMenu.request(saveJson); \\n      }else if(operatorType == '_append'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuCode : Ext.getCmp('rightMenuCode').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_append'\\n        };\\n        insertMenu.request(saveJson);\\n      }else if(operatorType == '_reName'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          operateType :'_reName'\\n        };\\n        updateMenu.request(saveJson);\\n      }\\n      \\n    },\\n    failure: function(response,options){\\n      //Ext.Msg.hide();\\n      Ext.Msg.alert('','保存角色是失败：发送请求失败，服务器没有响应');\\n    }\\n  });\\n\\n  //insertRole.request(saveJson); \\n}else if(operateType=='_modified'){\\n  if(roleForm.getForm().isDirty()==true){\\n    var isExistFlag = false;\\n    Ext.Ajax.request({\\n      url : 'main?xwl=23WHNI4GU0LC',\\n      method: 'POST',\\n      async: false, //发送同步请求\\n      params:{roleCode:Ext.getCmp('ROLE_CODE').getValue(),roleId:Ext.getCmp('ROLE_ID').getValue()},\\n      success: function(response,options){\\n        var json = Ext.JSON.decode(response.responseText);\\n        isExistFlag = json.total;\\n      },\\n      failure: function(response,options){\\n        //Ext.Msg.hide();\\n        Ext.Msg.alert('','发送请求失败，服务器没有响应');\\n      }\\n    });\\n\\n    if(isExistFlag != 0){\\n      Ext.Msg.alert('提示','角色编码已存在!');\\n      return false;\\n    }\\n\\n    var saveJson = {\\n      roleId : Ext.getCmp('ROLE_ID').getValue(),\\n      roleCode : Ext.getCmp('ROLE_CODE').getValue(),\\n      roleName : Ext.getCmp('ROLE_NAME').getValue(),\\n      description : Ext.getCmp('DESCRIPTION').getValue(),\\n      enableFlag : Ext.getCmp('ENABLE_FLAG').getValue()==true?'Y':'N',\\n      menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue()\\n    };\\n\\n    Ext.Ajax.request({\\n      url : 'main?xwl=23WCTC3Q4FQO',\\n      method: 'POST',\\n      params:saveJson,\\n      async: false, //发送同步请求\\n      success: function(response,options){\\n        //var json = Ext.JSON.decode(response.responseText);\\n        //isExistFlag = json.total;\\n        \\n      var operatorType = Ext.getCmp('rightType').getValue();\\n\\n      if(operatorType == '_after'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuCode : Ext.getCmp('rightMenuCode').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_after'\\n        };\\n        insertMenu.request(saveJson); \\n      }else if(operatorType == '_append'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuCode : Ext.getCmp('rightMenuCode').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_append'\\n        };\\n        insertMenu.request(saveJson);\\n      }else if(operatorType == '_reName'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          operateType :'_reName'\\n        };\\n        updateMenu.request(saveJson);\\n      }\\n        \\n      },\\n      failure: function(response,options){\\n        //Ext.Msg.hide();\\n        Ext.Msg.alert('','保存角色是失败：发送请求失败，服务器没有响应');\\n      }\\n    });\\n\\n    //updateRole.request(saveJson);\\n  }else{\\n  \\n      var operatorType = Ext.getCmp('rightType').getValue();\\n\\n      if(operatorType == '_after'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuCode : Ext.getCmp('rightMenuCode').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_after'\\n        };\\n        insertMenu.request(saveJson); \\n      }else if(operatorType == '_append'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuCode : Ext.getCmp('rightMenuCode').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_append'\\n        };\\n        insertMenu.request(saveJson);\\n      }else if(operatorType == '_reName'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          operateType :'_reName'\\n        };\\n        updateMenu.request(saveJson);\\n      }\\n  \\n  }\\n}\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btn_cancel_rightcilckwin\",\"text\":\"取消\",\"click\":\"rightClickWin.hide();\"}]},{\"xwlMeta\":\"array\",\"id\":\"syncWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_confirm_syncWin\",\"text\":\"同步\",\"click\":\"var rows = syncRoleGrid.getSelectionModel().getSelection();\\n\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择同步的角色!');\\n  return;\\n}\\n\\nvar roleIds = \\\"\\\";\\nvar roleName = \\\"\\\";\\n\\nfor(var i=0; i<rows.length; i++){\\n  roleIds = roleIds + rows[i].get('ROLE_ID');\\n  if(i != rows.length-1){\\n    roleIds = roleIds + ',';\\n  }\\n  \\n  roleName = roleName + rows[i].get('ROLE_NAME');\\n  if(i != rows.length-1){\\n    roleName = roleName + ',';\\n  }\\n}\\n\\n\\nvar confirmMsg = '同步时，被同步的角色的菜单组信息将会被重置，确定对角色【'+roleName+'】进行同步吗?';\\n\\nExt.Msg.confirm('提示',confirmMsg,function(a){\\n  if(a=='yes'){\\n    \\n    Ext.Msg.wait('正在同步,请稍后...');\\n    Ext.Ajax.request({\\n      url : '{#contextPath#}' +'/menuGroupEgisAction.do?method=syncRole',\\n      params:{sourceRole:sourceRoleId.getValue(),syncRole:roleIds},\\n      method: 'POST',\\n      success: function(response,options){\\n        Ext.Msg.hide();\\n        var temp = response.responseText;\\n        var obj = Ext.JSON.decode(temp);\\n\\n        syncWin.hide();\\n        roleStore.load();\\n        \\n        Ext.Msg.alert('提示',obj.msg);\\n      },\\n      failure: function(response,options){\\n        var temp = response.responseText;\\n        var obj = Ext.JSON.decode(temp);\\n        Ext.Msg.alert('错误','同步失败,'+obj.msg);\\n      }\\n    });\\n    \\n  }\\n}); \"},{\"xwlMeta\":\"button\",\"id\":\"btn_cancel_syncWin\",\"text\":\"取消\",\"click\":\"syncWin.hide();\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"roleWin\",\"height\":\"550\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"650\",\"buttons\":\"roleWinBtns\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"clickOK\":\"if(roleForm.getForm().isValid()==false){\\n  Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n  return;\\n}\\nvar operatorType = Ext.getCmp('type').getValue();\\n\\nvar saveJson = {\\n  roleId : Ext.getCmp('ROLE_ID').getValue(),\\n  roleCode : Ext.getCmp('ROLE_CODE').getValue(),\\n  roleName : Ext.getCmp('ROLE_NAME').getValue(),\\n  description : Ext.getCmp('DESCRIPTION').getValue(),\\n  enableFlag : Ext.getCmp('ENABLE_FLAG').getValue()==true?'Y':'N',\\n  menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue()\\n};\\n\\nif(operatorType == '_added'){\\n  insertRole.request(saveJson); \\n}else if(operatorType == '_modified'){\\n  updateRole.request(saveJson);\\n}\",\"resize\":\"fieldSet3.setHeight(roleForm.getHeight() - fieldSet2.getHeight() - 20);\\nmenuFunctionTree.setHeight(roleForm.getHeight() - fieldSet2.getHeight() - 110);\\nmenuGroupTree.setHeight(roleForm.getHeight() - fieldSet2.getHeight() - 110);\\nfieldSet3.doLayout();\",\"hide\":\"roleStore.load();\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"center\",\"id\":\"roleForm\",\"height\":\"'100%'\",\"style\":\"border-width:0px\",\"layout\":\"anchor\",\"frame\":\"true\",\"afterrender\":\"roleForm.getForm().trackResetOnLoad = true;\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"type\",\"tagProperties\":\"anchor:'100%'\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"ROLE_ID\",\"tagProperties\":\"anchor:'100%'\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"MNU_GROUP_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet2\",\"title\":\"角色信息\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%,40%'\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>角色编码\",\"id\":\"ROLE_CODE\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"描　　述\",\"id\":\"DESCRIPTION\",\"width\":\"280\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel2\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>角色名称\",\"id\":\"ROLE_NAME\",\"allowBlank\":\"false\",\"width\":\"280\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"width\":\"280\",\"fieldLabel\":\"启用状态\",\"id\":\"ENABLE_FLAG\",\"labelAlign\":\"right\",\"checked\":\"true\"}]}]},{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet3\",\"title\":\"菜单组信息\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%,60%'\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"padding\":\"0px 0px 15px 0px\",\"id\":\"panel9\",\"layout\":\"fit\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"width\":\"560\",\"id\":\"label1\",\"html\":\"<font color='red'>从左边拖动文件夹(菜单)或功能到右边进行角色功能菜单的维护，鼠标右键单击右边的功能树或其他的节点进行功能操作，拖动右边的文件夹（菜单）或功能可以改变上下级和顺序.<\\/font>\"}]},{\"xwlMeta\":\"panel\",\"id\":\"panel3\",\"height\":\"'100%'\",\"layout\":\"fit\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"center\",\"animate\":\"false\",\"store\":\"menuFunctionStore\",\"root\":\"{id:'rootNode',text:'功能菜单',expanded:true}\",\"id\":\"menuFunctionTree\",\"height\":\"280\",\"width\":\"300\",\"rootVisible\":\"false\",\"viewConfig\":\"{\\n  plugins : {\\n    pluginId: 'ddPlug',\\n    ptype: 'treeviewdragdrop'\\n  },\\n  listeners : {\\n    beforedrop: function(node,data,overModel,dropPosition,dropFunction,options){\\n      return false;\\n    },\\n    drop: function(node,data,overModel,dropPosition,options){\\n      return false;\\n    }\\n  }\\n}\"}]},{\"xwlMeta\":\"panel\",\"id\":\"sepPanel\",\"width\":\"20\"},{\"xwlMeta\":\"panel\",\"id\":\"panel4\",\"height\":\"'100%'\",\"layout\":\"fit\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"center\",\"animate\":\"false\",\"store\":\"menuGroupStore\",\"root\":\"{id:'groupRootNode',text:'菜单组',expanded:true}\",\"id\":\"menuGroupTree\",\"height\":\"280\",\"width\":\"300\",\"viewConfig\":\"{\\n  plugins : {\\n    pluginId: 'ddPlug1',\\n    ptype: 'treeviewdragdrop'\\n  },\\n  listeners : {\\n    beforedrop: function(node,data,overModel,dropPosition,dropFunction,options){\\n      //判断角色是否是新增的角色 如果是则先进行保存\\n        var operateType = Ext.getCmp('type').getValue();\\n        \\n        if(!roleForm.getForm().isValid()){\\n          Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n          return false;\\n        }\\n        \\n        if(operateType=='_added'){\\n          var isExistFlag = false;\\n          Ext.Ajax.request({\\n            url : 'main?xwl=23WEKSCAZCZX',\\n            method: 'POST',\\n            async: false, //发送同步请求\\n            params:{roleCode:Ext.getCmp('ROLE_CODE').getValue()},\\n            success: function(response,options){\\n              var json = Ext.JSON.decode(response.responseText);\\n              isExistFlag = json.total;\\n            },\\n            failure: function(response,options){\\n              //Ext.Msg.hide();\\n              Ext.Msg.alert('','发送请求失败，服务器没有响应');\\n            }\\n          });\\n\\n          if(isExistFlag != 0){\\n            Ext.Msg.alert('提示','角色编码已存在!');\\n            return false;\\n          }\\n          \\n          var saveJson = {\\n            roleId : Ext.getCmp('ROLE_ID').getValue(),\\n            roleCode : Ext.getCmp('ROLE_CODE').getValue(),\\n            roleName : Ext.getCmp('ROLE_NAME').getValue(),\\n            description : Ext.getCmp('DESCRIPTION').getValue(),\\n            enableFlag : Ext.getCmp('ENABLE_FLAG').getValue()==true?'Y':'N',\\n            menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue()\\n          };\\n          \\n          Ext.Ajax.request({\\n            url : 'main?xwl=23WCTC3Q4FQ1',\\n            method: 'POST',\\n            params:saveJson,\\n            success: function(response,options){\\n              //var json = Ext.JSON.decode(response.responseText);\\n              //isExistFlag = json.total;\\n              Ext.getCmp('type').setValue('_modified');\\n            },\\n            failure: function(response,options){\\n              //Ext.Msg.hide();\\n              Ext.Msg.alert('','保存角色是失败：发送请求失败，服务器没有响应');\\n            }\\n          });\\n          \\n          //insertRole.request(saveJson); \\n        }else if(operateType=='_modified'){\\n          if(roleForm.getForm().isDirty()==true){\\n            var isExistFlag = false;\\n            Ext.Ajax.request({\\n              url : 'main?xwl=23WHNI4GU0LC',\\n              method: 'POST',\\n              async: false, //发送同步请求\\n              params:{roleCode:Ext.getCmp('ROLE_CODE').getValue(),roleId:Ext.getCmp('ROLE_ID').getValue()},\\n              success: function(response,options){\\n                var json = Ext.JSON.decode(response.responseText);\\n                isExistFlag = json.total;\\n              },\\n              failure: function(response,options){\\n                //Ext.Msg.hide();\\n                Ext.Msg.alert('','发送请求失败，服务器没有响应');\\n              }\\n            });\\n\\n            if(isExistFlag != 0){\\n              Ext.Msg.alert('提示','角色编码已存在!');\\n              return false;\\n            }\\n          \\n            var saveJson = {\\n              roleId : Ext.getCmp('ROLE_ID').getValue(),\\n              roleCode : Ext.getCmp('ROLE_CODE').getValue(),\\n              roleName : Ext.getCmp('ROLE_NAME').getValue(),\\n              description : Ext.getCmp('DESCRIPTION').getValue(),\\n              enableFlag : Ext.getCmp('ENABLE_FLAG').getValue()==true?'Y':'N',\\n              menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue()\\n            };\\n            \\n            Ext.Ajax.request({\\n              url : 'main?xwl=23WCTC3Q4FQO',\\n              method: 'POST',\\n              params:saveJson,\\n              success: function(response,options){\\n                //var json = Ext.JSON.decode(response.responseText);\\n                //isExistFlag = json.total;\\n              },\\n              failure: function(response,options){\\n                //Ext.Msg.hide();\\n                Ext.Msg.alert('','保存角色是失败：发送请求失败，服务器没有响应');\\n              }\\n            });\\n          \\n            //updateRole.request(saveJson);\\n          } \\n        }\\n    \\n    \\n      //Wb.saveNodePos(Wb.getNode(data.item));\\n      \\n      //判断拖拽来的节点的来源\\n      var pNode = data.records[0].parentNode;\\n      while(true){\\n        if(pNode.parentNode!=null){\\n          pNode = pNode.parentNode;\\n        }else{\\n          sourceRootNodeId = pNode.data.id;\\n          break;\\n        }\\n      }\\n      \\n      return true;\\n    },\\n    drop: function(node,data,overModel,dropPosition,options){\\n      Wb.mask(menuGroupTree);\\n      \\n      overModel.expand(false,function(){\\n        Wb.unmask(menuGroupTree);\\n        \\n        var parentId = ''; \\n        var srcId = data.records[0].get('ID');\\n        var menuGroupId = Ext.getCmp('MNU_GROUP_ID').getValue();\\n        var orderIndex = '';\\n        var overModelId = '';\\n\\n        if(overModel.get('id')=='groupRootNode'){\\n           parentId = '-1';\\n           orderIndex = data.records[0].previousSibling ? data.records[0].previousSibling.get('IDX')+1 : 0;\\n        }else{\\n          if(dropPosition=='append'){//overModel\\n            parentId = overModel.get('ID');\\n            orderIndex = data.records[0].previousSibling ? data.records[0].previousSibling.get('IDX')+1 : 0;\\n          }else{//before或者after:添加到overModel节点前或者后\\n            if(overModel.parentNode.get('id')=='groupRootNode'){\\n              parentId = '-1';\\n            }else{\\n              parentId = overModel.parentNode.get('ID');\\n            }\\n            if(dropPosition=='before'){\\n              orderIndex = overModel.get(\\\"IDX\\\");\\n            }else if(dropPosition=='after'){\\n              orderIndex = overModel.get(\\\"IDX\\\")+1;\\n            }\\n          }\\n        }\\n\\n        //判断角色是否是新增的角色 如果是则先进行保存\\n        var operateType = Ext.getCmp('type').getValue();\\n        /*if(operateType=='_added'){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n\\n          var isExistFlag = false;\\n          Ext.Ajax.request({\\n            url : 'main?xwl=23WEKSCAZCZX',\\n            method: 'POST',\\n            async: false, //发送同步请求\\n            params:{roleCode:Ext.getCmp('ROLE_CODE').getValue()},\\n            success: function(response,options){\\n              var json = Ext.JSON.decode(response.responseText);\\n              isExistFlag = json.total;\\n            },\\n            failure: function(response,options){\\n              Ext.Msg.hide();\\n              Ext.Msg.alert('','发送请求失败，服务器没有响应');\\n            }\\n          });\\n\\n          if(isExistFlag != 0){\\n            Ext.Msg.alert('提示','角色编码已存在!');\\n            return;\\n          }\\n        }*/\\n\\n        var parentId = ''; \\n        var srcId = data.records[0].get('ID');\\n        var menuGroupId = Ext.getCmp('MNU_GROUP_ID').getValue();\\n        var index = '';\\n\\n        if(overModel.get('id')=='groupRootNode'){\\n           parentId = '-1';\\n        }else{\\n          if(dropPosition=='append'){//overModel\\n            parentId = overModel.get('ID');\\n          }else{//before或者after:添加到overModel节点前或者后\\n            if(overModel.parentNode.get('id')=='groupRootNode'){\\n              parentId = '-1';\\n            }else{\\n              parentId = overModel.parentNode.get('ID');\\n            }\\n          }\\n        }\\n\\n        if(sourceRootNodeId=='rootNode'){//来源为左面的树\\n          Ext.Ajax.request({\\n            url : '{#contextPath#}' +'/menuGroupEgisAction.do?method=saveMenuGroup',\\n            params:{\\n              parentId:parentId,\\n              srcId:srcId,\\n              menuGroupId:menuGroupId,\\n              dropPosition:dropPosition,\\n              orderIndex:orderIndex\\n            },\\n            method: 'POST',\\n            success: function(response,options){\\n              //var temp = response.responseText;\\n              //var obj = Ext.JSON.decode(temp);\\n\\n              menuGroupStore.load({params:{menuGroupId:Ext.getCmp('MNU_GROUP_ID').getValue()}});\\n              /*if(dropPosition=='append'){\\n                menuGroupStore.load({\\n                  node:overModel\\n                });\\n              }else{\\n                menuGroupStore.load({\\n                  node:overModel.parentNode\\n                });\\n              }*/\\n\\n            },\\n            failure: function(response,options){\\n              Ext.Msg.alert('错误','失败，服务器没有响应!');\\n            }\\n          }); \\n        }else if(sourceRootNodeId=='groupRootNode'){//来源于本课树\\n          Ext.Ajax.request({\\n            url : 'main?xwl=23WEL27UOZ9N',\\n            params:{\\n              upId:parentId,\\n              menuId:srcId,\\n              orderIndex:orderIndex\\n            },\\n            method: 'POST',\\n            success: function(response,options){\\n              //var temp = response.responseText;\\n              //var obj = Ext.JSON.decode(temp);\\n\\n              data.records[0].set('parent_id',parentId);\\n              data.records[0].set('IDX',orderIndex);\\n              data.records[0].commit();\\n\\n              overModel.eachChild(function(x) {\\n                var i = x.get('IDX');\\n                if (i >= orderIndex) {\\n                  x.set('IDX', i + 1);\\n                  x.commit();\\n                }\\n              });\\n            },\\n            failure: function(response,options){\\n              Ext.Msg.alert('错误','失败，服务器没有响应!!');\\n            }\\n          }); \\n        }\\n        \\n      });\\n      \\n    }\\n  }\\n}\",\"checkchange\":\"node.cascadeBy(function(n){\\n    n.set('checked', checked); \\n});\\n    checkParent(node);\\nfunction checkParent(node){\\n  node = node.parentNode;\\n  if(!node) return;\\n  var checkP=false;\\n  node.cascadeBy(function (n)\\n  {\\n  if (n != node) {\\n  if (n.get('checked') == true) {\\n  checkP = true;\\n  }\\n  }\\n  });\\n  node.set('checked', checkP);\\n  checkParent(node);\\n}\\n\",\"itemcontextmenu\":\"event.preventDefault();\\nevent.stopEvent();\\n\\nvar id = record.get('id');\\nvar nodeType = record.get('NODE_TYPE');\\nvar parentId = record.get('parent_id');\\nvar nodeId = record.get('ID');\\nvar nodemenu;\\n\\nif(id == 'groupRootNode'){//跟节点\\n  nodemenu = new Ext.menu.Menu({\\n    items:[\\n      {text: '新增下级菜单',handler:function(){\\n        \\n        if(!roleForm.getForm().isValid()){\\n          Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n          return false;\\n        }\\n        \\n        //rightMenuCode.show();\\n        //rightClickWin.setHeight(125);\\n        \\n        Wb.getSelNode(menuGroupTree).expand();\\n        rightClickWin.show();\\n        Ext.getCmp('rightType').setValue('_append');\\n        Ext.getCmp('rightUpId').setValue(-1);\\n        Ext.getCmp('rightMenuId').setValue(Wb.getUuid());\\n        Ext.getCmp('rightMenuCode').setValue('addMenu'+new Date().getTime());\\n      }}\\n    ]\\n  });\\n}else{\\n  if(nodeType == 'M'){//菜单\\n    nodemenu = new Ext.menu.Menu({\\n      items:[\\n        {text: '新增同级菜单',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          \\n          //rightMenuCode.show();\\n          //rightClickWin.setHeight(125);\\n          \\n          rightClickWin.show();\\n          Ext.getCmp('rightType').setValue('_after');\\n          Ext.getCmp('rightUpId').setValue(parentId);   \\n          Ext.getCmp('rightMenuId').setValue(Wb.getUuid());\\n          Ext.getCmp('rightMenuCode').setValue('addMenu'+new Date().getTime());\\n        }},\\n        {text: '新增下级菜单',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          \\n          //rightMenuCode.show();\\n          //rightClickWin.setHeight(125);\\n          \\n          Wb.getSelNode(menuGroupTree).expand();\\n          rightClickWin.show();\\n          Ext.getCmp('rightType').setValue('_append');\\n          Ext.getCmp('rightUpId').setValue(nodeId);   \\n          Ext.getCmp('rightMenuId').setValue(Wb.getUuid());\\n          Ext.getCmp('rightMenuCode').setValue('addMenu'+new Date().getTime());\\n        }},\\n        {text: '重命名',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          \\n          //rightMenuCode.hide();\\n          //rightClickWin.setHeight(100);\\n          \\n          rightClickWin.show();\\n          Ext.getCmp('rightType').setValue('_reName');\\n          Ext.getCmp('rightUpId').setValue(parentId);   \\n          Ext.getCmp('rightMenuId').setValue(nodeId); \\n        }},\\n        {text: '删除菜单',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          Ext.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n            if(a=='yes'){\\n              Ext.Ajax.request({\\n                url : '{#contextPath#}' +'/menuGroupEgisAction.do?method=deleteMenuFuncById',\\n                params:{\\n                  menuFuncId:nodeId\\n                },\\n                method: 'POST',\\n                success: function(response,options){\\n                  //var temp = response.responseText;\\n                  //var obj = Ext.JSON.decode(temp);\\n                  \\n                  var n = Wb.getSelNode(menuGroupTree);\\n\\n                  var nParentNode = n.parentNode;\\n\\n                  nParentNode.removeChild(n);\\n\\n                  nParentNode.commit();\\n\\n\\t\\t\\t\\t  Ext.Msg.alert('提示','删除成功!');\\n                  \\n                  menuFunctionStore.load();\\n                },\\n                failure: function(response,options){\\n                  Ext.Msg.alert('错误','失败，服务器没有响应');\\n                }\\n              });\\n            }\\n          });\\n        }}\\n      ]\\n    });\\n  }else if(nodeType == 'F'){//功能\\n    nodemenu = new Ext.menu.Menu({\\n      items:[\\n        {text: '删除功能',handler:function(){\\n          if(!roleForm.getForm().isValid()){\\n            Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n            return false;\\n          }\\n          var selectLength = menuGroupTree.getChecked().length;\\n          if(selectLength==0){\\n            Ext.Msg.alert('提示','请选择删除的功能');\\n            return;\\n          }\\n          Ext.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n            if(a=='yes'){\\n              //删除功能\\n              var delIds = \\\"\\\";\\n              \\n              for(var i=0; i<selectLength; i++){\\n                var n = menuGroupTree.getChecked()[i];\\n                if(n.data.NODE_TYPE == 'F'){\\n                  var id = \\\"'\\\" + n.data.ID + \\\"'\\\";\\n                  if(delIds==''){\\n                    delIds = id;\\n                  }else{\\n                    delIds = delIds + ',' + id;    \\n                  }\\n                }\\n              }\\n              \\n              deleteFuns.request({delIds:delIds});\\n            }\\n          });\\n        }}\\n      ]\\n    });\\n  }\\n}\\nnodemenu.showAt(event.getPoint());\"}]}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"copyRoleWin\",\"title\":\"角色复制\",\"height\":\"220\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"330\",\"buttons\":\"copyWinBtns\",\"buttonAlign\":\"center\",\"clickOK\":\"if(copyRoleForm.getForm().isValid()==false){\\n  Ext.Msg.alert('提示','角色信息不完整，请确认!');\\n  return;\\n}\\n\\nvar isExistFlag = false;\\nExt.Ajax.request({\\n  url : 'main?xwl=23WEKSCAZCZX',\\n  method: 'POST',\\n  async: false, //发送同步请求\\n  params:{roleCode:Ext.getCmp('copyRoleCode').getValue()},\\n  success: function(response,options){\\n    var json = Ext.JSON.decode(response.responseText);\\n    isExistFlag = json.total;\\n  },\\n  failure: function(response,options){\\n    Ext.Msg.hide();\\n    alert('发送请求失败，服务器没有响应');\\n  }\\n});\\n\\nif(isExistFlag != 0){\\n  Ext.Msg.alert('提示','角色编码已存在!');\\n  return;\\n}\\n\\nvar saveJson = {\\n  newRoleCode : Ext.getCmp('copyRoleCode').getValue(),\\n  newRoleName : Ext.getCmp('copyRoleName').getValue(),\\n  newRoleDesc : Ext.getCmp('copyRoleDesc').getValue(),\\n  newRoleEnable : Ext.getCmp('copyRoleEnableFlag').getValue()==true?'Y':'N',\\n  menuGroupId : Ext.getCmp('roleCombox').getValue()\\n};\\n\\nExt.Msg.wait('正在复制,请稍后...');\\nExt.Ajax.request({\\n  url : '{#contextPath#}' +'/menuGroupEgisAction.do?method=copyMenuGroup',\\n  params:saveJson,\\n  method: 'POST',\\n  success: function(response,options){\\n    Ext.Msg.hide();\\n    var temp = response.responseText;\\n    var obj = Ext.JSON.decode(temp);\\n\\n    copyRoleWin.hide();\\n    Ext.Msg.alert('提示','复制成功!');\\n    \\n    roleStore.load();\\n  },\\n  failure: function(response,options){\\n    Ext.Msg.alert('错误','失败，服务器没有响应');\\n  }\\n});\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"copyRoleForm\",\"layout\":\"form\",\"bodyStyle\":\"padding: 10px 10px 0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"roleComboxStore\",\"valueField\":\"MNU_GROUP_ID\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font style=\\\"color:red\\\">*<\\/font>来源角色\",\"id\":\"roleCombox\",\"displayField\":\"ROLE_NAME\",\"labelWidth\":\"80\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font style=\\\"color:red\\\">*<\\/font>新角色编码\",\"id\":\"copyRoleCode\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"blankText\":\"请输入角色编码\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font style=\\\"color:red\\\">*<\\/font>新角色名称\",\"id\":\"copyRoleName\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"新角色描述\",\"id\":\"copyRoleDesc\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"labelWidth\":\"80\",\"fieldLabel\":\"启用状态\",\"id\":\"copyRoleEnableFlag\",\"labelAlign\":\"right\",\"checked\":\"true\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"rightClickWin\",\"height\":\"100\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"380\",\"buttons\":\"rightClickWinBtns\",\"buttonAlign\":\"center\",\"clickOK\":\"if(rightClickForm.getForm().isValid()==false){\\n  Ext.Msg.alert('提示','功能信息不完整，请确认!');\\n  return;\\n}\\n\\nvar operateType = Ext.getCmp('type').getValue();\\n\\nif(operateType=='_added'){\\n  var isExistFlag = false;\\n  Ext.Ajax.request({\\n    url : 'main?xwl=23WEKSCAZCZX',\\n    method: 'POST',\\n    async: false, //发送同步请求\\n    params:{roleCode:Ext.getCmp('ROLE_CODE').getValue()},\\n    success: function(response,options){\\n      var json = Ext.JSON.decode(response.responseText);\\n      isExistFlag = json.total;\\n    },\\n    failure: function(response,options){\\n      //Ext.Msg.hide();\\n      Ext.Msg.alert('','发送请求失败，服务器没有响应');\\n    }\\n  });\\n\\n  if(isExistFlag != 0){\\n    Ext.Msg.alert('提示','角色编码已存在!');\\n    return false;\\n  }\\n\\n  var saveJson = {\\n    roleId : Ext.getCmp('ROLE_ID').getValue(),\\n    roleCode : Ext.getCmp('ROLE_CODE').getValue(),\\n    roleName : Ext.getCmp('ROLE_NAME').getValue(),\\n    description : Ext.getCmp('DESCRIPTION').getValue(),\\n    enableFlag : Ext.getCmp('ENABLE_FLAG').getValue()==true?'Y':'N',\\n    menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue()\\n  };\\n  \\n  //alert(saveJson.menuGroupId);return;\\n\\n  Ext.Ajax.request({\\n    url : 'main?xwl=23WCTC3Q4FQ1',\\n    method: 'POST',\\n    params:saveJson,\\n    async: false, //发送同步请求\\n    success: function(response,options){\\n      //var json = Ext.JSON.decode(response.responseText);\\n      //isExistFlag = json.total;\\n      Ext.getCmp('type').setValue('_modified');\\n      \\n      var operatorType = Ext.getCmp('rightType').getValue();\\n\\n      if(operatorType == '_after'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_after'\\n        };\\n        insertMenu.request(saveJson); \\n      }else if(operatorType == '_append'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_append'\\n        };\\n        insertMenu.request(saveJson);\\n      }else if(operatorType == '_reName'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          operateType :'_reName'\\n        };\\n        updateMenu.request(saveJson);\\n      }\\n      \\n    },\\n    failure: function(response,options){\\n      //Ext.Msg.hide();\\n      Ext.Msg.alert('','保存角色是失败：发送请求失败，服务器没有响应');\\n    }\\n  });\\n\\n  //insertRole.request(saveJson); \\n}else if(operateType=='_modified'){\\n  if(roleForm.getForm().isDirty()==true){\\n    var isExistFlag = false;\\n    Ext.Ajax.request({\\n      url : 'main?xwl=23WHNI4GU0LC',\\n      method: 'POST',\\n      async: false, //发送同步请求\\n      params:{roleCode:Ext.getCmp('ROLE_CODE').getValue(),roleId:Ext.getCmp('ROLE_ID').getValue()},\\n      success: function(response,options){\\n        var json = Ext.JSON.decode(response.responseText);\\n        isExistFlag = json.total;\\n      },\\n      failure: function(response,options){\\n        //Ext.Msg.hide();\\n        Ext.Msg.alert('','发送请求失败，服务器没有响应');\\n      }\\n    });\\n\\n    if(isExistFlag != 0){\\n      Ext.Msg.alert('提示','角色编码已存在!');\\n      return false;\\n    }\\n\\n    var saveJson = {\\n      roleId : Ext.getCmp('ROLE_ID').getValue(),\\n      roleCode : Ext.getCmp('ROLE_CODE').getValue(),\\n      roleName : Ext.getCmp('ROLE_NAME').getValue(),\\n      description : Ext.getCmp('DESCRIPTION').getValue(),\\n      enableFlag : Ext.getCmp('ENABLE_FLAG').getValue()==true?'Y':'N',\\n      menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue()\\n    };\\n\\n    Ext.Ajax.request({\\n      url : 'main?xwl=23WCTC3Q4FQO',\\n      method: 'POST',\\n      params:saveJson,\\n      async: false, //发送同步请求\\n      success: function(response,options){\\n        //var json = Ext.JSON.decode(response.responseText);\\n        //isExistFlag = json.total;\\n        \\n      var operatorType = Ext.getCmp('rightType').getValue();\\n\\n      if(operatorType == '_after'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_after'\\n        };\\n        insertMenu.request(saveJson); \\n      }else if(operatorType == '_append'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_append'\\n        };\\n        insertMenu.request(saveJson);\\n      }else if(operatorType == '_reName'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          operateType :'_reName'\\n        };\\n        updateMenu.request(saveJson);\\n      }\\n        \\n      },\\n      failure: function(response,options){\\n        //Ext.Msg.hide();\\n        Ext.Msg.alert('','保存角色是失败：发送请求失败，服务器没有响应');\\n      }\\n    });\\n\\n    //updateRole.request(saveJson);\\n  }else{\\n  \\n      var operatorType = Ext.getCmp('rightType').getValue();\\n\\n      if(operatorType == '_after'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_after'\\n        };\\n        insertMenu.request(saveJson); \\n      }else if(operatorType == '_append'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuGroupId : Ext.getCmp('MNU_GROUP_ID').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          upId : Ext.getCmp('rightUpId').getValue(),\\n          operateType :'_append'\\n        };\\n        insertMenu.request(saveJson);\\n      }else if(operatorType == '_reName'){\\n        var saveJson = {\\n          menuId : Ext.getCmp('rightMenuId').getValue(),\\n          menuName : Ext.getCmp('rightMenuName').getValue(),\\n          operateType :'_reName'\\n        };\\n        updateMenu.request(saveJson);\\n      }\\n  \\n  }\\n}\\n\\n\\n\\n\\n\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"rightClickForm\",\"layout\":\"form\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"rightType\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"rightUpId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"rightMenuId\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"菜单编码\",\"id\":\"rightMenuCode\",\"labelWidth\":\"60\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"菜单名称\",\"id\":\"rightMenuName\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"syncWin\",\"title\":\"角色同步\",\"height\":\"500\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"460\",\"buttons\":\"syncWinBtns\",\"buttonAlign\":\"righ\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"sourceRoleId\",\"hidden\":\"true\"},{\"xwlMeta\":\"grid\",\"store\":\"syncRoleStore\",\"columns\":\"syncRoleGridColumns\",\"exportExcel\":\"false\",\"id\":\"syncRoleGrid\",\"tbar\":\"syncRoleGridToolbar\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"layout\":\"fit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色编码/名称\",\"id\":\"roleCodeName\",\"labelWidth\":\"100\",\"width\":\"250\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\troleStore.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"roleStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"queryForm.getForm().reset();\\nroleStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"roleStore\",\"columns\":\"roleGridColumns\",\"region\":\"center\",\"id\":\"roleGrid\",\"tbar\":\"roleGridToolbar\",\"multiSelect\":\"false\",\"autoLoad\":\"false\",\"simpleSelect\":\"false\",\"itemdblclick\":\"btn_edit.fireEvent('click');\"}]}]}","角色管理",null,0,0,"admin","2015-03-03 10:32:54.0","admin","2015-10-23 13:24:20.0",1],["23WCFT07IZK4","23WCFT07IZJC",null,"data",null,1,0,"admin","2015-03-03 10:38:30.0","admin","2015-06-05 14:07:24.0",2],["23WCFT07IZK5","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"getRoles\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select *\\n  from xip_pub_role t\\n where t.ROLE_CODE like '%{#roleCodeName#}%'\\n    or t.ROLE_NAME like '%{#roleCodeName#}%'\\n order by t.CREATION_DATE desc\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getRoles",null,0,0,"admin","2015-03-03 10:38:40.0","admin","2015-03-03 13:28:47.0",1],["23WCFT07J466","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"getMenuFunctions\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id id, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type node_type,\\n\\t   t.node_order idx,\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where (t.up_id = {?parentID?} or ({?parentID?} is null and nvl(t.up_id,'-1') = '-1'))\\n   and t.enable_flag = 'Y'\\n   and not exists (\\n     select * from xip_pub_mnu_tree mt where mt.fun_tree_id = t.fun_tree_id and mt.mnu_group_id = {?menuGroupId?} and mt.NODE_TYPE = 'F'\\n   )\\n order by t.node_order asc\",\"mysql\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id ID, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type NODE_TYPE,\\n\\t   t.node_order IDX,\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where (t.up_id = {?parentID?} or (({?parentID?} is null or {?parentID?}='' ) and ifnull(t.up_id,'-1') = '-1'))\\n   and t.enable_flag = 'Y'\\n   and not exists (\\n     select * from xip_pub_mnu_tree mt where mt.fun_tree_id = t.fun_tree_id and mt.MNU_GROUP_ID = {?menuGroupId?} and mt.NODE_TYPE = 'F'\\n   )\\n order by t.node_order asc\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\",\"type\":\"tree\"}],\"loginRequired\":\"false\"}","getMenuFunctionsTree",null,0,0,"admin","2015-03-03 14:11:37.0","admin","2015-06-10 17:47:56.0",5],["23WCQ6TFGS73","23WBI6MXCU2D","{\"id\":\"module\",\"title\":\"del\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"del\",\"sql\":\"DELETE FROM XIP_PUB_WS_SQL  WHERE SQL_ID IN ({#ids#})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","del",null,0,0,"admin","2015-03-05 11:10:21.0","admin","2015-05-08 09:40:57.0",6],["23WCQ6TFGWZ5","23WBI6MXCU2D","{\"id\":\"module\",\"title\":\"insert\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(*) as \\\"CT\\\" from XIP_PUB_WS_SQL where sqlkey = {?SQLKEY?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"关键码'{#SQLKEY#}'已存在\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"insertSql\",\"sql\":\"insert into XIP_PUB_WS_SQL(\\n  sql_id,\\n  sqlkey,\\n  sql_type,\\n  sql_str,\\n  datas_format, \\n  app_id,\\n  creation_date,\\n  created_by,\\n  LAST_UPDATED_BY,\\n  LAST_UPDATE_DATE\\n) values (\\n  {?SQL_ID?},\\n  {?SQLKEY?},\\n  {?SQL_TYPE?},\\n  {?SQL_STR?},\\n  {?DATAS_FORMAT?},\\n  {?APP_ID?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?}\\n)\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{IS_SAVE_NEXT:'{#IS_SAVE_NEXT#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","insert",null,0,0,"admin","2015-03-05 16:01:09.0","admin","2015-06-23 10:07:12.0",3],["23WCQ6TFGWZ9","23WBI6MXCU2D","{\"id\":\"module\",\"title\":\"update\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(*) as \\\"CT\\\" from XIP_PUB_WS_SQL where sqlkey = {?SQLKEY?} and SQL_ID <> {?SQL_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"关键码'{#SQLKEY#}'已存在\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"updateSql\",\"sql\":\"update XIP_PUB_WS_SQL\\n   set sqlkey            = {?SQLKEY?},\\n       sql_type          = {?SQL_TYPE?},\\n       sql_str           = {?SQL_STR?},\\n       datas_format      = {?DATAS_FORMAT?},\\n       app_id            = {?APP_ID?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?}     \\n where SQL_ID = {?SQL_ID?}\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{IS_SAVE_NEXT:'{#IS_SAVE_NEXT#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","update",null,0,0,"admin","2015-03-05 16:01:23.0","admin","2015-06-23 10:06:34.0",4],["23WCQ6TFH0YM","23WBI6MXCU2D","{\"id\":\"module\",\"title\":\"attCatListByCode\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT * FROM XIP_PUB_WS_SQL\\n\\t\\t\\tWHERE sqlkey = '{#sqlkey#}'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","queybysqlkey",null,0,0,"admin","2015-03-06 10:51:13.0","admin","2015-03-18 15:06:54.0",9],["23WCQ6TFHGHU","23VVZ3QMOKQA",null,"定时任务管理",null,0,0,"admin","2015-03-09 10:07:24.0","admin","2015-03-09 10:07:24.0",15],["23WCQ6TFHGIB","23WCQ6TFHGHU","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"定时任务管理\",\"jsFiles\":\"[\\\"pub/uip/common/extendjs/RowExpander.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var contextPath = request.getContextPath();\\n\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\",\"initialize\":\"/*var defaultTextBgImg = '{#contextPath#}' + '/webbuilder/controls/ext/resources/themes/images/default/form/text-bg.gif';\\n\\n//设置组件是否可读并设置背景色\\nfunction setReadonly(comId, flag){\\n  if(flag){\\n    Ext.getCmp(comId).setReadOnly(true);\\n    Ext.getCmp(comId).setFieldStyle('background-color:#DDD;background-image:none');\\n  }else{\\n    Ext.getCmp(comId).setReadOnly(false);\\n    Ext.getCmp(comId).setFieldStyle('background-color:#FFF;background-image:\\\"\\\";background:url(\\\"'+defaultTextBgImg+'\\\") repeat-x scroll 0px 0px rgb(255, 255, 255)');\\n    //Ext.getCmp(comId).setFieldStyle('background-color:#FFF;background-image:url(\\\"../../resources/themes/images/default/form/text-bg.gif\\\");background-repeat:repeat-x');\\n  }\\n}*/\\n\\n//重置组件成默认样式\\nfunction reInitEditWinForm(){\\n  setReadonly('PROGRAM_NAME', false);\\n  setReadonly('RUN_TYPE', false);\\n  setReadonly('START_DATE', false);\\n  setReadonly('END_DATE', false);\\n  setReadonly('RUN_INTERVAL', false);\\n  setReadonly('INTERVAL_UNIT', false);\\n  setReadonly('NEXT_DATE', false);\\n}\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WCQ6TFHQI1 (updategrid1)\",\"id\":\"updateajax\",\"output\":\"window1\",\"success\":\"\\n \"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X4DT3U5ILI (insertparameter)\",\"id\":\"insertgrid2\",\"failure\":\"Wb.error('保存失败');\",\"success\":\"Wb.load(store1);Wb.message('保存成功!');\\nstore2.getProxy().url='main?xwl=23WCQ6TFHWNC';\\nWb.load(store2,{RUN_CONFIG_ID : Wb.get('RUN_CONFIG_ID').getValue()});\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WVH95LXUIZ (updateparameter)\",\"id\":\"updategrid2\",\"failure\":\"Wb.error('保存失败');\",\"success\":\"Wb.load(store1);\\nWb.message('保存成功!');\\nWb.load(store2,{RUN_CONFIG_ID : Wb.get('RUN_CONFIG_ID').getValue()});\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WCQ6TFHQHS (insertgrid1)\",\"id\":\"insertajax\",\"output\":\"window1\",\"success\":\"\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WCQ6TFHQI9 (deletegrid1)\",\"id\":\"deleteajax\",\"output\":\"grid1\",\"failure\":\"Wb.message('删除失败！');\",\"success\":\"Wb.message('删除成功！');\\nWb.remove(grid1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WCQ6TFHQLD (获取uuid)\",\"id\":\"initajax\",\"success\":\"var r = Ext.decode(response.responseText);\\n\\nWb.get('RUN_CONFIG_ID').setValue(r.returnUuid);\\nWb.get('STATUS').setValue('N');\\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"querystore\",\"pageSize\":\"-1\",\"url\":\"#23WCQ6TFHJDQ (findname)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#23WCQ6TFHJ9U (selectgrid1)\",\"output\":\"form1\"},{\"xwlMeta\":\"store\",\"id\":\"store2\",\"url\":\"#23WCQ6TFHWNC (selectgrid2)\",\"output\":\"window1\"},{\"xwlMeta\":\"store\",\"id\":\"store3\",\"url\":\"#23WCQ6TFHT9L (selectgrid3)\",\"output\":\"window2\"},{\"xwlMeta\":\"store\",\"id\":\"queryname\",\"pageSize\":\"-1\",\"url\":\"#23WCQ6TFHJDQ (findname)\",\"showMask\":\"false\",\"load\":\"//menu1.showBy(PROGRAM_NAME);\\n//PROGRAM_NAME.focus(false,true);\"},{\"xwlMeta\":\"store\",\"id\":\"queryzjid\",\"grid\":\"ZjGrid\",\"url\":\"#23WVH95LXM3Y (FindZJID)\",\"output\":\"window3\",\"showMask\":\"false\",\"load\":\"//menu1.showBy(zj_ed);\\n//zj_ed.focus(false,true);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"edtors\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"pValue\",\"focus\":\"var record=grid2.getSelectionModel().getSelection();\\n\\nvar val_set_id=record[0].get('VAL_SET_ID');\\nvar val_set_code=record[0].get('VAL_SET_CODE');\\nvar val_sql=record[0].get('SQL_STR');\\n//alert(val_set_id);\\n//alert(SQL_STR);\\nif(val_set_id===null&&val_sql===null||val_set_id===null&&val_sql===''){\\n  return;\\n}\\nif(val_set_id===undefined && val_sql===undefined){\\n  return;\\n}\\nvar _sql ;\\nif(val_set_id !== null && val_set_id !== '' && val_set_id !== undefined) {\\n\\n  _sql =  'select val_code VCODE,val_name VNAME from xip_pub_val_set_dtl  where val_set_code='+\\\"'\\\"+val_set_code+\\\"'\\\";\\n   \\n}\\nif(val_sql !== null && val_sql !== '' && val_sql !== undefined) {\\n  _sql = val_sql ;\\n}\\n\\n //Wb.load(valAppStore,{val_set_code:val_set_code});\\n\\n  Wb.load(queryzjid,{valSql:_sql});\\n  window3.show();\"}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"btnadd\",\"text\":\"新增\",\"click\":\"Wb.edit(window1);\\n//initajax.request();\\nwindow1.setTitle('新增定时任务');\\nvar PROGRAM_ID = findcombo.getValue();\\n\\nWb.get('PROGRAM_ID').setValue(PROGRAM_ID);\\n\\nWb.get('STATUS').setValue('N');\\n\\n// Ext.getCmp('PROGRAM_NAME').setDisabled(false);\\n// Ext.getCmp('RUN_TYPE').setDisabled(false);\\n// Ext.getCmp('START_DATE').setDisabled(false);\\n// Ext.getCmp('END_DATE').setDisabled(false);\\n// Ext.getCmp('RUN_INTERVAL').setDisabled(false);\\n// Ext.getCmp('INTERVAL_UNIT').setDisabled(false);\\n// Ext.getCmp('NEXT_DATE').setDisabled(false);\\n// Ext.getCmp('STATUS').setDisabled(false);\\n\\n//Ext.getCmp('tr_3_1').setDisabled(false),\\n//Ext.getCmp('tr_4_1').setDisabled(false),\\n//Ext.getCmp('tr_5_1').setDisabled(false),\\n//Wb.get('PROGRAM_ID').setValue(PROGRAM_NAME);\\n\\nreInitEditWinForm();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem11\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"btnedit\",\"text\":\"修改\",\"click\":\"Wb.edit(grid1,window1,RUN_CONFIG_ID);\\nstore2.getProxy().url='main?xwl=23WCQ6TFHWNC';\\nWb.load(store2,{RUN_CONFIG_ID : Wb.get('RUN_CONFIG_ID').getValue()});\\nwindow1.setTitle('编辑定时任务');\\n\\nvar _status = STATUS.getValue();\\n\\n//新增和等待状态的可以修改，其它状态不可以\\nif(_status=='N' || _status=='W'){\\n  if(RUN_TYPE.getValue()=='P'){\\n    setReadonly('END_DATE',false);\\n    setReadonly('RUN_INTERVAL',false);\\n    setReadonly('NEXT_DATE',false);\\n  }else{\\n    setReadonly('END_DATE',true);\\n    setReadonly('RUN_INTERVAL',true);\\n    setReadonly('NEXT_DATE',true);\\n  }\\n}else{\\n  setReadonly('END_DATE',true);\\n  setReadonly('RUN_INTERVAL',true);\\n  setReadonly('NEXT_DATE',true);\\n  \\n}\\n\\nsetReadonly('PROGRAM_NAME',true);\\nsetReadonly('RUN_TYPE',true);\\nsetReadonly('START_DATE',true);\\nsetReadonly('INTERVAL_UNIT',true);\\n\\n\\n\\n/**Ext.getCmp('PROGRAM_NAME').setDisabled(true);\\nExt.getCmp('RUN_TYPE').setDisabled(true);\\nExt.getCmp('START_DATE').setDisabled(true);\\nExt.getCmp('END_DATE').setDisabled(true);\\nExt.getCmp('RUN_INTERVAL').setDisabled(true);\\nExt.getCmp('INTERVAL_UNIT').setDisabled(true);\\nExt.getCmp('NEXT_DATE').setDisabled(true);\\nExt.getCmp('STATUS').setDisabled(true);**/\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem12\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"btndelete\",\"text\":\"删除\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择一行!');\\n  return false ;\\n}\\nrecode =rows[0];\\nvar status = recode.get('STATUS');\\n\\nif(status === 'R'){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"运行状态的任务不可删除\\\") ;\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的信息吗？',function(a){\\n    if(a=='yes'){\\n      deleteajax.request({RUN_CONFIG_ID:recode.get('RUN_CONFIG_ID')});\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem13\"},{\"xwlMeta\":\"button\",\"iconCls\":\"item_icon\",\"id\":\"btncheck\",\"text\":\"查看任务明细\",\"click\":\"Wb.edit(grid1,window2,RUN_CONFIG_ID);\\nWb.load(store3,{RUN_CONFIG_ID : Wb.get('RUN_CONFIG_ID').getValue()});\\nwindow2.setTitle('任务明细');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem14\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar2\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem15\"},{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btnsave1\",\"text\":\"保存\",\"click\":\"var _PROGRAM_NAME = PROGRAM_NAME.getValue();\\nif(_PROGRAM_NAME === null || _PROGRAM_NAME === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序名称\\\") ;\\n  return false ;\\n}\\nvar _RUN_TYPE = RUN_TYPE.getValue();\\nif(_RUN_TYPE === null || _RUN_TYPE === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入运行类型\\\") ;\\n  return false ;\\n}\\nvar _STATUS = STATUS.getValue();\\nif(_STATUS === null || _STATUS === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入状态\\\") ;\\n  return false ;\\n}\\nvar a=Ext.getCmp('START_DATE').getValue();\\nvar b=Ext.getCmp('END_DATE').getValue();\\n\\nif(a>b){\\n  Wb.message('结束时间不能早于开始时间！');\\n  return;\\n}\\nvar  runid = Ext.getCmp('RUN_CONFIG_ID').getValue();\\n\\nvar json = {\\n  programId:Ext.getCmp('PROGRAM_ID').getValue(),\\n  runType:Ext.getCmp('RUN_TYPE').getValue(),\\n  startDate:Ext.getCmp('START_DATE').getValue(),\\n  endDate:Ext.getCmp('END_DATE').getValue(),\\n  runInterval:Ext.getCmp('RUN_INTERVAL').getValue(),\\n  intervalUnit:Ext.getCmp('INTERVAL_UNIT').getValue(),\\n  nextDate:Ext.getCmp('NEXT_DATE').getValue(),\\n  status:Ext.getCmp('STATUS').getValue()\\n};\\n\\nalert(runid==='');\\n\\nif(runid===''){//新增\\n  json.runid = Wb.getUuid();\\n\\n  Ext.getCmp('RUN_CONFIG_ID').setValue(json.runid);\\n  Ext.Ajax.request({\\n    url : 'main?xwl=23WCQ6TFHQHS',\\n    method: 'POST',\\n    async: false, //发送同步请求\\n    params:{ RUN_CONFIG_ID: Wb.getUuid(),\\n            PROGRAM_ID:Ext.getCmp('PROGRAM_ID').getValue(),\\n            RUN_TYPE:Ext.getCmp('RUN_TYPE').getValue(),\\n            START_DATE:Ext.getCmp('START_DATE').getValue(),\\n            END_DATE:Ext.getCmp('END_DATE').getValue(),\\n            RUN_INTERVAL:Ext.getCmp('RUN_INTERVAL').getValue(),\\n            INTERVAL_UNIT:Ext.getCmp('INTERVAL_UNIT').getValue(),\\n            NEXT_DATE:Ext.getCmp('NEXT_DATE').getValue(),\\n            STATUS:Ext.getCmp('STATUS').getValue()},\\n    success: function(response,options){\\n      //   var c=store2.getModifiedRecords().length;\\n      var rows=store2.getModifiedRecords();\\n      var insertArray=[];\\n      Ext.each(rows,function(item){\\n        var _record = item.getData();\\n        // _record.DEPT_ID = _deptId;\\n        //_record.POST_ID = _postId;\\n        //json={PARAM_VAL:_record.get('PARAM_VAL'),RUN_PARAM_ID:_record.get('RUN_PARAM_ID')};\\n        _record.RUN_CONFIG_ID = RUN_CONFIG_ID.getValue();\\n        _record.RUN_PARAM_ID = Wb.getUuid();\\n        insertArray.push(_record); \\n      });\\n      \\n      insertgrid2.params.updateArray=Ext.JSON.encode(insertArray);\\n      insertgrid2.request();\\n    },\\n    failure: function(response,options){\\n      Ext.Msg.hide();\\n      alert('发送请求失败，服务器没有响应');\\n    }\\n  });\\n  //insertajax.request(json);\\n}else{//更新\\n  json.runid = runid;\\n  updateajax.request(json);\\n  var rows=store2.getModifiedRecords();\\n  var updateArray=[];\\n\\n  Ext.each(rows,function(item){\\n    var _record = item.getData();\\n    // _record.DEPT_ID = _deptId;\\n    //_record.POST_ID = _postId;\\n    //json={PARAM_VAL:_record.get('PARAM_VAL'),RUN_PARAM_ID:_record.get('RUN_PARAM_ID')};\\n    _record.RUN_CONFIG_ID = RUN_CONFIG_ID.getValue();\\n    updateArray.push(_record); \\n  });   \\n  \\n  updategrid2.params.updateArray=Ext.JSON.encode(updateArray);\\n  updategrid2.request();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem16\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"querycombo\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_ID\",\"id\":\"bfid\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_NAME\",\"id\":\"cxmc1\",\"text\":\"程序名称\"}]},{\"xwlMeta\":\"array\",\"id\":\"queryzhiji\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column343\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VCODE\",\"id\":\"zjbm\",\"text\":\"值编码\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VNAME\",\"id\":\"zjmc\",\"text\":\"值名称\",\"width\":\"200\"}]},{\"xwlMeta\":\"array\",\"id\":\"arrayquery\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"rownumber1\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_NAME\",\"id\":\"cxmc\",\"text\":\"程序名称\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"RUN_TYPE\",\"id\":\"yxlx\",\"renderer\":\"if(value === \\\"I\\\"){\\n  return \\\"立即执行\\\";\\n}else if(value === \\\"P\\\"){\\n  return \\\"计划执行\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"运行类型\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"START_DATE\",\"id\":\"begintime\",\"text\":\"开始时间\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"END_DATE\",\"id\":\"endtime\",\"text\":\"结束时间\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"RUN_INTERVAL\",\"id\":\"yxjg\",\"text\":\"运行间隔\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NEXT_DATE\",\"id\":\"nexttime\",\"text\":\"下次运行时间\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"INTERVAL_UNIT\",\"id\":\"jgdw\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"年\\\";\\n}else if(value === \\\"M\\\"){\\n  return \\\"月\\\";\\n}else if(value === \\\"D\\\"){\\n  return \\\"日\\\";\\n}else if(value === \\\"H\\\"){\\n  return \\\"时\\\";\\n}else if(value === \\\"MI\\\"){\\n  return \\\"分\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"间隔单位\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"STATUS\",\"id\":\"ztxx\",\"renderer\":\"if(value === \\\"N\\\"){\\n  return \\\"新建\\\";\\n}else if(value === \\\"C\\\"){\\n  return \\\"结束\\\";\\n}else if(value === \\\"R\\\"){\\n  return \\\"执行中\\\";\\n}else if(value === \\\"W\\\"){\\n  return \\\"等待\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"状态\",\"align\":\"center\",\"width\":\"60\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_ID\",\"id\":\"proid\",\"text\":\"PROGRAM_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"RUN_CONFIG_ID\",\"id\":\"runcid\",\"text\":\"RUN_CONFIG_ID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"mingxigrid3\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"rownumber2\",\"align\":\"center\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"START_DATE\",\"id\":\"begintime1\",\"text\":\"开始时间\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"END_DATE\",\"id\":\"endtime1\",\"text\":\"结束时间\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"STATUS\",\"id\":\"ztxx1\",\"renderer\":\"if(value === \\\"N\\\"){\\n  return \\\"新建\\\";\\n}else if(value === \\\"C\\\"){\\n  return \\\"结束\\\";\\n}else if(value === \\\"R\\\"){\\n  return \\\"执行中\\\";\\n}else if(value === \\\"W\\\"){\\n  return \\\"等待\\\";\\n}else if(value ==='0'){\\n  return '执行成功';\\n}else if(value === '1'){\\n   return '执行失败'; \\n}else{\\n  return value;\\n}\",\"text\":\"状态\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"RESULT\",\"id\":\"jg\",\"renderer\":\"return \\\"<div style='text-align:right'>\\\"+value+\\\"<\\/div>\\\";\",\"text\":\"结果\",\"align\":\"left\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"PROGRAM_ID\",\"id\":\"proid1\",\"text\":\"PROGRAM_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"RUN_CONFIG_ID\",\"id\":\"runcid1\",\"text\":\"RUN_CONFIG_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"RUN_ID\",\"id\":\"runid\",\"text\":\"运行ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"NODE_ID\",\"id\":\"nodeid\",\"text\":\"节点ID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"querygrid3\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"rownumber3\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_CODE\",\"id\":\"csbm\",\"text\":\"参数编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_NAME\",\"id\":\"csmc\",\"text\":\"参数名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE10\",\"id\":\"params_value\",\"text\":\"参数值\",\"editor\":\"pValue\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_VAL\",\"id\":\"csz\",\"text\":\"参数值\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROGRAM_TYPE\",\"id\":\"cxlx\",\"text\":\"程序类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"RUN_PARAM_ID\",\"id\":\"cszid\",\"text\":\"参数值id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"VAL_SET_ID\",\"id\":\"zjid\",\"text\":\"值集id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"VAL_SET_CODE\",\"id\":\"zjcode\",\"text\":\"值集编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"SQL_STR\",\"id\":\"sql\",\"text\":\"sql语句\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"PROGRAM_PARAM_ID\",\"id\":\"cxid\",\"text\":\"PROGRAM_PARAM_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"RUN_CONFIG_ID\",\"id\":\"runcid2\",\"text\":\"RUN_CONFIG_ID\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"menu\",\"id\":\"menu1\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"tr_1\",\"height\":\"300\",\"columnWidth\":\".5\",\"width\":\"200\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"queryname\",\"columns\":\"querycombo\",\"height\":\"200\",\"exportExcel\":\"false\",\"width\":\"200\",\"pageSizeMenu\":\"false\",\"id\":\"grid4\",\"columnLines\":\"true\",\"autoLoad\":\"false\",\"exportPrint\":\"false\",\"select\":\"PROGRAM_NAME.setValue(record.get('PROGRAM_NAME'));\\nvar id=record.get('PROGRAM_ID');\\n//alert(id);\\n//var record = grid2.getSelectionModel().getSelection();\\n//record[0].set('PROGRAM_ID',id);\\nform2.getForm().findField('PROGRAM_ID').setValue(id);//获取gird的相应列赋给表单\\n\\nmenu1.hide();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"editWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btnsave\",\"text\":\"保存\",\"click\":\"var _PROGRAM_NAME = PROGRAM_NAME.getValue();\\nif(Ext.isEmpty(_PROGRAM_NAME)){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入程序名称\\\") ;\\n  return false ;\\n}\\nvar _RUN_TYPE = RUN_TYPE.getValue();\\nif(Ext.isEmpty(_RUN_TYPE)){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入运行类型\\\") ;\\n  return false ;\\n}\\nvar _STATUS = STATUS.getValue();\\nif(_STATUS === null || _STATUS === \\\"\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入状态\\\") ;\\n  return false ;\\n}\\nvar a=Ext.getCmp('START_DATE').getValue();\\nvar b=Ext.getCmp('END_DATE').getValue();\\n//================计划执行，所有的输入项都必须填写============\\nif(_RUN_TYPE === 'P'){\\n  if(Ext.isEmpty(a) || Ext.isEmpty(b) || Ext.isEmpty(RUN_INTERVAL.getValue()) || Ext.isEmpty(INTERVAL_UNIT.getValue()) || Ext.isEmpty(NEXT_DATE.getValue())){\\n    Wb.warning('任务为计划执行时,所有选项都必须填写！');\\n    return false;\\n  }\\n  \\n}\\nif(a>b){\\n  Wb.message('结束时间不能早于开始时间！');\\n  return;\\n}\\nvar  runid = Ext.getCmp('RUN_CONFIG_ID').getValue();\\n\\n//alert(runid);\\nvar json = {\\n  programId:Ext.getCmp('PROGRAM_ID').getValue(),\\n  runType:Ext.getCmp('RUN_TYPE').getValue(),\\n  startDate:Ext.getCmp('START_DATE').getValue(),\\n  endDate:Ext.getCmp('END_DATE').getValue(),\\n  runInterval:Ext.getCmp('RUN_INTERVAL').getValue(),\\n  intervalUnit:Ext.getCmp('INTERVAL_UNIT').getValue(),\\n  nextDate:Ext.getCmp('NEXT_DATE').getValue(),\\n  status:Ext.getCmp('STATUS').getValue()\\n};\\n\\nif(runid===''){//新增\\n  json.runid = Wb.getUuid();\\n\\n  Ext.getCmp('RUN_CONFIG_ID').setValue(json.runid);\\n  Ext.Ajax.request({\\n    url : 'main?xwl=23WCQ6TFHQHS',\\n    method: 'POST',\\n    async: false, //发送同步请求\\n    params:{ RUN_CONFIG_ID: json.runid,\\n            PROGRAM_ID:Ext.getCmp('PROGRAM_ID').getValue(),\\n            RUN_TYPE:Ext.getCmp('RUN_TYPE').getValue(),\\n            START_DATE:Ext.getCmp('START_DATE').getValue(),\\n            END_DATE:Ext.getCmp('END_DATE').getValue(),\\n            RUN_INTERVAL:Ext.getCmp('RUN_INTERVAL').getValue(),\\n            INTERVAL_UNIT:Ext.getCmp('INTERVAL_UNIT').getValue(),\\n            NEXT_DATE:Ext.getCmp('NEXT_DATE').getValue(),\\n            STATUS:Ext.getCmp('STATUS').getValue()},\\n    success: function(response,options){\\n      //   var c=store2.getModifiedRecords().length;\\n      var rows=store2.getModifiedRecords();\\n      var insertArray=[];\\n      Ext.each(rows,function(item){\\n        var _record = item.getData();\\n        // _record.DEPT_ID = _deptId;\\n        //_record.POST_ID = _postId;\\n        //json={PARAM_VAL:_record.get('PARAM_VAL'),RUN_PARAM_ID:_record.get('RUN_PARAM_ID')};\\n        if(Ext.isEmpty(_record.PARAM_VAL)){\\n          _record.PARAM_VAL =_record.ATTRIBUTE10;\\n        }\\n        _record.RUN_CONFIG_ID = RUN_CONFIG_ID.getValue();\\n        _record.RUN_PARAM_ID = Wb.getUuid();\\n        insertArray.push(_record); \\n      });\\n      insertgrid2.params.insertArray=Ext.JSON.encode(insertArray);\\n      insertgrid2.request();\\n    },\\n    failure: function(response,options){\\n      Ext.Msg.hide();\\n      alert('发送请求失败，服务器没有响应');\\n    }\\n  });\\n  //insertajax.request(json);\\n}else{//更新\\n  json.runid = runid;\\n  updateajax.request(json);\\n  var rows=store2.getModifiedRecords();\\n  var updateArray=[];\\n\\n  Ext.each(rows,function(item){\\n    var _record = item.getData();\\n    var _paramVal =_record.PARAM_VAL; \\n    if(Ext.isEmpty(_paramVal)){\\n       _record.PARAM_VAL =_record.ATTRIBUTE10;\\n     }\\n    // _record.DEPT_ID = _deptId;\\n    //_record.POST_ID = _postId;\\n    //json={PARAM_VAL:_record.get('PARAM_VAL'),RUN_PARAM_ID:_record.get('RUN_PARAM_ID')};\\n    updateArray.push(_record); \\n  });   \\n  \\n  updategrid2.params.updateArray=Ext.JSON.encode(updateArray);\\n  updategrid2.request();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btnClose\",\"text\":\"关闭\",\"click\":\"window1.close();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"wins\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"height\":\"500\",\"layout\":\"fit\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"700\",\"buttons\":\"editWinBtns\",\"buttonAlign\":\"center\",\"beforeclose\":\"query1.fireEvent('click');\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"layout\":\"border\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"bodyPadding\":\"10px 20px\",\"id\":\"form2\",\"style\":\"border-width:0px\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1_1\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_2_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"queryname\",\"valueField\":\"PROGRAM_ID\",\"queryDelay\":\"160\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>程序名称\",\"id\":\"PROGRAM_NAME\",\"displayField\":\"PROGRAM_NAME\",\"labelWidth\":\"80\",\"select\":\"var id=PROGRAM_NAME.getValue();\\nform2.getForm().findField('PROGRAM_ID').setValue(id);//获取gird的相应列赋给表单\\nvar rid=RUN_CONFIG_ID.getValue();\\n\\nif(rid === null || rid === '' || rid === undefined){\\n  \\nstore2.getProxy().url='main?xwl=23WVH95LXT6L';\\nWb.load(store2,{PROGRAM_ID:id});\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"comboBox\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"pickList\":\"[['I','立即执行'],['P','计划执行']]\",\"fieldLabel\":\"<font color='red'>*<\\/font>运行类型\",\"id\":\"RUN_TYPE\",\"labelWidth\":\"80\",\"select\":\"var status = Wb.get('RUN_TYPE').getValue();\\nif(status == 'I'){\\n  setReadonly('START_DATE', true);\\n  setReadonly('END_DATE', true);\\n  setReadonly('RUN_INTERVAL', true);\\n  setReadonly('INTERVAL_UNIT', true);\\n  setReadonly('NEXT_DATE', true);\\n\\n  Wb.get('START_DATE').reset();\\n  Wb.get('END_DATE').reset();\\n  Wb.get('RUN_INTERVAL').reset();\\n  Wb.get('INTERVAL_UNIT').reset();\\n  Wb.get('NEXT_DATE').reset();\\n}\\n\\nif(status == 'P'){\\n  setReadonly('START_DATE', false);\\n  setReadonly('END_DATE', false);\\n  setReadonly('RUN_INTERVAL', false);\\n  setReadonly('INTERVAL_UNIT', false);\\n  setReadonly('NEXT_DATE', false);\\n}\\n\\n\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_3_1\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"datetime\",\"fieldLabel\":\"开始时间\",\"id\":\"START_DATE\",\"labelWidth\":\"80\",\"readOnly\":\"false\",\"labelAlign\":\"right\",\"select\":\"var start_date=START_DATE.getValue();\\n\\nNEXT_DATE.setValue(start_date);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_3_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"datetime\",\"fieldLabel\":\"结束时间\",\"id\":\"END_DATE\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_4_1\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_4_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"运行间隔\",\"id\":\"RUN_INTERVAL\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_4_11\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"comboBox\",\"labelAlign\":\"right\",\"pickList\":\"[['Y','年'],['M','月'],['D','日'],['H','时'],['MI','分']]\",\"fieldLabel\":\"间隔单位\",\"id\":\"INTERVAL_UNIT\",\"labelWidth\":\"80\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_5_1\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_3\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"datetime\",\"fieldLabel\":\"下次运行时间\",\"id\":\"NEXT_DATE\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_4\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"comboBox\",\"labelAlign\":\"right\",\"pickList\":\"[['N','新建'],['C','结束'],['R','执行中'],['W','等待']]\",\"fieldLabel\":\"状态\",\"id\":\"STATUS\",\"labelWidth\":\"80\",\"readOnly\":\"true\",\"hideTrigger\":\"true\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_6_1\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_31\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"pid\",\"id\":\"PROGRAM_ID\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_41\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"runid\",\"id\":\"RUN_CONFIG_ID\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"fieldSet\",\"region\":\"center\",\"id\":\"fieldSet2\",\"title\":\"参数明细\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store2\",\"columns\":\"querygrid3\",\"pluginType\":\"cellediting\",\"id\":\"grid2\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window2\",\"height\":\"400\",\"layout\":\"border\",\"resizable\":\"true\",\"border\":\"false\",\"width\":\"700\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store3\",\"columns\":\"mingxigrid3\",\"region\":\"center\",\"plugins\":\" [{\\n ptype: 'rowexpander',\\n rowBodyTpl : [\\n '<div style=\\\"margin-top:10px;text-align:right;\\\">执行结果:<b>{RESULT}<\\/b><div style=\\\"width:50px;text-align:left\\\">&nbsp;<\\/div><\\/div>',\\n ]\\n }]\\n\",\"id\":\"grid3\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window3\",\"height\":\"320\",\"layout\":\"fit\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"480\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"queryzjid\",\"columns\":\"queryzhiji\",\"exportExcel\":\"false\",\"pageSizeMenu\":\"false\",\"id\":\"ZjGrid\",\"exportPrint\":\"false\",\"select\":\"var name=record.get('VNAME');\\n\\nvar code=record.get('VCODE');\\n//alert(id);\\nvar record = grid2.getSelectionModel().getSelection();\\n//record[0].set('VAL_SET_ID',id);\\nrecord[0].set('PARAM_VAL',code);\\nrecord[0].set('ATTRIBUTE10',name);\\nwindow3.hide();\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form1\",\"height\":\"82\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"querystore\",\"forceSelection\":\"true\",\"valueField\":\"PROGRAM_ID\",\"width\":\"180\",\"labelAlign\":\"right\",\"fieldLabel\":\"程序名称\",\"id\":\"findcombo\",\"displayField\":\"PROGRAM_NAME\",\"labelWidth\":\"60\",\"select\":\"Wb.load(store1);\\n\",\"specialkey\":\"Wb.checkEnter(function(){Wb.load(store1);},comboBox);\"},{\"xwlMeta\":\"comboBox\",\"width\":\"180\",\"labelAlign\":\"right\",\"pickList\":\"[['I','立即执行'],['P','计划执行']]\",\"fieldLabel\":\"运行类型\",\"id\":\"yxll\",\"labelWidth\":\"60\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\t\\nWb.load(store1);\\n}\"},{\"xwlMeta\":\"comboBox\",\"width\":\"180\",\"labelAlign\":\"right\",\"pickList\":\"[['N','新建'],['C','结束'],['R','执行中'],['W','等待']]\\n\",\"fieldLabel\":\"状态\",\"id\":\"zt\",\"labelWidth\":\"40\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\t\\nWb.load(store1);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"query1\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"Wb.load(store1);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"reset1\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"form1.form.reset();\\nWb.load(store1,{PROGRAM_ID : ''});\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"arrayquery\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"itemdblclick\":\"btnedit.fireEvent('click');\"}]}]}","定时任务管理",null,0,0,"admin","2015-03-09 10:08:29.0","23XQ4UO678F0","2015-09-16 14:06:17.0",1],["23WCQ6TFHJ7P","23WCQ6TFHGHU",null,"DATA",null,1,0,"admin","2015-03-09 13:58:07.0","admin","2015-06-02 15:07:15.0",2],["23WCQ6TFHJ9U","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"selectgrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#yxll#}%\"},{\"id\":\"attribute2\",\"xwlMeta\":\"attribute\",\"value\":\"%{#zt#}%\"},{\"id\":\"attribute3\",\"xwlMeta\":\"attribute\",\"value\":\"%{#findcombo#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  t.*,\\n  (SELECT \\n    PROGRAM_NAME \\n  FROM\\n    XIP_PUB_PROGRAM m \\n  WHERE t.PROGRAM_ID = m.PROGRAM_ID) PROGRAM_NAME \\nFROM\\n  XIP_PUB_PROGRAM_RUN_CONFIG t \\nWHERE t.PROGRAM_ID LIKE {?attribute3?} \\n  AND t.RUN_TYPE LIKE {?attribute1?} \\n  AND t.STATUS LIKE {?attribute2?} \\n  AND t.PROGRAM_ID IN \\n  (SELECT \\n    p.PROGRAM_ID \\n  FROM\\n    XIP_PUB_PROGRAM p \\n  WHERE p.APP_ID IN \\n    (SELECT \\n      c.APP_ID \\n    FROM\\n      XIP_PUB_APP_SEC c \\n      LEFT JOIN XIP_PUB_APPs a \\n        ON a.APP_ID = c.APP_ID \\n    WHERE c.USER_ID = {?XIP.userId?}))\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectgrid1",null,0,0,"admin","2015-03-09 14:05:48.0","admin","2015-06-02 15:07:55.0",2],["23WCQ6TFHJDQ","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"findname\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT p.PROGRAM_ID, p.PROGRAM_CODE, p.PROGRAM_NAME\\nFROM\\n  XIP_PUB_PROGRAM p \\nWHERE p.APP_ID IN \\n  (SELECT \\n    c.APP_ID \\n  FROM\\n    XIP_PUB_APP_SEC c \\n    LEFT JOIN XIP_PUB_APPs a \\n      ON a.APP_ID = c.APP_ID \\n  WHERE c.USER_ID = {?XIP.userId?})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","findname",null,0,0,"admin","2015-03-09 14:30:19.0","admin","2015-06-02 10:27:27.0",1],["23WCQ6TFHLFW","23WO6G8BV81A",null,"DATA",null,1,0,"admin","2015-03-09 16:35:42.0","23XSWLY0BYLW","2015-08-25 10:31:03.0",2],["23WCQ6TFHLHK","23WCQ6TFHLFW","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectAll\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#form2dqyhUpper#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute2\",\"value\":\"%{#form2dlyhUpper#}%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select * from (select x.PRIVILEGE_ID,\\n                    (select xp.USER_NAME from xip_pub_users xp where x.MASTER_USER_ID=xp.USER_ID)|| '/' ||(select X1.EMP_NAME FROM XIP_PUB_EMPS X1 WHERE X1.EMP_ID=(select X2.EMP_ID FROM XIP_PUB_USERS X2 WHERE X2.USER_ID=x.MASTER_USER_ID)) as USER_NAME1,\\n                     (select u.USER_NAME from xip_pub_users u where x.PROXY_USER_ID=u.USER_ID)|| '/' ||(select e.EMP_NAME FROM XIP_PUB_EMPS e WHERE e.EMP_ID=(select u2.EMP_ID FROM XIP_PUB_USERS u2 WHERE u2.USER_ID=x.PROXY_USER_ID)) as USER_NAME2,\\n                      x.BEGIN_DATE,\\n\\t\\t              x.END_DATE,\\n                      x.ATTRIBUTE1,\\n                      x.MASTER_USER_ID,\\n                      x.PROXY_USER_ID\\n                 from xip_wf_user_holiday x) p \\nwhere p.USER_NAME1 like {?attribute1?}\\n  and p.USER_NAME2 like {?attribute2?}\\n\\n \",\"id\":\"sqlSwitcher12\",\"mysql\":\"select * from (select x.PRIVILEGE_ID,\\n                     concat((select xp.USER_NAME from xip_pub_users xp where x.MASTER_USER_ID=xp.USER_ID),'/',(select X1.EMP_NAME FROM XIP_PUB_EMPS X1 WHERE X1.EMP_ID=(select X2.EMP_ID FROM XIP_PUB_USERS X2 WHERE X2.USER_ID=x.MASTER_USER_ID))) USER_NAME1,\\n                     concat((select u.USER_NAME from xip_pub_users u where x.PROXY_USER_ID=u.USER_ID),'/',(select e.EMP_NAME FROM XIP_PUB_EMPS e WHERE e.EMP_ID=(select u2.EMP_ID FROM XIP_PUB_USERS u2 WHERE u2.USER_ID=x.PROXY_USER_ID))) USER_NAME2,\\n                      x.BEGIN_DATE,\\n\\t\\t              x.END_DATE,\\n                      x.ATTRIBUTE1,\\n                      x.MASTER_USER_ID,\\n                      x.PROXY_USER_ID\\n                 from xip_wf_user_holiday x) p \\nwhere p.USER_NAME1 like {?attribute1?}\\n  and p.USER_NAME2 like {?attribute2?}\\n\\n\\n\\n\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher12\"}]}","selectAll",null,0,0,"admin","2015-03-09 16:37:37.0","23XQ4UO678F5","2015-10-19 16:29:59.0",1],["23WCQ6TFHQHS","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"insertgrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_PROGRAM_RUN_CONFIG(\\n   RUN_CONFIG_ID,\\n   PROGRAM_ID,\\n   RUN_TYPE,\\n   START_DATE,\\n   END_DATE,\\n   RUN_INTERVAL,\\n  INTERVAL_UNIT,\\n  NEXT_DATE,STATUS,\\n  CREATED_BY,\\n  CREATION_DATE,\\n  LAST_UPDATED_BY,\\n  LAST_UPDATE_DATE)\\nvalues\\n({?RUN_CONFIG_ID?},\\n {?PROGRAM_ID?},\\n {?RUN_TYPE?},\\n {?timestamp.START_DATE?},\\n {?timestamp.END_DATE?},\\n {?RUN_INTERVAL?},\\n {?INTERVAL_UNIT?},\\n {?timestamp.NEXT_DATE?},\\n {?STATUS?},\\n {?XIP.userId?},\\n {?timestamp.sys.date?},\\n {?XIP.userId?},\\n {?timestamp.sys.date?}\\n)\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","insertgrid1",null,0,0,"admin","2015-03-10 10:49:46.0","admin","2015-06-19 15:05:58.0",3],["23WCQ6TFHQI1","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"updategrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update XIP_PUB_PROGRAM_RUN_CONFIG \\n  set PROGRAM_ID = {?PROGRAM_ID?},\\n      RUN_TYPE = {?RUN_TYPE?},\\n      START_DATE = {?timestamp.START_DATE?},\\n      END_DATE = {?timestamp.END_DATE?},\\n      RUN_INTERVAL = {?RUN_INTERVAL?},\\n      INTERVAL_UNIT = {?INTERVAL_UNIT?},\\n      NEXT_DATE = {?timestamp.NEXT_DATE?},\\n      STATUS = {?STATUS?},\\n      LAST_UPDATED_BY = {?XIP.userId?},\\n      LAST_UPDATE_DATE = {?timestamp.sys.date?}\\nWHERE RUN_CONFIG_ID = {?RUN_CONFIG_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","updategrid1",null,0,0,"admin","2015-03-10 10:50:01.0","admin","2015-06-23 09:28:27.0",4],["23WCQ6TFHQI9","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"deletegrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"deleteRunResults\",\"sql\":\"DELETE FROM xip_pub_program_run_dtl WHERE RUN_CONFIG_ID = {?RUN_CONFIG_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"deleteRunParams\",\"sql\":\"DELETE FROM xip_pub_program_run_params WHERE RUN_CONFIG_ID = {?RUN_CONFIG_ID?}\",\"xwlMeta\":\"query\"},{\"id\":\"deleteRun\",\"sql\":\"DELETE FROM XIP_PUB_PROGRAM_RUN_CONFIG WHERE RUN_CONFIG_ID = {?RUN_CONFIG_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deletegrid1",null,0,0,"admin","2015-03-10 10:50:13.0","admin","2015-06-02 15:17:25.0",5],["23WCQ6TFHQLD","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"获取uuid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"response1\",\"text\":\"{returnUuid:'{#uuid#}'}\",\"xwlMeta\":\"response\"}],\"initScript\":\"request.setAttribute(\\\"uuid\\\",java.util.UUID.randomUUID());\",\"loginRequired\":\"false\"}","获取uuid",null,0,0,"admin","2015-03-10 10:53:50.0","admin","2015-03-10 10:55:08.0",6],["23WCQ6TFHSP8","23WCQ6TFHLFW","{\"id\":\"module\",\"title\":\"selectUser\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#form3dqyh#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,USER_NAME from xip_pub_users where USER_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}]}","selectUser",null,0,0,"admin","2015-03-10 12:17:09.0","admin","2015-04-24 10:13:46.0",5],["23WCQ6TFHT9L","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"selectgrid3\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.*  from XIP_PUB_PROGRAM_RUN_DTL t where RUN_CONFIG_ID = {?RUN_CONFIG_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectgrid3",null,0,0,"admin","2015-03-10 12:39:50.0","admin","2015-03-18 17:23:20.0",8],["23WCQ6TFHUKM","23WCQ6TFHLFW","{\"id\":\"module\",\"title\":\"dqyhCombox\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select USER_ID, \\n      USER_NAME || '/' ||(SELECT X2.EMP_NAME FROM XIP_PUB_EMPS X2 WHERE  X2.EMP_ID=X1.EMP_ID) AS USER_NAME\\n    from xip_pub_users X1\",\"mysql\":\"select X1.USER_ID, \\n     concat( X1.USER_NAME,'/',X2.EMP_NAME) USER_NAME\\n   from xip_pub_users X1,XIP_PUB_EMPS X2 where X2.EMP_ID=X1.EMP_ID\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","dqyhCombox",null,0,0,"admin","2015-03-10 13:28:06.0","admin","2015-05-12 11:26:39.0",4],["23WCQ6TFHVB1","23WCQ6TFHLFW","{\"id\":\"module\",\"title\":\"insert\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_wf_user_holiday(\\n                               PRIVILEGE_ID,\\n                               MASTER_USER_ID,\\n                               PROXY_USER_ID,\\n                               BEGIN_DATE,\\n                               END_DATE,\\n                               ATTRIBUTE1,\\n                               CREATION_DATE,\\n                               CREATED_BY,\\n                               LAST_UPDATE_DATE,\\n                               LAST_UPDATED_BY \\n                              )\\nvalues(\\n'{#PRIVILEGE_ID#}',\\n  {?USER_NAME1?},\\n  {?USER_NAME2?},\\n  {?timestamp.BEGIN_DATE?},\\n  {?timestamp.END_DATE?},\\n  {?ATTRIBUTE1?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?}\\n)\",\"xwlMeta\":\"query\"}],\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"PRIVILEGE_ID\\\",NEW_UUID);\",\"loginRequired\":\"false\"}","insert",null,0,0,"admin","2015-03-10 13:48:41.0","admin","2015-06-23 10:40:44.0",6],["23WCQ6TFHVQN","23WCQ6TFHLFW","{\"id\":\"module\",\"title\":\"selectUser\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#form3dqyh#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,USER_NAME from xip_pub_users where USER_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}]}","selectUser",null,0,0,"admin","2015-03-10 14:02:54.0","admin","2015-04-24 10:21:10.0",7],["23WCQ6TFHWNC","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"selectgrid2\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select p.*,m.*,r.*,\\n(select VAL_SET_CODE from XIP_PUB_VAL_SETS t where t.VAL_SET_ID=p.VAL_SET_ID) VAL_SET_CODE\\nfrom XIP_PUB_PROGRAM_PARAMS  p ,XIP_PUB_PROGRAM  m,XIP_PUB_PROGRAM_RUN_PARAMS r where \\np.PROGRAM_PARAM_ID =r.PROGRAM_PARAM_ID and m.PROGRAM_ID = p.PROGRAM_ID and r.RUN_CONFIG_ID ={?RUN_CONFIG_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectgrid2",null,0,0,"admin","2015-03-10 14:24:00.0","admin","2015-06-24 15:12:10.0",7],["23WCQ6TFI29T","23WCQ6TFHLFW","{\"id\":\"module\",\"title\":\"update\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_wf_user_holiday \\n   set \\n     MASTER_USER_ID={?USER_NAME1?},\\n     PROXY_USER_ID={?USER_NAME2?},\\n     BEGIN_DATE={?timestamp.BEGIN_DATE?},\\n     END_DATE={?timestamp.END_DATE?},\\n     ATTRIBUTE1={?ATTRIBUTE1?},\\n     LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n     LAST_UPDATED_BY ={?XIP.userId?}\\nwhere PRIVILEGE_ID={?PRIVILEGE_ID?}\\n\\n\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","update",null,0,0,"admin","2015-03-10 16:18:06.0","admin","2015-06-23 10:39:53.0",8],["23WCQ6TFIWPD","23WCQ6TFHLFW","{\"id\":\"module\",\"title\":\"getEnableFlag\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select l.VAL_CODE, l.VAL_NAME\\n  from xip_pub_val_set_dtl l\\n where l.VAL_SET_CODE = 'YN'\\n   and l.ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}]}","getEnableFlag",null,0,0,"admin","2015-03-13 12:15:40.0","admin","2015-04-24 10:23:35.0",10],["23WCTC3Q4FP6","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"getRoleById\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select * from xip_pub_role r where r.ROLE_ID = {?roleId?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getRoleById",null,0,0,"admin","2015-03-04 15:39:20.0","admin","2015-03-20 10:45:36.0",6],["23WCTC3Q4FQ1","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"insertRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_role r where r.role_code = {?roleCode?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"编码 \\\"{#roleCode#}\\\" 已存在!\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query2\",\"sql\":\"insert into XIP_PUB_MNU_GROUP\\n  (MNU_GROUP_ID,\\n   MNU_GROUP_CODE,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ('{#menuGroupId#}',\\n   '{#roleCode#}',\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"query1\",\"sql\":\"insert into xip_pub_role\\n  (ROLE_ID,\\n   ROLE_CODE,\\n   ROLE_NAME,\\n   DESCRIPTION,\\n   ENABLE_FLAG,\\n   MNU_GROUP_ID,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ('{#roleId#}',\\n   '{#roleCode#}',\\n   '{#roleName#}',\\n   '{#description#}',\\n   '{#enableFlag#}',\\n   '{#menuGroupId#}',\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{roleId:'{#roleId#}', menuGroupId:'{#menuGroupId#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","insertRole",null,0,0,"admin","2015-03-04 15:42:47.0","admin","2015-05-28 10:09:59.0",7],["23WCTC3Q4FQO","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"updateFuncMenu\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_role r where r.role_code = {?roleCode?} and r.role_id <> {?roleId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"编码 \\\"{#roleCode#}\\\" 已存在!\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"update xip_pub_role\\n   set ROLE_CODE    \\t= '{#roleCode#}',\\n       ROLE_NAME    \\t= '{#roleName#}',\\n       DESCRIPTION      = '{#description#}',\\n       ENABLE_FLAG      = '{#enableFlag#}',\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY  = {?XIP.userId?}\\n where ROLE_ID = '{#roleId#}'\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{roleId:'{#roleId#}', menuGroupId:'{#menuGroupId#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","updateRole",null,0,0,"admin","2015-03-04 15:56:02.0","admin","2015-03-20 10:45:49.0",8],["23WD1G549AX0","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"getMenuGroupTree\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.up_id \\\"parent_id\\\",\\n       t.mnu_id id,\\n       t.name \\\"text\\\",\\n       t.node_type node_type,\\n       t.node_order idx,\\n       t.fun_tree_id,\\n       t.mnu_group_id,\\n       '__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_mnu_tree t1\\n                where t1.up_id = t.mnu_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_mnu_tree t\\n where t.up_id = {?parentID?} or ({?parentID?} is null and t.up_id = '-1')\\n   and t.mnu_group_id = {?menuGroupId?}\\n order by t.node_order asc\\n\",\"mysql\":\"select t.up_id \\\"parent_id\\\",\\n       t.mnu_id ID,\\n       t.name \\\"text\\\",\\n       t.node_type NODE_TYPE,\\n       t.node_order IDX,\\n       t.FUN_TREE_ID,\\n       t.MNU_GROUP_ID,\\n       '__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_mnu_tree t1\\n                where t1.up_id = t.mnu_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_mnu_tree t\\n where t.up_id = {?parentID?} or (({?parentID?} is null OR {?parentID?}='') and IFNULL(t.up_id,'-1') = '-1')\\n   and t.mnu_group_id = {?menuGroupId?}\\n order by t.node_order asc\\n\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\",\"type\":\"tree\"}]}","getMenuGroupTree",null,0,0,"admin","2015-03-05 09:29:02.0","admin","2015-04-23 17:08:57.0",10],["23WEKGND73H5","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"deleteRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkRef\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_user_roles r where r.role_id = {?roleId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"该角色已经被关联，无法删除!\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkRef.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"delete from xip_pub_mnu_tree  where mnu_group_id = {?menuGroupId?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"query2\",\"sql\":\"delete from xip_pub_role  where mnu_group_id = {?menuGroupId?}\",\"xwlMeta\":\"query\"},{\"id\":\"query3\",\"sql\":\"delete from xip_pub_mnu_group  where mnu_group_id = {?menuGroupId?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteRole",null,0,0,"admin","2015-03-10 09:22:43.0","admin","2015-05-08 09:42:12.0",9],["23WEKSCAZCZX","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"getRolesByCode\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT\\nr.ROLE_ID,\\nr.ROLE_CODE,\\nr.ROLE_NAME,\\nr.DESCRIPTION,\\nr.MNU_GROUP_ID,\\nr.ENABLE_FLAG,\\nr.ATTRIBUTE1,\\nr.ATTRIBUTE2,\\nr.ATTRIBUTE3,\\nr.ATTRIBUTE4,\\nr.ATTRIBUTE5,\\nr.ATTRIBUTE6,\\nr.ATTRIBUTE7,\\nr.ATTRIBUTE8,\\nr.ATTRIBUTE9,\\nr.ATTRIBUTE10,\\nr.CREATION_DATE,\\nr.CREATED_BY,\\nr.LAST_UPDATE_DATE,\\nr.LAST_UPDATED_BY,\\nr.LAST_UPDATE_LOGIN\\nfrom xip_pub_role r\\nwhere r.role_code = {?roleCode?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getRolesByCode",null,0,0,"admin","2015-03-10 09:49:02.0","admin","2015-05-08 09:43:55.0",11],["23WEKSCAZD0U","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"getRolesCombox\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select ROLE_CODE,ROLE_NAME,MNU_GROUP_ID from xip_pub_role\",\"xwlMeta\":\"dataProvider\"}]}","getRolesCombox",null,0,0,"admin","2015-03-10 10:03:06.0","admin","2015-04-23 16:51:33.0",13],["23WEL27UOYZN","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"insertMenu\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExist\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_mnu_tree where MNU_TREE_CODE = {?menuCode?} and MNU_GROUP_ID = '{#menuGroupId#}'\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"编码'{#menuCode#}'已存在\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExist.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"insert into xip_pub_mnu_tree\\n  (MNU_ID,\\n   MNU_GROUP_ID,\\n   NAME,\\n   UP_ID,\\n   NODE_TYPE,\\n   NODE_ORDER,\\n   MNU_TREE_CODE,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ('{#menuId#}',\\n   '{#menuGroupId#}',\\n   '{#menuName#}',\\n   '{#upId#}',\\n   'M',\\n   (select case\\n         when (select count(*)\\n                 from xip_pub_mnu_tree t1\\n                where t1.up_id = '{#upId#}') = 0 then\\n          0\\n         else\\n          (select max(t2.node_order) + 1\\n             from xip_pub_mnu_tree t2\\n            where t2.up_id = '{#upId#}')\\n       end as \\\"dex\\\"\\n    from dual),\\n   '{#menuCode#}',\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{rightMenuId:'{#menuId#}', menuGroupId:'{#menuGroupId#}', menuName:'{#menuName#}', upId:'{#upId#}', operateType:'{#operateType#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","insertMenu",null,0,0,"admin","2015-03-10 11:01:28.0","admin","2015-05-27 14:54:27.0",14],["23WEL27UOYZP","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"updateMenu\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_pub_mnu_tree\\n   set NAME    = '{#menuName#}',\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY  = {?XIP.userId?}\\n where MNU_ID = '{#menuId#}'\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{rightMenuId:'{#menuId#}', menuName:'{#menuName#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","updateMenu",null,0,0,"admin","2015-03-10 11:01:36.0","admin","2015-03-20 10:46:17.0",15],["23WEL27UOZ3H","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"deleteFuns\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_mnu_tree  where mnu_id in ({#delIds#})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteFuns",null,0,0,"admin","2015-03-10 13:47:15.0","admin","2015-05-08 09:42:48.0",16],["23WEL27UOZ9N","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"updategroupFuncMenu\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query2\",\"sql\":\"update xip_pub_mnu_tree\\n   set NODE_ORDER = NODE_ORDER + 1,\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY  = {?XIP.userId?}\\n where up_id = {?upId?} \\n   and node_order >= {?integer.orderIndex?}\",\"xwlMeta\":\"query\"},{\"id\":\"query1\",\"sql\":\"update xip_pub_mnu_tree\\n   set UP_ID    = '{#upId#}',\\n       NODE_ORDER = {?integer.orderIndex?},\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY  = {?XIP.userId?}\\n where MNU_ID = '{#menuId#}'\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","updategroupFuncMenu",null,0,0,"admin","2015-03-10 14:53:29.0","admin","2015-03-20 10:46:27.0",17],["23WHCMH4SBBA","23W2FPM1OF6M","{\"id\":\"module\",\"title\":\"UpdateUserPwd\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkOldPwdSQL\",\"sql\":\"select count(1) as \\\"CNT\\\" from xip_pub_users where user_id={?XIP.userId?} and password={?ttf_oldpwd?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"旧密码不正确，请确认！\",\"id\":\"checkOldPwd\",\"xwlMeta\":\"except\",\"name\":\"checkOldPwdSQL.CNT\",\"value\":\"0\",\"comparator\":\"=\"},{\"id\":\"updatePwd\",\"sql\":\"update xip_pub_users u set u.password={?thf_password?} ,u.last_chg_pw_date={?timestamp.sys.date?} where u.user_id={?XIP.userId?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","UpdateUserPwd",null,0,0,"admin","2015-03-19 11:03:55.0","admin","2015-03-31 15:13:47.0",2],["23WHNATTV63M","23WCQ6TFHLFW","{\"id\":\"module\",\"title\":\"update_enableflag\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_wf_user_holiday \\n   set ATTRIBUTE1='N',\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY ={?XIP.userId?}\\n   where PRIVILEGE_ID={?PRIVILEGE_ID?}\\n   \",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}],\"loginRequired\":\"false\"}","update_enableflag",null,0,0,"admin","2015-03-23 09:23:42.0","admin","2015-06-23 10:43:44.0",11],["23WHNATTV6WH","23W090GMALME",null,"DATA_USER",null,1,0,"admin","2015-03-23 10:24:12.0","23XSWLY0BYLW","2015-08-25 10:31:12.0",3],["23WHNATTV6ZZ","23WHNATTV6WH","{\"id\":\"module\",\"title\":\"selectUser\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#form3dqyh#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,USER_NAME from xip_pub_users where USER_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}]}","selectUser",null,0,0,"admin","2015-03-23 10:27:51.0","admin","2015-04-24 10:27:33.0",3],["23WHNATTV70A","23WHNATTV6WH","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insert\",\"loginRequired\":\"false\",\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"PRIVILEGE_ID\\\",NEW_UUID);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_wf_user_holiday(\\n                               PRIVILEGE_ID,\\n                               MASTER_USER_ID,\\n                               PROXY_USER_ID,\\n                               BEGIN_DATE,\\n                               END_DATE,\\n                               ATTRIBUTE1,\\n                               CREATION_DATE,\\n                               CREATED_BY,\\n                               LAST_UPDATE_DATE,\\n                               LAST_UPDATED_BY \\n                              )\\nvalues(\\n'{#PRIVILEGE_ID#}',\\n  {?XIP.userId?},\\n  {?USER_NAME2?},\\n  {?timestamp.BEGIN_DATE?},\\n  {?timestamp.END_DATE?},\\n  {?ATTRIBUTE1?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?}\\n)\"}]}","insert",null,0,0,"admin","2015-03-23 10:28:07.0","23XQ4UO678F5","2015-10-23 10:59:22.0",4],["23WHNATTV70J","23WHNATTV6WH","{\"id\":\"module\",\"title\":\"getEnableFlag\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select l.VAL_CODE, l.VAL_NAME\\n  from xip_pub_val_set_dtl l\\n where l.VAL_SET_CODE = 'YN'\\n   and l.ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}]}","getEnableFlag",null,0,0,"admin","2015-03-23 10:28:19.0","admin","2015-04-24 10:28:26.0",5],["23WHNATTV70Q","23WHNATTV6WH","{\"id\":\"module\",\"title\":\"update_enableflag\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_wf_user_holiday \\n   set ATTRIBUTE1='N',\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY ={?XIP.userId?}\\n   where PRIVILEGE_ID={?PRIVILEGE_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}],\"loginRequired\":\"false\"}","update_enableflag",null,0,0,"admin","2015-03-23 10:28:26.0","admin","2015-06-23 10:45:50.0",6],["23WHNI4GU0LC","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"getRoleByIdAndCode\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT\\nr.ROLE_ID,\\nr.ROLE_CODE,\\nr.ROLE_NAME,\\nr.DESCRIPTION,\\nr.MNU_GROUP_ID,\\nr.ENABLE_FLAG,\\nr.ATTRIBUTE1,\\nr.ATTRIBUTE2,\\nr.ATTRIBUTE3,\\nr.ATTRIBUTE4,\\nr.ATTRIBUTE5,\\nr.ATTRIBUTE6,\\nr.ATTRIBUTE7,\\nr.ATTRIBUTE8,\\nr.ATTRIBUTE9,\\nr.ATTRIBUTE10,\\nr.CREATION_DATE,\\nr.CREATED_BY,\\nr.LAST_UPDATE_DATE,\\nr.LAST_UPDATED_BY,\\nr.LAST_UPDATE_LOGIN\\nfrom xip_pub_role r\\nwhere r.role_code = {?roleCode?} and r.role_id <> {?roleId?}\",\"xwlMeta\":\"dataProvider\"}]}","getRoleByIdAndCode",null,0,0,"admin","2015-03-20 11:11:22.0","admin","2015-04-23 16:50:57.0",12],["23WIW0PXIBKG","23VVZ3QMOKQQ",null,"附件查询",null,0,0,"admin","2015-03-24 13:43:25.0","admin","2015-03-24 16:12:23.0",4],["23WIW0PXIBKJ","23WIW0PXIBKG","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"附件查询\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar userName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userName');\\nvar empName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('empName');\\n\\nvar authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nvar roleId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleId');\\nvar roleName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleName');\\nvar roleCode = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleCode');\\n\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\nrequest.setAttribute(\\\"empName\\\",empName);\\n\\nrequest.setAttribute(\\\"authModel\\\",authModel);\\nrequest.setAttribute(\\\"roleId\\\",roleId);\\nrequest.setAttribute(\\\"roleName\\\",roleName);\\nrequest.setAttribute(\\\"roleCode\\\",roleCode);\\n\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"tbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"attrGridTbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"btn_delete\",\"text\":\"删除\",\"click\":\"var rows = attrGrid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var p = [];\\n  for(var i=0; i<rows.length; i++){\\n    var id = rows[i].data.ATT_ID;\\n    p.push(id);\\n  }\\n  \\n  Ext.Msg.wait('正在删除，请稍后!');\\n  Ext.Ajax.request({\\n    url : '{#contextPath#}'+ '/xipAttMrgAction.do?method=del',\\n    method: 'POST',\\n    timeout: 6000000,\\n    params:{ids : p.toString()},\\n    success: function(response,options){\\n      Ext.Msg.hide();\\n      var json = Ext.JSON.decode(response.responseText);\\n      Wb.warning(json.msg,function(){\\n        btn_query.fireEvent('click');\\n      });\\n    },\\n    failure: function(response,options){\\n      Ext.Msg.alert('提示','发送请求失败，服务器没有响应');\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"id\":\"btn_download\",\"icon\":\"pub/uip/common/image/icon_down.gif\",\"text\":\"批量下载\",\"click\":\"var rows = attrGrid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var p = [];\\n  for(var i=0; i<rows.length; i++){\\n    var id = rows[i].data.ATT_ID;\\n    p.push(id);\\n  }\\n  window.location.href= \\\"{#contextPath#}\\\"+\\\"/xipAttMrgAction.do?method=down&selectedIds=\\\"+p.toString();\\t\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"attrStore\",\"autoLoad\":\"false\",\"url\":\"#23WIW0PXIBQG (getAttrs)\"},{\"xwlMeta\":\"store\",\"id\":\"attrTypeStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23WIW0PXIBQ4 (getAttrTypes)\"},{\"xwlMeta\":\"store\",\"id\":\"attrServerStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23WIW0PXIBQC (getAttrServers)\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"attrGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"COLUMN_ROW_NUM\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATT_ID\",\"id\":\"COLUMN_ATT_ID\",\"text\":\"ATT_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATT_FILE_NAME\",\"id\":\"COLUMN_ATT_FILE_NAME\",\"text\":\"附件名\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FILE_SIZE\",\"id\":\"COLUMN_FILE_SIZE\",\"text\":\"文件大小(KB)\",\"align\":\"right\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CAT_NAME\",\"id\":\"COLUMN_CAT_NAME\",\"text\":\"分类\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SERVER_NAME\",\"id\":\"COLUMN_SERVER_NAME\",\"text\":\"服务器\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"BUS_NO\",\"id\":\"COLUMN_BUS_NO\",\"text\":\"业务编码\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATION_DATE\",\"id\":\"COLUMN_CREATION_DATE\",\"text\":\"上传日期\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"id\":\"column_view\",\"renderer\":\"var returnValue = '';\\nvar imgUrl = '{#contextPath#}' + '/pub/uip/common/image/owc_view.bmp';\\nreturnValue = \\\"<img src='\\\"+imgUrl+\\\"' style='width:12px;height:12px'/>\\\"; \\nreturn returnValue;\",\"text\":\"预览\",\"align\":\"center\",\"width\":\"50\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"afterrender\":\"btn_query.fireEvent('click');\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"height\":\"100\",\"style\":\"border-width:0px\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"queryFormFieldSet\",\"title\":\"查询条件\",\"height\":\"90\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel4\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"attrTypeStore\",\"valueField\":\"ID\",\"width\":\"180\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"附件分类\",\"id\":\"attrTypeCombox\",\"queryLike\":\"true\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"select\":\"btn_query.fireEvent('click');\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"附件名称\",\"id\":\"attrName\",\"labelWidth\":\"80\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n  btn_query.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel5\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"attrServerStore\",\"valueField\":\"ID\",\"width\":\"180\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"附件服务器\",\"id\":\"attrServiceCombox\",\"queryLike\":\"true\",\"displayField\":\"NAME\",\"labelWidth\":\"90\",\"select\":\"btn_query.fireEvent('click');\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"业务编码   \",\"id\":\"businessCode\",\"labelWidth\":\"90\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n  btn_query.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1\",\"layout\":\"form\",\"columnWidth\":\".45\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel8\",\"layout\":\"column\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"date\",\"fieldLabel\":\"上传日期\",\"id\":\"uploadFromDate\",\"labelWidth\":\"80\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n  btn_query.fireEvent('click');\\n}\"},{\"xwlMeta\":\"label\",\"text\":\"-\",\"width\":\"20\",\"align\":\"center\",\"id\":\"label1\"},{\"xwlMeta\":\"date\",\"id\":\"uploadToDate\",\"labelWidth\":\"0\",\"width\":\"100\",\"labelAlign\":\"right\",\"select\":\"var _tmpDate = uploadFromDate.getValue();\\nif(!Ext.isEmpty(_tmpDate) && _tmpDate >value){\\n  Wb.warning('结束日期不能小于开始日期！');\\n  uploadToDate.setValue('');\\n  return false;\\n}\",\"specialkey\":\"if(event.getKey() == 13){\\n  btn_query.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btn_query\",\"text\":\"查询\",\"x\":\"10\",\"click\":\"var attrType = Ext.getCmp('attrTypeCombox').getValue();\\nvar attrServer = Ext.getCmp('attrServiceCombox').getValue();\\n\\nvar startDate = '1900-01-01';\\nif(!Ext.isEmpty(uploadFromDate.getValue())){\\n  startDate = Ext.Date.format(new Date(uploadFromDate.getValue()),'Y-m-d H:i:s');\\n}\\n\\nvar endDate = '2999-12-31';\\nif(!Ext.isEmpty(uploadToDate.getValue())){\\n  endDate = Ext.Date.format(new Date(uploadToDate.getValue()),'Y-m-d H:i:s');\\n}\\n\\nvar attrName = Ext.getCmp('attrName').getValue();\\nvar businessCode = Ext.getCmp('businessCode').getValue();\\nvar minSize = Ext.getCmp('fileSizeFrom').getValue();\\nvar maxSize = Ext.getCmp('fileSizeTo').getValue();\\n\\nvar json = {\\n  attrType : attrType,\\n  attrServer : attrServer,\\n  startDate : startDate,\\n  endDate : endDate,\\n  attrName : attrName,\\n  businessCode : businessCode,\\n  minSize : minSize,\\n  maxSize : maxSize\\n};\\n\\nattrStore.load({params:json});\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel10\",\"layout\":\"column\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"number\",\"minValue\":\"0\",\"fieldLabel\":\"文件大小\",\"id\":\"fileSizeFrom\",\"labelWidth\":\"80\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n  btn_query.fireEvent('click');\\n}\"},{\"xwlMeta\":\"label\",\"text\":\"-\",\"width\":\"20\",\"align\":\"center\",\"id\":\"label2\"},{\"xwlMeta\":\"number\",\"minValue\":\"1\",\"id\":\"fileSizeTo\",\"labelWidth\":\"0\",\"width\":\"100\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n  btn_query.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btn_reset\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"Wb.reset(queryFormFieldSet);\\nbtn_query.fireEvent('click');\\n//Wb.load(attrStore);\"}]}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"attrStore\",\"columns\":\"attrGridColumns\",\"region\":\"center\",\"id\":\"attrGrid\",\"tbar\":\"attrGridTbar\",\"multiSelect\":\"true\",\"autoLoad\":\"false\",\"selType\":\"checkboxmodel\",\"cellclick\":\"if(cellIndex==9){\\n  var id = record.data.ATT_ID;\\n  window.open ('{#contextPath#}'+\\\"/xipAttMrgAction.do?method=down&view=1&att_id=\\\"+id.toString(),'newwindow','height=768,width=1024,top=0,left=0,toolbar=no,menubar=no,scrollbars=yes, resizable=no,location=no, status=no');\\n}\"}]}]}","附件查询",null,0,0,"admin","2015-03-24 13:43:51.0","23XQ4B4KHDBR","2015-08-31 10:41:07.0",1],["23WIW0PXIBKL","23WIW0PXIBKG",null,"data",null,1,0,"admin","2015-03-24 13:44:06.0","admin","2015-06-05 14:08:14.0",2],["23WIW0PXIBQ4","23WIW0PXIBKL","{\"id\":\"module\",\"title\":\"getAttrTypes\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.att_cat_id ID, t.cat_name NAME from xip_pub_att_cat t\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getAttrTypes",null,0,0,"admin","2015-03-24 15:57:51.0","admin","2015-05-12 16:02:37.0",2],["23WIW0PXIBQC","23WIW0PXIBKL","{\"id\":\"module\",\"title\":\"getAttrServers\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select s.server_id ID, s.server_name NAME from xip_pub_att_server s\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getAttrServers",null,0,0,"admin","2015-03-24 16:30:27.0","admin","2015-05-12 16:02:13.0",3],["23WIW0PXIBQG","23WIW0PXIBKL","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getAttrs\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select a.att_id,\\n       a.att_file_name,\\n       c.cat_name,\\n       a.bus_no,\\n       a.creation_date,\\n       a.cat_sec_id,\\n       r.server_name,\\n       a.file_size\\n  from xip_pub_atts        a,\\n       xip_pub_att_cat     c,\\n       xip_pub_att_cat_sec s,\\n       xip_pub_att_server  r\\n where a.att_cat_id = c.att_cat_id\\n   and a.cat_sec_id = s.cat_sec_id\\n   and s.att_server_id = r.server_id\\n   and ('{#minSize#}' is null or to_number('{#minSize#}') < a.file_size)\\n   and ('{#maxSize#}' is null or to_number('{#maxSize#}') > a.file_size)\\n   and ('{#startDate#}' is null or\\n       to_date('{#startDate#}', 'yyyy-mm-dd') <= to_date(to_char(a.creation_date,'yyyy-mm-dd'),'yyyy-mm-dd'))\\n   and ('{#endDate#}' is null or\\n       to_date('{#endDate#}', 'yyyy-mm-dd') >= to_date(to_char(a.creation_date,'yyyy-mm-dd'),'yyyy-mm-dd'))\\n   and ('{#attrType#}' is null or a.att_cat_id = '{#attrType#}')\\n   and ('{#attrServer#}' is null or r.server_id = '{#attrServer#}')\\n   and a.att_file_name like '%{#attrName#}%'\\n   and a.bus_no like '%{#businessCode#}%'\",\"id\":\"sqlSwitcher1\",\"mysql\":\"select a.ATT_ID,\\n       a.ATT_FILE_NAME,\\n       c.CAT_NAME,\\n       a.BUS_NO,\\n       a.CREATION_DATE,\\n       a.CAT_SEC_ID,\\n       r.SERVER_NAME,\\n       a.FILE_SIZE\\n  from xip_pub_atts        a,\\n       xip_pub_att_cat     c,\\n       xip_pub_att_cat_sec s,\\n       xip_pub_att_server  r\\n where a.att_cat_id = c.att_cat_id\\n   and a.cat_sec_id = s.cat_sec_id\\n   and s.att_server_id = r.server_id\\n   and (('{#minSize#}' is null or '{#minSize#}'='') or '{#minSize#}' < a.file_size or '{#minSize#}' = a.file_size)\\n   and (('{#maxSize#}' is null or '{#maxSize#}'='') or '{#maxSize#}' > a.file_size or '{#maxSize#}' = a.file_size)\\n   and ('{#startDate#}' is null or '{#startDate#}'='' or\\n       (DATE_FORMAT('{#startDate#}', '%Y-%m-%d') <= DATE_FORMAT(a.CREATION_DATE, '%Y-%m-%d')))\\n   and ('{#endDate#}' is null or '{#endDate#}' = '' or\\n       (DATE_FORMAT('{#endDate#}', '%Y-%m-%d') >= DATE_FORMAT(a.CREATION_DATE, '%Y-%m-%d')))\\n   and ('{#attrType#}' is null or '{#attrType#}'='' or a.att_cat_id = '{#attrType#}')\\n   and ('{#attrServer#}' is null or '{#attrServer#}'='' or r.server_id = '{#attrServer#}')\\n   and a.att_file_name like '%{#attrName#}%'\\n   and a.bus_no like '%{#businessCode#}%'\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","getAttrs",null,0,0,"admin","2015-03-24 16:45:09.0","23XQ4B4KHDBR","2015-09-02 17:15:18.0",4],["23WJH4A46NYJ","23VVZ3QMOKQQ",null,"附件管理",null,1,0,"admin","2015-03-26 13:52:17.0","23XSWLY0BYLW","2015-08-25 10:43:02.0",5],["23WJH4A46NYK","23WJH4A46NYJ","{\"id\":\"module\",\"title\":\"attachmentManage\",\"xwlMeta\":\"module\",\"jsFiles\":\"[\\\"platform/attachment/attrUpload/swfupload/swfupload.js\\\",\\\"platform/attachment/attrUpload/uploadPanel/UploadPanel.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nvar srcId = request.getParameter('srcId');\\nvar attrCat = request.getParameter('attCat');\\nvar orgId = request.getParameter('orgId');\\nvar busNo = request.getParameter('busNo');\\nvar canUp = request.getParameter('canUp');\\nvar canDown = request.getParameter('canDown');\\nvar canDel = request.getParameter('canDel');\\nvar userId = request.getParameter('userId');\\n\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nrequest.setAttribute(\\\"srcId\\\",srcId);\\nrequest.setAttribute(\\\"attrCat\\\",attrCat);\\nrequest.setAttribute(\\\"orgId\\\",orgId);\\nrequest.setAttribute(\\\"busNo\\\",busNo);\\nrequest.setAttribute(\\\"canUp\\\",canUp);\\nrequest.setAttribute(\\\"canDown\\\",canDown);\\nrequest.setAttribute(\\\"canDel\\\",canDel);\\nrequest.setAttribute(\\\"userId\\\",userId);\",\"children\":[{\"id\":\"ajaxs\",\"xwlMeta\":\"folder\"},{\"id\":\"stores\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"attrStore\",\"xwlMeta\":\"store\",\"params\":\"{src_id:'{#srcId#}'}\",\"url\":\"#23WJJBG2TBZV (getAttrs)\"}]},{\"id\":\"tbars\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"attrGridTbar\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"menuItem1\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_upload\",\"text\":\"上传\",\"xwlMeta\":\"button\",\"click\":\"var upPanel = Ext.create('Ext.ux.uploadPanel.UploadPanel',{\\n  title : '',   \\n  addFileBtnText : '选择文件...',   \\n  uploadBtnText : '上传',   \\n  removeBtnText : '移除所有',   \\n  cancelBtnText : '取消上传',   \\n  file_size_limit : 10000,//MB  \\n  flash_url : '{#contextPath#}'+'/platform/attachment/attrUpload/swfupload/swfupload.swf', \\n  flash9_url : '{#contextPath#}'+'/platform/attachment/attrUpload/swfupload/swfupload_fp9.swf', \\n  upload_url : '{#contextPath#}'+'/xipAttMrgAction.do?method=upload&src_id={#srcId#}&attCatCode={#attrCat#}&org_id={#orgId#}&bus_no={#busNo#}&userId={#userId#}',\\n  post_params : {\\n    'src_id':'{#srcId#}',\\n    'attCatCode':'{#attrCat#}',\\n    'org_id':'{#orgId#}',\\n    'bus_no':'{#busNo#}',\\n    'userId':'{#userId#}'\\n  }\\n});\\n\\nvar win = new Ext.Window({\\n  title : '多附件上传',\\n  width : 700,\\n  height :450,\\n  resizable : true,\\n  modal\\t: true,\\n  layout : 'fit',\\n  maximizable: true,\\n  items : [upPanel],\\n  listeners:{\\n    'beforeclose':function(){\\n    },\\n    'hide':function(){\\n      attrStore.load();\\n    },\\n    'beforehide':function(){\\n      Wb.load(attrStore);\\n    }\\n  }\\n});\\nwin.show();\\t\\nwin.maximize();\",\"iconCls\":\"upward_icon\",\"disabled\":\"'{#canUp#}'=='N'?true:false\"},{\"id\":\"menuItem2\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_batch_download\",\"text\":\"批量下载\",\"xwlMeta\":\"button\",\"click\":\"var rows = attrGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var p = new Array();\\n  for(var i=0; i<rows.length; i++){\\n    var id = rows[i].data.ATT_ID;\\n    p.push(id);\\n  }\\n  window.location.href= '{#contextPath#}'+\\\"/xipAttMrgAction.do?method=down&selectedIds=\\\"+p.toString();\\t\\n}\",\"iconCls\":\"open_icon\",\"disabled\":\"'{#canDown#}'=='N'?true:false\"},{\"id\":\"menuItem3\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_delete\",\"text\":\"删除\",\"xwlMeta\":\"button\",\"click\":\"var rows = attrGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var p = new Array();\\n  for(var i=0; i<rows.length; i++){\\n    var id = rows[i].data.ATT_ID;\\n    p.push(id);\\n  }\\n  \\n  Ext.Msg.wait('正在删除，请稍后!');\\n  Ext.Ajax.request({\\n    url : '{#contextPath#}'+ '/xipAttMrgAction.do?method=del',\\n    method: 'POST',\\n    timeout: 6000000,\\n    params:{ids : p.toString()},\\n    success: function(response,options){\\n      Ext.Msg.hide();\\n      var json = Ext.JSON.decode(response.responseText);\\n      Ext.Msg.alert('提示',json.msg,function(){attrStore.load({params:{src_id:'{#srcId#}'}});});\\n    },\\n    failure: function(response,options){\\n      Ext.Msg.alert('提示','发送请求失败，服务器没有响应');\\n    }\\n  });\\n}\",\"iconCls\":\"icon-delete\",\"disabled\":\"'{#canDel#}'=='N'?true:false\"},{\"id\":\"menuItem4\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"}]}]},{\"id\":\"columns\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"attrGridColumns\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"column_num\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"width\":\"35\",\"type\":\"rowNumber\"},{\"id\":\"column_file_name\",\"text\":\"附件名称\",\"xwlMeta\":\"column\",\"width\":\"500\",\"dataIndex\":\"ATT_FILE_NAME\"},{\"id\":\"column_download\",\"text\":\"下载附件\",\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"width\":\"80\",\"renderer\":\"var returnValue = '';\\nvar imgUrl = '{#contextPath#}' + '/pub/uip/common/image/icon_down.gif';\\nreturnValue = \\\"<img src='\\\" + imgUrl + \\\"'/>\\\"; \\nreturn returnValue;\"},{\"id\":\"column_view\",\"text\":\"预览\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"headerAlign\":\"center\",\"renderer\":\"var returnValue = '';\\nvar imgUrl = '{#contextPath#}' + '/platform/attachment/images/zoom.png';\\nreturnValue = \\\"<img src='\\\"+imgUrl+\\\"'/>\\\"; \\nreturn returnValue;\"},{\"id\":\"column_att_id\",\"text\":\"ATTR_ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"ATT_ID\"}]}]},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"attrGrid\",\"tbar\":\"attrGridTbar\",\"multiSelect\":\"true\",\"cellclick\":\"if(cellIndex==3){\\n  var id = record.data.ATT_ID;\\n  window.location.href='{#contextPath#}'+\\\"/xipAttMrgAction.do?method=down&att_id=\\\"+id.toString();\\n}else if(cellIndex==4){\\n  //预览功能\\n  var id = record.data.ATT_ID;\\n  //  window.location.href=contextPath+\\\"/platform/attachment/attachmentView.jsp?att_id=\\\"+id.toString();\\n  window.open ('{#contextPath#}'+\\\"/xipAttMrgAction.do?method=down&view=1&att_id=\\\"+id.toString(),'newwindow','height=768,width=1024,top=0,left=0,toolbar=no,menubar=no,scrollbars=yes, resizable=no,location=no, status=no');\\n}\",\"selType\":\"checkboxmodel\",\"store\":\"attrStore\",\"xwlMeta\":\"grid\",\"columns\":\"attrGridColumns\",\"simpleSelect\":\"true\"}]}],\"cssFiles\":\"[\\\"common/css/default.css\\\",\\\"platform/attachment/attrUpload/uploadPanel/UploadPanel.css\\\"]\"}","attachmentManage",null,0,0,"admin","2015-03-26 13:54:11.0","admin","2015-07-09 11:13:36.0",1],["23WJJBG2TBZS","23WJH4A46NYJ",null,"data",null,1,0,"admin","2015-03-26 14:53:32.0","admin","2015-06-05 14:08:18.0",3],["23WJJBG2TBZV","23WJJBG2TBZS","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getAttrs\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select ATT_ID,\\n       ATT_FILE_NAME,\\n       ATT_FILE_TYPE,\\n       SRC_ID,\\n       ATT_CAT_ID,\\n       CAT_SEC_ID,\\n       ORG_ID,\\n       BUS_NO,\\n       '已上传' UPLOAD_MSG,\\n       '' UPLOAD_INDEX,\\n       CREATION_DATE\\n  from xip_pub_atts\\n where src_id = {?src_id?}\\n order by creation_date desc\"}]}","getAttrs",null,0,0,"admin","2015-03-26 15:17:02.0","23XQ4B4KHDBR","2015-08-24 15:31:35.0",1],["23WJK49JE0MX","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"selectcode\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select * from XIP_PUB_VAL_SETS where VAL_SET_CODE='{#valSetCode#}'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectcode",null,0,0,"admin","2015-03-26 17:27:05.0","admin","2015-05-07 16:56:11.0",2],["23WKZXTVZRYH","23W1PZV096TI","{\"id\":\"module\",\"title\":\"修改密码\",\"xwlMeta\":\"module\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"children\":[{\"id\":\"updateUserPwdReq\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"修改密码失败!\\\");\",\"xwlMeta\":\"ajax\",\"output\":\"tfs_chgpwd\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"修改密码成功!\\\",function(){window.location=\\\"{#contextPath#}/main?xwl=23W2EADAWUTR\\\";});\",\"url\":\"#23WKZXTVZS94 (Update Reseted Password)\"},{\"id\":\"tviewport1\",\"xwlMeta\":\"tviewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"tf_chgpwd\",\"xwlMeta\":\"tform\",\"children\":[{\"id\":\"tfs_chgpwd\",\"instructions\":\"新密码要与再次输入保持一致\",\"xwlMeta\":\"tfieldSet\",\"children\":[{\"id\":\"tt_firstpwd\",\"xwlMeta\":\"ttext\",\"label\":\"新密码\",\"type\":\"password\"},{\"id\":\"tt_secondpwd\",\"xwlMeta\":\"ttext\",\"label\":\"再次输入\",\"type\":\"password\"},{\"id\":\"thf_password\",\"xwlMeta\":\"thiddenField\"}]},{\"id\":\"tc_btns\",\"defaults\":\"{style:'margin:8px',flex:1}\",\"xwlMeta\":\"tcontainer\",\"layout\":\"hbox\",\"children\":[{\"id\":\"tb_ok\",\"text\":\"确定\",\"xwlMeta\":\"tbutton\",\"tap\":\"var pwdLengthLimit ='{#PW_LEN_LIMIT#}';\\nvar pwdIncludeChar ='{#PW_INCLUDE_CHAR#}';\\nif(tt_firstpwd.getValue()===\\\"\\\"){\\n  tfs_chgpwd.setInstructions('新密码不能为空');\\n  tt_firstpwd.focus();\\n  return;\\n}\\nif(tt_secondpwd.getValue()===\\\"\\\"){\\n  tfs_chgpwd.setInstructions('再次输入不能为空');\\n  tt_secondpwd.focus();\\n  return;\\n}\\nif(tt_secondpwd.getValue()!=tt_firstpwd.getValue()){\\n  tfs_chgpwd.setInstructions('再次输入与新密码不一致');\\n  tt_secondpwd.focus();\\n  return;\\n}\\nif(pwdLengthLimit===\\\"\\\"){\\n  pwdLengthLimit =0;\\n}\\nif(pwdIncludeChar===\\\"\\\"){\\n  pwdIncludeChar ='N';\\n}\\nif(pwdLengthLimit>0){\\n  if (tt_firstpwd.getValue().length<pwdLengthLimit){\\n     tfs_chgpwd.setInstructions('密码至少要'+pwdLengthLimit+'个字符或数字。');\\n     tt_secondpwd.focus();\\n     return;\\n  }\\n}\\nif(pwdIncludeChar==='Y'){\\n  var re = new RegExp(\\\"[A-Za-z\\\\x21-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\x7e]\\\");\\n  if(!re.test((tt_firstpwd.getValue()))){\\n     tfs_chgpwd.setInstructions('密码必须要包含字符。');\\n     tt_secondpwd.focus();\\n     return;\\n  }\\n}\\n   Ext.Ajax.request({\\n     url : '{#contextPath#}'+'/frameAction.do?method=modifyUserPassword',\\n     params:{\\n       password:hex_md5(tt_firstpwd.getValue()),\\n       isValidPassword:\\\"N\\\"\\n     },\\n     method: 'POST',\\n     async : false,\\n     success: function(response,options){\\n       var resp = Ext.JSON.decode(response.responseText);\\n       if(resp.flag==='1'){\\n         Ext.Msg.alert(\\\"提示\\\",\\\"修改密码成功!\\\",function(){window.location=\\\"{#contextPath#}/main?xwl=23W2EADAWUTR\\\";});\\n       }\\n     },\\n     failure: function(response,options){\\n       Ext.Msg.alert(\\\"提示\\\",\\\"修改密码失败!\\\");\\n       return;\\n     }\\n   });\"},{\"id\":\"tb_reset\",\"text\":\"重置\",\"xwlMeta\":\"tbutton\",\"tap\":\"tt_oldpwd.setValue(\\\"\\\");\\ntt_firstpwd.setValue(\\\"\\\");\\ntt_secondpwd.setValue(\\\"\\\");\\ntt_oldpwd.focus();\"}]}]}]}],\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nvar url = request.getParameter(\\\"url\\\");\\nrequest.setAttribute(\\\"url\\\",\\\"'\\\"+url+\\\"'\\\");\\nvar pwdLenLimit= com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_LEN_LIMIT\\\");\\nvar pwdIncludeChar =  com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_INCLUDE_CHAR\\\");\\nrequest.setAttribute(\\\"PW_LEN_LIMIT\\\",pwdLenLimit);\\nrequest.setAttribute(\\\"PW_INCLUDE_CHAR\\\",pwdIncludeChar);\",\"loginRequired\":\"false\",\"touchMode\":\"true\"}","UserChangePwd",null,0,0,"admin","2015-03-31 15:20:28.0","admin","2015-05-08 17:33:20.0",4],["23WKZXTVZS94","23W2FPM1OF6M","{\"id\":\"module\",\"title\":\"Update Reseted Password\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"updatePwd\",\"sql\":\"update xip_pub_users u set u.password={?thf_password?} ,u.last_chg_pw_date={?timestamp.sys.date?},have_rest_pw='N' where u.user_id={?XIP.userId?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Update Reseted Password",null,0,0,"admin","2015-03-31 15:26:15.0","admin","2015-03-31 15:28:34.0",3],["23WLDT41JADF","23VKVPUL841U",null,"流程关联表单",null,0,0,"admin","2015-04-01 15:17:54.0","admin","2015-04-01 15:17:54.0",3],["23WLDT41JADJ","23WLDT41JADF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"流程关联表单\",\"loginRequired\":\"false\",\"finalize\":\"if(document.addEventListener){//如果是Firefox\\n\\t\\t   document.addEventListener(\\\"keypress\\\",keyHandler, true);\\n\\t\\t}else{\\n\\t\\t   document.attachEvent(\\\"onkeypress\\\",keyHandler);\\n\\t\\t}\\nfunction keyHandler(evt){\\n\\t\\t   if(evt.keyCode==13){\\n\\t\\t         btnFind.fireEvent('click');\\n\\t\\t   }\\n\\t\\t}\\n\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"req\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WLMPQCSQLX (Insert ProcForms)\",\"id\":\"ajax_add\",\"output\":\"editForm\",\"failure\":\"Ext.MessageBox.alert('提示','数据保存失败!') ;\\n\",\"success\":\"Ext.MessageBox.alert('提示','数据保存成功!') ;\\nwin.hide();\\nWb.load(store4Grid) ;\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WLMPQCSQLX (Insert ProcForms)\",\"id\":\"ajax_addMore\",\"output\":\"editForm\",\"failure\":\"Ext.MessageBox.alert('提示','数据保存失败!') ;\\n\",\"success\":\"Ext.MessageBox.alert('提示','数据保存成功!') ;\\n\\n// 重置表单\\nselectClientType.setValue('PC') ;\\nselectEnabled.setValue('Y');\\ntextFormId.setValue();\\ntextFormCode.setValue();\\ntextFormUrl.setValue('');\\ntextFormDesc.setValue('') ;\\n\\n// 加载数据\\nWb.load(store4Grid) ;\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WLMPQCSQMK (Update ProcForms)\",\"id\":\"ajax_update\",\"output\":\"editForm\",\"failure\":\"Ext.MessageBox.alert('提示','数据保存失败!') ;\",\"success\":\"Ext.MessageBox.alert('提示','数据保存成功!') ;\\nwin.hide();\\nWb.load(store4Grid) ;\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store4Grid\",\"url\":\"#23WLDT41JAE6 (Get ProcForms)\",\"output\":\"cbxApps, cbxClientType, cbxEnableFlag, formDesc\"},{\"xwlMeta\":\"store\",\"id\":\"store4Apps\",\"url\":\"#23WLDT41JAIC (Get Apps)\"},{\"xwlMeta\":\"store\",\"id\":\"store4Entity\",\"url\":\"#23WLMPQCSQN1 (Get Entities)\",\"output\":\"cbxApps\"},{\"xwlMeta\":\"store\",\"data\":\"[['ALL','全部'],['Y','有效'],['N','无效']]\",\"id\":\"store4Enabled\",\"fields\":\"['CODE','NAME']\"},{\"xwlMeta\":\"store\",\"data\":\"[['ALL','全部'],['PC','电脑端表单'],['PAD','平板端表单'],['Mobile','手机端表单']]\",\"id\":\"store4ClientType\",\"fields\":\"['CODE','NAME']\"},{\"xwlMeta\":\"store\",\"id\":\"selectAppl\",\"autoLoad\":\"false\",\"url\":\"#23WLDT41JAIC (Get Apps)\"},{\"xwlMeta\":\"store\",\"id\":\"selectEntityStore\",\"url\":\"#23WLMPQCSQN1 (Get Entities)\",\"output\":\"selectApp\",\"load\":\"Ext.define('EntityModel', {  \\n    extend: 'Ext.data.Model',  \\n    fields: [  \\n        {name: 'ID'},  \\n        {name: 'CODE'},  \\n        {name: 'NAME'}\\n     ]  \\n});\\nvar p = Ext.create('EntityModel', {ID:'',CODE:'', NAME: '---请选择---'});\\nselectEntityStore.insert(0,p);\"},{\"xwlMeta\":\"store\",\"data\":\"[['PC','电脑'],['PAD','平板'],['Mobile','手机']]\",\"id\":\"selectClientStore\",\"fields\":\"['CODE','NAME']\"},{\"xwlMeta\":\"store\",\"data\":\"[['Y','有效'],['N','无效']]\",\"id\":\"selectEnableStore\",\"fields\":\"['CODE','NAME']\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FORM_ID\",\"id\":\"FORM_ID\",\"text\":\"表单编码\",\"align\":\"left\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FORM_DESC\",\"id\":\"FORM_DESC\",\"text\":\"表单名\",\"align\":\"left\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FORM_URL\",\"id\":\"FORM_URL\",\"text\":\"表单地址\",\"align\":\"left\",\"width\":\"350\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG\",\"renderer\":\"if(value === 'Y'){\\n  return '有效' ;\\n}else if(value === 'N'){\\n  return \\\"<font color='red'>无效<\\/font>\\\";\\n}else{\\n  return value ;\\n}  \\n\",\"text\":\"表单状态\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CLIENT_TYPE\",\"id\":\"CLIENT_TYPE\",\"renderer\":\"if(value === 'PC'){\\n  return '电脑' ;\\n}else if(value === 'PAD'){\\n  return '平板';\\n}else if(value === 'Mobile'){\\n  return '手机';\\n}else{\\n  return value ;\\n}\",\"text\":\"适用客户端\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"APP_ID\",\"text\":\"所属应用ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME\",\"text\":\"所属应用\",\"align\":\"left\",\"width\":\"250\"}]},{\"xwlMeta\":\"array\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btnSave\",\"text\":\"保存\",\"click\":\"var _opType = opType.getValue();\\n \\nvar _appId = selectApp.getValue();\\nvar _formCode = textFormId.getValue();\\nvar _formUrl = textFormUrl.getValue();\\nvar _formDesc = textFormDesc.getValue() ;\\nif(_appId === null || _appId === \\\"\\\"){\\n  Ext.Msg.alert('提示','请选择应用!') ;\\n  return false;\\n}\\nif(_opType === 'add'){\\t// 新增\\n  if(_formCode === null || _formCode === \\\"\\\"){\\n    Ext.Msg.alert('提示','请录入表单编码!') ;\\n    return false;\\n  }else{\\n    textFormCode.setValue(textAppCode.getValue() + '-' + _formCode) ;\\n  }  \\n}\\n\\nif(_formDesc === null || _formDesc === \\\"\\\"){\\n  Ext.Msg.alert('提示','请录入表单名!') ;\\n  return false;\\n}\\nif(_formUrl === null || _formUrl === \\\"\\\"){\\n  Ext.Msg.alert('提示','请录入表单地址!') ;\\n  return false;\\n}\\n// 执行保存处理\\nif(_opType === 'add'){\\t// 新增\\n  ajax_add.request();\\n  \\n}else if(_opType === 'update'){ // 更新\\n  ajax_update.request();\\n  \\n}else{\\n  // 其他\\n}\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"saveAll_icon\",\"id\":\"btnSaveAll\",\"text\":\"保存并继续\",\"click\":\"var _appId = selectApp.getValue();\\nvar _appCode = textAppCode.getValue();\\nvar _formCode = textFormId.getValue();\\nvar _formUrl = textFormUrl.getValue();\\nvar _formDesc = textFormDesc.getValue() ;\\n\\nif(_appId === null || _appId === \\\"\\\"){\\n  Ext.Msg.alert('提示','请选择应用!') ;\\n  return false;\\n}\\n\\nif(_formCode === null || _formCode === \\\"\\\"){\\n  Ext.Msg.alert('提示','请录入表单编码!') ;\\n  return false;\\n}else{\\n  textFormCode.setValue(_appCode + '-' + _formCode) ;\\n}\\n\\nif(_formDesc === null || _formDesc === \\\"\\\"){\\n  Ext.Msg.alert('提示','请录入表单名!') ;\\n  return false;\\n}\\n\\nif(_formUrl === null || _formUrl === \\\"\\\"){\\n  Ext.Msg.alert('提示','请录入表单地址!') ;\\n  return false;\\n}\\n\\n// 执行保存\\najax_addMore.request();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btnCancel\",\"text\":\"取消\",\"click\":\"win.hide();\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"new_icon\",\"id\":\"btnAdd\",\"click\":\"win.setTitle('添加流程关联表单') ;\\n\\nselectApp.enable() ;\\n\\ntextAppCode.show();\\ntextFormId.show();\\n\\ntextFormCode.hide();\\n\\nselectEntity.disable();\\nopType.setValue('add') ;\\nbtnSaveAll.show();\\nwin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"修改\",\"iconCls\":\"edit_icon\",\"id\":\"btnUpdate\",\"click\":\"var rows = formGrid.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  Ext.Msg.alert('提示','请选择表单信息!');\\n  return false ;\\n}else{\\n  opType.setValue('update') ;\\n  btnSaveAll.hide();\\n  win.setTitle('修改流程关联表单') ;\\n  selectEntity.enable();\\n  // 执行表单赋值\\n  selectAppl.load({callback:function(){\\n    selectApp.setValue(rows[0].data.APP_ID);   \\n    selectApp.collapse();\\n  }}) ; \\n  selectEntityStore.load({callback:function(){\\n    selectEntity.setValue(rows[0].data.ENTITY_ID) ;\\n  }}) ;  \\n  selectClientType.setValue(rows[0].data.CLIENT_TYPE) ;\\n  selectEnabled.setValue(rows[0].data.ENABLE_FLAG);  \\n  \\n  selectApp.disable() ;\\n  \\n  textAppCode.hide();\\n  textFormId.hide();\\n  \\n  textFormCode.show();\\n  textFormCode.setValue(rows[0].data.FORM_ID) ;\\n  \\n  textFormUrl.setValue(rows[0].data.FORM_URL) ;\\n  textFormDesc.setValue(rows[0].data.FORM_DESC) ;\\n\\n  win.show();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"win\",\"height\":\"240\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"550\",\"beforeclose\":\"editForm.getForm().reset();\\n\",\"children\":[{\"xwlMeta\":\"form\",\"bodyPadding\":\"5\",\"id\":\"editForm\",\"style\":\"border-width:0px\",\"layout\":\"column\",\"buttons\":\"buttons\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"selectAppl\",\"forceSelection\":\"true\",\"height\":\"22\",\"valueField\":\"ID\",\"allowBlank\":\"false\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>选择应用\",\"id\":\"selectApp\",\"displayField\":\"NAME\",\"labelWidth\":\"100\",\"select\":\"selectEntity.enable();\\nWb.load(selectEntityStore) ;\\n\\nvar appcode = records[0].get('CODE') ;\\n\\ntextAppCode.setValue(appcode) ;\"},{\"xwlMeta\":\"comboBox\",\"store\":\"selectEntityStore\",\"valueField\":\"ID\",\"allowBlank\":\"true\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"emptyText\":\"---请选择---\",\"fieldLabel\":\"业务实体\",\"id\":\"selectEntity\",\"displayField\":\"NAME\",\"labelWidth\":\"100\",\"hidden\":\"true\",\"disabled\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>表单编码\",\"id\":\"textAppCode\",\"labelWidth\":\"100\",\"width\":\"200\",\"readOnly\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"id\":\"textFormId\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"250\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>表单编码\",\"id\":\"textFormCode\",\"labelWidth\":\"100\",\"width\":\"450\",\"labelAlign\":\"right\",\"disabled\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>表单地址\",\"id\":\"textFormUrl\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>表单名\",\"id\":\"textFormDesc\",\"labelWidth\":\"100\",\"allowBlank\":\"false\",\"width\":\"450\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"selectClientStore\",\"value\":\"PC\",\"valueField\":\"CODE\",\"allowBlank\":\"false\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"适用客户端\",\"id\":\"selectClientType\",\"displayField\":\"NAME\",\"labelWidth\":\"100\"},{\"xwlMeta\":\"comboBox\",\"store\":\"selectEnableStore\",\"value\":\"Y\",\"valueField\":\"CODE\",\"allowBlank\":\"false\",\"width\":\"450\",\"editable\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"表单状态\",\"id\":\"selectEnabled\",\"displayField\":\"NAME\",\"labelWidth\":\"100\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"操作类型\",\"id\":\"opType\",\"labelWidth\":\"100\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"disabled\":\"true\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr\",\"height\":\"30\",\"layout\":\"column\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4Apps\",\"valueField\":\"ID\",\"labelAlign\":\"right\",\"emptyText\":\"---请选择应用---\",\"fieldLabel\":\"应用\",\"id\":\"cbxApps\",\"displayField\":\"NAME\",\"labelWidth\":\"40\",\"select\":\"Wb.load(store4Grid) ;\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4Enabled\",\"value\":\"ALL\",\"valueField\":\"CODE\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"是否有效\",\"id\":\"cbxEnableFlag\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"select\":\"var appid = cbxApps.getValue();\\nif(appid !== null && appid !== ''){\\n  Wb.load(store4Grid) ;\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_3\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4ClientType\",\"value\":\"ALL\",\"valueField\":\"CODE\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"适用客户端\",\"id\":\"cbxClientType\",\"displayField\":\"NAME\",\"labelWidth\":\"90\",\"select\":\"var appid = cbxApps.getValue();\\nif(appid !== null && appid !== ''){\\n  Wb.load(store4Grid) ;\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_4\",\"layout\":\"form\",\"columnWidth\":\".15\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"表单名\",\"id\":\"formDesc\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == event.ENTER){\\n  btnFind.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_5\",\"layout\":\"form\",\"columnWidth\":\".06\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btnFind\",\"text\":\"查询\",\"x\":\"10\",\"click\":\"var appid = cbxApps.getValue();\\nif(appid !== null && appid !== ''){\\n  Wb.load(store4Grid) ;\\n}\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_6\",\"layout\":\"form\",\"columnWidth\":\".06\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"var appId = cbxApps.getValue();\\nqueryForm.getForm().reset(); \\ncbxApps.setValue(appId);\\nWb.load(store4Grid) ;\\n\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"blankPanel\",\"columnWidth\":\".06\",\"border\":\"false\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store4Grid\",\"columns\":\"colArray\",\"region\":\"center\",\"id\":\"formGrid\",\"tbar\":\"toolbar1\",\"multiSelect\":\"false\",\"autoLoad\":\"false\",\"simpleSelect\":\"false\",\"itemdblclick\":\"btnUpdate.fireEvent('click');\"}]}]}","流程关联表单",null,0,0,"admin","2015-04-01 15:18:25.0","admin","2015-09-06 11:11:54.0",1],["23WLDT41JADL","23WLDT41JADF",null,"DATA",null,1,0,"admin","2015-04-01 15:18:31.0","23XSWLY0BYLW","2015-08-25 10:30:29.0",2],["23WLDT41JAE6","23WLDT41JADL","{\"id\":\"module\",\"title\":\"Get ProcForms\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT XF.FORM_ID,\\n       XF.FORM_URL,\\n       XF.FORM_DESC,\\n       XF.APP_ID,\\n       XA.APP_NAME,\\n       XF.ENTITY_ID,\\n       (SELECT XE.ENTITY_NAME FROM XIP_WF_ENTITIES XE WHERE XE.ENTITY_ID = XF.ENTITY_ID) ENTITY_NAME,\\n       XF.ENABLE_FLAG,\\n       XF.CLIENT_TYPE,\\n       XF.ATTRIBUTE1,\\n       XF.ATTRIBUTE2,\\n       XF.ATTRIBUTE3,\\n       XF.ATTRIBUTE4,\\n       XF.ATTRIBUTE5,\\n       XF.ATTRIBUTE6,\\n       XF.ATTRIBUTE7,\\n       XF.ATTRIBUTE8,\\n       XF.ATTRIBUTE9,\\n       XF.ATTRIBUTE10,\\n       XF.CREATION_DATE,\\n       XF.CREATED_BY,\\n       XF.LAST_UPDATE_DATE,\\n       XF.LAST_UPDATED_BY,\\n       XF.LAST_UPDATE_LOGIN\\n  FROM XIP_WF_PROCESS_FORMS XF,XIP_PUB_APPS XA\\nwhere XF.APP_ID = XA.APP_ID\\n  AND XF.APP_ID = {?cbxApps?}\\n  and XF.ENABLE_FLAG like (case when {?cbxEnableFlag?} = 'ALL' then '%'\\n      else {?cbxEnableFlag?} end) \\n  and XF.CLIENT_TYPE like (case when {?cbxClientType?} = 'ALL' then '%'\\n      else {?cbxClientType?} end) \\n  and XF.FORM_DESC like '%{#formDesc#}%'\",\"xwlMeta\":\"dataProvider\"}]}","Get ProcForms",null,0,0,"admin","2015-04-01 15:29:17.0","admin","2015-04-02 15:38:23.0",3],["23WLDT41JAIC","23WLDT41JADL","{\"id\":\"module\",\"title\":\"Get Apps\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT T.APP_ID ID, T.APP_CODE CODE, T.APP_NAME NAME\\n  FROM XIP_PUB_APPS T\\n WHERE EXISTS (SELECT 1\\n          FROM XIP_PUB_APP_SEC A\\n         WHERE T.APP_ID = A.APP_ID\\n           AND A.USER_ID = {?XIP.userId?})\\n   AND T.ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}]}","Get Apps",null,0,0,"admin","2015-04-01 15:56:06.0","admin","2015-04-01 15:56:15.0",1],["23WLMPQCSQLX","23WLDT41JADL","{\"id\":\"module\",\"title\":\"Insert ProcForms\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkCode\",\"sql\":\"select count(1) as \\\"V\\\" from xip_wf_process_forms t where t.FORM_ID = '{#textAppCode#}-{#textFormId#}'\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"表单编码已存在！\\\"]\",\"id\":\"codeExists\",\"xwlMeta\":\"except\",\"name\":\"checkCode.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"saveProcForm\",\"sql\":\"insert into xip_wf_process_forms\\n  (form_id,\\n   form_url,\\n   form_desc,\\n   app_id,\\n   entity_id,\\n   enable_flag,\\n   client_type,\\n   creation_date,\\n   created_by)\\nvalues\\n  ({?textFormCode?},\\n   {?textFormUrl?},\\n   {?textFormDesc?},\\n   {?selectApp?},\\n   {?selectEntity?},\\n   {?selectEnabled?},\\n   {?selectClientType?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?})\\n\",\"transaction\":\"start\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Insert ProcForms",null,0,0,"admin","2015-04-02 13:50:50.0","admin","2015-06-12 16:28:38.0",4],["23WLMPQCSQMK","23WLDT41JADL","{\"id\":\"module\",\"title\":\"Update ProcForms\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"updateFrom\",\"sql\":\"update xip_wf_process_forms\\n   set form_url          = {?textFormUrl?},\\n       form_desc         = {?textFormDesc?},\\n       enable_flag       = {?selectEnabled?},\\n       client_type       = {?selectClientType?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where form_id = {?textFormCode?}\\n\\n\",\"transaction\":\"start\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Update ProcForms",null,0,0,"admin","2015-04-02 14:02:08.0","admin","2015-06-12 16:34:22.0",5],["23WLMPQCSQN1","23WLDT41JADL","{\"id\":\"module\",\"title\":\"Get Entities\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.entity_id id, t.entity_code code, t.entity_name name\\n  from xip_wf_entities t\\n where t.app_id = {?selectApp?}\",\"xwlMeta\":\"dataProvider\"}]}","Get Entities",null,0,0,"admin","2015-04-02 14:05:52.0","admin","2015-04-02 14:09:31.0",2],["23WLP06546JL","23W2FPM1OF6M","{\"id\":\"module\",\"title\":\"UserFunsQuery\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"userFunsSql\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select xpa.app_id,\\n       xpa.app_code,\\n       xpa.web_host,\\n       xpa.in_xip,\\n       xpft.fun_tree_id,\\n       xpft.fun_tree_code,\\n       xpft.fun_tree_name,\\n       nvl(xpft.large_icon,'commonDesk.png') icon,\\n       xpft.mob_url,\\n       mod(rownum,3) row_no\\n  from xip_pub_apps xpa, xip_pub_fun_tree xpft\\n where xpa.enable_flag = 'Y'\\n   and xpft.enable_flag = 'Y'\\n   and xpa.app_id = xpft.app_id\\n   and xpft.fun_tree_id in\\n       (SELECT fun_tree_id\\n          FROM XIP_PUB_USER_FUNS UF\\n         WHERE UF.TYPE = 'U'\\n           AND UF.TARGET_ID = {?XIP.userId?}\\n        UNION\\n        SELECT fun_tree_id\\n          FROM XIP_PUB_USER_FUNS UF\\n         WHERE UF.TYPE = 'P'\\n           AND UF.TARGET_ID IN\\n               (SELECT POST_ID\\n                  FROM XIP_PUB_EMP_ASG\\n                 WHERE EMP_ID =\\n                       (SELECT EMP_ID\\n                          FROM XIP_PUB_USERS\\n                         WHERE USER_ID ={?XIP.userId?}))\\n        UNION\\n        SELECT fun_tree_id\\n          FROM XIP_PUB_USER_FUNS UF\\n         WHERE UF.TYPE = 'D'\\n           AND UF.TARGET_ID IN\\n               (SELECT DEPT_ID\\n                  FROM XIP_PUB_EMP_ASG\\n                 WHERE EMP_ID =\\n                       (SELECT EMP_ID\\n                          FROM XIP_PUB_USERS\\n                         WHERE USER_ID ={?XIP.userId?})))\\n  and xpft.MOB_URL is not null\\n\",\"mysql\":\"select xpa.APP_ID,\\n       xpa.APP_CODE,\\n       xpa.WEB_HOST,\\n       xpa.IN_XIP,\\n       xpft.FUN_TREE_ID,\\n       xpft.FUN_TREE_CODE,\\n       xpft.FUN_TREE_NAME,\\n       if(ifnull(xpft.large_icon,'commonDesk.png')='','commonDesk.png',ifnull(xpft.large_icon,'commonDesk.png')) ICON,\\n       xpft.MOB_URL,\\n       mod(@rownum:=@rownum+1,3) as  ROW_NO\\n  from(SELECT @rownum:=0) r,xip_pub_apps xpa, xip_pub_fun_tree xpft\\n where xpa.enable_flag = 'Y'\\n   and xpft.enable_flag = 'Y'\\n   and xpa.app_id = xpft.app_id\\n   and xpft.fun_tree_id in\\n       (SELECT fun_tree_id\\n          FROM XIP_PUB_USER_FUNS UF\\n         WHERE UF.TYPE = 'U'\\n           AND UF.TARGET_ID = {?XIP.userId?}\\n        UNION\\n        SELECT fun_tree_id\\n          FROM XIP_PUB_USER_FUNS UF\\n         WHERE UF.TYPE = 'P'\\n           AND UF.TARGET_ID IN\\n               (SELECT POST_ID\\n                  FROM XIP_PUB_EMP_ASG\\n                 WHERE EMP_ID =\\n                       (SELECT EMP_ID\\n                          FROM XIP_PUB_USERS\\n                         WHERE USER_ID ={?XIP.userId?}))\\n        UNION\\n        SELECT fun_tree_id\\n          FROM XIP_PUB_USER_FUNS UF\\n         WHERE UF.TYPE = 'D'\\n           AND UF.TARGET_ID IN\\n               (SELECT DEPT_ID\\n                  FROM XIP_PUB_EMP_ASG\\n                 WHERE EMP_ID =\\n                       (SELECT EMP_ID\\n                          FROM XIP_PUB_USERS\\n                         WHERE USER_ID ={?XIP.userId?})))\\n    and xpft.MOB_URL is not null\\n    and xpft.MOB_URL <>''\"},{\"id\":\"userFunsDataProviider\",\"sqlSwitcher\":\"userFunsSql\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","UserFunsQuery",null,0,0,"admin","2015-04-07 13:53:08.0","admin","2015-05-20 16:09:15.0",4],["23WM7NSY59GC","23W090GMALLY","{\"id\":\"module\",\"title\":\"getApps_queryForm\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  s.APP_ID ID,\\n  s.APP_NAME NAME \\nFROM\\n  xip_pub_apps s\\nWHERE s.enable_flag = 'Y' \\n  AND (\\n    s.APP_ID IN \\n    (SELECT \\n      c.APP_ID \\n    FROM\\n      XIP_PUB_APP_SEC c \\n    WHERE c.USER_ID = {?XIP.userId?})\\n  ) \\nORDER BY s.creation_date ASC \",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getApps_queryForm",null,0,0,"admin","2015-04-04 08:23:29.0","admin","2015-06-09 15:16:39.0",2],["23WM7NSY59IX","23W090GMALLY","{\"id\":\"module\",\"title\":\"getEntitys_QueryForm\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  s.ENTITY_ID ID,\\n  s.ENTITY_NAME NAME \\nFROM\\n  xip_wf_entities s\\nWHERE s.APP_ID = {?appId?}\\nORDER BY s.creation_date ASC \",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getEntitys_QueryForm",null,0,0,"admin","2015-04-04 08:28:39.0","admin","2015-06-09 15:22:42.0",3],["23WM7NSY59OJ","23W090GMALLY","{\"id\":\"module\",\"title\":\"getActs\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT A.APP_NAME,\\n       E.ENTITY_NAME,\\n       P.PROCESS_NAME,\\n       T.ACT_CODE,\\n       T.ACT_CATEGORY,\\n       T.ACT_NAME,\\n       CASE\\n           WHEN T.ACT_CATEGORY = 'Start' THEN\\n            '开始'\\n           WHEN T.ACT_CATEGORY = 'End' THEN\\n            '结束'\\n           WHEN T.ACT_CATEGORY = 'Notice' THEN\\n            '通知'\\n           WHEN T.ACT_CATEGORY = 'Function' THEN\\n            '功能'\\n           WHEN T.ACT_CATEGORY = 'Switch' THEN\\n            '判断'\\n           WHEN T.ACT_CATEGORY = 'Countersign' THEN\\n            '会签'\\n           WHEN T.ACT_CATEGORY = 'Response' THEN\\n            '抄送'\\n        END AS ACT_CATEGORY_NAME,\\n       T.ACT_ID,\\n       T.PROCESS_ID\\n  FROM XIP_WF_ACTS T\\n  LEFT JOIN XIP_WF_PROCESSES P\\n    ON T.PROCESS_ID = P.PROCESS_ID\\n  LEFT JOIN XIP_WF_ENTITIES E\\n    ON P.ENTITY_ID = E.ENTITY_ID\\n  LEFT JOIN XIP_PUB_APPS A\\n    ON E.APP_ID = A.APP_ID\\n WHERE (T.ACT_CATEGORY = 'Notice' OR T.ACT_CATEGORY = 'Countersign' OR\\n       T.ACT_CATEGORY = 'Response')\\n   AND (P.ENABLE_FLAG = 'C' OR P.ENABLE_FLAG = 'Y')\\n   AND EXISTS (SELECT *\\n          FROM XIP_WF_ACT_PROPERTIES ATTR\\n         WHERE ATTR.PROPERTY_CODE = 'a_executor_type'\\n           AND ATTR.PROPERTY_VALUE = 'GRANT'\\n           AND ATTR.ACT_ID = T.ACT_ID)\\n   AND P.PROCESS_NAME LIKE '%{#processName#}%'\\n   AND T.ACT_NAME LIKE '%{#actName#}%'\\n   {#whereSql#}\",\"xwlMeta\":\"dataProvider\"}]}","getActs",null,0,0,"admin","2015-04-04 08:34:10.0","admin","2015-04-24 13:54:22.0",4],["23WM7NSY5AJF","23W090GMALLY","{\"id\":\"module\",\"title\":\"executorAuth\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT M.VALUE_ID,\\n       M.ACT_ID,\\n       M.PROPERTY_CODE,\\n       M.EXECUTOR_TYPE,\\n       CASE\\n           WHEN M.EXECUTOR_TYPE = 'U' THEN\\n            '用户'\\n           WHEN M.EXECUTOR_TYPE = 'P' THEN\\n            '岗位'\\n           WHEN M.EXECUTOR_TYPE = 'D' THEN\\n            '部门'\\n        END AS EXECUTOR_TYPE_VIEW,\\n       M.EXECUTOR_VALUE,\\n       CASE\\n           WHEN M.EXECUTOR_TYPE = 'U' THEN\\n            (SELECT V1.USER_NAME\\n               FROM XIP_PUB_USERS V1\\n              WHERE V1.USER_ID = M.EXECUTOR_VALUE)\\n           WHEN M.EXECUTOR_TYPE = 'P' THEN\\n            (SELECT V2.POST_NAME\\n               FROM XIP_PUB_POSTS V2\\n              WHERE V2.POST_ID = M.EXECUTOR_VALUE)\\n           WHEN M.EXECUTOR_TYPE = 'D' THEN\\n            (SELECT V3.DEPT_NAME\\n               FROM XIP_PUB_DEPTS V3\\n              WHERE V3.DEPT_ID = M.EXECUTOR_VALUE)\\n        END AS EXECUTOR_VALUE_VIEW\\n  FROM XIP_WF_ACT_PV_ENUM M\\n WHERE M.ACT_ID = '{#actId#}'\\n   AND M.PROPERTY_CODE = 'a_executor_type'\\n\",\"xwlMeta\":\"dataProvider\"}]}","getExecutorAuths",null,0,0,"admin","2015-04-04 09:06:13.0","admin","2015-04-24 13:54:57.0",5],["23WM7NSY5AMP","23W090GMALLY","{\"id\":\"module\",\"title\":\"getExecutors\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT EMP_CODE, EMP_NAME, POST_NAME, DEPT_NAME, AUTH_TYPE\\n  FROM (SELECT E.EMP_CODE,\\n               E.EMP_NAME,\\n               '' POST_NAME,\\n               '' DEPT_NAME,\\n               '用户' AUTH_TYPE\\n          FROM XIP_PUB_EMPS E\\n         WHERE E.EMP_ID IN\\n               (SELECT U.EMP_ID\\n                  FROM XIP_PUB_USERS U\\n                 WHERE U.USER_ID IN (SELECT PE.EXECUTOR_VALUE\\n                                       FROM XIP_WF_ACT_PV_ENUM PE\\n                                      WHERE PE.ACT_ID = '{#actId#}'\\n                                        AND PE.EXECUTOR_TYPE = 'U'))\\n        UNION\\n        SELECT E.EMP_CODE,\\n               E.EMP_NAME,\\n               S.POST_NAME,\\n               (SELECT T.DEPT_NAME\\n                  FROM XIP_PUB_DEPTS T\\n                 WHERE T.DEPT_ID = G.DEPT_ID) DEPT_NAME,\\n               '岗位' AUTH_TYPE\\n          FROM XIP_PUB_EMPS E, XIP_PUB_EMP_ASG G, XIP_PUB_POSTS S\\n         WHERE E.EMP_ID = G.EMP_ID\\n           AND G.POST_ID = S.POST_ID\\n           AND G.POST_ID IN (SELECT PE.EXECUTOR_VALUE\\n                               FROM XIP_WF_ACT_PV_ENUM PE\\n                              WHERE PE.ACT_ID = '{#actId#}'\\n                                AND PE.EXECUTOR_TYPE = 'P')\\n        UNION\\n        SELECT E.EMP_CODE,\\n               E.EMP_NAME,\\n               '' POST_NAME,\\n               T.DEPT_NAME,\\n               '部门' AUTH_TYPE\\n          FROM XIP_PUB_EMPS E, XIP_PUB_EMP_ASG G, XIP_PUB_DEPTS T\\n         WHERE E.EMP_ID = G.EMP_ID\\n           AND G.DEPT_ID = T.DEPT_ID\\n           AND G.DEPT_ID IN (SELECT PE.EXECUTOR_VALUE\\n                               FROM XIP_WF_ACT_PV_ENUM PE\\n                              WHERE PE.ACT_ID = '{#actId#}'\\n                                AND PE.EXECUTOR_TYPE = 'D')\\n         GROUP BY E.EMP_CODE, E.EMP_NAME, T.DEPT_NAME) T_EXECUTORS\",\"xwlMeta\":\"dataProvider\"}]}","getExecutors",null,0,0,"admin","2015-04-04 09:09:44.0","admin","2015-04-24 14:00:21.0",6],["23WM7NSY5BPB","23W090GMALLY","{\"id\":\"module\",\"title\":\"deleteAuth\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_wf_act_pv_enum where VALUE_ID in ({#ids#})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteAuth",null,0,0,"admin","2015-04-04 09:41:01.0","admin","2015-04-07 13:15:55.0",7],["23WM7NSY5DU8","23W090GMALLY","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getUsers\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT P.USER_ID PRI_ID,\\n       P.USER_NAME PRI_NAME,\\n       (select EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID = P.EMP_ID) EMP_NAME,\\n       'U' PRI_TYPE,\\n       '用户' PRI_TYPE_NAME\\n  FROM XIP_PUB_USERS P\\n WHERE P.USER_NAME LIKE '%{#queryUserNameUpper#}%'\"}]}","getUsers",null,0,0,"admin","2015-04-04 10:52:33.0","23XQ4UO678F5","2015-10-19 16:23:16.0",8],["23WM7NSY5DUE","23W090GMALLY","{\"id\":\"module\",\"title\":\"getPosts\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT P.POST_ID PRI_ID,\\n       P.POST_NAME PRI_NAME,\\n       (select ORG_NAME FROM XIP_PUB_ORGS WHERE ORG_ID = P.ORG_ID) ORG_NAME,\\n       (select DEPT_NAME FROM XIP_PUB_DEPTS WHERE DEPT_ID = P.DEPT_ID) DEPT_NAME,\\n       'P' PRI_TYPE,\\n       '岗位' PRI_TYPE_NAME\\n  FROM XIP_PUB_POSTS P\\n WHERE P.POST_NAME LIKE '%{#queryPostName#}%'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getPosts",null,0,0,"admin","2015-04-04 10:52:41.0","admin","2015-05-20 15:52:35.0",9],["23WM7NSY5DUJ","23W090GMALLY","{\"id\":\"module\",\"title\":\"getDepts\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT P.DEPT_ID PRI_ID,\\n       P.DEPT_NAME PRI_NAME,\\n       (select ORG_NAME FROM XIP_PUB_ORGS WHERE ORG_ID = P.ORG_ID) ORG_NAME,\\n       'D' PRI_TYPE,\\n       '部门' PRI_TYPE_NAME\\n  FROM XIP_PUB_DEPTS P\\n WHERE P.DEPT_NAME LIKE '%{#queryDeptName#}%'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getDepts",null,0,0,"admin","2015-04-04 10:52:47.0","admin","2015-05-20 15:56:43.0",10],["23WM7NSY5FOR","23W090GMALLY","{\"id\":\"module\",\"title\":\"getActs\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT A.APP_NAME,\\n       E.ENTITY_NAME,\\n       P.PROCESS_NAME,\\n       T.ACT_CODE,\\n       T.ACT_CATEGORY,\\n       T.ACT_NAME,\\n       CASE\\n           WHEN T.ACT_CATEGORY = 'Start' THEN\\n            '开始'\\n           WHEN T.ACT_CATEGORY = 'End' THEN\\n            '结束'\\n           WHEN T.ACT_CATEGORY = 'Notice' THEN\\n            '通知'\\n           WHEN T.ACT_CATEGORY = 'Function' THEN\\n            '功能'\\n           WHEN T.ACT_CATEGORY = 'Switch' THEN\\n            '判断'\\n           WHEN T.ACT_CATEGORY = 'Countersign' THEN\\n            '会签'\\n           WHEN T.ACT_CATEGORY = 'Response' THEN\\n            '抄送'\\n        END AS ACT_CATEGORY_NAME,\\n       T.ACT_ID,\\n       T.PROCESS_ID\\n  FROM XIP_WF_ACTS T\\n  LEFT JOIN XIP_WF_PROCESSES P\\n    ON T.PROCESS_ID = P.PROCESS_ID\\n  LEFT JOIN XIP_WF_ENTITIES E\\n    ON P.ENTITY_ID = E.ENTITY_ID\\n  LEFT JOIN XIP_PUB_APPS A\\n    ON E.APP_ID = A.APP_ID\\n WHERE (T.ACT_CATEGORY = 'Notice' OR T.ACT_CATEGORY = 'Countersign' OR\\n       T.ACT_CATEGORY = 'Response')\\n   AND (P.ENABLE_FLAG = 'C' OR P.ENABLE_FLAG = 'Y')\\n   AND EXISTS (SELECT *\\n          FROM XIP_WF_ACT_PROPERTIES ATTR\\n         WHERE ATTR.PROPERTY_CODE = 'a_executor_type'\\n           AND ATTR.PROPERTY_VALUE = 'GRANT'\\n           AND ATTR.ACT_ID = T.ACT_ID)\\n   AND P.PROCESS_NAME LIKE '%{#processName_auth#}%'\\n   AND T.ACT_NAME LIKE '%{#actName_auth#}%'\\n   {#whereSql#}\",\"xwlMeta\":\"dataProvider\"}]}","getActs_auth",null,0,0,"admin","2015-04-04 11:47:12.0","admin","2015-04-24 14:23:12.0",11],["23WN5GM09MHC","23W090GMALLY","{\"id\":\"module\",\"title\":\"getAuthUser\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select m.executor_type PRI_TYPE,\\n       '用户' PRI_TYPE_NAME,\\n       m.executor_value PRI_ID,\\n       (select v1.user_name\\n          from xip_pub_users v1\\n         where v1.user_id = m.executor_value) PRI_NAME\\n  from xip_wf_act_pv_enum m\\n where m.act_id = '{#actId#}'\\n   and m.property_code = 'a_executor_type'\\n   and m.executor_type = 'U'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getAuthUsers",null,0,0,"admin","2015-04-07 14:04:23.0","admin","2015-04-07 16:30:55.0",12],["23WN5GM09MHN","23W090GMALLY","{\"id\":\"module\",\"title\":\"getAuthPosts\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select m.executor_type PRI_TYPE,\\n       '岗位' PRI_TYPE_NAME,\\n       m.executor_value PRI_ID,\\n       (select v2.post_name\\n          from xip_pub_posts v2\\n         where v2.post_id = m.executor_value) PRI_NAME\\n  from xip_wf_act_pv_enum m\\n where m.act_id = '{#actId#}'\\n   and m.property_code = 'a_executor_type'\\n   and m.executor_type = 'P'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getAuthPosts",null,0,0,"admin","2015-04-07 14:04:39.0","admin","2015-04-07 16:32:07.0",13],["23WN5GM09MHU","23W090GMALLY","{\"id\":\"module\",\"title\":\"getAuthDepts\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select m.executor_type PRI_TYPE,\\n       '部门' PRI_TYPE_NAME,\\n       m.executor_value PRI_ID,\\n       (select v3.dept_name\\n          from xip_pub_depts v3\\n         where v3.dept_id = m.executor_value) PRI_NAME\\n  from xip_wf_act_pv_enum m\\n where m.act_id = '{#actId#}'\\n   and m.property_code = 'a_executor_type'\\n   and m.executor_type = 'D'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getAuthDepts",null,0,0,"admin","2015-04-07 14:04:49.0","admin","2015-04-07 16:33:02.0",14],["23WN5GM09NKY","23W090GMALLY","{\"id\":\"module\",\"title\":\"getActById\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select a.app_name APP_NAME_INFO, e.entity_name ENTITY_NAME_INFO, p.process_name PROCESS_NAME_INFO, t.act_name ACT_NAME_INFO, t.act_id ACT_ID_INFO\\n  from xip_pub_apps a, xip_wf_entities e, xip_wf_processes p, xip_wf_acts t \\n where t.act_id = '{#actId#}'\\n   and t.process_id = p.process_id\\n   and p.entity_id = e.entity_id\\n   and e.app_id = a.app_id\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getActById",null,0,0,"admin","2015-04-07 14:41:58.0","admin","2015-04-07 14:53:40.0",15],["23WN5GM09PKZ","23W090GMALLY","{\"id\":\"module\",\"title\":\"getUsers\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT P.USER_ID PRI_ID,\\n       P.USER_NAME PRI_NAME,\\n       'U' PRI_TYPE,\\n       '用户' PRI_TYPE_NAME\\n  FROM XIP_PUB_USERS P\\n WHERE P.USER_NAME LIKE '%{#queryUserName_edit#}%'\",\"xwlMeta\":\"dataProvider\"}]}","getUsers_edit",null,0,0,"admin","2015-04-07 15:52:20.0","admin","2015-04-24 14:24:34.0",16],["23WN5GM09PLH","23W090GMALLY","{\"id\":\"module\",\"title\":\"getPosts\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT P.POST_ID PRI_ID,\\n       P.POST_NAME PRI_NAME,\\n       'P' PRI_TYPE,\\n       '岗位' PRI_TYPE_NAME\\n  FROM XIP_PUB_POSTS P\\n WHERE P.POST_NAME LIKE '%{#queryPostName_edit#}%'\",\"xwlMeta\":\"dataProvider\"}]}","getPosts_edit",null,0,0,"admin","2015-04-07 15:52:45.0","admin","2015-04-24 14:24:58.0",17],["23WN5GM09PLQ","23W090GMALLY","{\"id\":\"module\",\"title\":\"getDepts\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT P.DEPT_ID PRI_ID,\\n       P.DEPT_NAME PRI_NAME,\\n       'D' PRI_TYPE,\\n       '部门' PRI_TYPE_NAME\\n  FROM XIP_PUB_DEPTS P\\n WHERE P.DEPT_NAME LIKE '%{#queryDeptName_edit#}%'\",\"xwlMeta\":\"dataProvider\"}]}","getDepts_edit",null,0,0,"admin","2015-04-07 15:52:58.0","admin","2015-04-24 14:25:26.0",18],["23WNS7OEJUTK","23VVZ3QMOKQA",null,"控制面板",null,0,0,"admin","2015-04-09 11:11:45.0","admin","2015-06-04 18:10:46.0",17],["23WNUSJRZOSI","23VRM7XF4LFL","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"密码修改\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nvar enUrl = request.getParameter('url');\\nvar url = java.net.URLDecoder.decode(enUrl,'UTF-8');\\n\\nvar pwdLenLimit= com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_LEN_LIMIT\\\");\\nvar pwdIncludeChar =  com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_INCLUDE_CHAR\\\");\\nrequest.setAttribute(\\\"PW_LEN_LIMIT\\\",pwdLenLimit);\\nrequest.setAttribute(\\\"PW_INCLUDE_CHAR\\\",pwdIncludeChar);\\nrequest.setAttribute(\\\"url\\\",url);\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"header\":\"<script>\\n  var navigatorType = '';\\n  var pwdLength = 200;\\n  \\n  Ext.Ajax.request({\\n    url : '{#contextPath#}' +'/frameAction.do?method=getSysVariable',\\n    method: 'POST',\\n    async:false,\\n    success: function(response,options){\\n      var temp = response.responseText;\\n      var resp = Ext.JSON.decode(temp);\\n      navigatorType = resp.navigatorType;\\n      \\n      if(resp.PW_LEN_LIMIT!=0 && resp.PW_LEN_LIMIT!=null){\\n        pwdLength = resp.PW_LEN_LIMIT;\\n      }\\n      \\n    },\\n    failure: function(response,options){\\n    }\\n  });\\n<\\/script>\"},{\"xwlMeta\":\"array\",\"id\":\"array11\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"text\":\"保存\",\"click\":\"var np = Ext.getCmp('newPwd').getValue(); \\nif(np == null || np == \\\"\\\" || np == \\\"undefined\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入新密码!\\\") ;\\n  return false;\\n}\\nvar cnp = Ext.getCmp('confirmNewPwd').getValue();\\nif(cnp == null || cnp == \\\"\\\" || cnp == \\\"undefined\\\"){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请输入确认密码!\\\") ;\\n  return false;\\t\\t\\t\\t\\n}\\n\\nif(!modifyPwdForm.getForm().isValid()){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"密码长度不正确!\\\") ;\\n  return false;\\n}\\n\\nif('{#PW_INCLUDE_CHAR#}'==='Y'){\\n  var re = new RegExp(\\\"[A-Za-z\\\\x21-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\x7e]\\\");\\n  \\n  if(!re.test(np)){\\n    Ext.Msg.alert(\\\"提示\\\",\\\"新密码必须要包含字母或者特殊字符!\\\");\\n    return;\\n  }\\n}\\n\\nif(np != cnp){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"新密码与确认密码不一致!\\\") ;\\n  return false;\\t\\t\\t\\t\\t\\n}\\n\\n// 等待框\\nvar msg = Ext.MessageBox.show({\\n  title \\t : \\t'请等待',\\n  msg \\t : \\t'正在提交请求.......',\\n  width \\t : \\t240,\\n  wait\\t : \\ttrue,\\n  progress : \\ttrue,\\n  closable : \\tfalse\\n});\\t\\n\\n// 提交请求\\nExt.Ajax.request({\\n  url \\t: '{#contextPath#}' + '/frameAction.do?method=modifyUserPassword',\\n  params\\t: {\\n    'password' : \\thex_md5(cnp),\\n    'isValidPassword' : 'N'\\n  },\\n  method \\t: 'post',\\n  timeout : 3600000,\\n  success : function(response, options) {\\n    msg.hide();\\n    var resp = Ext.JSON.decode(response.responseText);\\n\\n    if(resp.flag == \\\"1\\\"){\\n      \\twindow.location.href=\\\"{#url#}\\\";\\t\\t\\t\\t\\t\\n    }\\n    Ext.Msg.alert(\\\"提示\\\", resp.msg);\\n  },\\n  failure : function(reponse, options) {\\n    msg.hide();\\n    var response = Ext.JSON.decode(response.responseText);\\n    Ext.Msg.alert(\\\"提示\\\", response.msg);\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"cancelBtn\",\"text\":\"重置\",\"click\":\"modifyPwdForm.getForm().reset();\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"destroy\",\"id\":\"modifyPwdWin\",\"bgColor\":\"#CCFFFF\",\"autoShow\":\"true\",\"title\":\"密码修改\",\"height\":\"200\",\"closable\":\"false\",\"layout\":\"fit\",\"resizable\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"380\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"modifyPwdForm\",\"height\":\"200\",\"layout\":\"fit\",\"width\":\"400\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"modifyPwdPanel\",\"columnWidth\":\".5\",\"border\":\"false\",\"bodyStyle\":\"padding: 20px 50px 0px\",\"buttons\":\"array11\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color=red>*<\\/font>新密码\",\"id\":\"newPwd\",\"minLength\":\"('{#PW_LEN_LIMIT#}'==0 || '{#PW_LEN_LIMIT#}'==null) ? 6: '{#PW_LEN_LIMIT#}'\",\"inputType\":\"password\",\"labelWidth\":\"80\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color=red>*<\\/font>确认密码\",\"id\":\"confirmNewPwd\",\"minLength\":\"('{#PW_LEN_LIMIT#}'==0 || '{#PW_LEN_LIMIT#}'==null) ? 6: '{#PW_LEN_LIMIT#}'\",\"inputType\":\"password\",\"labelWidth\":\"80\"}]}]}]}]}","modifyPasswordWithoutValidate",null,1,0,"admin","2015-04-09 16:50:02.0","23XQ4B4KHDBR","2015-08-28 11:12:58.0",9],["23WO6G8BUQPZ","23WO6G8BUQQF","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"用户功能授权\",\"loginRequired\":\"false\",\"initScript\":\"request.setAttribute(\\\"contextPath\\\",request.getContextPath());\\nrequest.setAttribute(\\\"delImageSrc\\\",request.getContextPath()+\\\"/pub/uip/common/image/cut.gif\\\");\\n\\n \",\"finalize\":\"//选中父节点的下的所有子节点\\n\\nfunction childChecked(parentNode,checked){\\n  parentNode.expand();\\n  //选中自己\\n  parentNode.set({checked:checked});\\n  if(parentNode.data.NODE_TYPE === 'F' && checked === true){\\n     var tempJson={FUN_TREE_ID:parentNode.get('ID'),FUN_TREE_CODE:parentNode.get('FUN_TREE_CODE'),FUN_TREE_NAME:parentNode.get('text')};      \\n     storecopytree.add(tempJson);\\n  }\\n  if(parentNode.data.NODE_TYPE === 'F' && checked === false){\\n    var record = storecopytree.findRecord('FUN_TREE_ID',parentNode.get('ID'));\\n    storecopytree.remove(record);\\n  }\\n  //计算选择的数\\n  allcount();\\n  if(parentNode.hasChildNodes){\\n    parentNode.eachChild(function(childNode){\\n      childChecked(childNode,checked);\\n    });\\n  }\\n}\\n//选中子节点的时候，同时选中父节点\\nfunction parentChecked(childNode,checked){\\n  childNode.set({checked:checked});\\n  var parentNode = childNode.parentNode;\\n  if(parentNode){\\n    var flag = false;\\n    parentNode.eachChild(function(node){\\n      if(node.data.checked === true){\\n        flag = true;\\n      }\\n    });\\n    //取消选中时\\n    if(checked === false){\\n      if(!flag){\\n        parentChecked(parentNode,checked);\\n      }  \\n    }else{\\n      if(flag){\\n        parentChecked(parentNode,checked);\\n      }\\n    }  \\n  }\\n  \\n}\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"deletejsforfun\",\"footer\":\"<script >\\n\\n  function deleteCopyAllFun(){ \\n\\n    var record=UDPgrid.getSelectionModel().getSelection();\\n\\n    var type = record[0].get('TYPE');\\n\\n    selectRightCopyStore.remove(record);\\n\\n    //取出类型进行判断\\n    //判断用户\\n    var rid=record[0].data.TARGET_ID;\\n    if(type=='U'){\\n      //点击删除 去掉勾选的对号\\n      for(var j=0;j<storegriduser.getCount();j++){\\n        var r_id=storegriduser.getAt(j).get('USER_ID');\\n        if(rid===r_id){\\n\\n          usergrid.getSelectionModel().deselect(storegriduser.getAt(j));\\n          break;\\n        }\\n\\n      }\\t\\n    }\\n    \\n    //判部门户\\n    if(type=='D'){\\n      for(var j=0;j<storegriddept.getCount();j++){\\n        var r_id=storegriddept.getAt(j).get('DEPT_ID');\\n        if(rid===r_id){\\n\\n          deptgrid.getSelectionModel().deselect(storegriddept.getAt(j));\\n          break;\\n        }\\n\\n      }\\t\\n    }\\n\\n    //判部岗位\\n    if(type=='P'){\\n      for(var j=0;j<storegridpost.getCount();j++){\\n        var r_id=storegridpost.getAt(j).get('POST_ID');\\n        if(rid===r_id){\\n\\n          postgrid.getSelectionModel().deselect(storegridpost.getAt(j));\\n          break;\\n        }\\n\\n      }\\t\\n    }\\n\\n    allcount1();\\n  }\\n  \\n  //删除全部已选的用户、部门、岗位\\n  function deleteAlludp(){\\n    Ext.Msg.confirm('提示','确定删除全部已选的用户、部门、岗位?',function(btn){\\n      if(btn == 'yes'){\\n        selectRightCopyStore.removeAll();\\n\\n        usergrid.getSelectionModel().deselectAll();\\n        deptgrid.getSelectionModel().deselectAll();\\n        postgrid.getSelectionModel().deselectAll();\\n        \\n        allcount1();\\n      }\\n    });\\n  }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"deleteTreeFun\",\"footer\":\"<script>\\n  function deleteCopyFun(){ \\n    var record=Fungrid.getSelectionModel().getSelection();\\n    storecopytree.remove(record);\\n    //点击删除 去掉勾选的对号\\n    var uid=record[0].get('FUN_TREE_ID');\\n    var selectLength = menuFunctionTree.getChecked().length;\\n\\n    for(var j=0;j<selectLength;j++){     \\n      var res=menuFunctionTree.getChecked();\\n      var type=res[j].get('NODE_TYPE');\\n      if(type=='F'){\\n        if(uid===res[j].get('ID')){\\n          res[j].set('checked',false);\\n          res[j].commit();\\n          menuFunctionTree.getView().refresh();\\n          // menuFunctionTree.getStore().getNodeById(res[j].get('ID')).data.checked = false;\\n          //menuFunctionTree.getChecked().deselect(menuFunctionStore.getAt(j));\\n          break;\\n        }\\n      }\\n    }\\n    allcount();\\n  }\\n\\n  //删除全部已选的功能\\n  function deleteAllFuns(){\\n    Ext.Msg.confirm('提示','确定删除全部已选的功能?',function(btn){\\n      if(btn == 'yes'){\\n        storecopytree.removeAll();\\n\\n        var allCheckedNodes = menuFunctionTree.getChecked();\\n        for(var i=0; i<allCheckedNodes.length; i++){\\n          allCheckedNodes[i].set('checked',false);\\n          allCheckedNodes[i].commit();\\n        }\\n\\n        menuFunctionTree.getView().refresh();\\n        \\n        allcount();\\n      }\\n    });\\n  }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"countleftfun\",\"footer\":\"<script>\\nfunction allcount()\\n{ \\n  var count=storecopytree.getCount();\\n // var count=row.length;\\n\\n       \\n  \\t\\tif(count===0){\\n   \\t\\t\\t document.getElementById(\\\"fun\\\").innerHTML = \\\"已选功能(\\\"+count+\\\")\\\"; \\n  \\t\\t\\t\\t}else{\\n    \\t\\t\\t document.getElementById(\\\"fun\\\").innerHTML = \\\"已选功能(\\\"+count+\\\")\\\"; \\n  \\t\\t\\t}\\n \\n\\n \\n\\n}\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"countrightfun\",\"footer\":\"<script>\\nfunction allcount1()\\n{ \\n  var row=Wb.getSelRec(usergrid);\\n   var row1=Wb.getSelRec(deptgrid);\\n   var row2=Wb.getSelRec(postgrid);\\n  var count=row.length;\\n  var count1=row1.length;\\n   var count2=row2.length;\\n   var s=selectRightCopyStore.getModifiedRecords().length;\\n//判断UDPgrid用户部门岗位的的个数\\n\\n   var a=0;\\n  var b=0;\\n  var c=0;\\n                   for(var k=0;k<s;k++){\\n    \\t\\t\\t\\t\\tvar type=selectRightCopyStore.getAt(k).get('TYPE');\\n                   \\n                     if(type==='U'){      \\n                       a++;  \\n                      \\n                     }\\t\\n                       if(type==='D'){      \\n                       b++;       \\n                       \\n                     }\\t\\n                       if(type==='P'){      \\n                       c++;       \\n                       \\n                     }\\t\\n                   }\\n  \\n  \\t\\t\\t\\n   \\n             \\n  //alert(c);//用户个数\\n  if(count===0){\\n   if(usergrid.getStore().isLoading()===false){\\n    \\n     if(a===0){\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\"; \\n     }\\n     else{\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n      document.getElementById(\\\"all\\\").innerHTML = \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\"; \\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"all\\\").innerHTML = \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\"; \\n  }\\n  //部门个数\\n  if(count1===0){\\n   if(deptgrid.getStore().isLoading()===false){\\n    \\n     if(b===0){\\n        document.getElementById(\\\"all\\\").innerHTML =  \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\"; \\n     }\\n     else{\\n        document.getElementById(\\\"all\\\").innerHTML =  \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\";\\n     }\\n     \\n    }\\n   else{\\n\\n      document.getElementById(\\\"all\\\").innerHTML =  \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\";\\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"all\\\").innerHTML = \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\";\\n  } \\n  //岗位个数\\n   if(count2===0){\\n   if(postgrid.getStore().isLoading()===false){\\n    \\n     if(c===0){\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\"; \\n     }\\n     else{\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n      document.getElementById(\\\"all\\\").innerHTML = \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\"; \\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"all\\\").innerHTML = \\\"已选用户(\\\"+a+\\\")部门(\\\"+b+\\\")岗位(\\\"+c+\\\")\\\"; \\n  } \\n  \\n  \\n  \\n  \\n \\n \\n\\n}\\n<\\/script>\\n\"},{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WSD6KB5NME (deleteFun)\",\"id\":\"delete_fun_ajax\",\"output\":\"grid1\",\"success\":\"Wb.message('删除成功!');\\nWb.load(storefunAll);\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X4WSD8FBG6 (batchAddFunSec)\",\"id\":\"addFunGrantAjax\",\"showMask\":\"false\",\"success\":\"Wb.unmask();\\nWb.message('授权操作成功！');\\nWb.load(storefunAll);\\n\",\"beforerequest\":\"Wb.mask();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X4WSD8FC5Q (batchDelFunGtant)\",\"id\":\"delFunGrantAjax\",\"failure\":\"Wb.error('撤销授权失败！');\",\"success\":\"Wb.message('撤销授权成功!');\\nWb.load(storefunAll);\\n\\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"storefunAll\",\"url\":\"#23WO6G8BUVJG (selectFunAll)\",\"output\":\"userFrom\"},{\"xwlMeta\":\"store\",\"id\":\"storeFunAllhiden\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23WSD6KB5MSC (selectFunAllHiden)\",\"output\":\"userFrom\"},{\"xwlMeta\":\"store\",\"id\":\"selectRightCopyStore\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BV2WZ (selectRightCopy)\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#23WO6G8BUWG6 (getMenuFunctionsTree)\",\"id\":\"menuFunctionStore\",\"load\":\"menuFunctionTree.expandAll();\",\"beforeload\":\"operation.params.parentID=operation.node.get('ID');\\n\"},{\"xwlMeta\":\"store\",\"id\":\"storecopytree\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BUYSA (selecttreecopy)\"},{\"xwlMeta\":\"store\",\"id\":\"storegriduser\",\"url\":\"#23WO6G8BUWK4 (noOrgDeptGridUser)\",\"output\":\"userform\",\"load\":\"var arr=[];\\nfor(var i=0;i<selectRightCopyStore.getCount();i++){\\n  var uid=selectRightCopyStore.getAt(i).get('TARGET_ID');\\n  for(var j=0;j<storegriduser.getCount();j++){\\n    if(uid===storegriduser.getAt(j).get('USER_ID')){\\n      arr.push(storegriduser.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\nusergrid.getSelectionModel().select(arr);\",\"beforeload\":\"var whereSql= ' AND 1=1';\\nif(Ext.isEmpty(comboBox11.getValue()) && Ext.isEmpty(comboBox2.getValue())){\\n  store.getProxy().url='main?xwl=23WO6G8BUWK4';  //noOrgDeptGridUser\\n}else{\\n  store.getProxy().url='main?xwl=23WO6G8BUWQF';  //orgDeptGridUser\\n}\\nif(!Ext.isEmpty(comboBox11.getValue())){\\n  \\n  whereSql +=' AND b.ORG_ID =\\\\''+comboBox11.getValue()+'\\\\'';\\n}\\nif(!Ext.isEmpty(comboBox2.getValue())){\\n  whereSql +=' AND b.DEPT_ID =\\\\''+comboBox2.getValue()+'\\\\'';\\n}\\nstore.getProxy().extraParams.WHERESQL = whereSql;\\n\\n\\n\\n\"},{\"xwlMeta\":\"store\",\"id\":\"storegriddept\",\"url\":\"#23WO6G8BUWK8 (selectgriddept)\",\"output\":\"deptform\",\"load\":\"var arr=[];\\nfor(var i=0;i<selectRightCopyStore.getCount();i++){\\n  var uid=selectRightCopyStore.getAt(i).get('TARGET_ID');\\n  for(var j=0;j<storegriddept.getCount();j++){\\n    if(uid===storegriddept.getAt(j).get('DEPT_ID')){\\n      arr.push(storegriddept.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\ndeptgrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"store\",\"id\":\"storegridpost\",\"url\":\"#23WO6G8BUWKM (selectgridpost)\",\"output\":\"postform\",\"load\":\"var arr=[];\\nfor(var i=0;i<selectRightCopyStore.getCount();i++){\\n  var uid=selectRightCopyStore.getAt(i).get('TARGET_ID');\\n  for(var j=0;j<storegridpost.getCount();j++){\\n    if(uid===storegridpost.getAt(j).get('POST_ID')){\\n      arr.push(storegridpost.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\npostgrid.getSelectionModel().select(arr);\",\"beforeload\":\"var whereSql = ' and 1=1';\\nif(!Ext.isEmpty(postDeptCombobox.getValue())){\\n  whereSql = ' and t.DEPT_ID = \\\\''+postDeptCombobox.getValue()+'\\\\'';\\n}\\nstore.getProxy().extraParams.WHERESQL = whereSql;\"},{\"xwlMeta\":\"store\",\"id\":\"storeorgs\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BUWNF (selectOrgs)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"storeorgs1\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BUWNF (selectOrgs)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"storeorgs2\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BUWNF (selectOrgs)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"storedeptname\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BUWNH (selectDeptName)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"postStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23X4DT3U5ODN (postDeptStore)\",\"output\":\"deptform\",\"showMask\":\"false\",\"beforeload\":\"var whereSql = ' and 1=1';\\nif(!Ext.isEmpty(comboBoxpost.getValue())){\\n  whereSql = ' and t.ORG_ID = \\\\''+comboBoxpost.getValue()+'\\\\'';\\n}else{\\n  whereSql = ' and t.ORG_ID =\\\\'\\\\'';\\n}\\nstore.getProxy().extraParams.WHERESQL = whereSql;\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"grid1array\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xuhao\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUN_TREE_ID\",\"id\":\"funid\",\"text\":\"功能id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_FUN_ID\",\"id\":\"userfunid\",\"text\":\"用户功能id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"mbid\",\"text\":\"目标ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUN_TREE_NAME\",\"id\":\"gnmc\",\"text\":\"功能名称\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET\",\"id\":\"qxmc\",\"text\":\"权限名称\",\"width\":\"350\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TYPE\",\"id\":\"qxlx\",\"renderer\":\"if(value === \\\"U\\\"){\\n  return \\\"用户\\\";\\n}else if(value === \\\"D\\\"){\\n  return \\\"部门\\\";\\n}else if(value === \\\"P\\\"){\\n  return \\\"岗位\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"权限类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATION_DATE\",\"id\":\"creattime\",\"text\":\"创建时间\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Fungridcolumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xuhao1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUN_TREE_ID\",\"id\":\"column211\",\"text\":\"功能ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUN_TREE_CODE\",\"id\":\"gncode\",\"text\":\"功能编码\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUN_TREE_NAME\",\"id\":\"gnname\",\"text\":\"功能名称\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"id\":\"dorpgn\",\"renderer\":\"//var str = \\\"<a href=\\\\\\\"javascript:assginEmployee('\\\"+c_orgId+\\\"','\\\"+c_deptId+\\\"','\\\"+c_postId+\\\"','\\\"+c_deptName+\\\"','\\\"+c_postName+\\\"');\\\\\\\">员工分配数：\\\"+record.get('EMP_NUM')+\\\"<\\/a>\\\" ;\\nvar str = \\\"<a href=\\\\\\\"javascript:deleteCopyFun();\\\\\\\"> 删除 <\\/a>\\\";\\nreturn str;\",\"text\":\"删除\",\"width\":\"50\"}]},{\"xwlMeta\":\"array\",\"id\":\"UDPgridarray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xuhao2\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"userid1\",\"text\":\"目标id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"UNAME\",\"id\":\"username1\",\"text\":\"权限名称\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENAME\",\"id\":\"empname1\",\"text\":\"权限内容\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TYPE\",\"id\":\"type1\",\"renderer\":\"if(value === \\\"U\\\"){\\n  return \\\"用户\\\";\\n}else if(value === \\\"D\\\"){\\n  return \\\"部门\\\";\\n}else if(value === \\\"P\\\"){\\n  return \\\"岗位\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"类型\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"id\":\"dorpgn1\",\"renderer\":\"//var str = \\\"<a href=\\\\\\\"javascript:assginEmployee('\\\"+c_orgId+\\\"','\\\"+c_deptId+\\\"','\\\"+c_postId+\\\"','\\\"+c_deptName+\\\"','\\\"+c_postName+\\\"');\\\\\\\">员工分配数：\\\"+record.get('EMP_NUM')+\\\"<\\/a>\\\" ;\\nvar str = \\\"<a href=\\\\\\\"javascript:deleteCopyAllFun();\\\\\\\"> 删除 <\\/a>\\\";\\nreturn str;\",\"text\":\"删除\",\"width\":\"50\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid12columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"userid\",\"text\":\"用户ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"username\",\"text\":\"用户名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"empname\",\"text\":\"员工姓名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TYPE\",\"id\":\"type111\",\"renderer\":\"//var str = \\\"<a href=\\\\\\\"javascript:assginEmployee('\\\"+c_orgId+\\\"','\\\"+c_deptId+\\\"','\\\"+c_postId+\\\"','\\\"+c_deptName+\\\"','\\\"+c_postName+\\\"');\\\\\\\">员工分配数：\\\"+record.get('EMP_NUM')+\\\"<\\/a>\\\" ;\\nvar str = \\\"U\\\";\\nreturn str;\",\"text\":\"类型\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid22columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_ID\",\"id\":\"deptid\",\"text\":\"部门id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_CODE\",\"id\":\"deptcode\",\"text\":\"部门编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"deptname\",\"text\":\"部门名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"orgname\",\"text\":\"组织名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TYPE\",\"id\":\"type11\",\"renderer\":\"//var str = \\\"<a href=\\\\\\\"javascript:assginEmployee('\\\"+c_orgId+\\\"','\\\"+c_deptId+\\\"','\\\"+c_postId+\\\"','\\\"+c_deptName+\\\"','\\\"+c_postName+\\\"');\\\\\\\">员工分配数：\\\"+record.get('EMP_NUM')+\\\"<\\/a>\\\" ;\\nvar str = \\\"D\\\";\\nreturn str;\",\"text\":\"类型\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid32columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column31\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_ID\",\"id\":\"postid\",\"text\":\"岗位id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_CODE\",\"id\":\"postcode\",\"text\":\"岗位编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_NAME\",\"id\":\"postname\",\"text\":\"岗位名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"deptname2\",\"text\":\"部门名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TYPE\",\"id\":\"type12\",\"renderer\":\"//var str = \\\"<a href=\\\\\\\"javascript:assginEmployee('\\\"+c_orgId+\\\"','\\\"+c_deptId+\\\"','\\\"+c_postId+\\\"','\\\"+c_deptName+\\\"','\\\"+c_postName+\\\"');\\\\\\\">员工分配数：\\\"+record.get('EMP_NUM')+\\\"<\\/a>\\\" ;\\nvar str = \\\"P\\\";\\nreturn str;\",\"text\":\"类型\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"hiddenFuncolumn\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"FUN_TREE_ID\",\"id\":\"funid1\",\"text\":\"功能id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"USER_FUN_ID\",\"id\":\"userfunid1\",\"text\":\"用户功能id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"TARGET_ID\",\"id\":\"mbid1\",\"text\":\"目标ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"TYPE\",\"id\":\"qxlx1\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"array\",\"id\":\"window1btn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"set_icon\",\"id\":\"setfunbtn\",\"text\":\"授权\",\"click\":\"if(selectRightCopyStore.getCount()===0 || storecopytree.getCount()===0){\\n   Wb.warning('请选择要授权的对象！');\\n   return ;\\n  } \\n//====================定义筛选变量====================\\nvar _matchIdsAttay = [];\\nvar _matchStr = '';\\nvar _tmpFunId = '';\\nvar _tmpTargetId = '';\\nstorecopytree.each(function(funRecord){\\n  _tmpFunId +=\\\"'\\\"+funRecord.data.FUN_TREE_ID+\\\"',\\\";\\n  selectRightCopyStore.each(function(grantRecord){\\n    _matchStr=funRecord.data.FUN_TREE_ID+','+grantRecord.data.TARGET_ID+','+grantRecord.data.TYPE;//组织,应用,类型   格式\\n    _matchIdsAttay.push(_matchStr);    \\n  });\\n});\\nselectRightCopyStore.each(function(tmp){\\n  _tmpTargetId +=\\\"'\\\"+tmp.data.TARGET_ID+\\\"',\\\";\\n});\\n//=============获取要授权的对象============================\\n_tmpFunId = _tmpFunId.substring(0,_tmpFunId.length-1);\\n_tmpTargetId = _tmpTargetId.substring(0,_tmpTargetId.length-1);\\nvar _existGrant = '';\\n//==============筛选已经授权的数据===========================\\nstoreFunAllhiden.load({params:{funIds:_tmpFunId,targetIds:_tmpTargetId},callback:function(){\\n  storeFunAllhiden.each(function(a){\\n    _existGrant = a.data.FUN_TREE_ID+','+a.data.TARGET_ID+','+a.data.TYPE;\\n    if(Ext.Array.contains(_matchIdsAttay,_existGrant)){\\n    Ext.Array.remove(_matchIdsAttay,_existGrant); \\n    }\\n  });\\n//=================得到最终需要授权的记录====================\\n if(_matchIdsAttay.length === 0){\\n   Wb.warning('所选择的对象已经授权完毕，请重新选择！');\\n   return false;\\n }  \\n   var tmpGrantAttayVar='';\\n   var arrayGrantIds = [];\\n   var jsonVar;\\n   Ext.each(_matchIdsAttay,function(tmpItem){\\n     tmpGrantAttayVar = tmpItem.split(',');\\n     jsonVar= {USER_FUN_ID:'',FUN_TREE_ID:tmpGrantAttayVar[0],TARGET_ID:tmpGrantAttayVar[1],TYPE:tmpGrantAttayVar[2]};\\n     arrayGrantIds.push(jsonVar);\\n   });\\n  //=====================执行授权操作=============================\\n  addFunGrantAjax.params.newArray = Ext.JSON.encode(arrayGrantIds);\\n  addFunGrantAjax.request();  \\n}});\"},{\"xwlMeta\":\"button\",\"iconCls\":\"remove_icon\",\"id\":\"removebtn\",\"text\":\"撤销\",\"click\":\"if(selectRightCopyStore.getCount()===0 || storecopytree.getCount()===0){\\n   Wb.warning('请选择要取消授权的对象！');\\n   return ;\\n  }\\n//========删除所选择的授权================\\nvar delArrayVar = [];\\nvar delJson ;\\nselectRightCopyStore.each(function(a){\\n  storecopytree.each(function(b){\\n    delJson = {FUN_TREE_ID:b.data.FUN_TREE_ID,TARGET_ID:a.data.TARGET_ID};\\n    delArrayVar.push(delJson);\\n  });  \\n});\\ndelFunGrantAjax.params.delArray = Ext.JSON.encode(delArrayVar);\\ndelFunGrantAjax.request();\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closebtn\",\"text\":\"关闭\",\"click\":\"comboBox11.clearValue();\\ncomboBox2.clearValue();\\ncomboBoxdept.clearValue();\\ncomboBoxpost.clearValue();\\nselectRightCopyStore.removeAll();\\nuserform.form.reset();\\ndeptform.form.reset();\\npostform.form.reset();\\nstoregriduser.removeAll();\\nstoregriddept.removeAll();\\nstoregridpost.removeAll();\\nwindow1.close();\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"title\":\"用户功能授权\",\"height\":\"500\",\"layout\":\"border\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"950\",\"buttons\":\"window1btn\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"close\":\"selectRightCopyStore.removeAll();\\ncomboBox11.clearValue();\\ncomboBox2.clearValue();\\ncomboBoxdept.clearValue();\\ncomboBoxpost.clearValue();\\nselectRightCopyStore.removeAll();\\nuserform.form.reset();\\ndeptform.form.reset();\\npostform.form.reset();\\nstoregriduser.removeAll();\\nstoregriddept.removeAll();\\nstoregridpost.removeAll();\\n\\n\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"funpanel\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'48%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"center\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form2\",\"height\":\"40\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr1\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"功能名称\",\"id\":\"treeName\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tbutton1.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"padding\":\"1px 0px 0px 10px\",\"id\":\"td2\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button1\",\"text\":\"查询\",\"click\":\"treeNodeQuery(treeName.getValue(),'text','menuFunctionTree');\\n\"}]}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"paneltree\",\"layout\":\"fit\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"center\",\"animate\":\"false\",\"store\":\"menuFunctionStore\",\"root\":\"{id:'rootNode',text:'功能菜单',expanded:true,checked:false}\\n\",\"id\":\"menuFunctionTree\",\"rootVisible\":\"true\",\"viewConfig\":\"{\\n  plugins : {\\n    pluginId: 'ddPlug',\\n    ptype: 'treeviewdragdrop'\\n  },\\n  listeners : {\\n    beforedrop: function(node,data,overModel,dropPosition,dropFunction,options){\\n      return false;\\n    },\\n    drop: function(node,data,overModel,dropPosition,options){\\n      return false;\\n    }\\n  }\\n}\",\"checkchange\":\"//递归调用选中子节点与父节点（选中父节点，同时选中父节点下的所有子节点，选中子节点，同时选中父节点）\\nchildChecked(node,checked);\\nparentChecked(node,checked);\\n\\n\\n\",\"itemdblclick\":\"Wb.getSelNode(menuFunctionTree).expand();\"}]}]}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"east\",\"id\":\"funtabPanel\",\"width\":\"'48%'\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"userpanel\",\"title\":\"用户\",\"layout\":\"border\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"userform\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"orgcombox\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"storeorgs\",\"valueField\":\"ORG_ID\",\"width\":\"80\",\"editable\":\"true\",\"labelAlign\":\"right\",\"emptyText\":\"--请选择组织--\",\"fieldLabel\":\"组织\",\"id\":\"comboBox11\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"var ORG_ID=comboBox11.getValue();\\nWb.load(storegriduser);\\nWb.load(storedeptname,{ORG_ID:ORG_ID});\\ncomboBox2.clearValue();\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"deptcombox\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"storedeptname\",\"valueField\":\"DEPT_ID\",\"width\":\"80\",\"editable\":\"true\",\"labelAlign\":\"right\",\"emptyText\":\"--请选择部门--\",\"fieldLabel\":\"部门\",\"id\":\"comboBox2\",\"queryLike\":\"true\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"60\",\"select\":\"Wb.load(storegriduser);\",\"focus\":\"var DEPT_ID=comboBox2.getValue();\\nif(DEPT_ID===null||DEPT_ID===''){\\n if(comboBox11.getValue()===null){\\n    comboBox2.getStore().removeAll();\\n\\n  }\\n  \\n}\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"usertext\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"layout\":\"form\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"userN\",\"labelWidth\":\"60\",\"width\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n    userNUpper.setValue(userN.getValue().toUpperCase());\\n\\tWb.load(storegriduser);\\n}\"},{\"xwlMeta\":\"text\",\"id\":\"userNUpper\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 10px\",\"id\":\"panel2\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"width\":\"30\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button11\",\"text\":\"查询\",\"click\":\"Wb.load(storegriduser);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 1px\",\"id\":\"panel22\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"button112\",\"text\":\"重置\",\"click\":\"comboBox11.clearValue();\\ncomboBox2.clearValue();\\nuserform.form.reset();\\nstoregriduser.getProxy().url='main?xwl=23WO6G8BUWK4';\\nWb.reload(storegriduser);\"}]}]},{\"xwlMeta\":\"text\",\"id\":\"FLAG1\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"grid\",\"store\":\"storegriduser\",\"columns\":\"grid12columns\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"usergrid\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row=Wb.getSelRec(usergrid);\\nvar records=usergrid.getSelectionModel().getSelection();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid='';\\nfor(var v=0;v<row.length;v++){\\n  var idNu=records[v].get('USER_ID');\\n  arrid=arrid+','+idNu;\\n}\\nARRID1.setValue(arrid.substring(1,arrid.length));\\n\\n\\nif(row.length==1){\\n    \\n       \\n              var record=records[0];\\n                \\n                   userid= record.get('USER_ID');\\n             // alert(userid);\\n\\t\\t\\t\\tuname= record.get('USER_NAME'); \\n               ename= record.get('EMP_NAME'); \\n  \\t type='U'; \\n  var json={TARGET_ID:userid,UNAME:uname,ENAME:ename,TYPE:type};\\n            for(var j=0;j<selectRightCopyStore.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=selectRightCopyStore.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t  selectRightCopyStore.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tselectRightCopyStore.add(json);\\n \\n}else{\\n  \\n      \\n       \\n              var record=records[row.length-1];\\n                \\n                   userid= record.get('USER_ID');\\n \\n\\t\\t\\t\\tuname= record.get('USER_NAME'); \\n               ename= record.get('USER_NAME'); \\n  \\t type='U'; \\n  var json={TARGET_ID:userid,UNAME:uname,ENAME:ename,TYPE:type};\\n            for(var j=0;j<selectRightCopyStore.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=selectRightCopyStore.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t selectRightCopyStore.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tselectRightCopyStore.add(json);\\n\\n}\\nFLAG1.setValue(row.length);\\nallcount1();\\n\",\"selectionchange\":\"var flag=FLAG1.getValue();\\nvar row=Wb.getSelRec(usergrid);\\nvar records=usergrid.getSelectionModel().getSelection();\\n\\n\\n//var  selected= usergrid.getSelectionModel().hasSelection();\\nif(flag===null||flag===''){\\n  \\n}\\nelse{\\nif(row.length<flag&&usergrid.getStore().isLoading()===false){\\n  \\n   \\n    //获取当前页中已勾选的ID(取消勾选时)\\n  \\n    var arrayid=ARRID1.getValue().split(',');\\n    var bl;\\n   \\n    for(var i =0;i<arrayid.length; i++){\\n\\t\\tvar uid=arrayid[i];\\n   \\n \\n  for(var j =0;j<row.length; j++){\\n  var uid2= records[j].get('USER_ID');\\n   \\n   if(uid===uid2){\\n    \\n      bl=1;\\n      break;\\n     \\n    }\\n    else{\\n            bl=0;\\n          }\\n  }\\n    \\n       if(bl!==1){\\n    \\n  \\n\\n                   for(var k=0;k<selectRightCopyStore.getCount();k++){\\n    \\n    \\t\\t\\t\\t\\tvar name=selectRightCopyStore.getAt(k).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(uid==name){\\n\\n    \\t\\t\\t\\t\\t  selectRightCopyStore.removeAt(k);\\n                         break;\\n       \\n                       }\\n                   }\\n \\t\\t }\\n      }\\n \\n} \\n  \\n}\\n\\n\\n\\nallcount1();\\n\\n\\n\\n  \\n\"},{\"xwlMeta\":\"text\",\"id\":\"ARRID1\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"deptpanel\",\"title\":\"部门\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"deptform\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"orgcombox1\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"storeorgs1\",\"valueField\":\"ORG_ID\",\"width\":\"80\",\"editable\":\"true\",\"labelAlign\":\"right\",\"emptyText\":\"--请选择组织--\",\"fieldLabel\":\"组织\",\"id\":\"comboBoxdept\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"var ORG_ID=comboBoxdept.getValue();\\n//alert(ORG_ID);\\nWb.load(storegriddept,{ORG_ID:ORG_ID});\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"depttext\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel11\",\"layout\":\"form\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门名\",\"id\":\"userN1\",\"labelWidth\":\"60\",\"width\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storegriddept);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 10px\",\"id\":\"panel21\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button111\",\"text\":\"查询\",\"click\":\"if(Ext.isEmpty(comboBoxdept.getValue())){\\n  Wb.message('请选择组织!');\\n  return;\\n}\\nWb.load(storegriddept);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 10px\",\"id\":\"panel212\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"button1112\",\"text\":\"重置\",\"click\":\"Wb.reset(deptform);\\nWb.load(storegriddept,{ORG_ID:''});\"}]}]},{\"xwlMeta\":\"text\",\"id\":\"FLAG2\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"grid\",\"store\":\"storegriddept\",\"columns\":\"grid22columns\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"deptgrid\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row=Wb.getSelRec(deptgrid);\\nvar records=deptgrid.getSelectionModel().getSelection();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid='';\\nfor(var v=0;v<row.length;v++){\\n  var idNu=records[v].get('DEPT_ID');\\n  arrid=arrid+','+idNu;\\n}\\nARRID2.setValue(arrid.substring(1,arrid.length));\\n\\n\\n //alert(row.length);\\nif(row.length==1){\\n   \\n       \\n              var record=records[0];\\n                \\n                   userid= record.get('DEPT_ID');\\n             // alert(userid);\\n\\t\\t\\t\\tuname= record.get('DEPT_NAME'); \\n               ename= record.get('ORG_NAME'); \\n  \\t type='D'; \\n  var json={TARGET_ID:userid,UNAME:uname,ENAME:ename,TYPE:type};\\n            for(var j=0;j<selectRightCopyStore.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=selectRightCopyStore.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t  selectRightCopyStore.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tselectRightCopyStore.add(json);\\n           \\n           \\n \\n \\n}else{\\n  \\n      \\n       \\n              var record=records[row.length-1];\\n                \\n                   userid= record.get('DEPT_ID');\\n \\n\\t\\t\\t\\tuname= record.get('DEPT_NAME'); \\n               ename= record.get('ORG_NAME'); \\n  \\t\\t\\t\\t type='D'; \\n  var json={TARGET_ID:userid,UNAME:uname,ENAME:ename,TYPE:type};\\n            for(var j=0;j<selectRightCopyStore.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=selectRightCopyStore.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t selectRightCopyStore.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tselectRightCopyStore.add(json);\\n \\n  \\n \\n}\\nFLAG2.setValue(row.length);\\n allcount1();\\n\\n\",\"selectionchange\":\"var flag=FLAG2.getValue();\\nvar row=Wb.getSelRec(deptgrid);\\nvar records=deptgrid.getSelectionModel().getSelection();\\n\\n\\n//var  selected= usergrid.getSelectionModel().hasSelection();\\nif(flag===null||flag===''){\\n  \\n}\\nelse{\\nif(row.length<flag&&deptgrid.getStore().isLoading()===false){\\n  \\n   \\n    //获取当前页中已勾选的ID(取消勾选时)\\n  \\n    var arrayid=ARRID2.getValue().split(',');\\n    var bl;\\n   \\n    for(var i =0;i<arrayid.length; i++){\\n\\t\\tvar uid=arrayid[i];\\n   \\n \\n  for(var j =0;j<row.length; j++){\\n  var uid2= records[j].get('DEPT_ID');\\n   \\n   if(uid===uid2){\\n    \\n      bl=1;\\n      break;\\n     \\n    }\\n    else{\\n            bl=0;\\n          }\\n  }\\n    \\n       if(bl!==1){\\n    \\n  \\n\\n                   for(var k=0;k<selectRightCopyStore.getCount();k++){\\n    \\n    \\t\\t\\t\\t\\tvar name=selectRightCopyStore.getAt(k).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(uid==name){\\n\\n    \\t\\t\\t\\t\\t  selectRightCopyStore.removeAt(k);\\n                         break;\\n       \\n                       }\\n                   }\\n \\t\\t }\\n      }\\n \\n} \\n  \\n}\\n\\n\\n\\nallcount1();\\n\\n\\n\\n  \\n\\n  \\n  \\n  \\n\\n\\n\\n  \\n\"},{\"xwlMeta\":\"text\",\"id\":\"ARRID2\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"postpanel\",\"title\":\"岗位\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"postform\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"orgcombox11\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"storeorgs2\",\"valueField\":\"ORG_ID\",\"width\":\"180\",\"editable\":\"true\",\"labelAlign\":\"right\",\"emptyText\":\"--请选择组织--\",\"fieldLabel\":\"组织\",\"id\":\"comboBoxpost\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"var ORG_ID=comboBoxpost.getValue();\\nWb.reset(postDeptCombobox);\\nWb.load(storegridpost,{ORG_ID:ORG_ID},function(){\\n  postStore.load();\\n});\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel0\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"postStore\",\"valueField\":\"DEPT_ID\",\"width\":\"120\",\"labelAlign\":\"right\",\"emptyText\":\"--请选择部门--\",\"fieldLabel\":\"部门\",\"id\":\"postDeptCombobox\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"60\",\"select\":\"var ORG_ID=comboBoxpost.getValue();\\nvar DEPT_ID = comboBox.getValue();\\nWb.load(storegridpost,{ORG_ID:ORG_ID});\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"posttext\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel111\",\"layout\":\"form\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"岗位名\",\"id\":\"userN2\",\"labelWidth\":\"60\",\"width\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storegridpost);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 10px\",\"id\":\"panel211\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button1111\",\"text\":\"查询\",\"click\":\"if(Ext.isEmpty(comboBoxpost.getValue())){\\n  Wb.message('请选择组织!');\\n  return;\\n}\\nWb.load(storegridpost);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 10px\",\"id\":\"panel2111\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"button11111\",\"text\":\"重置\",\"click\":\"comboBoxpost.clearValue();\\npostDeptCombobox.clearValue();\\nWb.reset(postform);\\nWb.load(storegridpost,{ORG_ID:''});\"}]}]},{\"xwlMeta\":\"text\",\"id\":\"FLAG3\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"grid\",\"store\":\"storegridpost\",\"columns\":\"grid32columns\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"postgrid\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row=Wb.getSelRec(postgrid);\\nvar records=postgrid.getSelectionModel().getSelection();\\n\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid='';\\nfor(var v=0;v<row.length;v++){\\n  var idNu=records[v].get('POST_ID');\\n  arrid=arrid+','+idNu;\\n}\\nARRID3.setValue(arrid.substring(1,arrid.length));\\n\\n\\n //alert(row.length);\\nif(row.length==1){\\n   \\n              var record=records[0];\\n                \\n                   userid= record.get('POST_ID');\\n             // alert(userid);\\n\\t\\t\\t\\tuname= record.get('POST_NAME'); \\n               ename= record.get('DEPT_NAME'); \\n  \\t type='P'; \\n  var json={TARGET_ID:userid,UNAME:uname,ENAME:ename,TYPE:type};\\n            for(var j=0;j<selectRightCopyStore.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=selectRightCopyStore.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t  selectRightCopyStore.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tselectRightCopyStore.add(json);\\n \\n}else{\\n  \\n       var storefun=UDPgrid.getStore();\\n       \\n              var record=records[row.length-1];\\n                \\n                   userid= record.get('POST_ID');\\n \\n\\t\\t\\t\\tuname= record.get('POST_NAME'); \\n               ename= record.get('DEPT_NAME'); \\n  \\t type='P'; \\n  var json={TARGET_ID:userid,UNAME:uname,ENAME:ename,TYPE:type};\\n            for(var j=0;j<selectRightCopyStore.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=selectRightCopyStore.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t  selectRightCopyStore.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tselectRightCopyStore.add(json);\\n // selectRightCopyStore.commitChanges();\\n}\\nFLAG3.setValue(row.length);\\nallcount1();\",\"selectionchange\":\"var flag=FLAG3.getValue();\\nvar row=Wb.getSelRec(postgrid);\\nvar records=postgrid.getSelectionModel().getSelection();\\n//var  selected= postgrid.getSelectionModel().hasSelection();\\n\\nif(flag===null||flag===''){\\n  \\n}\\nelse{\\nif(row.length<flag&&postgrid.getStore().isLoading()===false){\\n  \\n     //获取当前页中已勾选的ID(取消勾选时)\\n   \\n    var arrayid=ARRID3.getValue().split(',');\\n    var bl;\\n    for(var i =0;i<arrayid.length; i++){\\nvar uid=arrayid[i];\\n //alert(uid);\\n  for(var j =0;j<row.length; j++){\\n  var uid2= records[j].get('POST_ID');\\n  \\n   if(uid===uid2){\\n    \\n      bl=1;\\n      break;\\n     \\n    }\\n     else{\\n           bl=0;\\n          }\\n  }\\n   \\n  if(bl!==1){\\n    \\n   \\n\\n                   for(var k=0;k<selectRightCopyStore.getCount();k++){\\n    \\n    \\t\\t\\t\\t\\tvar name=selectRightCopyStore.getAt(k).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(uid==name){\\n\\n    \\t\\t\\t\\t\\t  selectRightCopyStore.removeAt(k);\\n       break;\\n                       }\\n                   }\\n \\t\\t }\\n    }\\n    }\\n\\n}\\nallcount1();  \\n  \\n  \\n  \\n\\n\\n\\n  \\n\"},{\"xwlMeta\":\"text\",\"id\":\"ARRID3\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"my-panel-no-border\",\"id\":\"southpanel\",\"height\":\"'6%'\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"west\",\"id\":\"form41\",\"height\":\"30\",\"style\":\"border-width:0px\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'48%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel11113\",\"columnWidth\":\".3\",\"border\":\"false\",\"width\":\"'40%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel91\",\"height\":\"30\",\"columnWidth\":\".2\",\"border\":\"false\",\"width\":\"'45%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"label1\",\"html\":\"\\n<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"SelectFunWin.show()\\\"  style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"fun\\\" >已选功能(0)<\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel1111\",\"columnWidth\":\".2\",\"border\":\"false\",\"width\":\"15\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"deleteAllFunsLabel\",\"html\":\"<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"deleteAllFuns();\\\" title=\\\"删除全部已选功能\\\" style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"fun\\\" ><image src=\\\"{#delImageSrc#}\\\"><\\/image><\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]}]},{\"xwlMeta\":\"form\",\"region\":\"east\",\"id\":\"form411\",\"height\":\"30\",\"style\":\"border-width:0px\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'48%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel11111\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'40%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel911\",\"height\":\"30\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'50%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"label11\",\"html\":\"\\n<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"SelectUDPWin.show()\\\"  style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"all\\\" >已选用户部门岗位<\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel11112\",\"columnWidth\":\".2\",\"border\":\"false\",\"width\":\"15\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"deleteAllupdLabel\",\"html\":\"<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"deleteAlludp();\\\" title=\\\"删除全部已选用户,部门,岗位\\\" style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"fun\\\" ><image src=\\\"{#delImageSrc#}\\\"><\\/image><\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"windowhiden\",\"height\":\"260\",\"layout\":\"border\",\"width\":\"380\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"storeFunAllhiden\",\"columns\":\"hiddenFuncolumn\",\"region\":\"center\",\"id\":\"gridAllFunhiden\",\"autoLoad\":\"false\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"SelectFunWin\",\"title\":\"已选功能\",\"height\":\"450\",\"layout\":\"border\",\"autoReset\":\"false\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"510\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"storecopytree\",\"columns\":\"Fungridcolumns\",\"exportExcel\":\"false\",\"border\":\"false\",\"pagingToolbar\":\"false\",\"region\":\"center\",\"id\":\"Fungrid\",\"exportPrint\":\"false\",\"selType\":\"rowmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"SelectUDPWin\",\"title\":\"已选数据\",\"height\":\"450\",\"layout\":\"border\",\"autoReset\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"600\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectRightCopyStore\",\"columns\":\"UDPgridarray\",\"exportExcel\":\"false\",\"pagingToolbar\":\"false\",\"region\":\"center\",\"id\":\"UDPgrid\",\"exportPrint\":\"false\",\"selType\":\"rowmodel\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"key_icon\",\"id\":\"userroot\",\"text\":\"用户功能授权\",\"click\":\"window1.show();\\n\\nWb.load(selectRightCopyStore);\\nstoregriduser.getProxy().url='main?xwl=23WO6G8BUWK4';\\nWb.reload(storegriduser);\\n\\n\\n//Wb.reload(storegriddept);\\n//Wb.reload(storegridpost);\\nallcount1();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"detetebtn\",\"style\":\"style-font:40px\",\"text\":\"删除\",\"click\":\"var rows=Wb.getSelRec(grid1);\\nif(Ext.isEmpty(rows)){\\n  Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n}\\nelse{\\n   Ext.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n    delete_fun_ajax.request();\\n   // Wb.load(storefunAll);\\n    }else{\\n      return false ;\\n    }\\n   \\n   });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem11\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"userFrom\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet\",\"title\":\"条件查询\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel3\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"功能名称\",\"id\":\"gcmc\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(storefunAll);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel4\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"权限名称\",\"id\":\"bmmc\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(storefunAll);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel5\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"labelAlign\":\"right\",\"pickList\":\"[['U','用户'],['D','部门'],['P','岗位']]\",\"fieldLabel\":\"权限类型\",\"id\":\"comboBox1\",\"labelWidth\":\"80\",\"select\":\"Wb.load(storefunAll);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel8\",\"layout\":\"form\",\"columnWidth\":\".1\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"bodyPadding\":\"0px 0px 0px 5px\",\"id\":\"panel9\",\"layout\":\"column\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel10\",\"layout\":\"column\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"cx\",\"text\":\"查询\",\"width\":\"60\",\"x\":\"10\",\"click\":\"Wb.load(storefunAll);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel12\",\"layout\":\"column\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"cz\",\"text\":\"重置\",\"width\":\"60\",\"x\":\"25\",\"click\":\"userFrom.form.reset();\\nWb.load(storefunAll);\"}]}]}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storefunAll\",\"columns\":\"grid1array\",\"featureType\":\"grouping\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"selType\":\"checkboxmodel\"}]}]}","用户功能授权",null,0,0,"admin","2015-04-15 10:39:59.0","23XQ4UO678F5","2015-10-19 12:31:11.0",1],["23WO6G8BUQQF","23VVZ3QMOKQM",null,"用户功能授权",null,0,0,"admin","2015-04-15 10:40:27.0","admin","2015-05-12 09:41:34.0",13],["23WO6G8BUTIH","23WO6G8BUQQF",null,"DATA",null,1,0,"admin","2015-04-16 15:53:04.0","admin","2015-06-05 14:07:36.0",3],["23WO6G8BUVJG","23WO6G8BUTIH","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectFunAll\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#gcmc#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute2\",\"value\":\"%{#bmmc#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute3\",\"value\":\"%{#comboBox1#}%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select \\nR.FUN_TREE_ID FUN_TREE_ID,\\nF.USER_FUN_ID USER_FUN_ID ,\\nF.TARGET_ID TARGET_ID,\\nR.FUN_TREE_NAME FUN_TREE_NAME,\\ncase \\n  when U.USER_ID = '' then null \\n   else   U.USER_NAME||'/'|| E.EMP_NAME \\n      end as TARGET ,\\nF.type TYPE,\\nto_char(F.CREATION_DATE,'YYYY-MM-DD') CREATION_DATE\\n      from XIP_PUB_USER_FUNS F , XIP_PUB_USERS U , XIP_PUB_FUN_TREE R ,XIP_PUB_EMPS E\\n     where \\n F.TARGET_ID = U.USER_ID \\n          AND F.FUN_TREE_ID = R.FUN_TREE_ID \\n          AND U.EMP_ID = E.EMP_ID\\n          AND F.TYPE='U' \\n       and R.FUN_TREE_NAME like {?attribute1?}\\nand  U.USER_NAME||'/'|| E.EMP_NAME like upper({?attribute2?})\\nand  F.type like {?attribute3?}\\n union\\n\\n SELECT \\n       R.FUN_TREE_ID FUN_TREE_ID,\\n        F.USER_FUN_ID USER_FUN_ID,\\nF.TARGET_ID TARGET_ID,\\n        R.FUN_TREE_NAME FUN_TREE_NAME,\\n      case \\n  when DP.DEPT_ID = '' then null \\n   else    DP.ORG_SHORT_NAME||'/'||DP.DEPT_NAME \\n      end as TARGET ,\\nF.type TYPE,\\n       TO_CHAR(F.CREATION_DATE, 'YYYY-MM-DD') CREATION_DATE\\n      \\n  FROM XIP_PUB_USER_FUNS F,\\n       (SELECT D.DEPT_ID, ORG.ORG_SHORT_NAME, D.DEPT_NAME\\n          FROM XIP_PUB_DEPTS D, XIP_PUB_ORGS ORG\\n         WHERE ORG.ORG_ID = D.ORG_ID\\n           AND ORG.ENABLE_FLAG = 'Y'\\n           AND D.ENABLE_FLAG = 'Y') DP,\\n        XIP_PUB_FUN_TREE R\\n WHERE R.FUN_TREE_ID = F.FUN_TREE_ID\\n   AND DP.DEPT_ID = F.TARGET_ID\\n   AND F.TYPE = 'D'\\n      and R.FUN_TREE_NAME like {?attribute1?}\\nand  DP.ORG_SHORT_NAME||'/'||DP.DEPT_NAME like {?attribute2?}\\nand  F.type like {?attribute3?}\\n union\\nSELECT \\n\\t\\tR.FUN_TREE_ID FUN_TREE_ID,\\n\\t\\tF.USER_FUN_ID USER_FUN_ID,\\nF.TARGET_ID TARGET_ID,\\n\\t\\tR.FUN_TREE_NAME FUN_TREE_NAME,\\t\\n case \\n  when POG.POST_ID = '' then null \\n   else    POG.ORG_SHORT_NAME||'/'|| POG.DEPT_NAME ||'/'||POG.POST_NAME\\n      end as TARGET ,\\nF.type TYPE,\\n        TO_CHAR(F.CREATION_DATE, 'YYYY-MM-DD') CREATION_DATE\\n   FROM XIP_PUB_USER_FUNS F,\\n        (SELECT PO.POST_ID, PO.POST_NAME, ORG.ORG_SHORT_NAME, DP.DEPT_NAME\\n           FROM XIP_PUB_POSTS PO, XIP_PUB_ORGS ORG, XIP_PUB_DEPTS DP\\n          WHERE ORG.ORG_ID = PO.ORG_ID\\n            AND PO.DEPT_ID = DP.DEPT_ID\\n            AND PO.ENABLE_FLAG = 'Y'\\n            AND DP.ENABLE_FLAG = 'Y'\\n            AND ORG.ENABLE_FLAG = 'Y') POG,\\n        XIP_PUB_FUN_TREE R\\n  WHERE R.FUN_TREE_ID = F.FUN_TREE_ID\\n    AND POG.POST_ID = F.TARGET_ID\\n    AND F.TYPE = 'P'\\n      and R.FUN_TREE_NAME like {?attribute1?}\\nand POG.ORG_SHORT_NAME||'/'|| POG.DEPT_NAME ||'/'||POG.POST_NAME like {?attribute2?}\\nand  F.type like {?attribute3?}\",\"id\":\"sqlSwitcher1\",\"mysql\":\"select \\nR.FUN_TREE_ID FUN_TREE_ID,\\nF.USER_FUN_ID USER_FUN_ID ,\\nF.TARGET_ID TARGET_ID,\\nR.FUN_TREE_NAME FUN_TREE_NAME,\\ncase \\n  when U.USER_ID = '' then null \\n   else   \\nconcat(U.USER_NAME,'/',E.EMP_NAME)\\n      end as TARGET ,\\nF.type TYPE,\\n\\ndate_format(F.CREATION_DATE,'%Y-%m-%d') CREATION_DATE\\n      from XIP_PUB_USER_FUNS F , XIP_PUB_USERS U , XIP_PUB_FUN_TREE R ,XIP_PUB_EMPS E\\n     where \\n F.TARGET_ID = U.USER_ID \\n          AND F.FUN_TREE_ID = R.FUN_TREE_ID \\n          AND U.EMP_ID = E.EMP_ID\\n          AND F.TYPE='U' \\n       and R.FUN_TREE_NAME like {?attribute1?}\\nand  concat(U.USER_NAME,'/',E.EMP_NAME) like upper({?attribute2?})\\nand  F.type like {?attribute3?}\\n union\\n\\n SELECT \\n       R.FUN_TREE_ID FUN_TREE_ID,\\n        F.USER_FUN_ID USER_FUN_ID,\\nF.TARGET_ID TARGET_ID,\\n        R.FUN_TREE_NAME FUN_TREE_NAME,\\n      case \\n  when DP.DEPT_ID = '' then null \\n   else     \\nconcat(DP.ORG_SHORT_NAME,'/',DP.DEPT_NAME)\\n      end as TARGET ,\\nF.type TYPE,\\n      date_format(F.CREATION_DATE,'%Y-%m-%d') CREATION_DATE\\n      \\n  FROM XIP_PUB_USER_FUNS F,\\n       (SELECT D.DEPT_ID, ORG.ORG_SHORT_NAME, D.DEPT_NAME\\n          FROM XIP_PUB_DEPTS D, XIP_PUB_ORGS ORG\\n         WHERE ORG.ORG_ID = D.ORG_ID\\n           AND ORG.ENABLE_FLAG = 'Y'\\n           AND D.ENABLE_FLAG = 'Y') DP,\\n        XIP_PUB_FUN_TREE R\\n WHERE R.FUN_TREE_ID = F.FUN_TREE_ID\\n   AND DP.DEPT_ID = F.TARGET_ID\\n   AND F.TYPE = 'D'\\n      and R.FUN_TREE_NAME like {?attribute1?}\\nand  concat(DP.ORG_SHORT_NAME,'/',DP.DEPT_NAME) like {?attribute2?}\\nand  F.type like {?attribute3?}\\n union\\nSELECT \\n\\t\\tR.FUN_TREE_ID FUN_TREE_ID,\\n\\t\\tF.USER_FUN_ID USER_FUN_ID,\\nF.TARGET_ID TARGET_ID,\\n\\t\\tR.FUN_TREE_NAME FUN_TREE_NAME,\\t\\n case \\n  when POG.POST_ID = '' then null \\n   else   \\n  concat(POG.ORG_SHORT_NAME,'/', POG.DEPT_NAME ,'/',POG.POST_NAME)\\n      end as TARGET ,\\nF.type TYPE,\\n       date_format(F.CREATION_DATE,'%Y-%m-%d') CREATION_DATE\\n   FROM XIP_PUB_USER_FUNS F,\\n        (SELECT PO.POST_ID, PO.POST_NAME, ORG.ORG_SHORT_NAME, DP.DEPT_NAME\\n           FROM XIP_PUB_POSTS PO, XIP_PUB_ORGS ORG, XIP_PUB_DEPTS DP\\n          WHERE ORG.ORG_ID = PO.ORG_ID\\n            AND PO.DEPT_ID = DP.DEPT_ID\\n            AND PO.ENABLE_FLAG = 'Y'\\n            AND DP.ENABLE_FLAG = 'Y'\\n            AND ORG.ENABLE_FLAG = 'Y') POG,\\n        XIP_PUB_FUN_TREE R\\n  WHERE R.FUN_TREE_ID = F.FUN_TREE_ID\\n    AND POG.POST_ID = F.TARGET_ID\\n    AND F.TYPE = 'P'\\n      and R.FUN_TREE_NAME like {?attribute1?}\\nand  concat(POG.ORG_SHORT_NAME,'/', POG.DEPT_NAME ,'/',POG.POST_NAME) like {?attribute2?}\\nand  F.type like {?attribute3?}\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","selectFunAll",null,0,0,"admin","2015-04-17 13:37:23.0","23XQ4UO678F5","2015-10-26 09:36:50.0",1],["23WO6G8BUWG6","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selectFunTreeAll\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id id, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type node_type,\\n\\t   t.node_order idx,\\n\\t\\tt.FUN_TREE_CODE,\\n\\tt.DESCRIPTION,\\n\\t\\t'__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or ({?parentID?} is null and nvl(t.up_id,'-1') = '-1')  \\nand  t.ENABLE_FLAG = 'Y'  \\n order by t.node_order asc\",\"mysql\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id ID, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type NODE_TYPE,\\n\\t   t.node_order IDX,\\n\\t   t.FUN_TREE_CODE,\\n\\t   t.DESCRIPTION,\\n\\t\\t'__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or (({?parentID?} is null or {?parentID?}='') and ifnull(t.up_id,'-1') = '-1')  \\nand  t.ENABLE_FLAG = 'Y'  \\n order by t.node_order asc\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\",\"type\":\"tree\"}],\"loginRequired\":\"false\"}","getMenuFunctionsTree",null,0,0,"admin","2015-04-17 15:09:24.0","admin","2015-05-21 11:04:13.0",3],["23WO6G8BUWK4","23WO6G8BUTIH","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectgridUser\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#userNUpper#}%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  b.EMP_NAME\\nFROM\\n  xip_pub_users a,\\n  xip_pub_emps b\\nWHERE b.EMP_ID = a.EMP_ID\\nAND  b.ATTRIBUTE2 ='Y' \\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\nAND (a.USER_NAME LIKE {?attribute1?} OR b.EMP_NAME LIKE {?attribute1?})\\nAND NOT EXISTS (SELECT * FROM xip_pub_emp_asg t where t.EMP_ID = a.EMP_ID and t.ENABLED = 'N')\\n\\n\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  b.EMP_NAME\\nFROM\\n  xip_pub_users a,\\n  xip_pub_emps b\\nWHERE b.EMP_ID = a.EMP_ID\\nAND b.ATTRIBUTE2 ='Y' \\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\nAND (a.USER_NAME LIKE {?attribute1?} OR b.EMP_NAME LIKE {?attribute1?})\\nAND NOT EXISTS (SELECT * FROM xip_pub_emp_asg t where t.EMP_ID = a.EMP_ID and t.ENABLED = 'N')\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","noOrgDeptGridUser",null,0,0,"admin","2015-04-17 15:23:14.0","23XQ4UO678F5","2015-10-19 12:32:05.0",5],["23WO6G8BUWK8","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selectgriddept\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN1#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select t.DEPT_ID,\\n\\t\\tt.DEPT_CODE,\\n\\t\\tt.DEPT_NAME, \\n\\t\\ts.ORG_NAME\\n\\t\\nfrom XIP_PUB_DEPTS t  \\n left join XIP_PUB_ORGS s on  s.ORG_ID = t.ORG_ID\\nwhere t.ENABLE_FLAG = 'Y' and  t.DEPT_NAME like {?attribute1?}  and t.ORG_ID ={?ORG_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectgriddept",null,0,0,"admin","2015-04-17 15:23:32.0","admin","2015-06-03 14:10:03.0",8],["23WO6G8BUWKM","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selectgridpost\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN2#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select t.POST_ID ,\\n\\tt.POST_CODE, \\n\\tt.POST_NAME,\\n\\t(select s.DEPT_NAME from XIP_PUB_DEPTS s  where s.DEPT_ID = t.DEPT_ID)  DEPT_NAME  \\n\\tfrom XIP_PUB_POSTS  t\\n\\twhere t.ENABLE_FLAG = 'Y'  and t.POST_NAME like {?attribute1?}   and  t.ORG_ID ={?ORG_ID?} \\n    {#WHERESQL#}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectgridpost",null,0,0,"admin","2015-04-17 15:23:41.0","admin","2015-06-03 14:33:15.0",9],["23WO6G8BUWNF","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selectOrgs\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select t.* from XIP_PUB_ORGS t where t.ENABLE_FLAG = 'Y'     and t.ORG_NAME  like {?findKey?}\",\"xwlMeta\":\"dataProvider\"}]}","selectOrgs",null,0,0,"admin","2015-04-17 15:41:51.0","admin","2015-04-17 15:41:51.0",10],["23WO6G8BUWNH","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selectDeptName\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\" select t.* from XIP_PUB_DEPTS t where t.ENABLE_FLAG = 'Y'  and  t.ORG_ID = {?ORG_ID?}\",\"xwlMeta\":\"dataProvider\"}]}","selectDeptName",null,0,0,"admin","2015-04-17 15:41:58.0","admin","2015-04-17 15:41:58.0",11],["23WO6G8BUWQF","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selectUrlgrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\n{#WHERESQL#}\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\n{#WHERESQL#}\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","orgDeptGridUser",null,0,0,"admin","2015-04-17 15:48:38.0","admin","2015-06-10 14:29:28.0",6],["23WO6G8BUYSA","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selecttreecopy\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.*\\n  from xip_pub_fun_tree t\\n where 1= 0\\n\\n\\n\\n\",\"xwlMeta\":\"dataProvider\"}]}","selecttreecopy",null,0,0,"admin","2015-04-20 14:49:09.0","admin","2015-04-20 14:49:09.0",4],["23WO6G8BV2WZ","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selectRightCopy\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT u.USER_ID TARGET_ID,\\n\\tu.USER_NAME UNAME,\\n e.EMP_NAME ENAME,\\nu.EMP_ID TYPE\\n       \\n        FROM XIP_PUB_USERS u ,XIP_PUB_EMPS e\\n       where 1= 0\\n\\n\\n\\n\\n \",\"xwlMeta\":\"dataProvider\"}]}","selectRightCopy",null,0,0,"admin","2015-04-21 13:40:53.0","admin","2015-04-22 15:36:56.0",14],["23WO6G8BV81A","23W090GMALLK",null,"管理员",null,0,0,"admin","2015-04-22 11:07:33.0","admin","2015-04-22 11:07:33.0",3],["23WO6G8BVPRQ","23VVZ3QMOKQM",null,"用户角色授权",null,0,0,"admin","2015-04-23 10:34:49.0","admin","2015-05-12 09:46:09.0",22],["23WO6G8BVPSW","23WO6G8BVPRQ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"用户角色授权\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"userId\\\");\\nrequest.setAttribute(\\\"userId\\\",userId);\\n\\nrequest.setAttribute(\\\"contextPath\\\",request.getContextPath());\\nrequest.setAttribute(\\\"delImageSrc\\\",request.getContextPath()+\\\"/pub/uip/common/image/cut.gif\\\");\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"Js\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"allcount3\",\"footer\":\"<script>\\nfunction allcount3()\\n{ \\n  \\n    document.getElementById(\\\"user\\\").innerHTML = \\\"已选用户\\\"; \\n    \\n \\n\\n}\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"allcount2\",\"footer\":\"<script>\\nfunction allcount2()\\n{ \\n  var row=Wb.getSelRec(UserGrid);\\n  var count=row.length;\\n  var c=userStore.getModifiedRecords().length;\\n if(count===0){\\n   if(UserGrid.getStore().isLoading()===false){\\n    \\n     if(c===0){\\n       document.getElementById(\\\"user\\\").innerHTML = \\\"已选用户\\\"; \\n     }\\n     else{\\n       document.getElementById(\\\"user\\\").innerHTML = \\\"已选用户(\\\"+c+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n     document.getElementById(\\\"user\\\").innerHTML =  \\\"已选用户(\\\"+c+\\\")\\\";\\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"user\\\").innerHTML = \\\"已选用户(\\\"+c+\\\")\\\"; \\n  }\\n \\n\\n}\\n\\n \\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"copyRole\",\"footer\":\"<script >\\nfunction copyRole()\\n{ \\n  selectedRoleWin.setTitle('<center>已选角色<\\/center>');\\n  selectedRoleWin.show();\\n}\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"deleteUser\",\"footer\":\"<script>\\n  function deleteUser(){\\n    var record=SelectedUserGrid.getSelectionModel().getSelection();\\n    userStore.remove(record);\\n    //点击删除 去掉勾选的对号\\n    var uid=record[0].data.USER_ID;\\n    var bl;\\n    for(var j=0;j<userGridStore.getCount();j++){\\n      var u_id=userGridStore.getAt(j).get('USER_ID');\\n      if(uid===u_id){\\n\\n        UserGrid.getSelectionModel().deselect(userGridStore.getAt(j));\\n        bl=1;\\n        break;\\n      }\\n    }\\n    //执行JS中的方法\\n    allcount2();\\n  }\\n  \\n  //删除全部已选的用户\\n  function deleteAllUsers(){\\n    Ext.Msg.confirm('提示','确定删除全部已选的用户?',function(btn){\\n      if(btn == 'yes'){\\n        userStore.removeAll();\\n        UserGrid.getSelectionModel().deselectAll();\\n        allcount2();\\n      }\\n    });\\n  }\\n  \\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"allcount\",\"footer\":\"<script>\\nfunction allcount()\\n{ \\n  var row=Wb.getSelRec(RoleGrid);\\n  var count=row.length;\\n  var c=SelectedRoleGridStore.getModifiedRecords().length;\\n if(count===0){\\n   if(RoleGrid.getStore().isLoading()===false){\\n    \\n     if(c===0){\\n       document.getElementById(\\\"role\\\").innerHTML = \\\"已选角色\\\"; \\n     }\\n     else{\\n       document.getElementById(\\\"role\\\").innerHTML = \\\"已选角色(\\\"+c+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n     document.getElementById(\\\"role\\\").innerHTML =  \\\"已选角色(\\\"+c+\\\")\\\";\\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"role\\\").innerHTML = \\\"已选角色(\\\"+c+\\\")\\\"; \\n  }\\n \\n\\n}\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"deleteRole\",\"footer\":\"<script>\\n  function deleteRole(){\\n    var record=SelectedRoleGrid.getSelectionModel().getSelection();\\n    //alert(record[0].get('ROLE_ID'));\\n    for(var i=0;i<SelectedRoleGridStore.getCount();i++){\\n      if(record[0].get('ROLE_ID')==SelectedRoleGridStore.getAt(i).get('ROLE_ID')){\\n        SelectedRoleGridStore.removeAt(i);\\n      }\\n    }\\n    //点击删除 去掉勾选的对号\\n    var rid=record[0].data.ROLE_ID;\\n    for(var j=0;j<select_rolestore.getCount();j++){\\n      var r_id=select_rolestore.getAt(j).get('ROLE_ID');\\n      if(rid===r_id){\\n        RoleGrid.getSelectionModel().deselect(select_rolestore.getAt(j));\\n        break;\\n      }\\n    }\\n  }\\n  \\n  //除全部已选的角色\\n  function deleteAllRoles(){\\n    Ext.Msg.confirm('提示','确定删除全部已选的角色?',function(btn){\\n      if(btn == 'yes'){\\n        SelectedRoleGridStore.removeAll();\\n        RoleGrid.getSelectionModel().deselectAll();\\n        //allcount2();\\n      }\\n    });\\n  }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"copyText\",\"footer\":\"<script >\\nfunction copyText()\\n{ \\n selectedUserWin.setTitle('<center>已选用户<\\/center>');\\n selectedUserWin.show();\\n\\n}\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"allcount31\",\"footer\":\"<script>\\nfunction allcount31()\\n{ \\n  \\n    document.getElementById(\\\"role\\\").innerHTML = \\\"已选角色\\\"; \\n    \\n \\n\\n}\\n<\\/script>\"}]},{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WO6G8BVPTU (deleteUserRole)\",\"id\":\"delete_user_role_ajax\",\"output\":\"grid1\",\"success\":\"Wb.message('删除成功！');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WO6G8BVPTX (updatedefault)\",\"id\":\"update_isdefault_ajax\",\"output\":\"grid1\",\"success\":\"Wb.message('设置成功');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WO6G8BVPTQ (deleteUserRole_revoke)\",\"id\":\"delete_revoke_ajax\",\"success\":\"Wb.message('撤销成功!');\\nWb.load(store1);\\nWb.load(store_none);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X4WSD8F87Z (batchAddRoleSec)\",\"id\":\"addRoleGrantAjax\",\"failure\":\"Wb.message('授权失败！');\\n\",\"success\":\"Wb.message('授权成功！');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X4WSD8F9BI (batchDelRoleSec)\",\"id\":\"delRoleGrantAjax\",\"failure\":\"Wb.message('撤销授权成功！');\\n\",\"success\":\"Wb.message('撤销授权成功！');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X7GYI1JMQL (setDefaultRoles)\",\"id\":\"setDefaultAjax\",\"success\":\"Wb.message('设置成功');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X7GYI1JMS1 (cancelDefaultRoles)\",\"id\":\"cancelDefaultAjax\",\"success\":\"Wb.message('设置成功');\\nWb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X7GYI1JQQF (setSingleDefaultRole)\",\"id\":\"setSingleDefaultAjax\",\"success\":\"Wb.message('设置成功');\\nWb.load(store1);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#23WO6G8BVPTJ (selectALL)\",\"output\":\"form1\"},{\"xwlMeta\":\"store\",\"id\":\"select_rolestore\",\"url\":\"#23WO6G8BVPU2 (select_role)\",\"output\":\"form2\",\"load\":\"var arr=[];\\nfor(var i=0;i<SelectedRoleGridStore.getCount();i++){\\n  var rid=SelectedRoleGridStore.getAt(i).get('ROLE_ID');\\n  for(var j=0;j<select_rolestore.getCount();j++){\\n    if(rid===select_rolestore.getAt(j).get('ROLE_ID')){\\n      arr.push(select_rolestore.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\nRoleGrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BVPUB (select_orgCombox)\",\"output\":\"form21\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"depStore\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BVPUG (select_depCombox)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"userGridStore\",\"url\":\"#23X6U35T97J2 (noOrgDeptGridUser)\",\"output\":\"form21\",\"showMask\":\"false\",\"load\":\"var arr=[];\\nfor(var i=0;i<userStore.getCount();i++){\\n  var uid=userStore.getAt(i).get('USER_ID');\\n  for(var j=0;j<userGridStore.getCount();j++){\\n    if(uid===userGridStore.getAt(j).get('USER_ID')){\\n      arr.push(userGridStore.getAt(j));\\n      break;\\n    }  \\n  }\\n}\\nUserGrid.getSelectionModel().select(arr);\",\"beforeload\":\"var whereSql= ' AND 1=1';\\nif(Ext.isEmpty(orgcomboBox.getValue()) && Ext.isEmpty(depcomboBox.getValue())){\\n  store.getProxy().url='main?xwl=23X6U35T97J2';  //noOrgDeptGridUser\\n}else{\\n  store.getProxy().url='main?xwl=23X6U35T97KL';  //orgDeptGridUser\\n}\\nif(!Ext.isEmpty(orgcomboBox.getValue())){ \\n  whereSql +=' AND b.ORG_ID =\\\\''+orgcomboBox.getValue()+'\\\\'';\\n}\\nif(!Ext.isEmpty(depcomboBox.getValue())){\\n  whereSql +=' AND b.DEPT_ID =\\\\''+depcomboBox.getValue()+'\\\\'';\\n}\\nstore.getProxy().extraParams.WHERESQL = whereSql;\\n\\n\\n\\n\"},{\"xwlMeta\":\"store\",\"id\":\"SelectedRoleGridStore\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BVPUS (select_store3)\"},{\"xwlMeta\":\"store\",\"id\":\"userStore\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BVPUL (select_userStore)\"},{\"xwlMeta\":\"store\",\"id\":\"store_none\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23WO6G8BVPV2 (select_none)\"},{\"xwlMeta\":\"store\",\"id\":\"store5\",\"url\":\"#23WO6G8BVPU7 (selectUser)\"},{\"xwlMeta\":\"store\",\"id\":\"repeatRoleValidStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23X7GYI1JMQ8 (repeatRoleValidStore)\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"grid1columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xuhao\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"user_name\",\"text\":\"用户名\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"emp_name\",\"text\":\"员工姓名\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"rolename\",\"text\":\"角色名称\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MNU_GROUP_NAME\",\"id\":\"rolemenus\",\"text\":\"角色菜单组\",\"width\":\"300\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"role_id\",\"text\":\"role_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"user_id\",\"text\":\"user_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ROLE_ID\",\"id\":\"user_role_id\",\"text\":\"USER_ROLE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ISDEFAUT\",\"id\":\"defaultset\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"是否默认\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"SelectedRoleGridcolumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XH\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"ROLE_ID_COL\",\"text\":\"ROLE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"ROLE_NAME_COL\",\"text\":\"角色名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"DESCRIPTION_COL\",\"text\":\"角色说明\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"id\":\"Rdelete\",\"renderer\":\"var str = \\\"<a href=\\\\\\\"javascript:deleteRole();\\\\\\\"> 删除 <\\/a>\\\";\\nreturn str;\"}]},{\"xwlMeta\":\"array\",\"id\":\"SelectedUserGridcolumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUH\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"USER_ID_COL\",\"text\":\"USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USER_NAME_COL\",\"text\":\"用户名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_COL\",\"text\":\"员工姓名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"id\":\"Rdelete1\",\"renderer\":\"var str = \\\"<a href=\\\\\\\"javascript:deleteUser();\\\\\\\"> 删除 <\\/a>\\\";\\nreturn str;\"}]},{\"xwlMeta\":\"array\",\"id\":\"UserGridcolumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XH_COL\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"USER_ID_COLL\",\"text\":\"USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USER_NAME_COLL\",\"text\":\"用户名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_COLL\",\"text\":\"员工姓名\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"RoleGridcolumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XH_C\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"ROLE_ID_C\",\"text\":\"role_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"ROLE_NAME_C\",\"text\":\"角色名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"DESCRIPTION_C\",\"text\":\"角色说明\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"column_none\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xuhao1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"user_name1\",\"text\":\"用户名\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"rolename1\",\"text\":\"角色名\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"MNU_GROUP_NAME\",\"id\":\"rolemenus1\",\"text\":\"角色菜单组\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"role_id1\",\"text\":\"role_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"user_id1\",\"text\":\"user_id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ROLE_ID\",\"id\":\"user_role_id1\",\"text\":\"USER_ROLE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ISDEFAUT\",\"id\":\"defaultset1\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"是否默认\",\"flex\":\"1\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windowbtn\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"authorizeWindowbtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"set_icon\",\"id\":\"authorizebtn\",\"text\":\"授权\",\"click\":\"if(SelectedRoleGridStore.getCount()===0 || userStore.getCount()===0){\\n    Wb.warning('请选择要授权的角色和功能!');\\n    return;\\n}\\n//===========对要授权的数据进行校验================\\nvar _matchArray = [];\\nvar _existArray = [];\\nvar _finalArray = [];\\nvar _roleIds = '';\\nvar _userIds = '';\\nvar _tmpStr = '';\\nvar _existGrant = '';\\n//===========获取已选择的角色和用户信息=============\\nSelectedRoleGridStore.each(function(item){\\n  _roleIds +='\\\\''+item.data.ROLE_ID+'\\\\',';\\n});\\nuserStore.each(function(a){\\n  _userIds +='\\\\''+a.data.USER_ID+'\\\\',';\\n});\\n//===========获取已选择的角色和用户的组合信息(将已授权的记录从数组中去除)========\\nSelectedRoleGridStore.each(function(tmpRole){\\n  userStore.each(function(tmpUser){\\n    _tmpStr = tmpRole.data.ROLE_ID+','+tmpUser.data.USER_ID;\\n    _matchArray.push(_tmpStr);\\n  });\\n});\\n_roleIds = _roleIds.substring(0,_roleIds.length-1);\\n_userIds = _userIds.substring(0,_userIds.length-1);\\nstore_none.load({params:{roleIds:_roleIds,userIds:_userIds},callback:function(){\\n  store_none.each(function(c){\\n    _existGrant = c.data.ROLE_ID+','+c.data.USER_ID;\\n    if(Ext.Array.contains(_matchArray,_existGrant)){\\n      Ext.Array.remove(_matchArray,_existGrant); \\n    }\\n  });\\n if(_matchArray.length === 0){\\n   Wb.warning('所选择的用户已经授权完毕，请重新选择！');\\n   return false;\\n }\\n//=============构造参数==========================\\n var arrayGrantIds = [];\\n var _tmpSplit = [];\\n var _tmpJson;\\n Ext.each(_matchArray,function(tmpItem){\\n     _tmpSplit = tmpItem.split(',');\\n     _tmpJson= {USER_ROLE_ID:'',ROLE_ID:_tmpSplit[0],USER_ID:_tmpSplit[1]};\\n     arrayGrantIds.push(_tmpJson);\\n   }); \\n//==================执行授权操作===================\\naddRoleGrantAjax.params.newArray = Ext.JSON.encode(arrayGrantIds);\\naddRoleGrantAjax.request(); \\n}});\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"remove_icon\",\"id\":\"revokebtn\",\"text\":\"撤销\",\"click\":\"if(SelectedRoleGridStore.getCount()===0&&userStore.getCount()===0){\\n    Wb.message('请选择角色及用户!');\\n  return;\\n}\\nif(SelectedRoleGridStore.getCount()===0&&userStore.getCount()!==0){\\n    Wb.message('请选择角色!');\\n  return;\\n}\\nif(SelectedRoleGridStore.getCount()!==0&&userStore.getCount()===0){\\n    Wb.message('请选择用户!');\\n  return;\\n} \\n//删除所选择的授权\\nvar delArrayVar = [];\\nvar delJson ;\\nSelectedRoleGridStore.each(function(a){\\n  userStore.each(function(b){\\n    delJson = {USER_ID:b.data.USER_ID,ROLE_ID:a.data.ROLE_ID};\\n    delArrayVar.push(delJson);\\n  });  \\n});\\ndelRoleGrantAjax.params.delArray = Ext.JSON.encode(delArrayVar);\\ndelRoleGrantAjax.request();\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"close_icon\",\"id\":\"closebtn\",\"text\":\"关闭\",\"click\":\"authorizeWin.close();\\nSelectedRoleGridStore.removeAll();\\nuserStore.removeAll();\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectedRoleWinbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"rdeletebtn\",\"text\":\"删除\",\"hidden\":\"true\",\"click\":\"var records=grid3.getSelectionModel().getSelection();\\ngrid3.store.remove(records);\"},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"text\":\"关闭\",\"hidden\":\"true\",\"click\":\"//关闭前记录store中的数据 放在none_selectedRoleWin中\\nnone_Rstore.removeAll();\\nvar len=store3.getModifiedRecords().length;\\nvar record=store3.getModifiedRecords();\\nfor(var i=0;i<store3.getCount();i++){\\n\\n  var role_id=record[i].data.ROLE_ID;\\n  var role_name=record[i].data.ROLE_NAME;\\n  var description=record[i].data.DESCRIPTION;\\n  var json={ROLE_ID:role_id,ROLE_NAME:role_name,DESCRIPTION:description};\\n  none_Rstore.add(json);\\n  \\n    \\n}\\nselectedRoleWin.hide();\\n//none_selectedRoleWin.show();\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectedUserWinbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"udeletebtn\",\"text\":\"删除\",\"hidden\":\"true\"},{\"xwlMeta\":\"button\",\"id\":\"button11\",\"text\":\"关闭\",\"hidden\":\"true\",\"click\":\"//关闭前记录store中的数据 放在none_selectedUserWin中\\nnone_Ustore.removeAll();\\nvar len=userStore.getModifiedRecords().length;\\nvar record=userStore.getModifiedRecords();\\nfor(var i=0;i<len;i++){\\n \\n  var user_id=record[i].data.USER_ID;\\n  var user_name=record[i].data.USER_NAME;\\n  var emp_name=record[i].data.EMP_NAME;\\n  var json={USER_ID:user_id,USER_NAME:user_name,EMP_NAME:emp_name};\\n  none_Ustore.add(json);\\n\\n  \\n    \\n}\\n\\nselectedUserWin.close();\\n//none_selectedUserWin.show();\\n\\n\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"authorizeWin\",\"title\":\"用户角色授权\",\"height\":\"550\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"980\",\"buttons\":\"authorizeWindowbtn\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"close\":\"SelectedRoleGridStore.removeAll();\\nuserStore.removeAll();\\nWb.load(store1);\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"authorizePanel\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"center\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"blankPanel\",\"height\":\"600\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"30\"}]},{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"west\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'49%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form2\",\"height\":\"40\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色名\",\"id\":\"roleN\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(select_rolestore);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"roleQueryBtn\",\"text\":\"查询\",\"click\":\"select_rolestore.load();\"},{\"xwlMeta\":\"text\",\"id\":\"FLAG\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"text\",\"id\":\"ARRID1\",\"hidden\":\"true\"},{\"xwlMeta\":\"grid\",\"store\":\"select_rolestore\",\"columns\":\"RoleGridcolumns\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"RoleGrid\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row=Wb.getSelRec(RoleGrid);\\nvar sm=RoleGrid.getSelectionModel();\\nvar records=sm.getSelection();\\nvar len=SelectedRoleGridStore.getModifiedRecords().length;\\nvar record=SelectedRoleGridStore.getModifiedRecords();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid='';\\nfor(var v=0;v<row.length;v++){\\n  var idNu=records[v].get('ROLE_ID');\\n  arrid=arrid+','+idNu;\\n}\\nARRID1.setValue(arrid.substring(1,arrid.length));\\n//给selectedRoleWin中的STORE添加数据\\nif(row.length===1){\\n  var bl;\\n  for(var i=0;i<len;i++){\\n  var role_id=record[i].data.ROLE_ID;\\n  if(records[0].get('ROLE_ID')===role_id){\\n      \\n      bl=1;\\n      break;\\n     \\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n    \\n         var json={ROLE_ID:records[0].get('ROLE_ID'),ROLE_NAME:records[0].get('ROLE_NAME'),DESCRIPTION:records[0].get('DESCRIPTION')};\\n         SelectedRoleGridStore.add(json);\\n\\n  }\\n  \\n}else{\\n  \\n  var bl;\\n  for(var i=0;i<len;i++){\\n    var role_id=SelectedRoleGridStore.getAt(i).get('ROLE_ID');\\n    if(records[row.length-1].get('ROLE_ID')===role_id){\\n      \\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n\\n       var json={ROLE_ID:records[row.length-1].get('ROLE_ID'),ROLE_NAME:records[row.length-1].get('ROLE_NAME'),DESCRIPTION:records[row.length-1].get('DESCRIPTION')};\\n       SelectedRoleGridStore.add(json);\\n     \\n    \\n  }\\n  \\n}\\nFLAG.setValue(row.length);\\nallcount();\\n\",\"selectionchange\":\"var flag=FLAG.getValue();\\nvar row=Wb.getSelRec(RoleGrid);\\nvar sm=RoleGrid.getSelectionModel();\\nvar records=sm.getSelection();\\nvar row=Wb.getSelRec(RoleGrid);\\nif(flag===null||flag===''){\\n  \\n}\\nelse{\\n  if(row.length<flag&&RoleGrid.getStore().isLoading()===false){\\n    //获取当前页中已勾选的ID(取消勾选时)\\n    var abl;\\n    var arrayid=ARRID1.getValue().split(',');\\n    for(var i=0;i<arrayid.length;i++){\\n        var aid=arrayid[i];\\n        for(var v=0;v<row.length;v++){\\n          var idN=records[v].get('ROLE_ID');\\n          if(aid===idN){\\n            abl=1;\\n            break;\\n          }else{\\n            abl=0;\\n          }\\n            \\n        }\\n        if(abl!==1){\\n          //在弹出的WIN中删掉ID为该ID的数据\\n               for(var k=0;k<SelectedRoleGridStore.getCount();k++){\\n                  var  role_id3= SelectedRoleGridStore.getAt(k).get('ROLE_ID');\\n                  if(aid===role_id3){\\n                  SelectedRoleGridStore.removeAt(k);\\n               \\n                  }\\n              }\\n        }\\n    }\\n   \\n   }\\n  \\n}\\nallcount();\"},{\"xwlMeta\":\"form\",\"region\":\"south\",\"id\":\"form4\",\"height\":\"30\",\"layout\":\"border\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel11\",\"columnWidth\":\".4\",\"border\":\"false\",\"width\":\"'40%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel9\",\"height\":\"30\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"50\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"selectedRolebtn\",\"textAlign\":\"center\",\"text\":\"已选角色\",\"hidden\":\"true\",\"click\":\"selectedRoleWin.show();\"},{\"xwlMeta\":\"label\",\"id\":\"label11\",\"html\":\"\\n<!DOCTYPE html>\\n<html>\\n<head>\\n\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick =\\\"copyRole()\\\" style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"role\\\">已选角色<\\/a>\\n<\\/body>\\n<\\/html>\\n\\t\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel1111\",\"columnWidth\":\".2\",\"border\":\"false\",\"width\":\"15\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"deleteAllRolesLabel\",\"html\":\"<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"deleteAllRoles();\\\" title=\\\"删除全部已选角色\\\" style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"fun\\\" ><image src=\\\"{#delImageSrc#}\\\"><\\/image><\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-panel-no-border\",\"id\":\"east\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'49%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form21\",\"height\":\"95\",\"border\":\"false\",\"width\":\"360\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"org\",\"height\":\"'100%'\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore\",\"valueField\":\"CODE\",\"editable\":\"true\",\"labelAlign\":\"right\",\"emptyText\":\"---- 选择组织 ----\",\"fieldLabel\":\"组织\",\"id\":\"orgcomboBox\",\"displayField\":\"NAME\",\"labelWidth\":\"60\",\"beforequery\":\"\\n\\n\",\"select\":\"orgcomboBox.focus();\\nvar dept_id=depcomboBox.getValue();\\nif(dept_id===null||dept_id===''){\\n  var ORG_ID=orgcomboBox.getValue();\\n  Wb.load(depStore,{ORG_ID:ORG_ID});\\n}else{\\n  var ORG_ID=orgcomboBox.getValue();\\n  Wb.load(depStore,{ORG_ID:ORG_ID});\\n  depcomboBox.clearValue();\\n}\\nvar ORG_ID=orgcomboBox.getValue();\\nWb.load(userGridStore);\\n\\n\\n\\n\\n\\n\\n\\n\\n\",\"focus\":\"depcomboBox.collapse();\",\"blur\":\"//depcomboBox.collapse();\",\"specialkey\":\"//if (event.getKey() == Ext.EventObject.ENTER) {\\n\\n//Wb.load(orgStore);\\n//}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"dep\",\"height\":\"'100%'\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"depStore\",\"valueField\":\"DEPT_ID\",\"editable\":\"true\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"emptyText\":\"---- 选择部门 ----\",\"fieldLabel\":\"部门\",\"id\":\"depcomboBox\",\"queryLike\":\"true\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"60\",\"beforequery\":\"//depcomboBox.clearValue();\",\"select\":\"var DEPT_ID=depcomboBox.getValue();\\nWb.load(userGridStore);\\n\\n\\n\\n\",\"focus\":\"var DEPT_ID=depcomboBox.getValue();\\nif(DEPT_ID===null||DEPT_ID===''){\\n\\n  if(orgcomboBox.getValue()===null){\\n    depcomboBox.getStore().removeAll();\\n\\n  }\\n  \\n}\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"userPanel\",\"height\":\"25\",\"layout\":\"form\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户\",\"id\":\"userN\",\"height\":\"20\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   userNUpper.setValue(userN.getValue().toUpperCase());\\n   Wb.load(userGridStore);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户\",\"id\":\"userNUpper\",\"height\":\"20\",\"labelWidth\":\"60\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n    userNUpper.setValue(userN.getValue().toUpperCase());\\n    Wb.load(userGridStore);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"selectPanel\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"width\":\"30\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button111\",\"text\":\"查询\",\"click\":\"userNUpper.setValue(userN.getValue().toUpperCase());\\nuserGridStore.load();\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"resetPanel\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"width\":\"30\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"button122\",\"text\":\"重置\",\"click\":\"orgcomboBox.clearValue();\\ndepcomboBox.clearValue();\\nform21.form.reset();\\nuserGridStore.getProxy().url='main?xwl=23WO6G8BVPU7';\\nWb.reload(userGridStore);\\n//userStore.load();\\n\"}]}]},{\"xwlMeta\":\"text\",\"id\":\"FLAG1\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"ARRID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"grid\",\"store\":\"userGridStore\",\"columns\":\"UserGridcolumns\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"UserGrid\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row=Wb.getSelRec(UserGrid);\\nvar sm=UserGrid.getSelectionModel();\\nvar records=sm.getSelection();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid='';\\nfor(var v=0;v<row.length;v++){\\n  var idNu=records[v].get('USER_ID');\\n  arrid=arrid+','+idNu;\\n}\\nARRID.setValue(arrid.substring(1,arrid.length));\\n//var len=userGridStore.getModifiedRecords().length;\\nif(row.length===1){\\n      //不在userStore中才添加\\n      var blll;\\n      for(var j=0;j<userStore.getCount();j++){\\n         var uuid=userStore.getAt(j).get('USER_ID');\\n         if(records[0].get('USER_ID')===uuid){\\n          blll=1;\\n          break;\\n          \\n        }\\n        \\n      }\\n      if(blll!==1){\\n       var json={USER_ID:records[0].get('USER_ID'),USER_NAME:records[0].get('USER_NAME'),EMP_NAME:records[0].get('EMP_NAME')};\\n       userStore.add(json);\\n\\n      }\\n \\n  \\n  \\n}else{\\n  //不在userStore中才添加\\n  var bl;\\n  for(var i=0;i<userStore.getCount();i++){\\n    var user_id=userStore.getAt(i).get('USER_ID');\\n    if(records[row.length-1].get('USER_ID')===user_id){\\n      \\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n   \\n      var json={USER_ID:records[row.length-1].get('USER_ID'),USER_NAME:records[row.length-1].get('USER_NAME'),EMP_NAME:records[row.length-1].get('EMP_NAME')};\\n      userStore.add(json);\\n\\n    }\\n\\n}\\n\\nFLAG1.setValue(row.length);\\nallcount2();\\n\",\"selectionchange\":\"\\nvar flag=FLAG1.getValue();\\nvar row=Wb.getSelRec(UserGrid);\\nvar sm=UserGrid.getSelectionModel();\\nvar records=sm.getSelection();\\n\\nif(flag===null||flag===''){\\n  \\n}\\nelse{\\n  if(row.length<flag&&UserGrid.getStore().isLoading()===false){\\n    //获取当前页中已勾选的ID(取消勾选时)\\n    var abl;\\n    var arrayid=ARRID.getValue().split(',');\\n    for(var i=0;i<arrayid.length;i++){\\n        var aid=arrayid[i];\\n        for(var v=0;v<row.length;v++){\\n          var idN=records[v].get('USER_ID');\\n          if(aid===idN){\\n            abl=1;\\n            break;\\n          }else{\\n            abl=0;\\n          }\\n            \\n        }\\n        if(abl!==1){\\n          //在弹出的WIN中删掉ID为该ID的数据\\n               for(var k=0;k<userStore.getCount();k++){\\n                  var  user_id3= userStore.getAt(k).get('USER_ID');\\n                  if(aid===user_id3){\\n                  userStore.removeAt(k);\\n               \\n                  }\\n              }\\n          \\n        \\n        }\\n    }\\n   \\n   }\\n}\\nallcount2();\\n//else{\\n      //  if(UserGrid.getStore().isLoading()===false){\\n          \\n          //   for(var k=0;k<userStore.getCount();k++){\\n            //   var  user_id3= userStore.getAt(k).get('USER_ID');\\n            //   if(user_id2===user_id3){\\n            //    userStore.removeAt(k);\\n            //   \\n            //    }\\n          //   }\\n            \\n      //  }\\n  //   }\\n\\n  \"},{\"xwlMeta\":\"form\",\"region\":\"south\",\"id\":\"form41\",\"height\":\"30\",\"layout\":\"border\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel111\",\"columnWidth\":\".4\",\"border\":\"false\",\"width\":\"'40%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel91\",\"height\":\"30\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"50\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"selectedUserbtn\",\"textAlign\":\"center\",\"text\":\"已选用户\",\"hidden\":\"true\",\"click\":\"selectedtUserWin.show();\"},{\"xwlMeta\":\"label\",\"id\":\"label1\",\"html\":\"\\n<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick =\\\"copyText()\\\" style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"user\\\" >已选用户<\\/a>\\n<\\/body>\\n<\\/html>\\n\\t\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel11111\",\"columnWidth\":\".2\",\"border\":\"false\",\"width\":\"15\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"deleteAllUsersLabel1\",\"html\":\"<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"deleteAllUsers();\\\" title=\\\"删除全部已选用户\\\" style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"fun\\\" ><image src=\\\"{#delImageSrc#}\\\"><\\/image><\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]}]}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"selectedRoleWin\",\"title\":\"已选角色\",\"height\":\"360\",\"layout\":\"border\",\"autoReset\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"480\",\"buttons\":\"selectedRoleWinbtn\",\"buttonAlign\":\"center\",\"beforeclose\":\"//none_Rstore.removeAll();\\n//var len=store3.getModifiedRecords().length;\\n//var record=store3.getModifiedRecords();\\n//for(var i=0;i<store3.getCount();i++){\\n\\n//  var role_id=record[i].data.ROLE_ID;\\n//  var role_name=record[i].data.ROLE_NAME;\\n//  var description=record[i].data.DESCRIPTION;\\n // var json={ROLE_ID:role_id,ROLE_NAME:role_name,DESCRIPTION:description};\\n//  none_Rstore.add(json);\\n  \\n    \\n//}\\n\\n\\n\",\"close\":\"selectedRoleWin.hide();\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"SelectedRoleGridStore\",\"columns\":\"SelectedRoleGridcolumns\",\"height\":\"340\",\"exportExcel\":\"false\",\"width\":\"480\",\"region\":\"center\",\"id\":\"SelectedRoleGrid\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"//var record=grid3.getSelectionModel().getSelection();\\n//store3.remove(record);\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"selectedUserWin\",\"title\":\"已选用户\",\"height\":\"360\",\"layout\":\"border\",\"autoReset\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"480\",\"buttons\":\"selectedUserWinbtn\",\"buttonAlign\":\"center\",\"close\":\"selectedUserWin.hide();\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"userStore\",\"columns\":\"SelectedUserGridcolumns\",\"height\":\"340\",\"exportExcel\":\"false\",\"width\":\"480\",\"region\":\"center\",\"id\":\"SelectedUserGrid\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window_none\",\"height\":\"260\",\"layout\":\"border\",\"width\":\"380\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store_none\",\"columns\":\"column_none\",\"height\":\"260\",\"width\":\"380\",\"region\":\"center\",\"id\":\"grid5\",\"autoLoad\":\"false\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"grid1tbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"key_icon\",\"id\":\"user_role_authorizebtn\",\"text\":\"用户角色授权\",\"click\":\"authorizeWin.show();\\nselect_rolestore.load();\\nuserGridStore.getProxy().url='main?xwl=23WSD6KB5R5M';\\nuserStore.load();\\nWb.load(userGridStore);\\nSelectedRoleGridStore.load();\\nallcount3();\\nallcount31();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"deletebtn\",\"text\":\"删除\",\"click\":\"var rows=Wb.getSelRec(grid1);\\nif(Ext.isEmpty(rows)){\\n  Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n}\\nelse{\\n   Ext.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n    delete_user_role_ajax.request();\\n    }\\n   });\\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"rename_icon\",\"id\":\"defaultbtn\",\"text\":\"设为默认\",\"click\":\"var rows=Wb.getSelRec(grid1);\\n/*----------可以同时设置多个用户为默认角色，但是同一个用户只能有一个默认角色----*/\\nif(rows.length === 0){\\n  Wb.warning('请选择要操作的记录！');\\n  return false;\\n}\\nif(rows.length !==1){\\n  Wb.warning('请选择一条记录！');\\n  return false;\\n}\\nif(rows[0].data.ISDEFAUT === 'Y'){\\n  Wb.warning('该用户已经是默认角色！');\\n  return false;\\n}\\nsetSingleDefaultAjax.request({USER_ID:rows[0].data.USER_ID,USER_ROLE_ID:rows[0].data.USER_ROLE_ID});\\n// /*-------------校验所选的用户是否已经存在默认角色，若存在则忽略该用户的角色设置---*/\\n// var _userIds  = '';\\n// var _repeatArray = [];\\n// var _tmpArray = [];\\n// Ext.each(rows,function(a){\\n//   _userIds += '\\\\''+a.data.USER_ID+'\\\\',';  \\n//   _repeatArray.push(a.data.USER_ID);\\n// });\\n// _tmpArray = _repeatArray;\\n// _repeatArray = Ext.Array.unique(_repeatArray);\\n// if(_tmpArray.length !== _repeatArray.length){\\n//   Wb.warning('不能为同一个用户设置多个默认角色！');\\n//   return false;\\n// }\\n\\n\\n// _userIds = _userIds.substring(0,_userIds.length-1);\\n// var _defaultArray = [];\\n// var tmpJson;\\n// repeatRoleValidStore.load({params:{userIds:_userIds},callback:function(){\\n//   if(repeatRoleValidStore.getCount() === 0){\\n//     Ext.each(rows,function(b){\\n//       tmpJson = {USER_ROLE_ID:b.data.USER_ROLE_ID};\\n//       _defaultArray.push(tmpJson);\\n      \\n//     });   \\n//   }else{\\n//    repeatRoleValidStore.each(function(item){\\n//     Ext.each(rows,function(b){\\n//       if(item.data.USER_ID !== b.data.USER_ID){\\n//         tmpJson = {USER_ROLE_ID:b.data.USER_ROLE_ID};\\n//         _defaultArray.push(tmpJson);\\n//       }\\n//     });\\n//   });\\n//   }\\n// /*-----------------执行设置默认操作-------------------*/\\n//   if(_defaultArray.length === 0){\\n//     Wb.warning('所选择的用户均已存在默认角色，请重新选择！');\\n//     return false;\\n//   }\\n//   setDefaultAjax.params.userRoleIds = Ext.JSON.encode(_defaultArray);\\n//   setDefaultAjax.request();\\n// }});\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"button\",\"iconCls\":\"remove_icon\",\"id\":\"cancelDefault\",\"text\":\"取消默认\",\"hidden\":\"true\",\"click\":\"var rows=Wb.getSelRec(grid1);\\n/*----------可以同时设置多个用户为默认角色，但是同一个用户只能有一个默认角色----*/\\nif(rows.length === 0){\\n  Wb.warning('请选择要操作的记录！');\\n  return false;\\n}\\nvar _defaultArray = [];\\nvar tmpJson;\\nExt.each(rows,function(a){\\n  if(a.data.ISDEFAUT === 'Y'){\\n    tmpJson = {USER_ROLE_ID:a.data.USER_ROLE_ID};\\n    _defaultArray.push(tmpJson);\\n  }\\n});\\n\\n/*-----------------执行设置默认操作-------------------*/\\n  if(_defaultArray.length === 0){\\n    Wb.warning('请选择默认的的角色！');\\n    return false;\\n  }\\n\\n  Ext.Msg.confirm('提示','确定要取消默认角色设置？',function(btn){\\n    if(btn === 'yes'){\\n      cancelDefaultAjax.params.userRoleIds = Ext.JSON.encode(_defaultArray);\\n      cancelDefaultAjax.request();\\n    } \\n  });\\n  \\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form1\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"userid\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   useridUpper.setValue(userid.getValue().toUpperCase());\\n   Wb.load(store1);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色菜单组\",\"id\":\"role_menu\",\"labelWidth\":\"80\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(store1);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"useridUpper\",\"labelWidth\":\"80\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(store1);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel2\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"员工姓名\",\"id\":\"empName\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(store1);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel3\",\"layout\":\"form\",\"columnWidth\":\".2\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色名称\",\"id\":\"role_name\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(store1);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel4\",\"layout\":\"form\",\"columnWidth\":\".1\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"bodyPadding\":\"0px 0px 0px 5px\",\"id\":\"panel6\",\"layout\":\"column\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel5\",\"layout\":\"form\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"querybtn\",\"text\":\"查询\",\"width\":\"60\",\"x\":\"10\",\"click\":\"useridUpper.setValue(userid.getValue().toUpperCase());\\nWb.load(store1);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel7\",\"layout\":\"form\",\"columnWidth\":\".5\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetbtn\",\"text\":\"重置\",\"width\":\"60\",\"x\":\"25\",\"click\":\"form1.form.reset();\\nstore1.load();\"}]}]}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"grid1columns\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"grid1tbar\",\"selType\":\"checkboxmodel\"}]}]}","用户角色授权",null,0,0,"admin","2015-04-23 10:35:45.0","23XQ4UO678F5","2015-10-19 16:10:05.0",1],["23WO6G8BVPTC","23WO6G8BVPRQ",null,"DATA",null,1,0,"admin","2015-04-23 10:36:10.0","admin","2015-06-04 15:18:52.0",3],["23WO6G8BVPTJ","23WO6G8BVPTC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectALL\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#useridUpper#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute2\",\"value\":\"%{#role_name#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute3\",\"value\":\"%{#role_menu#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select * from(\\n select xpur.USER_ROLE_ID,\\n        xpur.ROLE_ID,\\n        xpur.USER_ID,\\n        USER_NAME,\\n        ROLE_NAME,\\n       (SELECT EMP_NAME FROM XIP_PUB_EMPS F WHERE F.EMP_ID=xpu.EMP_ID) EMP_NAME,\\n        MNU_GROUP_NAME,\\n        ISDEFAUT   \\n     from xip_pub_role xpr,\\n          xip_pub_users xpu,\\n          xip_pub_user_roles xpur,\\n          xip_pub_mnu_group xpmg\\n     where xpur.USER_ID=xpu.USER_ID \\n           and xpur.ROLE_ID=xpr.ROLE_ID\\n           and xpmg.MNU_GROUP_ID=xpr.MNU_GROUP_ID \\n           and xpur.ENABLE_FLAG='Y' \\n              )T\\n           WHERE   T.USER_NAME like  '%{#useridUpper#}%'\\n           and T.ROLE_NAME like '%{#role_name#}%'\\n           and  T.EMP_NAME like '%{#empName#}%'\\n          \"}]}","selectALL",null,0,0,"admin","2015-04-23 10:36:18.0","23XQ4UO678F5","2015-10-19 16:04:57.0",1],["23WO6G8BVPTU","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"deleteUserRole\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_user_roles where USER_ROLE_ID={?USER_ROLE_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}]}","deleteUserRole",null,0,0,"admin","2015-04-23 10:36:29.0","admin","2015-04-23 10:36:29.0",3],["23WO6G8BVPTX","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"updatedefault\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_pub_user_roles set ISDEFAUT='Y' where USER_ROLE_ID={?USER_ROLE_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}],\"loginRequired\":\"false\"}","updatedefault",null,0,0,"admin","2015-04-23 10:36:32.0","admin","2015-06-13 10:26:50.0",4],["23WO6G8BVPU2","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"select_role\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#roleN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select ROLE_ID,\\n       ROLE_NAME,\\n       DESCRIPTION\\n   FROM  xip_pub_role\\n   where ENABLE_FLAG='Y' \\n         and\\n         ROLE_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}]}","select_role",null,0,0,"admin","2015-04-23 10:36:37.0","admin","2015-04-23 13:12:42.0",5],["23WO6G8BVPU7","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"selectUser\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,\\n       USER_NAME,\\n       EMP_NAME\\nfrom xip_pub_users x1,\\n     xip_pub_emps x2 \\nwhere x1.EMP_ID=x2.EMP_ID\\n AND (x1.USER_NAME like {?attribute1?}\\n   OR x2.EMP_NAME like {?attribute1?})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectUser",null,0,0,"admin","2015-04-23 10:36:43.0","admin","2015-06-04 16:45:30.0",6],["23WO6G8BVPUB","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"select_orgCombox\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT ORG_ID CODE, ORG_NAME NAME FROM XIP_PUB_ORGS WHERE \\tENABLE_FLAG = 'Y'\\t AND ORG_NAME LIKE {?attribute1?}\\n\",\"xwlMeta\":\"dataProvider\"}]}","select_orgCombox",null,0,0,"admin","2015-04-23 10:36:47.0","admin","2015-04-23 10:36:47.0",7],["23WO6G8BVPUG","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"select_depCombox\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select t.* from XIP_PUB_DEPTS t where t.ORG_ID = {?ORG_ID?} and t.DEPT_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}]}","select_depCombox",null,0,0,"admin","2015-04-23 10:36:53.0","admin","2015-04-23 10:36:53.0",8],["23WO6G8BVPUL","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"select_userStore\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,\\n       USER_NAME,\\n       EMP_NAME \\nfrom xip_pub_users x1,\\n    xip_pub_emps x2 \\nwhere x1.EMP_ID=x2.EMP_ID and 1=0\",\"xwlMeta\":\"dataProvider\"}]}","select_userStore",null,0,0,"admin","2015-04-23 10:36:58.0","admin","2015-04-23 10:36:58.0",9],["23WO6G8BVPUS","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"select_store3\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select ROLE_ID,\\n       ROLE_NAME,\\n       DESCRIPTION\\nFROM  xip_pub_role \\nwhere ENABLE_FLAG='Y'  and 1=0\",\"xwlMeta\":\"dataProvider\"}]}","select_store3",null,0,0,"admin","2015-04-23 10:37:08.0","admin","2015-04-23 10:37:08.0",10],["23WO6G8BVPV2","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"select_none\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT t.ROLE_ID,\\n       t.USER_ID \\n      FROM xip_pub_user_roles t\\n      WHERE t.ENABLE_FLAG='Y'\\n      AND t.USER_ID IN({#userIds#})\\n      AND t.ROLE_ID IN({#roleIds#})   \",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","select_none",null,0,0,"admin","2015-04-23 10:37:20.0","admin","2015-06-04 14:54:28.0",12],["23WO6G8BVZRY","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"selectProxyUser\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,\\n       USER_NAME,\\n       EMP_NAME\\nfrom xip_pub_users x1,\\n     xip_pub_emps x2\\nwhere x1.EMP_ID in   \\n(select EMP_ID from xip_pub_emp_asg where DEPT_ID={?DEPT_ID?})\\n   and x1.EMP_ID=x2.EMP_ID AND (USER_NAME like {?attribute1?}  OR x2.EMP_NAME like {?attribute1?})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectProxyUser",null,0,0,"admin","2015-04-23 15:22:46.0","admin","2015-06-04 16:46:00.0",14],["23WPM6KN6KOO","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"insertFuncMenu\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_btnreg b where b.btn_code = {?BTN_CODE?} and b.FUN_TREE_ID = {?FUNC_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"id\":\"except1\",\"message\":\"编码 \\\"{#BTN_CODE#}\\\" 已存在!\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"insert into xip_pub_btnreg\\n  (BTN_ID,\\n   BTN_CODE,\\n   BTN_NAME,\\n   ENABLE_FLAG,\\n   FUN_TREE_ID,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ({?BTN_ID?},\\n   {?BTN_CODE?},\\n   {?BTN_NAME?},\\n   {?BTN_ENABLE?},\\n   {?FUNC_ID?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{BTN_ID:'{#BTN_ID#}', BTN_CODE:'{#BTN_CODE#}', IS_ADD_NEXT:'{#IS_ADD_NEXT#}'}\",\"xwlMeta\":\"response\"}]}","insertBtn_win",null,0,0,"admin","2015-04-15 11:07:52.0","admin","2015-04-15 14:59:33.0",16],["23WPM6KN6KP3","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"insertFuncMenu\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_btnreg b where b.btn_code = {?BTN_CODE?} and b.btn_id <> {?BTN_ID?} and b.FUN_TREE_ID = {?FUNC_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"id\":\"except1\",\"message\":\"编码 \\\"{#BTN_CODE#}\\\" 已存在!\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"update xip_pub_btnreg\\n   set BTN_CODE         = {?BTN_CODE?},\\n       BTN_NAME         = {?BTN_NAME?},\\n       ENABLE_FLAG      = {?BTN_ENABLE?},\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY  = {?XIP.userId?}\\n where BTN_ID = {?BTN_ID?}\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{BTN_ID:'{#BTN_ID#}', BTN_CODE:'{#BTN_CODE#}', IS_ADD_NEXT:'{#IS_ADD_NEXT#}'}\",\"xwlMeta\":\"response\"}]}","updateBtn_win",null,0,0,"admin","2015-04-15 11:13:27.0","admin","2015-04-15 14:59:41.0",17],["23WPM6KN6KPB","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"getBtns\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT B.BTN_ID BTN_ID_WIN, B.BTN_CODE BTN_CODE_WIN, B.BTN_NAME BTN_NAME_WIN, B.ENABLE_FLAG BTN_ENABLE_WIN, B.FUN_TREE_ID\\n  FROM XIP_PUB_BTNREG B\\n WHERE B.BTN_ID = {?BTN_ID?}\",\"xwlMeta\":\"dataProvider\"}]}","getBtnById",null,0,0,"admin","2015-04-15 11:16:46.0","admin","2015-04-23 13:15:57.0",15],["23WPM6KN6KPI","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"deleteBtns\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from XIP_PUB_USER_FUN_BTNS \\n where fun_tree_id = {?funTreeId?} \\n and  btn_id in ({#ids#})\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"所选按钮禁用授权不为空，请先删除授权信息！\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"delete from xip_pub_btnreg where BTN_ID in ({#ids#})\\n\\n\\n\\n\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteBtn_win",null,0,0,"admin","2015-04-15 11:18:12.0","admin","2015-05-20 09:21:38.0",18],["23WPM6KN6M8D","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"getSecUsers\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select s.USER_BTNS_ID,\\n       s.TYPE,\\n       s.TARGET_ID,\\n       s.BTN_ID,\\n       s.CAN_USE,\\n       s.FUN_TREE_ID,\\n       (select e.emp_name\\n          from XIP_PUB_EMPS e\\n         where e.emp_id = (select u.emp_id\\n                             from xip_pub_users u\\n                            where u.user_id = s.target_id)) EMP_NAME,\\n       (select u.user_Name\\n          from xip_pub_users u\\n         where u.user_id = s.target_id) USER_NAME\\n  from XIP_PUB_USER_FUN_BTNS s\\n where s.fun_tree_id = {?FUNC_ID?}\\n   and s.btn_id = {?BTN_ID?}\",\"xwlMeta\":\"dataProvider\"}]}","getSecUsers",null,0,0,"admin","2015-04-15 15:46:21.0","admin","2015-04-23 13:16:38.0",19],["23WPM6KN6N8C","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"deleteBtns\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_USER_FUN_BTNS where USER_BTNS_ID in ({#ids#})\",\"xwlMeta\":\"query\"}]}","deleteBtnSec",null,0,0,"admin","2015-04-15 16:22:54.0","admin","2015-04-15 16:23:31.0",21],["23WPM6KN6NDV","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"getUsers\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT U.USER_ID,\\n       U.USER_NAME,\\n       U.PASSWORD,\\n       U.EMP_ID,\\n       E.EMP_CODE,\\n       E.EMP_NAME,\\n       U.USER_TYPE,\\n       U.START_DATE,\\n       U.END_DATE\\n  FROM XIP_PUB_USERS U, XIP_PUB_EMPS E\\n WHERE U.EMP_ID = E.EMP_ID\\n   AND U.USER_NAME LIKE '%{#userName#}%'\\n   AND E.EMP_NAME LIKE '%{#empName#}%'\\n   AND u.start_date <= {?timestamp.sys.date?}\\n   AND (u.end_date >= {?timestamp.sys.date?} OR u.end_date IS NULL)\\n   AND U.USER_ID NOT IN\\n       (select s.TARGET_ID from XIP_PUB_USER_FUN_BTNS s where s.TYPE='U' and s.BTN_ID = {?selectWinBtnId?} and s.FUN_TREE_ID = {?selectWinFuncId?})\",\"xwlMeta\":\"dataProvider\"}]}","getUsers",null,0,0,"admin","2015-04-15 16:29:18.0","admin","2015-04-23 13:05:33.0",22],["23WPM6KN6NYL","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"insertBtnSec\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_USER_FUN_BTNS\\n  (USER_BTNS_ID,\\n   TYPE,\\n   TARGET_ID,\\n   BTN_ID,\\n   CAN_USE,\\n   FUN_TREE_ID,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ({?USER_BTNS_ID?},\\n   {?TYPE?},\\n   {?TARGET_ID?},\\n   {?BTN_ID?},\\n   {?CAN_USE?},\\n   {?FUN_TREE_ID?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"indertArray\"}],\"loginRequired\":\"false\"}","insertBtnSec",null,0,0,"admin","2015-04-15 16:52:55.0","admin","2015-06-04 13:46:10.0",20],["23WPYTWVKUI5","23VVZ3QMOKQA",null,"数据导入导出","report_icon",0,0,"admin","2015-04-16 14:39:39.0","admin","2015-04-16 14:39:39.0",31],["23WPYTWVKUI6","23WPYTWVKUI5",null,"数据模板管理",null,0,0,"admin","2015-04-16 14:40:00.0","admin","2015-04-16 14:40:00.0",1],["23WPYTWVKUIG","23WPYTWVKUI6","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"templateManage\",\"jsFiles\":\"[\\\"platform/util/platformUtil.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userId');\\nvar userName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('userName');\\nvar empName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('empName');\\n\\nvar authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nvar roleId = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleId');\\nvar roleName = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleName');\\nvar roleCode = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('roleCode');\\n\\nvar ctxPath = request.getContextPath() ;\\n\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"userName\\\",userName);\\nrequest.setAttribute(\\\"empName\\\",empName);\\n\\nrequest.setAttribute(\\\"authModel\\\",authModel);\\nrequest.setAttribute(\\\"roleId\\\",roleId);\\nrequest.setAttribute(\\\"roleName\\\",roleName);\\nrequest.setAttribute(\\\"roleCode\\\",roleCode);\\n\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"cssFiles\":\"[\\\"common/css/default.css\\\"]\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WR4VGGRMQ2 (insertTemplate)\",\"id\":\"tempInsert\",\"failure\":\"Ext.Msg.alert('','保存失败!');\",\"success\":\"//Ext.Msg.alert('','保存成功!');\\n\\nExt.getCmp('OP_TYPE').setValue('_modified');\\n\\ntempSubGrid.plugins[0].completeEdit();\\n\\ntempSubStore.sync({\\n  callback :function(){\\n    Wb.unmask();\\n  }\\n});\\n\\nExt.Msg.alert('提示','保存成功!',function(){\\n  Wb.load(tempSubStore,{tempId:TMP_H_ID.getValue()});\\n});\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WR4VGGRMQ5 (updateTemplate)\",\"id\":\"tempUpdate\",\"failure\":\"Ext.Msg.alert('','保存失败!');\",\"success\":\"//Ext.Msg.alert('','保存成功!');\\n\\nExt.getCmp('OP_TYPE').setValue('_modified');\\ntempSubGrid.plugins[0].completeEdit();\\ntempSubStore.sync({\\n  callback :function(){\\n    Wb.unmask();\\n  }\\n});\\n\\nExt.Msg.alert('提示','保存成功!',function(){\\n  Wb.load(tempSubStore,{tempId:TMP_H_ID.getValue()});\\n});\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WRFE14PKA9 (deleteTemplate)\",\"id\":\"tempDelete\",\"failure\":\"Ext.Msg.alert('','删除失败!');\",\"success\":\"Ext.Msg.alert('提示','删除成功!');\\ntempStore.load();\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"tempStore\",\"url\":\"#23WPYTWVKUIJ (getTemplates)\",\"output\":\"queryFormFieldSet\"},{\"xwlMeta\":\"store\",\"id\":\"singleTempStore\",\"url\":\"#23WR4VGGRMNJ (getTemplateById)\",\"load\":\"if(singleTempStore.getAt(0)) {\\n  var record = singleTempStore.getAt(0);\\n  tempForm.loadRecord(record);\\n  \\n  Ext.getCmp('appComboBox').setValue(record.get('APP_ID'));\\n  Ext.getCmp('appComboBox').setRawValue(record.get('APP_NAME'));\\n  \\n  \\n}\"},{\"xwlMeta\":\"store\",\"id\":\"tempSubStore\",\"proxy\":\"{\\n  type:\\\"ajax\\\",\\n  api:{\\n    read: 'main?xwl=23WR4VGGRMNN',\\n    update: 'main?xwl=23WRFE14PJLL',\\n    create: 'main?xwl=23WRFE14PJLI',\\n    destroy: 'main?xwl=23WRFE14PJLO'\\n  },\\n  reader:{\\n    type:\\\"json\\\",\\n    root:\\\"rows\\\",\\n    totalProperty:\\\"total\\\"\\n  },\\n  listeners:{\\n    exception:function(proxy,response,operation,options){\\n      Wb.except(response.responseText);\\n    }\\n  }\\n}\",\"pageSize\":\"-1\"},{\"xwlMeta\":\"store\",\"id\":\"appStore\",\"autoLoad\":\"true\",\"url\":\"#23WR4VGGRMR9 (getApps)\"},{\"xwlMeta\":\"store\",\"id\":\"tableColumnsStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"{#contextPath#}//templateManageAction.do?method=getFields\"}]},{\"xwlMeta\":\"folder\",\"id\":\"tbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"tempToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"btn_add\",\"text\":\"新增\",\"click\":\"Wb.reset(tempFieldSet);//重置\\nExt.getCmp('TMP_H_ID').setValue(Wb.getUuid());\\nExt.getCmp('OP_TYPE').setValue('_added');\\n\\ntempWin.setTitle('新增');\\ntempWin.show();\\ntempWin.maximize();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"btn_edit\",\"text\":\"编辑\",\"click\":\"var rows = tempGrid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else if(rows.length>1){\\n  Ext.Msg.alert('提示','请选择一条操作的记录!');\\n}else{\\n  var id = rows[0].data.TMP_H_ID;\\n  singleTempStore.load({params:{tempId:id}});\\n  \\n  tempSubStore.load({params:{tempId:id}});\\n  \\n  Ext.getCmp('OP_TYPE').setValue('_modified');\\n  tempWin.setTitle('编辑');\\n  tempWin.show();\\n  tempWin.maximize();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"btn_delete\",\"text\":\"删除\",\"click\":\"var rows = tempGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  Ext.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n    if(a=='yes'){\\n      var tempId = rows[0].data.TMP_H_ID;\\n      tempDelete.request({TMP_H_ID:tempId});\\n    }\\n  }); \\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"button\",\"iconCls\":\"export_icon\",\"id\":\"btn_export\",\"text\":\"测试导出\",\"click\":\"var rows = tempGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else if(rows.length>1){\\n  Ext.Msg.alert('提示','请选择一条操作的记录!');\\n}else{\\n  var code = rows[0].data.TMP_H_CODE;\\n  if(code == 'TMP_001'){\\n    exportExcel(rows[0].data.TMP_H_CODE,{param1:'1', param2:'1'},'测试导出');\\n  }else{\\n  \\texportExcel(rows[0].data.TMP_H_CODE,null,'测试导出');\\n  }\\n  \\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem8\"},{\"xwlMeta\":\"button\",\"iconCls\":\"import_icon\",\"id\":\"btn_import\",\"text\":\"测试导入\",\"click\":\"var rows = tempGrid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else if(rows.length>1){\\n  Ext.Msg.alert('提示','请选择一条操作的记录!');\\n}else{\\n  var code = rows[0].data.TMP_H_CODE;\\n  importExcel(rows[0].data.TMP_H_CODE,{});\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem9\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"tempSubToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-add\",\"id\":\"btn_sub_queryfield\",\"text\":\"添加来源对象字段\",\"click\":\"if(Ext.getCmp('OP_TYPE').getValue()=='_added'){\\n  Ext.Msg.alert('','请先保存模板信息!');\\n  return;\\n}\\n\\nvar tableName = Ext.getCmp('TARGET_OBJECT').getValue();\\ntableName = tableName.toUpperCase();\\n\\nvar hid = Ext.getCmp('TMP_H_ID').getValue();\\n\\ntableColumnsWin.show();\\ntableColumnsStore.load({params:{'templateId':hid}});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem6\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-delete\",\"id\":\"btn_sub_delete\",\"text\":\"删除字段\",\"click\":\"var m = tempSubGrid.getSelectionModel(),s=m.getSelection(),i,j;\\nif(s.length==0)return;\\ntempSubGrid.plugins[0].completeEdit();\\ni=tempSubStore.indexOf(s[0]);\\ntempSubStore.remove(s);\\nj = tempSubStore.getCount() - 1;\\nif (i > j)\\n  i = j;\\nif (i > -1)\\n  m.select(i);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem7\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"tempWinBtns\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btn_save\",\"text\":\"保存\",\"click\":\"//校验\\nif(tempForm.getForm().isValid()===false){\\n  Ext.Msg.alert('','请填写所有必填项!');\\n  return;\\n}\\n\\nvar saveJson = {\\n  'TMP_H_ID':Ext.getCmp('TMP_H_ID').getValue(),\\n  'TMP_H_CODE':Ext.getCmp('TMP_H_CODE').getValue(),\\n  'TMP_H_NAME':Ext.getCmp('TMP_H_NAME').getValue(),\\n  'APP_ID':Ext.getCmp('appComboBox').getValue(),\\n  'TARGET_OBJECT':Ext.getCmp('TARGET_OBJECT').getValue(),\\n  'PRIMARY_KEY_COLUMN':Ext.getCmp('PRIMARY_KEY_COLUMN').getValue(),\\n  'TAG_COLUMN':Ext.getCmp('TAG_COLUMN').getValue(),\\n  'VALIDATION_TYPE':Ext.getCmp('VALIDATION_TYPE').getValue(),\\n  'VALIDATION_NAME':Ext.getCmp('VALIDATION_NAME').getValue(),\\n  'H_DESC':Ext.getCmp('H_DESC').getValue(),\\n  'SQL_STR':Ext.getCmp('SQL_STR').getValue(),\\n  'IS_MARKED':(Ext.getCmp('IS_MARKED').getValue()===''||Ext.getCmp('IS_MARKED').getValue()===null)?'N':Ext.getCmp('IS_MARKED').getValue()\\n};\\n\\nvar opType = Ext.getCmp('OP_TYPE').getValue();\\nif(opType=='_added'){\\n  tempInsert.request(saveJson);\\n}else if(opType=='_modified'){\\n  tempUpdate.request(saveJson);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btn_cancel\",\"text\":\"关闭\",\"click\":\"tempWin.hide();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"editors\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"tempSubGridEditors\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"COLUMN_CODE_editor_tempSubGrid\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"COLUMN_NAME_editor_tempSubGrid\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"COLUMN_WIDTH_editor_tempSubGrid\"},{\"xwlMeta\":\"number\",\"autoCreate\":\"false\",\"id\":\"COLUMN_NUM_editor_tempSubGrid\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"L_DESC_editor_tempSubGrid\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"tempGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum_tempGrid\",\"text\":\"序号\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_H_CODE\",\"id\":\"TMP_H_CODE_tempGrid\",\"text\":\"模板编码\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_H_NAME\",\"id\":\"TMP_H_NAME_tempGrid\",\"text\":\"模板名称\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"VALIDATION_TYPE\",\"id\":\"VALIDATION_TYPE_tempGrid\",\"renderer\":\"if(value=='PRO'){\\n  return '过程';\\n}else if(value=='FUN'){\\n  return '函数';\\n}else{\\n  return '';\\n}\",\"text\":\"校验类型\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VALIDATION_NAME\",\"id\":\"VALIDATION_NAME_tempGrid\",\"text\":\"校验函数\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_OBJECT\",\"id\":\"TARGET_OBJECT_tempGrid\",\"text\":\"来源表\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRIMARY_KEY_COLUMN\",\"id\":\"PRIMARY_KEY_COLUMN_tempGrid\",\"text\":\"来源表主键\",\"width\":\"120\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"H_DESC\",\"id\":\"H_DESC_tempGrid\",\"text\":\"描述\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TAG_COLUMN\",\"id\":\"TAG_COLUMN_tempGrid\",\"text\":\"标记列\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SQL_STR\",\"id\":\"SQL_STR_tempGrid\",\"text\":\"执行SQL\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_H_ID\",\"id\":\"TMP_H_ID_tempGrid\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"APP_ID_tempGrid\",\"text\":\"应用ID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"tempSubGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"rownum_tempSubGrid\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"50\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"COLUMN_NUM\",\"id\":\"COLUMN_NUM_tempSubGrid\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"35\",\"editor\":\"COLUMN_NUM_editor_tempSubGrid\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COLUMN_CODE\",\"id\":\"COLUMN_CODE_tempSubGrid\",\"text\":\"列编码\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COLUMN_NAME\",\"id\":\"COLUMN_NAME_tempSubGrid\",\"text\":\"列名称\",\"width\":\"120\",\"editor\":\"COLUMN_NAME_editor_tempSubGrid\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COLUMN_WIDTH\",\"id\":\"COLUMN_WIDTH_tempSubGrid\",\"text\":\"列宽(字符数)\",\"width\":\"80\",\"editor\":\"COLUMN_WIDTH_editor_tempSubGrid\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"L_DESC\",\"id\":\"L_DESC_tempSubGrid\",\"text\":\"列描述\",\"flex\":\"1\",\"editor\":\"L_DESC_editor_tempSubGrid\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_L_ID\",\"id\":\"TMP_L_ID_tempSubGrid\",\"text\":\"TMP_L_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_H_ID\",\"id\":\"TMP_H_ID_tempSubGrid\",\"text\":\"TMP_H_ID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"tableColumnsGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"rownum_tableColumnsGrid\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"40\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COLUMN_NAME\",\"id\":\"COLUMN_NAME_tableColumnsGrid\",\"text\":\"列名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COLUMN_TYPE\",\"id\":\"COLUMN_TYPE_tableColumnsGrid\",\"text\":\"数据类型\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COLUMN_SIZE\",\"id\":\"COLUMN_SIZE_tableColumnsGrid\",\"text\":\"数据长度\",\"width\":\"60\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COMMENTS\",\"id\":\"COMMENTS_tableColumnsGrid\",\"text\":\"描述\",\"flex\":\"1\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"tempWin\",\"height\":\"500\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"680\",\"buttons\":\"tempWinBtns\",\"maximized\":\"false\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"hide\":\"tempStore.load();\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"bodyCls\":\"border-style:none\",\"id\":\"tempForm\",\"height\":\"230\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"bodyStyle\":\"border-style:none\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"tempFieldSet\",\"title\":\"模板信息\",\"layout\":\"anchor\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"hideFiledPanel\",\"height\":\"25\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"模板ID\",\"id\":\"TMP_H_ID\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"操作类型(_added,_modified)\",\"id\":\"OP_TYPE\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel2\",\"height\":\"27\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%'\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>模板编码\",\"id\":\"TMP_H_CODE\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>模板名称\",\"id\":\"TMP_H_NAME\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"appStore\",\"valueField\":\"APP_ID\",\"allowBlank\":\"false\",\"width\":\"200\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>应用\",\"id\":\"appComboBox\",\"displayField\":\"APP_NAME\",\"labelWidth\":\"60\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel4\",\"height\":\"27\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%'\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>来源对象\",\"id\":\"TARGET_OBJECT\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>对象主键\",\"id\":\"PRIMARY_KEY_COLUMN\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>标记列\",\"id\":\"TAG_COLUMN\",\"labelWidth\":\"60\",\"allowBlank\":\"false\",\"width\":\"200\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel3\",\"height\":\"27\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%'\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"width\":\"200\",\"labelAlign\":\"right\",\"pickList\":\"[['PRO','过程'],['JAVA','java方法'],['WEB','webService']]\",\"fieldLabel\":\"校验类型\",\"id\":\"VALIDATION_TYPE\",\"labelWidth\":\"70\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"校验名称\",\"id\":\"VALIDATION_NAME\",\"labelWidth\":\"70\",\"width\":\"402\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel5\",\"height\":\"27\",\"layout\":\"column\",\"tagProperties\":\"anchor:'100%'\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"width\":\"200\",\"labelAlign\":\"right\",\"pickList\":\"[['Y','是'],['N','否']]\",\"fieldLabel\":\"操作标记\",\"id\":\"IS_MARKED\",\"labelWidth\":\"70\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"模板描述\",\"id\":\"H_DESC\",\"labelWidth\":\"70\",\"width\":\"402\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"<font color='red'>*<\\/font>执行SQL\",\"id\":\"SQL_STR\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"width\":\"530\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"tempSubStore\",\"columns\":\"tempSubGridColumns\",\"pagingToolbar\":\"false\",\"buttonAlign\":\"center\",\"split\":\"true\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"tempSubGrid\",\"tbar\":\"tempSubToolbar\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"tableColumnsWin\",\"height\":\"400\",\"layout\":\"fit\",\"width\":\"550\",\"clickOK\":\"var rows = tableColumnsGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var e = tempSubGrid.plugins[0];\\n  e.completeEdit();\\n \\n  var hid = Ext.getCmp('TMP_H_ID').getValue(); \\n  var _index = tempSubStore.getCount();;\\n  var _columnNum=tempSubStore.getCount()+1;\\n  for(var i=0; i<rows.length; i++){\\n    //判断是否存在，存在则跳过\\n    var num = tempSubStore.find('COLUMN_CODE',rows[i].get('COLUMN_NAME'));\\n    if(num==-1){\\n      var insertJson = {\\n        'TMP_H_ID' : hid,\\n        'TMP_L_ID' : Wb.getUuid(),\\n        'COLUMN_CODE' : rows[i].get('COLUMN_NAME'),\\n        'COLUMN_NAME' : rows[i].get('COLUMN_NAME'),\\n        'COLUMN_WIDTH' : '20',\\n        'L_DESC' : '',\\n        'COLUMN_NUM' :_columnNum\\n      };\\n      tempSubStore.insert(_index,insertJson);\\n      //btnStore.getAt(0).set('BTN_ID',Wb.getUuid());\\n     _index++;\\n    _columnNum++; \\n    }\\n  }\\n  \\n  tableColumnsWin.hide();\\n}\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"tableColumnsStore\",\"columns\":\"tableColumnsGridColumns\",\"id\":\"tableColumnsGrid\",\"multiSelect\":\"true\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"height\":\"90\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"queryFormFieldSet\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"模板名称\",\"id\":\"tempName\",\"labelWidth\":\"80\",\"width\":\"250\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n  tempStore.load();\\t\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn\",\"text\":\"查询\",\"x\":\"10\",\"click\":\"tempStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"x\":\"20\",\"click\":\"Wb.reset(queryFormFieldSet);\\n\\ntempStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"tempStore\",\"columns\":\"tempGridColumns\",\"region\":\"center\",\"id\":\"tempGrid\",\"tbar\":\"tempToolbar\",\"multiSelect\":\"false\",\"simpleSelect\":\"false\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"var id = record.get('TMP_H_ID');\\n\\nsingleTempStore.load({params:{tempId:id}});\\ntempSubStore.load({params:{tempId:id}});\\n\\nExt.getCmp('OP_TYPE').setValue('_modified');\\ntempWin.setTitle('编辑');\\ntempWin.show();\\ntempWin.maximize();\"}]}]}","数据导入导出模板",null,0,0,"admin","2015-04-16 14:41:13.0","23XQ4B4KHDBR","2015-10-09 16:05:31.0",1],["23WPYTWVKUII","23WPYTWVKUI6",null,"data",null,1,0,"admin","2015-04-16 14:41:20.0","admin","2015-06-05 14:07:05.0",2],["23WPYTWVKUIJ","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"getTemplates\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select h.TMP_H_ID,\\n       h.TMP_H_CODE,\\n       h.TMP_H_NAME,\\n       h.SQL_STR,\\n       h.VALIDATION_TYPE,\\n       h.VALIDATION_NAME,\\n       h.TARGET_OBJECT,\\n       h.PRIMARY_KEY_COLUMN,\\n       h.TAG_COLUMN,\\n       h.APP_ID,\\n       h.H_DESC\\n  from xip_pub_io_tmp_h h\\n where h.tmp_h_name like '%{#tempName#}%'\",\"xwlMeta\":\"dataProvider\"}]}","getTemplates",null,0,0,"admin","2015-04-16 14:43:40.0","admin","2015-04-23 14:14:14.0",1],["23WPZM3B5HXQ","23VKVPUL8420","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select ArchTaskList\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select tsk.task_id TASKID1,\\n       tsk.task_title TASKTITLE1,\\n       tsk.attribute1 ATTRIBUTE1,\\n       tsk.task_state TASKSTATE1,\\n       tsk.act_name ACTNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.from_user) FROMUSERNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.assign_user) ASSIGNUSERNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.execute_user) EXECUTEUSERNAME1,\\n       pi.business_id BUSINESSID1,\\n       pi.business_code BUSINESSCODE1,\\n       pi.business_name BUSINESSNAME1,\\n       e.entity_name ENTITYNAME1,\\n       tsk.begin_date BEGINDATE1,\\n       tsk.end_date ENDDATE1,\\n       pi.instance_id INSTANCEID1,\\n       pi.instance_code INSTANCECODE1\\n  from xip_wf_arch_task tsk, xip_wf_arch_instance pi, xip_wf_entities e\\n where tsk.instance_id = pi.instance_id\\n   and pi.entity_id = e.entity_id\\n   and (tsk.assign_user = {?XIP.userId?} or tsk.execute_user = {?XIP.userId?} )\\n   and tsk.task_state = 'closed'\\n   and tsk.task_effective = 'Y'\\n   and tsk.END_DATE >= to_date(substr(nvl({?archBeginDate?},'1900-01-01'),0,10),'yyyy-mm-dd')\\n   and tsk.END_DATE < to_date(substr(nvl({?archEndDate?},'9999-01-01'),0,10),'yyyy-mm-dd')\\n   and e.entity_name like '%{#hisTextEntityName1#}%'\\n   and tsk.task_title like '%{#hisTextTaskTitle1#}%'\\n order by tsk.begin_date desc\\n\",\"id\":\"sqlSwitcher1\",\"mysql\":\"select tsk.task_id TASKID1,\\n       tsk.task_title TASKTITLE1,\\n       tsk.attribute1 ATTRIBUTE1,\\n       tsk.task_state TASKSTATE1,\\n       tsk.act_name ACTNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.from_user) FROMUSERNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.assign_user) ASSIGNUSERNAME1,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.execute_user) EXECUTEUSERNAME1,\\n       pi.business_id BUSINESSID1,\\n       pi.business_code BUSINESSCODE1,\\n       pi.business_name BUSINESSNAME1,\\n       e.entity_name ENTITYNAME1,\\n       tsk.begin_date BEGINDATE1,\\n       tsk.end_date ENDDATE1,\\n       pi.instance_id INSTANCEID1,\\n       pi.instance_code INSTANCECODE1\\n  from xip_wf_arch_task tsk, xip_wf_arch_instance pi, xip_wf_entities e\\n where tsk.instance_id = pi.instance_id\\n   and pi.entity_id = e.entity_id\\n   and (tsk.assign_user = {?XIP.userId?} or tsk.execute_user = {?XIP.userId?} )\\n   and tsk.task_state = 'closed'\\n   and tsk.task_effective = 'Y'\\n   and tsk.END_DATE >= DATE_FORMAT(SUBSTR(IF({?archBeginDate?},{?archBeginDate?},'1900-01-01'), 1 , 10),'%Y-%m-%d')\\n   and tsk.END_DATE < DATE_FORMAT(SUBSTR(IF({?archEndDate?},{?archEndDate?},'9999-01-01') , 1 , 10),'%Y-%m-%d')\\n   and e.entity_name like '%{#hisTextEntityName1#}%'\\n   and tsk.task_title like '%{#hisTextTaskTitle1#}%'\\n order by tsk.begin_date desc\\n\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","Select ArchTaskList",null,0,0,"admin","2015-04-16 16:11:23.0","23XQ4UO678F8","2015-08-14 15:05:55.0",6],["23WR4VGGRMNJ","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"getTemplateById\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select h.TMP_H_ID,\\n       h.TMP_H_CODE,\\n       h.TMP_H_NAME,\\n       h.SQL_STR,\\n       h.VALIDATION_TYPE,\\n       h.VALIDATION_NAME,\\n       h.TARGET_OBJECT,\\n       h.PRIMARY_KEY_COLUMN,\\n       h.TAG_COLUMN,\\n       h.APP_ID,\\n       h.H_DESC,\\n       h.IS_MARKED,\\n       (select app_name from xip_pub_apps s where s.app_id = h.app_id) APP_NAME\\n  from XIP_PUB_IO_TMP_H h\\n where h.TMP_H_ID = {?tempId?}\",\"xwlMeta\":\"dataProvider\"}]}","getTemplateById",null,0,0,"admin","2015-04-20 13:32:29.0","admin","2015-05-04 15:49:05.0",3],["23WR4VGGRMNN","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"getSubTempByTempId\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select l.TMP_L_ID,\\n       l.TMP_H_ID,\\n       l.COLUMN_CODE,\\n       l.COLUMN_NAME,\\n       l.COLUMN_WIDTH,\\n       l.L_DESC,\\n       l.ATTRIBUTE1 COLUMN_NUM\\n  from XIP_PUB_IO_TMP_L l\\n where l.TMP_H_ID = {?tempId?}\\n order by l.ATTRIBUTE1 asc\",\"xwlMeta\":\"dataProvider\"}]}","getTempSubByTempId",null,0,0,"admin","2015-04-20 13:35:07.0","admin","2015-04-23 14:28:16.0",4],["23WR4VGGRMQ2","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"insertRole\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_io_tmp_h h where h.TMP_H_CODE = {?TMP_H_CODE?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"id\":\"except1\",\"message\":\"编码 \\\"{#TMP_H_CODE#}\\\" 已存在!\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"insert into xip_pub_io_tmp_h\\n  (TMP_H_ID,\\n   TMP_H_CODE,\\n   TMP_H_NAME,\\n   APP_ID,\\n   TARGET_OBJECT,\\n   PRIMARY_KEY_COLUMN,\\n   TAG_COLUMN,\\n   VALIDATION_TYPE,\\n   VALIDATION_NAME,\\n   H_DESC,\\n   SQL_STR,\\n   IS_MARKED,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ({?TMP_H_ID?},\\n   {?TMP_H_CODE?},\\n   {?TMP_H_NAME?},\\n   {?APP_ID?},\\n   {?TARGET_OBJECT?},\\n   {?PRIMARY_KEY_COLUMN?},\\n   {?TAG_COLUMN?},\\n   {?VALIDATION_TYPE?},\\n   {?VALIDATION_NAME?},\\n   {?H_DESC?},\\n   {?SQL_STR?},\\n   {?IS_MARKED?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{roleId:'{#roleId#}', menuGroupId:'{#menuGroupId#}'}\",\"xwlMeta\":\"response\"}]}","insertTemplate",null,0,0,"admin","2015-04-20 14:12:28.0","admin","2015-05-04 15:49:42.0",8],["23WR4VGGRMQ5","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"updateFuncMenu\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"checkExists\",\"sql\":\"select count(*) as \\\"CT\\\" from xip_pub_io_tmp_h h where h.TMP_H_CODE = {?TMP_H_CODE?} and h.TMP_H_ID <> {?TMP_H_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"id\":\"except1\",\"message\":\"编码 \\\"{#roleCode#}\\\" 已存在!\",\"xwlMeta\":\"except\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"update xip_pub_io_tmp_h\\n   set TMP_H_CODE    \\t= {?TMP_H_CODE?},\\n       TMP_H_NAME    \\t= {?TMP_H_NAME?},\\n       APP_ID           = {?APP_ID?},\\n       TARGET_OBJECT    = {?TARGET_OBJECT?},\\n       PRIMARY_KEY_COLUMN    \\t= {?PRIMARY_KEY_COLUMN?},\\n       TAG_COLUMN    \\t= {?TAG_COLUMN?},\\n       VALIDATION_TYPE  = {?VALIDATION_TYPE?},\\n       VALIDATION_NAME  = {?VALIDATION_NAME?},\\n       H_DESC    \\t    = {?H_DESC?},\\n       SQL_STR    \\t    = {?SQL_STR?},\\n       IS_MARKED        = {?IS_MARKED?},\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY  = {?XIP.userId?}\\n where TMP_H_ID = {?TMP_H_ID?}\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{roleId:'{#roleId#}', menuGroupId:'{#menuGroupId#}'}\",\"xwlMeta\":\"response\"}]}","updateTemplate",null,0,0,"admin","2015-04-20 14:12:35.0","admin","2015-05-04 15:50:06.0",9],["23WR4VGGRMR9","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"getApps\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select p.app_id APP_ID, p.app_name APP_NAME from xip_pub_apps p where p.enable_flag = 'Y'\",\"xwlMeta\":\"dataProvider\"}]}","getApps",null,0,0,"admin","2015-04-20 14:27:17.0","admin","2015-04-20 14:28:52.0",10],["23WR4VGGRN9O","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"getColumnsByTablename\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT b.column_name COLUMN_NAME,\\n       b.data_type   DATA_TYPE,\\n       b.data_length DATA_LENGTH,\\n       a.comments    COMMENTS\\n  FROM user_tab_columns b\\n  LEFT JOIN user_col_comments a\\n    ON b.TABLE_NAME = a.table_name\\n   AND a.column_name = b.COLUMN_NAME\\n WHERE b.table_name = {?TABLE_NAME?}\\n   AND b.column_name not in (select l.column_code from xip_pub_io_tmp_l l where l.tmp_h_id = {?TMP_H_ID?})\",\"xwlMeta\":\"dataProvider\"}]}","getColumnsByTablename",null,0,0,"admin","2015-04-20 15:56:17.0","admin","2015-04-20 16:22:22.0",11],["23WRFE14PJLI","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"insertBtns\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"initScript\":\"var result = StringUtil.getUtfString(request.getInputStream());\\n\\nif(result.startsWith('{')){\\n  result='['+result+']';//to Array\\n}\\n  \\nvar i, r = Wb.decode(result);\\nr = Wb.encode(r);\\nrequest.setAttribute('returns',r);\\nrequest.setAttribute('rows',r);\\n//You can also use org.json package to process JSON.\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_IO_TMP_L\\n  (TMP_H_ID,\\n   TMP_L_ID,\\n   COLUMN_CODE,\\n   COLUMN_NAME,\\n   COLUMN_WIDTH,\\n   L_DESC,\\n   ATTRIBUTE1,\\n   CREATION_DATE,\\n   CREATED_BY)\\nvalues\\n  ({?TMP_H_ID?},\\n   {?TMP_L_ID?},\\n   {?COLUMN_CODE?},\\n   {?COLUMN_NAME?},\\n   {?COLUMN_WIDTH?},\\n   {?L_DESC?},\\n   {?COLUMN_NUM?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}\\n  )\",\"xwlMeta\":\"query\",\"transaction\":\"start\",\"arrayName\":\"rows\"},{\"id\":\"response1\",\"xwlMeta\":\"response\",\"object\":\"returns\"}]}","insertTempSubs",null,0,0,"admin","2015-04-21 08:59:45.0","admin","2015-04-23 14:23:35.0",5],["23WRFE14PJLL","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"updateBtns\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"children\":[{\"id\":\"query1\",\"sql\":\"update XIP_PUB_IO_TMP_L\\n   set COLUMN_CODE         = {?COLUMN_CODE?},\\n       COLUMN_NAME         = {?COLUMN_NAME?},\\n       COLUMN_WIDTH        = {?COLUMN_WIDTH?},\\n       L_DESC              = {?L_DESC?},\\n\\t   ATTRIBUTE1\\t\\t   = {?COLUMN_NUM?},\\n       LAST_UPDATE_DATE    = {?timestamp.sys.date?},\\n       LAST_UPDATED_BY     = {?XIP.userId?}\\n where TMP_L_ID = {?TMP_L_ID?}\",\"xwlMeta\":\"query\",\"transaction\":\"start\",\"arrayName\":\"rows\"}]}","updateTempSubs",null,0,0,"admin","2015-04-21 08:59:53.0","admin","2015-04-23 14:26:11.0",6],["23WRFE14PJLO","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"deleteBtns\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_IO_TMP_L where TMP_L_ID = {?TMP_L_ID?}\",\"xwlMeta\":\"query\",\"transaction\":\"start\",\"arrayName\":\"rows\"}]}","deleteTempSubs",null,0,0,"admin","2015-04-21 09:00:00.0","admin","2015-04-21 09:14:19.0",7],["23WRFE14PKA9","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"deleteRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_IO_TMP_L  where TMP_H_ID = {?TMP_H_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"query2\",\"sql\":\"delete from XIP_PUB_IO_TMP_H where TMP_H_ID = {?TMP_H_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteTemplate",null,0,0,"admin","2015-04-21 09:54:13.0","admin","2015-06-16 18:55:38.0",2],["23WRI9WNZAS5","23WPYTWVKUII","{\"id\":\"module\",\"title\":\"getColumnsByTemplateId\",\"finalMethod\":\"com.xzsoft.xip.platform.action.TemplateAction.getFields\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\"}","getColumnsByTemplateId",null,0,0,"admin","2015-04-21 15:16:07.0","admin","2015-04-21 15:17:42.0",12],["23WSD6KB5K9W","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"getDeptPosition\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  (SELECT EMP_NAME FROM XIP_PUB_EMPS WHERE EMP_ID = X.EMP_ID ) EMP_NAME,\\n  (SELECT EMP_CODE FROM XIP_PUB_EMPS WHERE EMP_ID = X.EMP_ID ) EMP_CODE,\\n  (SELECT POST_NAME FROM XIP_PUB_POSTS WHERE POST_ID = X.POST_ID) POST_NAME,\\n  (SELECT POST_CODE FROM XIP_PUB_POSTS WHERE POST_ID = X.POST_ID) POST_CODE,\\n   X.ASG_ID\\n FROM XIP_PUB_EMP_ASG X WHERE X.DEPT_ID={?deptId?} AND X.POST_ID={?postId?}\",\"xwlMeta\":\"dataProvider\"}]}","getAsignByPosId",null,0,0,"admin","2015-04-24 14:02:44.0","admin","2015-04-24 14:14:03.0",18],["23WSD6KB5KVI","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"getUsers\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n       E.EMP_ID,\\n       E.EMP_CODE,\\n       E.EMP_NAME\\n  FROM  XIP_PUB_EMPS E\\n WHERE  (E.EMP_NAME LIKE '%{#empWinName#}%' OR E.EMP_CODE LIKE '%{#empWinName#}%')\\n   AND  E.ATTRIBUTE2 = 'Y'\\n   AND  NOT EXISTS\\n     (select 1 from XIP_PUB_EMP_ASG A where A.DEPT_ID ={?deptId?} and A.POST_ID={?postId?} AND A.EMP_ID = E.EMP_ID)\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getUsers",null,0,0,"admin","2015-04-24 14:33:00.0","admin","2015-06-03 18:32:51.0",19],["23WSD6KB5MSC","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selectFunAllHiden\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select \\nF.FUN_TREE_ID FUN_TREE_ID,\\nF.USER_FUN_ID USER_FUN_ID ,\\nF.TARGET_ID TARGET_ID,\\nF.TYPE TYPE\\nfrom XIP_PUB_USER_FUNS F\\nwhere F.FUN_TREE_ID IN ({#funIds#})\\nand F.TARGET_ID IN({#targetIds#})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectFunAllHiden",null,0,0,"admin","2015-04-24 15:40:51.0","admin","2015-06-04 17:44:44.0",2],["23WSD6KB5MYI","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"create\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into \\nXIP_PUB_EMP_ASG(\\n           ASG_ID,\\n           EMP_ID,\\n           POST_ID,\\n           DEPT_ID,\\n           ORG_ID,\\n           ENABLED,\\n           CREATED_BY,\\n           CREATION_DATE,\\n           LAST_UPDATED_BY,\\n           LAST_UPDATE_DATE,\\n           POST_SEQ) values(\\n             {?ASG_ID?},\\n             {?EMP_ID?},\\n             {?POST_ID?},\\n             {?DEPT_ID?},\\n             {?ORG_ID?},\\n             'Y',\\n             {?XIP.userId?},\\n             {?timestamp.sys.date?},\\n             {?XIP.userId?},\\n             {?timestamp.sys.date?},\\n             'N')\\n\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"newArray\"}],\"loginRequired\":\"false\"}","asgCreate",null,0,0,"admin","2015-04-24 15:58:39.0","admin","2015-05-12 14:47:16.0",22],["23WSD6KB5NME","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"deleteUser\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_USER_FUNS where USER_FUN_ID={?USER_FUN_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}]}","deleteFun",null,0,0,"admin","2015-04-24 16:21:25.0","admin","2015-04-24 16:21:41.0",16],["23WSD6KB5OAU","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"getUsers\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"delete from XIP_PUB_EMP_ASG where ASG_ID IN ({#ids#})\\n     \",\"xwlMeta\":\"dataProvider\"}]}","delEmpAsg",null,0,0,"admin","2015-04-24 16:40:42.0","admin","2015-04-24 16:42:30.0",23],["23WSD6KB5R5M","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"SELECT_U\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,\\n       USER_NAME,\\n       EMP_NAME\\nfrom xip_pub_users x1,\\n     xip_pub_emps x2 \\nwhere x1.EMP_ID=x2.EMP_ID\\n AND (x1.USER_NAME like {?attribute1?}  OR x2.EMP_NAME like {?attribute1?})\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","SELECT_U",null,0,0,"admin","2015-04-24 21:35:49.0","admin","2015-06-04 16:45:46.0",15],["23WSD6KB5YQC","23VVZ3QMOKQ2",null,"组织管理",null,0,0,"admin","2015-04-28 13:51:41.0","admin","2015-05-12 09:45:54.0",4],["23WSD6KB5YQG","23WSD6KB5YQC","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"组织管理\",\"jsFiles\":\"[\\\"pub/uip/common/extendjs/messageTip.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var contextPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\\nvar funCodeStr = request.getParameter(\\\"funCode\\\");\\nrequest.setAttribute(\\\"tipCode\\\",funCodeStr);\",\"initialize\":\"function dropType(node, data, om, dp){\\n/*-----------node：被拖拽的节点，om：要拖拽到的节点，dp：被拖拽的位置<before，after，append>---------*/\\n  var dst = Wb.getNode(node), src = Wb.getNode(data.item), orderIndex, srcId, parentId, pn,tmpOrder;\\n  Wb.mask(treePanel1);\\n  dst.expand(false,function(){\\n    Wb.unmask(treePanel1);\\n/*------------部门id---------------*/\\n    srcId = src.get('ORG_ID');  \\n/*-----------判断拖拽的类型---------*/\\n    if(dp=='append'){\\n      pn = dst;\\n      parentId = dst.get('ORG_ID');\\n      if(Ext.isEmpty(parentId))\\n        parentId = '-1';\\n      if(!Ext.isEmpty(dst.lastChild.previousSibling)){\\n        tmpOrder = dst.lastChild.previousSibling.get('ATTRIBUTE4');\\n        if(!Ext.isEmpty(tmpOrder)){\\n          orderIndex = tmpOrder+1;\\n        }else{\\n          orderIndex = 1;\\n        }\\n      }else{\\n        orderIndex = 1;\\n      }\\n    }else{\\n      pn = src.parentNode;\\n      parentId = pn.get('ORG_ID');\\n      if(Ext.isEmpty(parentId))\\n        parentId = '-1';\\n      if (dp == 'before'){\\n        if(Ext.isEmpty(dst.get('ATTRIBUTE4'))){\\n          orderIndex = 1;\\n        }else{\\n          orderIndex = dst.get('ATTRIBUTE4');\\n           }\\n      }else{\\n        if(Ext.isEmpty(dst.get('ATTRIBUTE4'))){\\n           orderIndex = 1;\\n         }else{\\n            orderIndex = dst.get('ATTRIBUTE4') + 1;\\n           }  \\n    }\\n   }\\n    Wb.request({\\n                url : 'main?xwl=23WVFDZYP0NF',\\n                mask:treePanel1,\\n                params : {ATTRIBUTE4:orderIndex, ORG_ID:srcId, parent_id:parentId},\\n                failure : function() {\\n                  Wb.revertNodePos(src);\\n                },\\n                success : function() {\\n                  pn.eachChild(function(x) {\\n                    var i = x.get('ATTRIBUTE4');\\n                    if(Ext.isEmpty(i))\\n                      i = 1;\\n                    if (i >= orderIndex) {\\n                      x.set('ATTRIBUTE4', i + 1);\\n                      x.commit();\\n                    }\\n                  });\\n                  src.set('parent_id', parentId);\\n                  src.set('ATTRIBUTE4', orderIndex);\\n                  src.commit();\\n                }\\n               });    \\n  });\\n   Wb.load(store4Grid);\\n  }\\n\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"dg\",\"footer\":\"<script>\\n\\n   function findchildnode(roonodes){\\n        var childnodes = roonodes.childNodes;\\n        for(var i=0;i<childnodes.length;i++){  //从节点中取出子节点依次遍历\\n          var nd = childnodes[i];\\n          if(orgId.getValue()===nd.data.ORG_ID){\\n           treePanel1.view.select(nd);\\n           }\\n           if(nd.hasChildNodes()){  //判断子节点下是否存在子节点\\n             nd.expand();\\n             findchildnode(nd);    //如果存在子节点  递归\\n           } \\n        }\\n   }\\n<\\/script>\"},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"treeStore\",\"mask\":\"treePanel1\",\"url\":\"#23WSD6KB5YQL (Get OrgTree)\",\"id\":\"treeStore1\",\"output\":\"txtOrgName\",\"beforeload\":\"operation.params.parentID=operation.node.get('ORG_ID');\"},{\"xwlMeta\":\"store\",\"id\":\"store4Grid\",\"url\":\"#23WSD6KB5YQO (Get OrgList)\",\"output\":\"textOrgCode,textOrgName\"},{\"xwlMeta\":\"store\",\"data\":\"[['O','实体组织'],['V','虚拟组织']]\",\"id\":\"store4OrgType\",\"fields\":\"['CODE', 'NAME']\"},{\"xwlMeta\":\"store\",\"data\":\"[['Y','启用'],['N','禁用']]\",\"id\":\"store4Enable\",\"fields\":\"['CODE', 'NAME']\"},{\"xwlMeta\":\"store\",\"id\":\"store4UpOrg\",\"autoLoad\":\"true\",\"url\":\"#23WSD6KB5YQK (Get UpOrg List)\",\"load\":\"Ext.define('Org', {\\n    extend: 'Ext.data.Model',\\n    fields: [\\n        {name: 'ORG_ID',  type: 'string'},\\n        {name: 'ORG_CODE',   type: 'string'},\\n        {name: 'ORG_NAME', type: 'string'}\\n    ]\\n});\\n\\nvar _org = Ext.create('Org', {\\n  ORG_ID \\t: '-1',\\n  ORG_CODE \\t: '',\\n  ORG_NAME \\t: '系统组织'\\n});\\n\\nstore.insert(0,_org);\\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"mask\":\"orgWin\",\"url\":\"#23WSD6KB5YQN (Insert Org)\",\"id\":\"ajax_add\",\"output\":\"cbxOrgEnable,cbxOrgType,orgCode,orgId,orgName,orgShortName,upOrg,upOrgid\",\"timeout\":\"3600000\",\"failure\":\"//orgWin.hide();\\nExt.Msg.alert(\\\"提示\\\",\\\"数据保存失败!\\\") ;\",\"success\":\"Wb.load(store4Grid);\\nvar temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n\\n//动态添加新增的组织信息\\nvar currentNode=Wb.getSelNode(treePanel1);\\nvar selNode =  Wb.getSelNode(treePanel1);\\n/*if(selNode === treePanel1.getRootNode()){\\n  currentNode = selNode.firstChild;\\n}else{\\n  currentNode =  Wb.getSelNode(treePanel1);\\n}*/\\n//alert(resultJson.k+'  '+orgShortName.getValue()+'     '+upOrgname.getValue()+'     '+upOrgid.getValue()+'   '+orgCode.getValue()+'  '+cbxOrgType.getValue()+  ''+orgName.getValue()+'  '+cbxOrgEnable.getValue());\\nvar _json = {text:orgName.getValue(),\\n                         ENABLE_FLAG:cbxOrgEnable.getValue(),\\n                         ORG_SHORT_NAME:orgShortName.getValue(),\\n                         up_org_name:upOrgname.getValue(),\\n                         ORG_TYPE:cbxOrgType.getValue(),\\n                         ORG_CODE:orgCode.getValue(),\\n                         ORG_ID:resultJson.k,\\n                         parent_id:upOrgid.getValue(),\\n                         icon:'{#contextPath#}'+'/webbuilder/images/app/ss.gif',\\n                         children:[]\\n                        };\\n\\ncurrentNode.expand();\\ncurrentNode.data.leaf=false;\\nvar c = currentNode.appendChild(_json);\\ncurrentNode.commit();\\ntreePanel1.view.select(c);\\norgWin.hide();\\nWb.load(store4Grid);\\nExt.Msg.alert(\\\"提示\\\",\\\"组织信息保存成功!\\\");\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"mask\":\"orgWin\",\"url\":\"#23WSD6KB5YQN (Insert Org)\",\"id\":\"ajax_addMore\",\"output\":\"cbxOrgEnable,cbxOrgType,orgCode,orgId,orgName,orgShortName,upOrg\",\"timeout\":\"3600000\",\"failure\":\"//orgWin.hide();\\nExt.Msg.alert(\\\"提示\\\",\\\"数据保存失败!\\\") ;\",\"success\":\"var temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\n//查看是否有选中的节点\\nvar currentNode ;\\nvar selNode =  Wb.getSelNode(treePanel1);\\nif(Ext.isEmpty(selNode)){\\n  currentNode = treePanel1.getRootNode();\\n}else{\\n  currentNode =  Wb.getSelNode(treePanel1);\\n}\\n// if(selNode === treePanel1.getRootNode()){\\n//   currentNode = selNode.firstChild;\\n// }else{\\n//   currentNode =  Wb.getSelNode(treePanel1);\\n// }\\nvar _json = {text:orgName.getValue(),\\n                         ENABLE_FLAG:cbxOrgEnable.getValue(),\\n                         ORG_SHORT_NAME:orgShortName.getValue(),\\n                         up_org_name:upOrgname.getValue(),\\n                         ORG_TYPE:cbxOrgType.getValue(),\\n                         ORG_CODE:orgCode.getValue(),\\n                         ORG_ID:resultJson.k,\\n                         icon:'{#contextPath#}'+'/webbuilder/images/app/ss.gif',\\n                         parent_id:upOrgid.getValue(),\\n             children:[]\\n                        };\\ncurrentNode.expand();\\nvar c = currentNode.appendChild(_json);\\ncurrentNode.commit();\\nWb.load(store4Grid);\\n\\n// 重新赋值\\norgCode.setValue() ;\\norgName.setValue() ;\\norgShortName.setValue() ;\\ncbxOrgType.setValue('O') ;\\ncbxOrgEnable.setValue('Y');\\norgId.setValue();\\nWb.warning('组织信息保存成功！');\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"mask\":\"orgWin\",\"url\":\"#23WSD6KB5YQM (Update Org)\",\"id\":\"ajax_update\",\"output\":\"cbxOrgEnable,upOrgid,cbxOrgType,orgCode,orgId,orgName,orgShortName,upOrg\",\"timeout\":\"3600000\",\"failure\":\"//orgWin.hide();\\nExt.Msg.alert(\\\"提示\\\",\\\"数据保存失败!\\\") ;\",\"success\":\"var roonodes = treePanel1.getRootNode();\\nfindchildnode(roonodes);\\nvar currentNode =  Wb.getSelNode(treePanel1);\\nif(currentNode!==null){\\n currentNode.set('text',orgName.getValue());\\n currentNode.set('ORG_SHORT_NAME',orgShortName.getValue());\\n currentNode.set('ORG_CODE',orgCode.getValue());\\n currentNode.set('ENABLE_FLAG',cbxOrgEnable.getValue());\\n currentNode.set('up_org_name',upOrgname.getValue());\\n currentNode.set('ORG_TYPE',cbxOrgType.getValue());\\n currentNode.set('parent_id',upOrgid.getValue());\\n currentNode.commit();\\n}\\n//treePanel1.getStore().load(); treePanel1.expandAll();\\norgWin.hide();\\nWb.load(store4Grid);\\nExt.Msg.alert(\\\"提示\\\",\\\"数据保存成功!\\\") ;\\n\\n\\n\"}]},{\"xwlMeta\":\"text\",\"fieldLabel\":\"名称\",\"id\":\"txtOrgName\",\"labelWidth\":\"30\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) { \\n  \\n}\"},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"treePanelTbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"textSearch\",\"hidden\":\"true\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n  treeSearch.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"treeSearch\",\"hidden\":\"true\",\"click\":\"treeNodeQuery(textSearch.getValue(),'text','treePanel1');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"展开\",\"iconCls\":\"open_icon\",\"id\":\"btnExpand\",\"click\":\"treePanel1.expandAll();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"收起\",\"iconCls\":\"close_icon\",\"id\":\"btnCollapsed\",\"click\":\"treePanel1.collapseAll();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"刷新\",\"iconCls\":\"refresh_icon\",\"id\":\"btnRefresh\",\"click\":\"treeStore1.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"item4\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar4Grid1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line1\",\"hidden\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"org_icon\",\"id\":\"btnAdd\",\"hidden\":\"true\",\"click\":\"upOrg.enable();\\n\\norgWin.setTitle('新增组织');\\nbtnAddAndSave.show();\\norgWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line2\",\"hidden\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"修改\",\"iconCls\":\"edit_icon\",\"id\":\"btnEdit\",\"hidden\":\"true\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请选择一条组织数据!\\\");\\n  return false;\\n}else{\\n  var _orgid = rows[0].data.ORG_ID;  \\n  var _orgname = rows[0].data.ORG_NAME; \\n  var _orgcode = rows[0].data.ORG_CODE ;    \\n  var _orgtype = rows[0].data.ORG_TYPE;\\n  var _shortname = rows[0].data.ORG_SHORT_NAME;\\n  var _enabled = rows[0].data.ENABLE_FLAG;\\n  var _upOrgId = rows[0].data.UP_ORG_ID;\\n  var _upOrgName = rows[0].data.UP_ORG_NAME;\\n\\n  upOrg.setValue(_upOrgId) ;\\n  upOrg.setRawValue(_upOrgId === '-1' ? '系统组织' : _upOrgName) ;     \\n  upOrg.enable();\\n\\n  orgId.setValue(_orgid);\\n  orgCode.setValue(_orgcode);\\n  orgName.setValue(_orgname);\\n  orgShortName.setValue(_shortname);\\n  cbxOrgType.setValue(_orgtype);\\n  cbxOrgEnable.setValue(_enabled);    \\n  \\n  orgWin.setTitle('修改组织');\\n  btnAddAndSave.hide();\\n  orgWin.show();    \\t\\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line3\",\"hidden\":\"true\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"menuItem2\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"编码\",\"id\":\"textOrgCode\",\"labelWidth\":\"30\",\"width\":\"200\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  //Wb.load(store4Grid);\\n  btnQuery.fireEvent('click');\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line4\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织名称\",\"id\":\"textOrgName\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  btnQuery.fireEvent('click');\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line5\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"seek_icon\",\"id\":\"btnQuery\",\"click\":\"Wb.load(store4Grid);\\ntreeNodeQuery(textOrgName.getValue(),'text','treePanel1');\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line6\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ORG_ID\",\"text\":\"组织ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_CODE\",\"id\":\"ORG_CODE\",\"text\":\"组织编码\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME\",\"text\":\"组织名称\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_SHORT_NAME\",\"id\":\"ORG_SHORT_NAME\",\"text\":\"组织简称\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_TYPE\",\"id\":\"ORG_TYPE\",\"renderer\":\"if(value === \\\"O\\\"){\\n  return \\\"实体组织\\\";\\n}else if(value === \\\"V\\\"){\\n  return \\\"虚拟组织\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"组织类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"UP_ORG_NAME\",\"id\":\"UP_ORG_NAME\",\"renderer\":\"if(record.data.UP_ORG_ID == '-1'){\\n  value = '系统组织' ;\\n}\\n return value ;\",\"text\":\"上级组织\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"UP_ORG_ID\",\"id\":\"UP_ORG_ID\",\"text\":\"上级组织ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLED\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"启用\\\";\\n}else if(value === \\\"N\\\"){\\n  return \\\"<font color=red>禁用<\\/font>\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"启用状态\",\"align\":\"center\",\"width\":\"60\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"buttons4fom1\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"btnSave\",\"text\":\"保存\",\"click\":\"var _upOrgId = upOrg.getValue() ;\\nif(_upOrgId === '系统组织'){\\n  _upOrgId = '-1' ;\\n}\\nvar _orgCode = orgCode.getValue();\\nvar _orgName = orgName.getValue();\\n\\nif(_upOrgId === \\\"\\\" || _upOrgId === null){\\n   Ext.Msg.alert(\\\"提示\\\",\\\"请选择上级组织！\\\");\\n   return false ;\\n}\\nif(_orgCode === \\\"\\\" || _orgCode === null){\\n   Ext.Msg.alert(\\\"提示\\\",\\\"请录入组织编码！\\\");\\n   return false ;\\n}\\nif(_orgName === \\\"\\\" || _orgName === null){\\n   Ext.Msg.alert(\\\"提示\\\",\\\"请录入组织名称！\\\");\\n   return false ;\\n}\\nvar _orgId = orgId.getValue();\\nif(_upOrgId == _orgId){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"上级组织不能选择自身！\\\");\\n  return false ;\\n}\\n\\nif(_orgId !== null  && _orgId !== \\\"\\\"){\\n  ajax_update.request();  \\n  \\n}else{\\n  ajax_add.request();\\n}\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"saveAll_icon\",\"id\":\"btnAddAndSave\",\"text\":\"保存并添加下一个\",\"click\":\"var _upOrgId = upOrg.getValue() ;\\nif(_upOrgId === '系统组织'){\\n  _upOrgId = '-1' ;\\n}\\nvar _orgCode = orgCode.getValue();\\nvar _orgName = orgName.getValue();\\n\\nif(_upOrgId === \\\"\\\" || _upOrgId === null){\\n   Ext.Msg.alert(\\\"提示\\\",\\\"请选择上级组织！\\\");\\n   return false ;\\n}\\n\\nif(_orgCode === \\\"\\\" || _orgCode === null){\\n   Ext.Msg.alert(\\\"提示\\\",\\\"请录入组织编码！\\\");\\n   return false ;\\n}\\nif(_orgName === \\\"\\\" || _orgName === null){\\n   Ext.Msg.alert(\\\"提示\\\",\\\"请录入组织名称！\\\");\\n   return false ;\\n}\\nupOrgid.setValue(_upOrgId);\\najax_addMore.request({upOrgid:_upOrgId});\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"btnCancel\",\"text\":\"关闭\",\"click\":\"orgWin.hide();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"wins\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"orgWin\",\"height\":\"220\",\"layout\":\"fit\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"530\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"buttons\":\"buttons4fom1\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"store4UpOrg\",\"valueField\":\"ORG_ID\",\"width\":\"480\",\"labelAlign\":\"right\",\"fieldLabel\":\"上级组织\",\"id\":\"upOrg\",\"queryLike\":\"true\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"80\",\"beforequery\":\"var combo = queryEvent.combo;\\nif(!queryEvent.forceAll){\\n  var value = queryEvent.query;\\n  combo.store.filterBy(function(record,id){\\n    var text = record.get('ORG_NAME');\\n    return (text.indexOf(value)!=-1);\\n  });\\n  combo.expand();\\n  return false;\\n}\",\"select\":\"upOrgname.setValue(upOrg.getRawValue());\\nupOrgid.setValue(upOrg.getValue());\\n\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织ID\",\"id\":\"orgId\",\"labelWidth\":\"80\",\"width\":\"480\",\"readOnly\":\"true\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>组织编码\",\"id\":\"orgCode\",\"labelWidth\":\"80\",\"width\":\"480\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>组织名称\",\"id\":\"orgName\",\"labelWidth\":\"80\",\"width\":\"480\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织简称\",\"id\":\"orgShortName\",\"labelWidth\":\"80\",\"width\":\"480\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4OrgType\",\"value\":\"O\",\"valueField\":\"CODE\",\"width\":\"480\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"组织类型\",\"id\":\"cbxOrgType\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"hidden\":\"true\"},{\"xwlMeta\":\"comboBox\",\"store\":\"store4Enable\",\"value\":\"Y\",\"valueField\":\"CODE\",\"width\":\"480\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"启用状态\",\"id\":\"cbxOrgEnable\",\"displayField\":\"NAME\",\"labelWidth\":\"80\"},{\"xwlMeta\":\"text\",\"id\":\"upOrgid\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"upOrgname\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"upOrgid1\",\"hidden\":\"true\"}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"afterrender\":\"var _tipCode = '{#tipCode#}';\\nvar _orgTip = Wb.getCookie(_tipCode);\\nif(Ext.isEmpty(_orgTip)){\\n  MsgTip.msg('<font color=\\\"red\\\">提示<\\/font>', '鼠标右键点击左边系统组织或其下的节点进行操作,<br>拖动节点可以改变组织的顺序和上下级.',null,null,_tipCode);  \\n}\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"treeStore1\",\"collapsible\":\"true\",\"root\":\"{text:Str.all,PARENT_ID:'root',text:'系统组织',expanded:true}\",\"id\":\"treePanel1\",\"tbar\":\"treePanelTbar\",\"title\":\"组织树\",\"width\":\"350\",\"rootVisible\":\"true\",\"split\":\"true\",\"viewConfig\":\"{\\n  plugins : {\\n    pluginId: 'ddPlug2',\\n    ptype: 'treeviewdragdrop'\\n  },\\n  listeners : {\\n    beforedrop: function(node,data,overModel,dropPosition,dropFunction,options){\\n       /*-------------存储被拖拽节点的信息-----------*/\\n      Wb.saveNodePos(Wb.getNode(data.item));\\n      return true;  \\n    },\\n    drop:dropType\\n    }\\n    }\\n   \\n   \",\"itemclick\":\"var _tmp = document.getElementById('_toolTipsClickHide');\\nMsgTip.hide(_tmp);\\nWb.load(store4Grid,{'textOrgCode':record.data.ORG_CODE});\\n\",\"itemdblclick\":\"orgWin.setTitle('修改组织');\\nbtnAddAndSave.hide();\\n\\nvar _uporgid = record.data.parent_id;  \\nif(_uporgid === undefined){\\n  return ;\\n}\\nvar _uporgname = record.data.up_org_name; \\nif(_uporgid === '-1'){\\n  _uporgname = '系统组织';\\n}\\nvar _orgid = record.data.ORG_ID ;\\nvar _orgcode = record.data.ORG_CODE ;  \\nvar _orgname = record.data.text ;\\nvar _orgtype = record.data.ORG_TYPE;\\nvar _shortname = record.data.ORG_SHORT_NAME;\\nvar _enabled = record.data.ENABLE_FLAG;\\n\\n\\nstore4UpOrg.baseParams = {'_orgId':_orgid} ;\\n\\n\\nupOrg.setRawValue(_uporgname) ;\\nupOrg.setValue(_uporgid) ;\\nupOrg.disable();\\nupOrgid.setValue(_uporgid);\\nupOrgid1.setValue(_uporgid);\\nupOrgname.setValue(_uporgname);\\n\\norgId.setValue(_orgid) ;\\norgCode.setValue(_orgcode);\\norgName.setValue(_orgname);\\norgShortName.setValue(_shortname);\\ncbxOrgType.setValue(_orgtype);\\ncbxOrgEnable.setValue(_enabled);\\n\\norgWin.show();        \",\"itemcontextmenu\":\"event.preventDefault();\\nevent.stopEvent();\\n//var _uporgid = record.data.id;  \\nvar btnAdd = new Ext.menu.Item({  \\n  text\\t:\\t'新增组织',  \\n  iconCls\\t:\\t'new_icon',\\n  handler\\t:\\tfunction(){\\n    orgWin.setTitle('新增组织');\\n    btnAddAndSave.show();\\n\\n    var _orgid = record.data.id;\\n    if(_orgid == 'root'){\\n      upOrg.setValue('-1') ;\\n      upOrgid.setValue('-1');\\n    }else{\\n      //upOrg.setValue(record.data.ORG_ID) ;\\n      upOrgid.setValue(record.data.ORG_ID);\\n    }\\n    var _orgname = record.data.text; \\n     upOrg.setValue(record.data.ORG_ID);\\n     upOrg.setRawValue(_orgname) ;\\n   \\n    upOrgname.setValue(_orgname);\\n    upOrg.disable();\\n    //alert(_orgid);\\n    //upOrgid.setValue(_orgid);\\n\\n    orgWin.show();\\n  }  \\n});\\n\\nvar btnUpdate = new Ext.menu.Item({  \\n  text:'修改组织',  \\n  iconCls:'edit_icon',\\n  handler:function(){\\n    orgWin.setTitle('修改组织');\\n    btnAddAndSave.hide();\\n\\n    var _uporgid = record.data.parent_id;  \\n    var _uporgname = record.data.up_org_name; \\n    if(_uporgid === '-1'){\\n      _uporgname = '系统组织';\\n    }\\n    var _orgid = record.data.ORG_ID ;\\n    var _orgcode = record.data.ORG_CODE ;    \\n    var _orgname = record.data.text ;\\n    var _orgtype = record.data.ORG_TYPE;\\n    var _shortname = record.data.ORG_SHORT_NAME;\\n    var _enabled = record.data.ENABLE_FLAG;\\n\\n    store4UpOrg.baseParams = {'_orgId':_orgid} ;\\n\\n    upOrg.setValue(_uporgid) ;\\n    upOrg.setRawValue(_uporgname) ;     \\n    upOrg.enable();\\n\\n    orgId.setValue(_orgid) ;\\n    orgCode.setValue(_orgcode);\\n    orgName.setValue(_orgname);\\n    orgShortName.setValue(_shortname);\\n    cbxOrgType.setValue(_orgtype);\\n    cbxOrgEnable.setValue(_enabled);\\n\\n    orgWin.show();          \\n  }  \\n});\\n\\nvar _id = record.data.id ;\\nvar itemArray = [];\\nif (_id === 'root'){\\n  itemArray.push(btnAdd) ;\\n}else{\\n  itemArray.push(btnAdd) ;\\n  itemArray.push(btnUpdate) ;\\n}\\n\\nvar nodemenu = new Ext.menu.Menu({  \\n\\tfloating:true,  \\n\\titems:itemArray \\n});\\n\\nnodemenu.showAt(event.getPoint());\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"title\":\"组织列表\",\"layout\":\"fit\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store4Grid\",\"columns\":\"colArray\",\"exportExcel\":\"true\",\"id\":\"grid1\",\"tbar\":\"toolbar4Grid1\",\"multiSelect\":\"false\",\"simpleSelect\":\"false\",\"exportPrint\":\"false\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\",\"itemdblclick\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nvar _orgid = rows[0].data.ORG_ID;  \\nvar _orgname = rows[0].data.ORG_NAME; \\nvar _orgcode = rows[0].data.ORG_CODE ;    \\nvar _orgtype = rows[0].data.ORG_TYPE;\\nvar _shortname = rows[0].data.ORG_SHORT_NAME;\\nvar _enabled = rows[0].data.ENABLE_FLAG;\\nvar _upOrgId = rows[0].data.UP_ORG_ID;\\nvar _upOrgName = rows[0].data.UP_ORG_NAME;\\n\\nupOrg.setValue(_upOrgId) ;\\nupOrg.setRawValue(_upOrgId === '-1' ? '系统组织' :_upOrgName) ;   \\n\\nupOrg.enable();\\norgId.setValue(_orgid);\\norgCode.setValue(_orgcode);\\norgName.setValue(_orgname);\\norgShortName.setValue(_shortname);\\ncbxOrgType.setValue(_orgtype);\\ncbxOrgEnable.setValue(_enabled);    \\nupOrgid.setValue(upOrg.getValue());\\n\\norgWin.setTitle('修改组织');\\nbtnAddAndSave.hide();\\norgWin.show();\\nupOrg.disable();\\nvar record=treeStore1.findRecord('ORG_ID',orgId.getValue());\\nalert(record);\\ntreePanel1.view.select(record);\"}]}]}]}","组织管理",null,0,0,"admin","2015-04-28 13:51:55.0","23XQ4B4KHDBQ","2015-09-10 17:33:39.0",1],["23WSD6KB5YQJ","23WSD6KB5YQC",null,"DATA",null,1,0,"admin","2015-04-28 13:52:01.0","admin","2015-06-02 15:14:49.0",2],["23WSD6KB5YQK","23WSD6KB5YQJ","{\"id\":\"module\",\"title\":\"Get UpOrg List\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT T.ORG_ID, T.ORG_CODE, T.ORG_NAME\\n  FROM XIP_PUB_ORGS T\\n WHERE T.ENABLE_FLAG = 'Y'\\n   \\n\",\"xwlMeta\":\"dataProvider\"}]}","Get UpOrg List",null,0,0,"admin","2015-04-28 13:52:01.0","admin","2015-04-28 13:52:01.0",3],["23WSD6KB5YQL","23WSD6KB5YQJ","{\"id\":\"module\",\"title\":\"Select\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"sybase\":\"select t1.org_name \\\"text\\\",\\n       t1.ORG_SHORT_NAME ,\\n       t1.ORG_ID,\\n       t1.up_org_id \\\"parent_id\\\",\\n\\t  (select a.org_name from xip_pub_orgs a where a.org_id = t1.up_org_id) \\\"up_org_name\\\",\\n       t1.ORG_CODE ,\\n       t1.ORG_TYPE ,\\n       t1.ENABLE_FLAG ,\\n       concat({?contextPath?},'/webbuilder/images/app/ss.gif') as \\\"icon\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_orgs t2\\n                where IFNULL(t2.up_org_id, '-1') = t1.org_id) > 0 then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n\\n  from xip_pub_orgs t1\\nwhere up_org_id={?parentID?} or(({?parentID?}='' or {?parentID?} is null)and up_org_id = '-1')\\n  order by t1.org_code\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t1.org_name \\\"text\\\",\\n       t1.org_short_name ,\\n       t1.org_id,\\n       t1.up_org_id \\\"parent_id\\\",\\n\\t  (select a.org_name from xip_pub_orgs a where a.org_id = t1.up_org_id) \\\"up_org_name\\\",\\n       t1.org_code ,\\n       t1.org_type ,\\n       t1.enable_flag ,\\n       t1.ATTRIBUTE4,\\n       concat({?contextPath?},'/webbuilder/images/app/ss.gif') as \\\"icon\\\",\\n       --case\\n       --  when (select count(*)\\n       --          from xip_pub_orgs t2\\n       --         where nvl(t2.up_org_id, '-1') = t1.org_id) > 0 then\\n       --   '__false'\\n       --  else\\n       --   '__true'\\n       --end as \\\"leaf\\\"\\n       '__false' as \\\"leaf\\\"\\n\\n  from xip_pub_orgs t1\\nwhere up_org_id={?parentID?} or ({?parentID?} is null and up_org_id='-1')\\n--  and t1.org_name like '%{#txtOrgName#}%'\\n  order by t1.ATTRIBUTE4 asc\\n\",\"mysql\":\"select t1.org_name \\\"text\\\",\\n       t1.ORG_SHORT_NAME ,\\n       t1.ORG_ID,\\n       t1.up_org_id \\\"parent_id\\\",\\n\\t  (select a.org_name from xip_pub_orgs a where a.org_id = t1.up_org_id) \\\"up_org_name\\\",\\n       t1.ORG_CODE ,\\n       t1.ORG_TYPE ,\\n       t1.ENABLE_FLAG ,\\n       t1.ATTRIBUTE4,\\n       concat({?contextPath?},'/webbuilder/images/app/ss.gif') as \\\"icon\\\",\\n       /*case\\n         when (select count(*)\\n                 from xip_pub_orgs t2\\n                where IFNULL(t2.up_org_id, '-1') = t1.org_id) > 0 then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"*/\\n       '__false' as \\\"leaf\\\"\\n\\n  from xip_pub_orgs t1\\nwhere up_org_id={?parentID?} or(({?parentID?}='' or {?parentID?} is null)and up_org_id = '-1')\\n  order by t1.ATTRIBUTE4 asc\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\",\"type\":\"tree\"}],\"initScript\":\"var contextPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\",\"loginRequired\":\"false\"}","Get OrgTree",null,0,0,"admin","2015-04-28 13:52:01.0","admin","2015-06-15 16:14:31.0",1],["23WSD6KB5YQM","23WSD6KB5YQJ","{\"id\":\"module\",\"title\":\"Update Org\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"isExist\",\"sql\":\"select count(*) as \\\"Tt\\\" from XIP_PUB_ORGS x where x.ORG_CODE={?orgCode?} and org_id <> {?orgId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"组织编码已存在\",\"id\":\"error1\",\"xwlMeta\":\"except\",\"name\":\"isExist.Tt\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"nameIsExist\",\"sql\":\"select count(*) as \\\"Tt\\\" from XIP_PUB_ORGS x where x.ORG_NAME = {?orgName?} and org_id <> {?orgId?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"组织名称已存在\",\"id\":\"error11\",\"xwlMeta\":\"except\",\"name\":\"nameIsExist.Tt\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"dataProvider1\",\"sql\":\"update xip_pub_orgs\\n   set org_code          = {?orgCode?},\\n       org_name          = {?orgName?},\\n       org_short_name    = {?orgShortName?},\\n       up_org_id         = {?upOrg?},\\n       org_type          = {?cbxOrgType?},\\n       enable_flag       = {?cbxOrgEnable?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where org_id = {?orgId?}\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Update Org",null,0,0,"admin","2015-04-28 13:52:01.0","admin","2015-06-03 10:18:25.0",6],["23WSD6KB5YQN","23WSD6KB5YQJ","{\"id\":\"module\",\"title\":\"Save Org\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"isExist\",\"sql\":\"select count(*) as \\\"Tt\\\" from XIP_PUB_ORGS x where x.ORG_CODE={?orgCode?} \",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"组织编码已存在\",\"id\":\"error1\",\"xwlMeta\":\"except\",\"name\":\"isExist.Tt\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"nameIsExist\",\"sql\":\"select count(*) as \\\"Tt\\\" from XIP_PUB_ORGS x where x.ORG_NAME = {?orgName?} \",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"组织名称已存在\",\"id\":\"error11\",\"xwlMeta\":\"except\",\"name\":\"nameIsExist.Tt\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"INSERT INTO XIP_PUB_ORGS\\n  (ORG_ID,\\n   ORG_CODE,\\n   ORG_NAME,\\n   ORG_SHORT_NAME,\\n   UP_ORG_ID,\\n   ORG_TYPE,\\n   ENABLE_FLAG,\\n   CREATION_DATE,\\n   CREATED_BY,\\n   ATTRIBUTE4)\\nVALUES\\n  ({?sys.uuid?},\\n   {?orgCode?},\\n   {?orgName?},\\n   {?orgShortName?},\\n   {?upOrgid?},\\n   {?cbxOrgType?},\\n   {?cbxOrgEnable?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   1)\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{k:'{#sys.uuid#}'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","Insert Org",null,0,0,"admin","2015-04-28 13:52:01.0","admin","2015-06-15 16:57:44.0",7],["23WSD6KB5YQO","23WSD6KB5YQJ","{\"id\":\"module\",\"title\":\"Get OrgList\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT ORG_ID,\\n       ORG_CODE,\\n       ORG_NAME,\\n       ORG_SHORT_NAME,\\n       UP_ORG_ID,\\n       (SELECT ORG_NAME FROM XIP_PUB_ORGS A WHERE A.ORG_ID = t.UP_ORG_ID) UP_ORG_NAME,\\n       ORG_TYPE,\\n       ENABLE_FLAG,\\n       ATTRIBUTE1,\\n       ATTRIBUTE2,\\n       ATTRIBUTE3,\\n       ATTRIBUTE4,\\n       ATTRIBUTE5,\\n       ATTRIBUTE6,\\n       ATTRIBUTE7,\\n       ATTRIBUTE8,\\n       ATTRIBUTE9,\\n       ATTRIBUTE10,\\n       CREATION_DATE,\\n       CREATED_BY,\\n       LAST_UPDATE_DATE,\\n       LAST_UPDATED_BY,\\n       LAST_UPDATE_LOGIN\\n  FROM XIP_PUB_ORGS t\\nWHERE ORG_CODE LIKE '%{#textOrgCode#}%'\\n  AND ORG_NAME LIKE '%{#textOrgName#}%'\\norder by t.org_code\",\"xwlMeta\":\"dataProvider\"}]}","Get OrgList",null,0,0,"admin","2015-04-28 13:52:01.0","admin","2015-04-28 13:52:01.0",2],["23WSD6KB5Z7K","23VVZ3QMOKQM",null,"组织授权",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-05-12 09:41:43.0",25],["23WSD6KB5Z7L","23WSD6KB5Z7K","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"组织授权\",\"loginRequired\":\"false\",\"finalize\":\"//选中父节点的下的所有子节点\\nfunction setChildChecked(parentNode,checked){\\n  parentNode.expand();\\n  //选中自己\\n  parentNode.set({checked:checked});\\n  if(parentNode.data.NODE_TYPE === 'F' && checked === true){\\n    var tempJson={TARGET_ID:parentNode.get('ID'),ANAME:parentNode.get('text'),TYPE:'F'};\\n    storeRightCopy.add(tempJson);\\n  }\\n  if(parentNode.data.NODE_TYPE === 'F' && checked === false){\\n    var record = storeRightCopy.findRecord('TARGET_ID',parentNode.get('ID'));\\n    storeRightCopy.remove(record);\\n  }\\n  //计算选择的数\\n  allcount1();\\n  if(parentNode.hasChildNodes){\\n    parentNode.eachChild(function(childNode){\\n      setChildChecked(childNode,checked);\\n    });\\n  }\\n}\\n//选中子节点的时候，同时选中父节点\\nfunction setParentChecked(childNode,checked){\\n  childNode.set({checked:checked});\\n  var parentNode = childNode.parentNode;\\n  if(parentNode){\\n    var flag = false;\\n    parentNode.eachChild(function(node){\\n      if(node.data.checked === true){\\n        flag = true;\\n      }\\n    });\\n    //取消选中时\\n    if(checked === false){\\n      if(!flag){\\n        setParentChecked(parentNode,checked);\\n      }  \\n    }else{\\n      if(flag){\\n        setParentChecked(parentNode,checked);\\n      }\\n    }  \\n  }\\n  \\n}\\n\\n\\n//=============实现树的模糊查找================\\nfunction filterBy(text,by,menuFunTree) { \\n   clearFilter(menuFunTree);\\n    var view = menuFunTree.getView(),\\n        me = menuFunTree,\\n        nodesAndParents = [];\\n    // 找到匹配的节点并展开.\\n    // 添加匹配的节点和他们的父节点到nodesAndParents数组.\\n    menuFunTree.getRootNode().cascadeBy(function(tree, view) {\\n       this.expand();\\n        var currNode = this;\\n        if (currNode && currNode.data[by] && currNode.data[by].toString().toLowerCase().indexOf(text.toLowerCase()) > -1) {\\n            menuFunTree.expandPath(currNode.getPath());\\n            while (currNode.parentNode) {\\n                nodesAndParents.push(currNode.id);\\n                currNode = currNode.parentNode;\\n            }\\n        }\\n    }, null, [menuFunTree, view]);\\n\\n    // 将不在nodesAndParents数组中的节点隐藏\\n    menuFunTree.getRootNode().cascadeBy(function(tree, view) {\\n        this.expand();\\n        var uiNode = view.getNodeByRecord(this);\\n        if (uiNode && !Ext.Array.contains(nodesAndParents, this.id)) {\\n            Ext.get(uiNode).setDisplayed('none');\\n        }\\n    }, null, [menuFunTree, view]);\\n}\\n\\nfunction clearFilter(menuFunTree){\\n    var view = menuFunTree.getView();\\n    menuFunTree.getRootNode().cascadeBy(function(tree, view) {\\n       this.expand();\\n        var uiNode = view.getNodeByRecord(this);\\n        if (uiNode) {\\n            Ext.get(uiNode).setDisplayed('table-row');\\n        }\\n    }, null, [menuFunTree, view]);\\n}\\n\\n\\n\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"allcount\",\"footer\":\"<script>\\nfunction allcount()\\n{ \\n  var row=Wb.getSelRec(Orggrid);\\n  var count=row.length;\\n  var c=storeOrgCopy.getModifiedRecords().length;\\n if(count===0){\\n   if(Orggrid.getStore().isLoading()===false){\\n    \\n     if(c===0){\\n       document.getElementById(\\\"org\\\").innerHTML = \\\"已选组织\\\"; \\n     }\\n     else{\\n       document.getElementById(\\\"org\\\").innerHTML = \\\"已选组织(\\\"+c+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n     document.getElementById(\\\"org\\\").innerHTML =  \\\"已选组织(\\\"+c+\\\")\\\";\\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"org\\\").innerHTML = \\\"已选组织(\\\"+c+\\\")\\\"; \\n  }\\n \\n\\n}\\n\\n \\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"allcount1\",\"footer\":\"<script>\\nfunction allcount1()\\n{ \\n  var row=Wb.getSelRec(Appgrid);\\n   var row1=Wb.getSelRec(Rolegrid);\\n   var row2=Wb.getSelRec(Usergrid);\\n // var row3=Wb.getSelRec(postgrid);\\n  var count=row.length;\\n  var count1=row1.length;\\n   var count2=row2.length;\\n//   var count3=row3.length;\\n   var s=storeRightCopy.getModifiedRecords().length;\\n//判断UDPgrid用户部门岗位的的个数\\n\\n   var a=0;\\n  var b=0;\\n  var c=0;\\n   var d=0;\\n                   for(var k=0;k<s;k++){\\n    \\t\\t\\t\\t\\tvar type=storeRightCopy.getAt(k).get('TYPE');\\n                   \\n                     if(type==='A'){      \\n                       a++;  \\n                      \\n                     }\\t\\n                       if(type==='F'){      \\n                       b++;       \\n                       \\n                     }\\t\\n                       if(type==='D'){      \\n                       c++;       \\n                       \\n                     }\\t\\n                     if(type==='U'){      \\n                       d++;      \\n                       \\n                     }\\t\\n                   }\\n  \\n  \\t\\t\\t\\n   \\n     //功能树个数\\n  \\n  \\n    \\n     if(d===0){\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n     }\\n     else{\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n     }\\n     \\n    \\n  \\n    \\n    \\n        \\n  //alert(c);//应用个数\\n  if(count===0){\\n   if(Appgrid.getStore().isLoading()===false){\\n    \\n     if(a===0){\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n     }\\n     else{\\n        document.getElementById(\\\"all\\\").innerHTML =\\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n      document.getElementById(\\\"all\\\").innerHTML =\\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"all\\\").innerHTML =\\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n  }\\n  //角色个数\\n  if(count1===0){\\n   if(Rolegrid.getStore().isLoading()===false){\\n    \\n     if(c===0){\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n     }\\n     else{\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n      document.getElementById(\\\"all\\\").innerHTML =  \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"all\\\").innerHTML = \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n  } \\n  //用户个数\\n   if(count2===0){\\n   if(Usergrid.getStore().isLoading()===false){\\n    \\n     if(d===0){\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n     }\\n     else{\\n        document.getElementById(\\\"all\\\").innerHTML = \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n      document.getElementById(\\\"all\\\").innerHTML = \\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"all\\\").innerHTML =\\\"已选应用(\\\"+a+\\\")功能(\\\"+b+\\\")角色(\\\"+c+\\\")用户(\\\"+d+\\\")\\\"; \\n  } \\n  \\n  \\n  \\n  \\n \\n \\n\\n}\\n<\\/script>\\n\"},{\"xwlMeta\":\"clientScript\",\"id\":\"deleteOrgCopy\",\"footer\":\"<script>\\nfunction deleteOrgCopy()\\n{ \\n\\n   var record=OrgwinGrid.getSelectionModel().getSelection();\\n\\n     storeOrgCopy.remove(record);\\n \\n       var rid=record[0].data.ORG_ID;\\n\\n \\n \\n    for(var j=0;j<storeOrgGrid.getCount();j++){\\n      var r_id=storeOrgGrid.getAt(j).get('ORG_ID');\\n       if(rid===r_id){\\n        \\n        Orggrid.getSelectionModel().deselect(storeOrgGrid.getAt(j));\\n         \\n         break;\\n    \\t\\t\\t\\t  }\\n  \\n    \\t\\t\\t}\\t\\n   \\n     \\n  \\n\\n //allcount();\\n}\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"deletejsforfun\",\"footer\":\"<script >\\n\\n  function deleteCopyAllFun(){ \\n    \\n   var record=ADFUgrid.getSelectionModel().getSelection();\\n   \\n    var type = record[0].get('TYPE');\\n    \\n     storeRightCopy.remove(record);\\n    \\n  //取出类型进行判断\\n    //判断应用\\n       var rid=record[0].data.TARGET_ID;\\n    if(type=='A'){\\n       //点击删除 去掉勾选的对号\\n \\n \\n    for(var j=0;j<storeApp.getCount();j++){\\n      var r_id=storeApp.getAt(j).get('APP_ID');\\n       if(rid===r_id){\\n        \\n        Appgrid.getSelectionModel().deselect(storeApp.getAt(j));\\n         break;\\n    \\t\\t\\t\\t  }\\n  \\n    \\t\\t\\t}\\t\\n   \\t\\t\\t }\\n    //判断功能树\\n     if(type=='F'){\\n       \\n\\n\\n    \\n   var selectLength = menuFunctionTree.getChecked().length;\\n\\n   \\n  \\n  for(var j=0;j<selectLength;j++){     \\n    var res=menuFunctionTree.getChecked();\\n      var type=res[j].get('NODE_TYPE');\\n      if(type=='F'){\\n      //alert('rrr'+res[j].get('ID'));\\n      \\n           if(rid===res[j].get('ID')){\\n         res[j].set('checked',false);\\n         res[j].commit();\\n         menuFunctionTree.getView().refresh();\\n\\n         break;\\n      \\n             }\\n      }\\n      \\n     \\t \\n          \\n     \\n     \\n  \\n    }\\n       \\n       \\n        \\n    }\\n    //判部角色\\n     if(type=='D'){\\n         for(var j=0;j<storeRole.getCount();j++){\\n      var r_id=storeRole.getAt(j).get('ROLE_ID');\\n       if(rid===r_id){\\n        \\n        Rolegrid.getSelectionModel().deselect(storeRole.getAt(j));\\n         break;\\n    \\t\\t\\t\\t  }\\n  \\n    \\t\\t\\t}\\t\\n    }\\n    \\n     //判部用户\\n     if(type=='U'){\\n         for(var j=0;j<storeUser.getCount();j++){\\n      var r_id=storeUser.getAt(j).get('USER_ID');\\n       if(rid===r_id){\\n        \\n        Usergrid.getSelectionModel().deselect(storeUser.getAt(j));\\n         break;\\n    \\t\\t\\t\\t  }\\n  \\n    \\t\\t\\t}\\t\\n    }\\n   \\n    allcount1();\\n}\\n<\\/script>\"},{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WSD6KB5Z83 (deleteorgsec)\",\"id\":\"delete_orgsec_ajax\",\"output\":\"grid1\",\"success\":\"Wb.message('删除成功!');\\nWb.load(store1);\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WSD6KB5Z7Q (insertOrgSecApp)\",\"id\":\"insert_org_ajax\",\"output\":\"grid1\",\"success\":\"\\nWb.message('授权成功');\\nWb.load(store1);\\nWb.load(storeOrgAll);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WSD6KB5Z7R (deleteBackOrg)\",\"id\":\"delete_back_ajax\",\"success\":\"Wb.message('撤销成功!');\\nWb.load(store1);\\nWb.load(storeOrgAll);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X2J7B83V1F (batchAddOrgSec)\",\"id\":\"addOrgGrantAjax\",\"showMask\":\"false\",\"success\":\"Wb.unmask();\\nWb.message('授权操作成功！');\\nWb.load(storeOrgGrid,function(){\\n  allcount();\\n});\\nWb.load(store1);\\n\",\"beforerequest\":\"Wb.mask();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WSD6KB5Z7R (deleteBackOrg)\",\"id\":\"delOrgGrantAjax\",\"failure\":\"Wb.error('撤销授权失败！');\",\"success\":\"Wb.message('撤销授权成功!');\\n\\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"storeOrgAll\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23WSD6KB5Z7T (selectOrgAll)\",\"output\":\"form1\",\"showMask\":\"true\"},{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#23WSD6KB5Z81 (selectOrgsec)\",\"output\":\"form1\"},{\"xwlMeta\":\"store\",\"id\":\"storeorgs\",\"pageSize\":\"-1\",\"url\":\"#23WSD6KB5Z7P (selectOrgs)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"storedeptname\",\"pageSize\":\"-1\",\"url\":\"#23WSD6KB5Z88 (selectDeptName)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"storeOrgGrid\",\"url\":\"#23WSD6KB5Z7X (selectOrg)\",\"output\":\"Orgform\",\"load\":\"var arr=[];\\nfor(var i=0;i<storeRightCopy.getCount();i++){\\n  var uid=storeRightCopy.getAt(i).get('TARGET_ID');\\n  for(var j=0;j<storeOrgGrid.getCount();j++){\\n    if(uid===storeOrgGrid.getAt(j).get('ORG_ID')){\\n      arr.push(storeOrgGrid.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\nOrggrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"store\",\"id\":\"storeOrgCopy\",\"url\":\"#23WSD6KB63BA (selectCopyOrg)\"},{\"xwlMeta\":\"store\",\"id\":\"storeApp\",\"url\":\"#23WSD6KB5Z7W (selectApp)\",\"output\":\"Appform\",\"load\":\"var arr=[];\\nfor(var i=0;i<storeRightCopy.getCount();i++){\\n  var uid=storeRightCopy.getAt(i).get('TARGET_ID');\\n  for(var j=0;j<storeApp.getCount();j++){\\n    if(uid===storeApp.getAt(j).get('APP_ID')){\\n      arr.push(storeApp.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\nAppgrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#23WSD6KB5Z86 (selectFunTree)\",\"id\":\"menuFunctionStore\",\"load\":\"menuFunctionTree.expandAll();\\nmenuFunctionTree.collapseAll();\",\"beforeload\":\"operation.params.parentID=operation.node.get('ID');\"},{\"xwlMeta\":\"store\",\"id\":\"storecopyFun\",\"url\":\"#23WSD6KB5Z7U (selectCopyTree)\"},{\"xwlMeta\":\"store\",\"id\":\"storeRole\",\"url\":\"#23WSD6KB5Z7Z (selectRole)\",\"output\":\"Roleform\",\"load\":\"var arr=[];\\nfor(var i=0;i<storeRightCopy.getCount();i++){\\n  var uid=storeRightCopy.getAt(i).get('TARGET_ID');\\n  for(var j=0;j<storeRole.getCount();j++){\\n    if(uid===storeRole.getAt(j).get('Role_ID')){\\n      arr.push(storeRole.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\nRolegrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"store\",\"id\":\"storeUser\",\"url\":\"#23X6U35T97AU (noOrgDeptGridUser)\",\"output\":\"Userform\",\"load\":\"var arr=[];\\nfor(var i=0;i<storeRightCopy.getCount();i++){\\n  var uid=storeRightCopy.getAt(i).get('TARGET_ID');\\n  for(var j=0;j<storeUser.getCount();j++){\\n    if(uid===storeUser.getAt(j).get('USER_ID')){\\n      arr.push(storeUser.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\nUsergrid.getSelectionModel().select(arr);\",\"beforeload\":\"var whereSql= ' AND 1=1';\\nif(Ext.isEmpty(comboBox11.getValue()) && Ext.isEmpty(comboBox2.getValue())){\\n  store.getProxy().url='main?xwl=23X6U35T97AU';  //noOrgDeptGridUser\\n}else{\\n  store.getProxy().url='main?xwl=23X6U35T97B9';  //orgDeptGridUser\\n}\\nif(!Ext.isEmpty(comboBox11.getValue())){\\n  \\n  whereSql +=' AND b.ORG_ID =\\\\''+comboBox11.getValue()+'\\\\'';\\n}\\nif(!Ext.isEmpty(comboBox2.getValue())){\\n  whereSql +=' AND b.DEPT_ID =\\\\''+comboBox2.getValue()+'\\\\'';\\n}\\nstore.getProxy().extraParams.WHERESQL = whereSql;\\n\\n\\n\\n\"},{\"xwlMeta\":\"store\",\"id\":\"storeRightCopy\",\"url\":\"#23WSD6KB69FK (selectRightCopy)\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"Orggridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber2\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"orgid1\",\"text\":\"组织id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_CODE\",\"id\":\"orgcode\",\"text\":\"组织编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"orgname1\",\"text\":\"组织名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Orgwingridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber21\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"orgid11\",\"text\":\"组织id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_CODE\",\"id\":\"orgcode1\",\"text\":\"组织编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"orgname11\",\"text\":\"组织名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"id\":\"dorpgn\",\"renderer\":\"//var str = \\\"<a href=\\\\\\\"javascript:assginEmployee('\\\"+c_orgId+\\\"','\\\"+c_deptId+\\\"','\\\"+c_postId+\\\"','\\\"+c_deptName+\\\"','\\\"+c_postName+\\\"');\\\\\\\">员工分配数：\\\"+record.get('EMP_NUM')+\\\"<\\/a>\\\" ;\\nvar str = \\\"<a href=\\\\\\\"javascript:deleteOrgCopy();\\\\\\\"> 删除 <\\/a>\\\";\\nreturn str;\",\"text\":\"删除\"}]},{\"xwlMeta\":\"array\",\"id\":\"Appgridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"appid\",\"text\":\"应用id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"appName\",\"text\":\"应用名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_DESC\",\"id\":\"appdesc\",\"text\":\"应用描述\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"Rolegridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column12\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"column22\",\"text\":\"ROLE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"roleNA1\",\"text\":\"角色名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"roleDesctiption\",\"text\":\"角色说明\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"Usergridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column1111\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"column2112\",\"text\":\"USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USERNAME11\",\"text\":\"用户名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"YGXM11\",\"text\":\"员工姓名\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"ADFUGridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xuhao2\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"tagetid\",\"text\":\"目标id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ANAME\",\"id\":\"mc\",\"text\":\"已选授权对象\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TYPE\",\"id\":\"type\",\"renderer\":\"if(value === \\\"A\\\"){\\n  return \\\"应用\\\";\\n}else if(value === \\\"F\\\"){\\n  return \\\"功能\\\";\\n}else if(value === \\\"D\\\"){\\n  return \\\"角色\\\";\\n}else if(value === \\\"U\\\"){\\n  return \\\"用户\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"类型\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"id\":\"delete\",\"renderer\":\"//var str = \\\"<a href=\\\\\\\"javascript:assginEmployee('\\\"+c_orgId+\\\"','\\\"+c_deptId+\\\"','\\\"+c_postId+\\\"','\\\"+c_deptName+\\\"','\\\"+c_postName+\\\"');\\\\\\\">员工分配数：\\\"+record.get('EMP_NUM')+\\\"<\\/a>\\\" ;\\nvar str = \\\"<a href=\\\\\\\"javascript:deleteCopyAllFun();\\\\\\\"> 删除 <\\/a>\\\";\\nreturn str;\",\"text\":\"删除\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"hiddenOrgcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ORG_SEC_ID\",\"id\":\"yonghuid2\",\"text\":\"授权id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ORG_ID\",\"id\":\"gongnid2\",\"text\":\"组织id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"TARGET_ID\",\"id\":\"ufid3\",\"text\":\"目标ID\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"array\",\"id\":\"orgArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xuhao\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_SEC_ID\",\"id\":\"zuzhiid\",\"text\":\"组织授权id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"orgid\",\"text\":\"组织id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"mbid\",\"text\":\"目标ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"orgName\",\"text\":\"组织名称\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET\",\"id\":\"dxmc\",\"text\":\"授权对象名称\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TYPE\",\"id\":\"sqlx\",\"renderer\":\"if(value === \\\"A\\\"){\\n  return \\\"应用\\\";\\n}else if(value === \\\"F\\\"){\\n  return \\\"功能\\\";\\n}else if(value === \\\"D\\\"){\\n  return \\\"角色\\\";\\n}else if(value === \\\"U\\\"){\\n  return \\\"用户\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"授权类型\",\"width\":\"200\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"grid1tbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"key_icon\",\"id\":\"org_authorizebtn\",\"text\":\"组织授权\",\"click\":\"windowOrgFun.show();\\nWb.load(storeApp);\\nWb.load(storeOrgGrid);\\nWb.load(storeRole);\\nWb.load(storeOrgCopy);\\nWb.load(storeRightCopy);\\nstoreUser.getProxy().url='main?xwl=23WSD6KB5Z84';\\nWb.reload(storeUser);\\nallcount();\\nallcount1();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"deletebtn\",\"text\":\"删除\",\"click\":\"var rows=Wb.getSelRec(grid1);\\nif(Ext.isEmpty(rows)){\\n  Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n}\\nelse{\\n   Ext.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n    delete_orgsec_ajax.request();\\n   \\n    }\\n   });\\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"}]},{\"xwlMeta\":\"array\",\"id\":\"windowOrgFunbtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"set_icon\",\"id\":\"revokebtn\",\"text\":\"授权\",\"click\":\"// 类型 ：A-应用，D-职责，F-功能，U-用户\\n//获取应用和组织ID\\nif(storeRightCopy.getCount()===0&&storeOrgCopy.getCount()!==0){\\n   Ext.Msg.alert('提示','请选择要授权的应用/职责/功能/用户');\\n   return ;\\n  }\\nif(storeOrgCopy.getCount()===0&&storeRightCopy.getCount()!==0){\\n  Ext.Msg.alert('提示','请选择组织');\\n  return ;\\n  }\\nif(storeRightCopy.getCount()===0&&storeOrgCopy.getCount()===0){\\n  Wb.message('请选择左右的授权对象!');\\n  return ;\\n}\\n//授权前，组合所有预授权的ID\\nvar _matchIdsAttay = [];\\nvar _matchStr = '';\\nvar _tmpOrgId = '';\\nvar _tmpTargetId = '';\\nstoreOrgCopy.each(function(orgRecord){\\n  _tmpOrgId +=\\\"'\\\"+orgRecord.data.ORG_ID+\\\"',\\\";\\n  storeRightCopy.each(function(grantRecord){\\n    _matchStr=orgRecord.data.ORG_ID+','+grantRecord.data.TARGET_ID+','+grantRecord.data.TYPE;//组织,应用,类型   格式\\n    _matchIdsAttay.push(_matchStr);    \\n  });\\n});\\nstoreRightCopy.each(function(tmp){\\n  _tmpTargetId +=\\\"'\\\"+tmp.data.TARGET_ID+\\\"',\\\";\\n});\\n//加载已经授权的对象\\n_tmpOrgId = _tmpOrgId.substring(0,_tmpOrgId.length-1);\\n_tmpTargetId = _tmpTargetId.substring(0,_tmpTargetId.length-1);\\nvar _existGrant = '';\\nstoreOrgAll.load({params:{ORG_IDS:_tmpOrgId,TARGET_IDS:_tmpTargetId},callback:function(){\\n  storeOrgAll.each(function(a){\\n    _existGrant = a.data.ORG_ID+','+a.data.TARGET_ID+','+a.data.TYPE;\\n    if(Ext.Array.contains(_matchIdsAttay,_existGrant)){\\n    Ext.Array.remove(_matchIdsAttay,_existGrant); \\n    }\\n  });\\n  //得到最终需要授权的记录\\n if(_matchIdsAttay.length === 0){\\n   Wb.warning('所选择的对象已经授权完毕，请重新选择！');\\n   return false;\\n } \\n   var tmpGrantAttayVar='';\\n   var arrayGrantIds = [];\\n   var jsonVar;\\n   Ext.each(_matchIdsAttay,function(tmpItem){\\n     tmpGrantAttayVar = tmpItem.split(',');\\n     jsonVar= {ORG_SEC_ID:'',ORG_ID:tmpGrantAttayVar[0],TARGET_ID:tmpGrantAttayVar[1],TYPE:tmpGrantAttayVar[2]};\\n     arrayGrantIds.push(jsonVar);\\n   });\\n  //执行授权操作\\n  addOrgGrantAjax.params.newArray = Ext.JSON.encode(arrayGrantIds);\\n \\n  addOrgGrantAjax.request();  \\n}});\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"remove_icon\",\"id\":\"backbtn\",\"text\":\"撤销\",\"click\":\"//类型 ：A-应用，D-职责，F-功能，U-用户\\n//获取员工ID\\nif(storeRightCopy.getCount()===0 && storeOrgCopy.getCount()!==0){\\n  Wb.message('请选择要撤销授权的应用/功能/角色/用户！');\\n  return ;\\n}\\nif(storeOrgCopy.getCount()===0 && storeRightCopy.getCount()!==0){\\n  Wb.message('请选择要取消授权的组织！');\\n  return ;\\n}\\nif(storeOrgCopy.getCount()===0&&storeRightCopy.getCount()===0){\\n  Wb.message('请选择要取消授权的对象！');\\n  return ;\\n}  \\n//删除所选择的授权\\nvar delArrayVar = [];\\nvar delJson ;\\nstoreRightCopy.each(function(a){\\n  storeOrgCopy.each(function(b){\\n    delJson = {ORG_ID:b.data.ORG_ID,TARGET_ID:a.data.TARGET_ID};\\n    delArrayVar.push(delJson);\\n  });  \\n});\\ndelOrgGrantAjax.params.delArray = Ext.JSON.encode(delArrayVar);\\ndelOrgGrantAjax.request();\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closebtn\",\"text\":\"关闭\",\"click\":\"windowOrgFun.close();\\nstoreOrgCopy.removeAll();\\nstoreRightCopy.removeAll();\\n\\n\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"windowOrgFun\",\"title\":\"组织授权\",\"height\":\"500\",\"layout\":\"border\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"950\",\"buttons\":\"windowOrgFunbtn\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"beforeclose\":\"Wb.load(store1);\",\"close\":\"storeOrgCopy.removeAll();\\nstoreRightCopy.removeAll();\\n\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"orgpanel\",\"layout\":\"border\",\"width\":\"'48%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"center\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Orgform\",\"height\":\"40\",\"border\":\"false\",\"frame\":\"true\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr111\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td111\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织名称\",\"id\":\"orgN\",\"height\":\"20\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storeOrgGrid);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 5px\",\"id\":\"td211\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"orgSecSeachBtn\",\"text\":\"查询\",\"click\":\"Wb.load(storeOrgGrid);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storeOrgGrid\",\"columns\":\"Orggridcolumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"Orggrid\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row=Wb.getSelRec(Orggrid);\\nvar records=Orggrid.getSelectionModel().getSelection();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid='';\\nfor(var v=0;v<row.length;v++){\\n  var idNu=records[v].get('ORG_ID');\\n  arrid=arrid+','+idNu;\\n}\\nARRID.setValue(arrid.substring(1,arrid.length));\\n\\n\\nif(row.length==1){\\n    \\n       \\n              var record=records[0];\\n                \\n                   orgid= record.get('ORG_ID');\\n             // alert(userid);\\n\\t\\t\\t\\tocode= record.get('ORG_CODE'); \\n               oname= record.get('ORG_NAME'); \\n  \\t\\n  var json={ORG_ID:orgid,ORG_CODE:ocode,ORG_NAME:oname};\\n            for(var j=0;j<storeOrgCopy.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=storeOrgCopy.getAt(j).get('ORG_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(orgid==id){\\n\\n    \\t\\t\\t\\t\\t  storeOrgCopy.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tstoreOrgCopy.add(json);\\n \\n}else{\\n  \\n      \\n       \\n              var record=records[row.length-1];\\n                \\n                   orgid= record.get('ORG_ID');\\n \\n\\t\\t\\t\\tocode= record.get('ORG_CODE'); \\n               oname= record.get('ORG_NAME'); \\n  \\t \\n  var json={ORG_ID:orgid,ORG_CODE:ocode,ORG_NAME:oname};\\n            for(var j=0;j<storeOrgCopy.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=storeOrgCopy.getAt(j).get('ORG_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(orgid==id){\\n\\n    \\t\\t\\t\\t\\t storeOrgCopy.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tstoreOrgCopy.add(json);\\n\\n}\\nFLAG.setValue(row.length);\\nallcount();\\n\",\"selectionchange\":\"var flag=FLAG.getValue();\\nvar row=Wb.getSelRec(Orggrid);\\nvar records=Orggrid.getSelectionModel().getSelection();\\n\\n\\n//var  selected= usergrid.getSelectionModel().hasSelection();\\nif(flag===null||flag===''){\\n  \\n}\\nelse{\\nif(row.length<flag&&Orggrid.getStore().isLoading()===false){\\n  \\n   \\n    //获取当前页中已勾选的ID(取消勾选时)\\n  \\n    var arrayid=ARRID.getValue().split(',');\\n    var bl;\\n   \\n    for(var i =0;i<arrayid.length; i++){\\n\\t\\tvar uid=arrayid[i];\\n   \\n \\n  for(var j =0;j<row.length; j++){\\n  var uid2= records[j].get('ORG_ID');\\n   \\n   if(uid===uid2){\\n    \\n      bl=1;\\n      break;\\n     \\n    }\\n    else{\\n            bl=0;\\n          }\\n  }\\n    \\n       if(bl!==1){\\n    \\n  \\n\\n                   for(var k=0;k<storeOrgCopy.getCount();k++){\\n    \\n    \\t\\t\\t\\t\\tvar name=storeOrgCopy.getAt(k).get('ORG_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(uid==name){\\n\\n    \\t\\t\\t\\t\\t  storeOrgCopy.removeAt(k);\\n                         break;\\n       \\n                       }\\n                   }\\n \\t\\t }\\n      }\\n \\n} \\n  \\n}\\n\\n\\n\\nallcount();\\n\\n\\n\\n  \\n\"},{\"xwlMeta\":\"text\",\"id\":\"FLAG\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"ARRID\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"east\",\"id\":\"funtabPanel\",\"border\":\"false\",\"width\":\"'48%'\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"apppanel\",\"title\":\"应用\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"ARRID1\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"FLAG1\",\"hidden\":\"true\"},{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Appform\",\"height\":\"40\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr11\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td11\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用\",\"id\":\"appN\",\"height\":\"20\",\"labelWidth\":\"40\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storeApp);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 5px\",\"id\":\"td21\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button11\",\"text\":\"查询\",\"click\":\"Wb.load(storeApp);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storeApp\",\"columns\":\"Appgridcolumn\",\"exportExcel\":\"false\",\"border\":\"false\",\"region\":\"center\",\"id\":\"Appgrid\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row=Wb.getSelRec(Appgrid);\\nvar records=Appgrid.getSelectionModel().getSelection();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid='';\\nfor(var v=0;v<row.length;v++){\\n  var idNu=records[v].get('APP_ID');\\n  arrid=arrid+','+idNu;\\n}\\nARRID1.setValue(arrid.substring(1,arrid.length));\\n\\n\\nif(row.length==1){\\n    \\n       \\n              var record=records[0];\\n                \\n                   userid= record.get('APP_ID');\\n             // alert(userid);\\n\\t\\t\\t\\tuname= record.get('APP_NAME'); \\n               \\n  \\t type='A'; \\n  var json={TARGET_ID:userid,ANAME:uname,TYPE:type};\\n            for(var j=0;j<storeRightCopy.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=storeRightCopy.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t  storeRightCopy.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tstoreRightCopy.add(json);\\n \\n}else{\\n  \\n      \\n       \\n              var record=records[row.length-1];\\n                \\n                   userid= record.get('APP_ID');\\n \\n\\t\\t\\t\\tuname= record.get('APP_NAME'); \\n              // ename= record.get('USER_NAME'); \\n  \\t type='A'; \\n  var json={TARGET_ID:userid,ANAME:uname,TYPE:type};\\n            for(var j=0;j<storeRightCopy.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=storeRightCopy.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t storeRightCopy.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tstoreRightCopy.add(json);\\n\\n}\\nFLAG1.setValue(row.length);\\nallcount1();\\n\",\"selectionchange\":\"var flag=FLAG1.getValue();\\nvar row=Wb.getSelRec(Appgrid);\\nvar records=Appgrid.getSelectionModel().getSelection();\\n\\n\\n//var  selected= usergrid.getSelectionModel().hasSelection();\\nif(flag===null||flag===''){\\n  \\n}\\nelse{\\nif(row.length<flag&&Appgrid.getStore().isLoading()===false){\\n  \\n   \\n    //获取当前页中已勾选的ID(取消勾选时)\\n  \\n    var arrayid=ARRID1.getValue().split(',');\\n    var bl;\\n   \\n    for(var i =0;i<arrayid.length; i++){\\n\\t\\tvar uid=arrayid[i];\\n   \\n \\n  for(var j =0;j<row.length; j++){\\n  var uid2= records[j].get('APP_ID');\\n   \\n   if(uid===uid2){\\n    \\n      bl=1;\\n      break;\\n     \\n    }\\n    else{\\n            bl=0;\\n          }\\n  }\\n    \\n       if(bl!==1){\\n    \\n  \\n\\n                   for(var k=0;k<storeRightCopy.getCount();k++){\\n    \\n    \\t\\t\\t\\t\\tvar name=storeRightCopy.getAt(k).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(uid==name){\\n\\n    \\t\\t\\t\\t\\t  storeRightCopy.removeAt(k);\\n                         break;\\n       \\n                       }\\n                   }\\n \\t\\t }\\n      }\\n \\n} \\n  \\n}\\n\\n\\n\\nallcount1();\\n\\n\\n\\n  \\n\"}]},{\"xwlMeta\":\"panel\",\"id\":\"funpanel\",\"title\":\"功能\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Funform\",\"height\":\"40\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr112\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td112\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"功能\",\"id\":\"funN\",\"height\":\"20\",\"labelWidth\":\"40\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  filterBy(funN.getValue(),'text',menuFunctionTree);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 5px\",\"id\":\"td212\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"funSecQueryBtn\",\"text\":\"查询\",\"click\":\"filterBy(funN.getValue(),'text',menuFunctionTree);\"}]}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"paneltree\",\"layout\":\"fit\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"center\",\"animate\":\"false\",\"store\":\"menuFunctionStore\",\"root\":\"{id:'rootNode',text:'功能菜单',expanded:true}\\n\",\"id\":\"menuFunctionTree\",\"border\":\"false\",\"rootVisible\":\"false\",\"viewConfig\":\"{\\n  plugins : {\\n    pluginId: 'ddPlug',\\n    ptype: 'treeviewdragdrop'\\n  },\\n  listeners : {\\n    beforedrop: function(node,data,overModel,dropPosition,dropFunction,options){\\n      return false;\\n    },\\n    drop: function(node,data,overModel,dropPosition,options){\\n      return false;\\n    }\\n  }\\n}\",\"checkchange\":\"//递归调用选中子节点与父节点（选中父节点，同时选中父节点下的所有子节点，选中子节点，同时选中父节点）\\nsetChildChecked(node,checked);\\nsetParentChecked(node,checked);\\n\\n\\n\",\"itemdblclick\":\"Wb.getSelNode(menuFunctionTree).expand();\"}]}]},{\"xwlMeta\":\"panel\",\"id\":\"rolepanel\",\"title\":\"角色\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"ARRID3\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"FLAG3\",\"hidden\":\"true\"},{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Roleform\",\"height\":\"40\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr113\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td113\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色\",\"id\":\"roleN\",\"height\":\"20\",\"labelWidth\":\"40\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storeRole);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 5px\",\"id\":\"td213\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"roleSecQueryBtn\",\"text\":\"查询\",\"click\":\"Wb.load(storeRole);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storeRole\",\"columns\":\"Rolegridcolumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"Rolegrid\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row=Wb.getSelRec(Rolegrid);\\nvar records=Rolegrid.getSelectionModel().getSelection();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid='';\\nfor(var v=0;v<row.length;v++){\\n  var idNu=records[v].get('ROLE_ID');\\n  arrid=arrid+','+idNu;\\n}\\nARRID3.setValue(arrid.substring(1,arrid.length));\\n\\n\\nif(row.length==1){\\n    \\n       \\n              var record=records[0];\\n                \\n                   userid= record.get('ROLE_ID');\\n             // alert(userid);\\n\\t\\t\\t\\tuname= record.get('ROLE_NAME'); \\n               \\n  \\t type='D'; \\n  var json={TARGET_ID:userid,ANAME:uname,TYPE:type};\\n            for(var j=0;j<storeRightCopy.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=storeRightCopy.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t  storeRightCopy.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tstoreRightCopy.add(json);\\n \\n}else{\\n  \\n      \\n       \\n              var record=records[row.length-1];\\n                \\n                   userid= record.get('ROLE_ID');\\n \\n\\t\\t\\t\\tuname= record.get('ROLE_NAME'); \\n              // ename= record.get('USER_NAME'); \\n  \\t type='D'; \\n  var json={TARGET_ID:userid,ANAME:uname,TYPE:type};\\n            for(var j=0;j<storeRightCopy.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=storeRightCopy.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t storeRightCopy.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tstoreRightCopy.add(json);\\n\\n}\\nFLAG3.setValue(row.length);\\nallcount1();\\n\",\"selectionchange\":\"var flag=FLAG3.getValue();\\nvar row=Wb.getSelRec(Rolegrid);\\nvar records=Rolegrid.getSelectionModel().getSelection();\\n\\n\\n//var  selected= usergrid.getSelectionModel().hasSelection();\\nif(flag===null||flag===''){\\n  \\n}\\nelse{\\nif(row.length<flag&&Rolegrid.getStore().isLoading()===false){\\n  \\n   \\n    //获取当前页中已勾选的ID(取消勾选时)\\n  \\n    var arrayid=ARRID3.getValue().split(',');\\n    var bl;\\n\\n    for(var i =0;i<arrayid.length; i++){\\n\\t\\tvar uid=arrayid[i];\\n  \\n \\n  for(var j =0;j<row.length; j++){\\n  var uid2= records[j].get('ROLE_ID');\\n   \\n   if(uid===uid2){\\n    \\n      bl=1;\\n      break;\\n     \\n    }\\n    else{\\n            bl=0;\\n          }\\n  }\\n    \\n       if(bl!==1){\\n    \\n  \\n\\n                   for(var k=0;k<storeRightCopy.getCount();k++){\\n    \\n    \\t\\t\\t\\t\\tvar name=storeRightCopy.getAt(k).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t//alert(name);\\n                       if(uid==name){\\n\\n    \\t\\t\\t\\t\\t  storeRightCopy.removeAt(k);\\n                         break;\\n       \\n                       }\\n                   }\\n \\t\\t }\\n      }\\n \\n} \\n  \\n}\\n\\n\\n\\nallcount1();\\n\\n\\n\\n  \\n\"}]},{\"xwlMeta\":\"panel\",\"id\":\"userpanel\",\"title\":\"用户\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"ARRID4\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"FLAG4\",\"hidden\":\"true\"},{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Userform\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"orgcombox\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"storeorgs\",\"valueField\":\"ORG_ID\",\"width\":\"80\",\"editable\":\"true\",\"labelAlign\":\"right\",\"emptyText\":\"--请选择组织--\",\"fieldLabel\":\"组织\",\"id\":\"comboBox11\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"var ORG_ID=comboBox11.getValue();\\nWb.load(storeUser);\\nWb.load(storedeptname,{ORG_ID:ORG_ID});\\ncomboBox2.clearValue();\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"deptcombox\",\"height\":\"30\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"storedeptname\",\"valueField\":\"DEPT_ID\",\"width\":\"80\",\"editable\":\"true\",\"labelAlign\":\"right\",\"emptyText\":\"--请选择部门--\",\"fieldLabel\":\"部门\",\"id\":\"comboBox2\",\"queryLike\":\"true\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"60\",\"select\":\"var DEPT_ID=comboBox2.getValue();\\nWb.load(storeUser);\",\"focus\":\"\\nvar DEPT_ID=comboBox2.getValue();\\nif(DEPT_ID===null||DEPT_ID===''){\\n\\n  if(comboBox11.getValue()===null){\\n    comboBox2.getStore().removeAll();\\n\\n  }\\n  \\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"usertext\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"layout\":\"form\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"userN\",\"labelWidth\":\"60\",\"width\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n    userNUpper.setValue(userN.getValue().toUpperCase());\\n\\tWb.load(storeUser);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"userNUpper\",\"labelWidth\":\"60\",\"width\":\"80\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storeUser);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 10px\",\"id\":\"panel2\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button111\",\"text\":\"查询\",\"click\":\"userNUpper.setValue(userN.getValue().toUpperCase());\\nWb.load(storeUser);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"bodyPadding\":\"1px 0px 0px 5px\",\"id\":\"panel21\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"button1112\",\"text\":\"重置\",\"click\":\"comboBox11.clearValue();\\ncomboBox2.clearValue();\\nUserform.form.reset();\\nstoreUser.getProxy().url='main?xwl=23WSD6KB5Z84';\\nWb.reload(storeUser);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storeUser\",\"columns\":\"Usergridcolumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"Usergrid\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row=Wb.getSelRec(Usergrid);\\nvar records=Usergrid.getSelectionModel().getSelection();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid='';\\nfor(var v=0;v<row.length;v++){\\n  var idNu=records[v].get('USER_ID');\\n  arrid=arrid+','+idNu;\\n    }\\nARRID4.setValue(arrid.substring(1,arrid.length));\\n\\n\\nif(row.length==1){\\n    \\n       \\n              var record=records[0];\\n                \\n                   userid= record.get('USER_ID');\\n             // alert(userid);\\n\\t\\t\\t\\t                uname= record.get('USER_NAME'); \\n               \\n  \\t type='U'; \\n  var json={TARGET_ID:userid,ANAME:uname,TYPE:type};\\n            for(var j=0;j<storeRightCopy.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=storeRightCopy.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t  storeRightCopy.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tstoreRightCopy.add(json);\\n \\n}else{\\n  \\n      \\n       \\n              var record=records[row.length-1];\\n                \\n                   userid= record.get('USER_ID');\\n \\n\\t\\t\\t\\tuname= record.get('USER_NAME'); \\n              // ename= record.get('USER_NAME'); \\n  \\t type='U'; \\n  var json={TARGET_ID:userid,ANAME:uname,TYPE:type};\\n            for(var j=0;j<storeRightCopy.getCount();j++){\\n    \\n    \\t\\t\\t\\t\\tvar id=storeRightCopy.getAt(j).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t\\n                       if(userid==id){\\n\\n    \\t\\t\\t\\t\\t storeRightCopy.removeAt(j);\\n       \\n   \\t\\t\\t\\t\\t\\t\\t }\\n \\t\\t\\t\\t\\t}\\n\\t\\t\\tstoreRightCopy.add(json);\\n\\n}\\nFLAG4.setValue(row.length);\\nallcount1();\\n\",\"selectionchange\":\"var flag=FLAG4.getValue();\\nvar row=Wb.getSelRec(Usergrid);\\nvar records=Usergrid.getSelectionModel().getSelection();\\n\\n\\n//var  selected= usergrid.getSelectionModel().hasSelection();\\nif(flag===null||flag===''){\\n  \\n}\\nelse{\\nif(row.length<flag&&Usergrid.getStore().isLoading()===false){\\n  \\n   \\n    //获取当前页中已勾选的ID(取消勾选时)\\n  \\n    var arrayid=ARRID4.getValue().split(',');\\n    var bl;\\n\\n    for(var i =0;i<arrayid.length; i++){\\n\\t\\tvar uid=arrayid[i];\\n  \\n \\n  for(var j =0;j<row.length; j++){\\n  var uid2= records[j].get('USER_ID');\\n   \\n   if(uid===uid2){\\n    \\n      bl=1;\\n      break;\\n     \\n    }\\n    else{\\n            bl=0;\\n          }\\n  }\\n    \\n       if(bl!==1){\\n    \\n  \\n\\n                   for(var k=0;k<storeRightCopy.getCount();k++){\\n    \\n    \\t\\t\\t\\t\\tvar name=storeRightCopy.getAt(k).get('TARGET_ID');\\n   \\t\\t\\t\\t\\t\\t\\t//alert(name);\\n                       if(uid==name){\\n\\n    \\t\\t\\t\\t\\t  storeRightCopy.removeAt(k);\\n                         break;\\n       \\n                       }\\n                   }\\n \\t\\t }\\n      }\\n \\n} \\n  \\n}\\n\\n\\n\\nallcount1();\\n\\n\\n\\n  \\n\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"my-panel-no-border\",\"id\":\"southpanel\",\"height\":\"'6%'\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"west\",\"id\":\"formleft\",\"height\":\"30\",\"style\":\"border-width:0px\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'48%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel91\",\"height\":\"30\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"50\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"label1\",\"html\":\"<a href=\\\"javascript:void(0)\\\"  onclick =\\\"SelectOrgWin.show()\\\"  style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"org\\\" >已选组织<\\/a>\\n\\n\\t\"}]},{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel1111\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'40%'\",\"frame\":\"true\"}]},{\"xwlMeta\":\"form\",\"region\":\"east\",\"id\":\"formright\",\"height\":\"30\",\"style\":\"border-width:0px\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'48%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel911\",\"height\":\"30\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"50\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"align\":\"left\",\"id\":\"label11\",\"html\":\"\\n  <a href=\\\"javascript:void(0)\\\"  onclick =\\\"SelectADFUWin.show()\\\"  style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"all\\\" >已选应用功能角色用户<\\/a>\\n\"}]},{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel11111\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'28%'\",\"frame\":\"true\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"SelectOrgWin\",\"title\":\"已选组织\",\"height\":\"450\",\"layout\":\"border\",\"autoReset\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"600\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"storeOrgCopy\",\"columns\":\"Orgwingridcolumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"OrgwinGrid\",\"exportPrint\":\"false\",\"selType\":\"rowmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"SelectADFUWin\",\"title\":\"已选记录\",\"height\":\"450\",\"layout\":\"border\",\"autoReset\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"600\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"storeRightCopy\",\"columns\":\"ADFUGridcolumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"ADFUgrid\",\"exportPrint\":\"false\",\"selType\":\"rowmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window2\",\"height\":\"260\",\"layout\":\"border\",\"width\":\"380\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"storeOrgAll\",\"columns\":\"hiddenOrgcolumn\",\"region\":\"center\",\"id\":\"gridAll\",\"autoLoad\":\"false\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form1\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织名称\",\"id\":\"org_name\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(store1);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"授权对象名称\",\"id\":\"menuAll\",\"labelWidth\":\"80\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n    menuAllUpper.setValue(menuAll.getValue().toUpperCase());\\n    Wb.load(store1);\\n}\"},{\"xwlMeta\":\"comboBox\",\"labelAlign\":\"right\",\"pickList\":\"[['A','应用'],['F','功能'],['D','角色'],['U','用户']]\",\"fieldLabel\":\"授权类型\",\"id\":\"comboBox1\",\"labelWidth\":\"60\",\"select\":\"Wb.load(store1);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"querybtn\",\"text\":\"查询\",\"x\":\"10\",\"click\":\"menuAllUpper.setValue(menuAll.getValue().toUpperCase());\\nstore1.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetbtn\",\"text\":\"重置\",\"x\":\"25\",\"click\":\"form1.form.reset();\\nWb.load(store1);\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"授权对象名称\",\"id\":\"menuAllUpper\",\"labelWidth\":\"80\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\nWb.load(store1);\\n}\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"orgArray\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"grid1tbar\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}","组织授权",null,0,0,"admin","2015-04-28 14:09:54.0","23XQ4UO678F5","2015-10-21 14:29:44.0",1],["23WSD6KB5Z7N","23WSD6KB5Z7K",null,"DATA",null,1,0,"admin","2015-04-28 14:09:54.0","admin","2015-06-02 16:59:19.0",5],["23WSD6KB5Z7P","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectOrgs\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT\\nt.ORG_ID,\\nt.ORG_CODE,\\nt.ORG_NAME,\\nt.ORG_SHORT_NAME,\\nt.UP_ORG_ID,\\nt.ORG_TYPE,\\nt.ENABLE_FLAG,\\nt.ATTRIBUTE1,\\nt.ATTRIBUTE2,\\nt.ATTRIBUTE3,\\nt.ATTRIBUTE4,\\nt.ATTRIBUTE5,\\nt.ATTRIBUTE6,\\nt.ATTRIBUTE7,\\nt.ATTRIBUTE8,\\nt.ATTRIBUTE9,\\nt.ATTRIBUTE10,\\nt.CREATION_DATE,\\nt.CREATED_BY,\\nt.LAST_UPDATE_DATE,\\nt.LAST_UPDATED_BY,\\nt.LAST_UPDATE_LOGIN\\nfrom XIP_PUB_ORGS t\\nwhere  t.ENABLE_FLAG = 'Y'  and  t.ORG_NAME  like {?findKey?}\",\"xwlMeta\":\"dataProvider\"}]}","selectOrgs",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-28 14:09:54.0",6],["23WSD6KB5Z7Q","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"insertOrgSecApp\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"initScript\":\"var UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"ORG_SEC_ID\\\",UUID);\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_ORG_SEC\\n            (ORG_SEC_ID,\\n             TARGET_ID,\\n             ORG_ID,\\n             TYPE,\\n             CREATION_DATE\\n             \\n              )\\n    values(\\n      '{#ORG_SEC_ID#}',\\n      {?TARGET_ID?},\\n      {?ORG_ID?},\\n      {?TYPE?},\\n       {?timestamp.sys.date?}\\n     \\n    )\",\"xwlMeta\":\"query\"}]}","insertOrgSecApp",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-29 13:34:40.0",24],["23WSD6KB5Z7R","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"deleteBackOrg\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"delOrgSec\",\"sql\":\"delete from XIP_PUB_ORG_SEC where ORG_ID={?ORG_ID?} and TARGET_ID={?TARGET_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"delArray\"}],\"loginRequired\":\"false\"}","deleteBackOrg",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-05-27 18:04:14.0",25],["23WSD6KB5Z7T","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectOrgAll\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  s.ORG_SEC_ID ORG_SEC_ID,\\n  o.org_id ORG_ID,\\n  s.TARGET_ID TARGET_ID,\\n  s.TYPE\\nFROM\\n  xip_pub_orgs o,\\n  xip_pub_org_sec s \\nWHERE o.ENABLE_FLAG = 'Y' \\n  AND o.org_id = s.org_id \\n  AND s.ORG_ID IN ({#ORG_IDS#})\\n  AND s.TARGET_ID IN ({#TARGET_IDS#})\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectOrgAll",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-05-27 15:58:40.0",3],["23WSD6KB5Z7U","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectCopyTree\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT\\nt.FUN_TREE_ID,\\nt.FUN_TREE_CODE,\\nt.FUN_TREE_NAME,\\nt.UP_ID,\\nt.NODE_TYPE,\\nt.NODE_ORDER,\\nt.ENABLE_FLAG,\\nt.CREATION_DATE,\\nt.CREATED_BY,\\nt.LAST_UPDATE_DATE,\\nt.LAST_UPDATED_BY,\\nt.LAST_UPDATE_LOGIN,\\nt.DESCRIPTION,\\nt.URL,\\nt.SMALL_ICON,\\nt.LARGE_ICON,\\nt.FUN_HELP,\\nt.APP_ID,\\nt.MOB_URL\\nfrom xip_pub_fun_tree t\\n where 1= 0\\n\\n\\n\\n\\n\",\"xwlMeta\":\"dataProvider\"}]}","selectCopyTree",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-28 14:09:54.0",11],["23WSD6KB5Z7W","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectApp\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#appN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select APP_ID,APP_CODE,APP_NAME from  XIP_PUB_APPS  where ENABLE_FLAG ='Y' and  APP_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}]}","selectApp",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-28 14:09:54.0",8],["23WSD6KB5Z7X","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectOrg\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#orgN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select ORG_ID,ORG_CODE,ORG_NAME from XIP_PUB_ORGS where   ENABLE_FLAG = 'Y'  and  ORG_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}]}","selectOrg",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-28 14:09:54.0",18],["23WSD6KB5Z7Z","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectRole\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#roleN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select ROLE_ID,ROLE_NAME,DESCRIPTION FROM  xip_pub_role where enable_flag='Y' and ROLE_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}]}","selectRole",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-28 14:09:54.0",12],["23WSD6KB5Z81","23WSD6KB5Z7N","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectOrgsec\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#org_name#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute2\",\"value\":\"%{#menuAllUpper#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute3\",\"value\":\"%{#comboBox1#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select s.ORG_SEC_ID ORG_SEC_ID,o.org_id ORG_ID,  o.org_name ORG_NAME,  s.TARGET_ID TARGET_ID, \\ncase \\n  when a.app_id = '' then null \\n   else   a.APP_NAME\\n      end as TARGET ,\\ns.type TYPE\\n      from xip_pub_orgs o, xip_pub_org_sec s,XIP_PUB_APPS a\\n     where \\n  o.org_id = s.org_id\\n         and s.target_id = a.app_id\\n       and o.enable_flag = 'Y'\\n       and s.type = 'A' \\n and o.org_name like {?attribute1?}\\nand   a.APP_NAME like {?attribute2?}\\nand  s.type like {?attribute3?}\\n       union\\n         \\n        select s.ORG_SEC_ID ORG_SEC_ID,o.org_id ORG_ID,  o.org_name ORG_NAME, s.TARGET_ID  TARGET_ID, \\ncase \\n  when r.role_id = '' then null \\n   else  r.role_name\\n      end as TARGET ,\\n\\ns.type TYPE\\n      from xip_pub_orgs o, xip_pub_org_sec s, XIP_PUB_USERS u ,XIP_PUB_ROLE r\\n     where o.org_id = s.org_id\\n       and s.target_id = r.role_id\\n       and o.enable_flag = 'Y'\\n       and s.type = 'D' \\n       and o.org_name like {?attribute1?}\\nand  r.role_name like {?attribute2?}\\nand  s.type like {?attribute3?}\\n       union\\n               select s.ORG_SEC_ID ORG_SEC_ID,o.org_id ORG_ID,  o.org_name ORG_NAME, s.TARGET_ID  TARGET_ID, \\ncase \\n  when t.fun_tree_id = '' then null \\n   else t.fun_tree_name\\n      end as TARGET ,\\n\\ns.type TYPE\\n      from xip_pub_orgs o, xip_pub_org_sec s, XIP_PUB_USERS u ,XIP_PUB_FUN_TREE t \\n     where o.org_id = s.org_id\\n       and s.target_id = t.fun_tree_id\\n       and o.enable_flag = 'Y'\\n       and s.type = 'F' \\n       and o.org_name like {?attribute1?}\\nand  t.fun_tree_name like {?attribute2?}\\nand  s.type like {?attribute3?}\\n       union\\n    \\n select s.ORG_SEC_ID ORG_SEC_ID,o.org_id ORG_ID,  o.org_name ORG_NAME, s.TARGET_ID  TARGET_ID, \\ncase \\n  when u.user_id = '' then null \\n   else   u.user_name\\n      end as TARGET ,\\n\\ns.type TYPE\\n      from xip_pub_orgs o, xip_pub_org_sec s, XIP_PUB_USERS u\\n     where o.org_id = s.org_id\\n       and s.target_id = u.user_id\\n       and o.enable_flag = 'Y'\\n       and s.type = 'U' \\nand o.org_name like {?attribute1?}\\nand u.user_name like {?attribute2?}\\nand  s.type like {?attribute3?}\"}]}","selectOrgsec",null,0,0,"admin","2015-04-28 14:09:54.0","23XQ4UO678F5","2015-10-21 14:31:02.0",13],["23WSD6KB5Z83","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"deleteorgsec\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_ORG_SEC where ORG_SEC_ID={?ORG_SEC_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}]}","deleteorgsec",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-28 14:09:54.0",5],["23WSD6KB5Z84","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectUser\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT u.USER_ID,\\n             u.USER_NAME,             \\n             \\te.EMP_NAME  \\n        FROM XIP_PUB_USERS u,\\n           xip_pub_emps e\\n          \\n          where u.emp_id = e.emp_id \\n\\n\\t\\t\\t\\t  and u.USER_NAME like {?attribute1?}\\n \\t\\t\\t\\t\\t\",\"xwlMeta\":\"dataProvider\"}]}","selectUser",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-28 14:09:54.0",15],["23WSD6KB5Z86","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectFunTree\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id id, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type node_type,\\n\\t   t.node_order idx,\\n\\t\\tt.FUN_TREE_CODE,\\n\\tt.DESCRIPTION,\\n\\t\\t'__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or ({?parentID?} is null and nvl(t.up_id,'-1') = '-1')  \\nand  t.ENABLE_FLAG = 'Y'  \\n order by t.node_order asc\",\"mysql\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id ID, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type NODE_TYPE,\\n\\t   t.node_order IDX,\\n\\t   t.FUN_TREE_CODE,\\n\\t   t.DESCRIPTION,\\n\\t\\t'__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or (({?parentID?} is null or {?parentID?}='') and ifnull(t.up_id,'-1') = '-1')  \\nand  t.ENABLE_FLAG = 'Y'  \\n order by t.node_order asc\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\",\"type\":\"tree\"}]}","selectFunTree",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-29 16:16:23.0",10],["23WSD6KB5Z87","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectUser\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,\\n       USER_NAME,\\n       EMP_NAME\\nfrom xip_pub_users x1,\\n     xip_pub_emps x2\\nwhere x1.EMP_ID in   \\n(select EMP_ID from xip_pub_emp_asg where DEPT_ID={?DEPT_ID?})\\n   and x1.EMP_ID=x2.EMP_ID AND USER_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectUrlUser",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-30 15:13:12.0",16],["23WSD6KB5Z88","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectDeptName\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT\\nt.DEPT_ID,\\nt.DEPT_CODE,\\nt.DEPT_NAME,\\nt.DEPT_SHORT_NAME,\\nt.UP_DP_ID,\\nt.ORG_ID,\\nt.ENABLE_FLAG,\\nt.ATTRIBUTE2,\\nt.ATTRIBUTE3,\\nt.ATTRIBUTE4,\\nt.ATTRIBUTE5,\\nt.ATTRIBUTE6,\\nt.ATTRIBUTE7,\\nt.ATTRIBUTE8,\\nt.ATTRIBUTE9,\\nt.ATTRIBUTE10,\\nt.CREATION_DATE,\\nt.CREATED_BY,\\nt.LAST_UPDATE_DATE,\\nt.LAST_UPDATED_BY,\\nt.LAST_UPDATE_LOGIN,\\nt.SEQ_UPDEPT,\\nt.ATTRIBUTE1\\nfrom XIP_PUB_DEPTS t\\nwhere   t.ENABLE_FLAG = 'Y'  and  t.ORG_ID = {?ORG_ID?}\",\"xwlMeta\":\"dataProvider\"}]}","selectDeptName",null,0,0,"admin","2015-04-28 14:09:54.0","admin","2015-04-28 14:09:54.0",7],["23WSD6KB63BA","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectCopyOrg\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.ORG_ID ORG_ID,t.ORG_CODE  ORG_CODE ,t.ORG_NAME ORG_NAME  from XIP_PUB_ORGS t  where 1=0\",\"xwlMeta\":\"dataProvider\"}]}","selectCopyOrg",null,0,0,"admin","2015-04-28 16:52:39.0","admin","2015-04-29 10:22:51.0",19],["23WSD6KB69FK","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectRightCopy\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.ROLE_ID TARGET_ID,t.ROLE_NAME ANAME,t.DESCRIPTION  TYPE FROM  xip_pub_role  t where 1=0\",\"xwlMeta\":\"dataProvider\"}]}","selectRightCopy",null,0,0,"admin","2015-04-29 13:59:03.0","admin","2015-04-29 14:01:02.0",26],["23WTCCFOX43N","23WPYTWVKUI5",null,"数据导入",null,0,0,"admin","2015-04-27 14:50:25.0","admin","2015-04-27 14:50:59.0",2],["23WTCCFOX43O","23WTCCFOX43N","{\"id\":\"module\",\"title\":\"tempDataImport\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"stores\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"logGridStore\",\"xwlMeta\":\"store\",\"pageSize\":\"-1\",\"url\":\"#23WVS61UR5VE (getLogs)\"}]},{\"id\":\"gridColumns\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"logGridColumns\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"column_num\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"width\":\"50\",\"type\":\"rowNumber\"},{\"id\":\"CREATION_DATE\",\"text\":\"日志时间\",\"xwlMeta\":\"column\",\"width\":\"120\",\"dataIndex\":\"CREATION_DATE\"},{\"id\":\"MSG\",\"text\":\"日志信息\",\"xwlMeta\":\"column\",\"autoWrap\":\"true\",\"dataIndex\":\"MSG\",\"flex\":\"1\"},{\"id\":\"LOG_ID\",\"text\":\"LOG_ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"LOG_ID\"},{\"id\":\"TAG_ID\",\"text\":\"TAG_ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"TAG_ID\"}]}]},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"border\",\"children\":[{\"id\":\"form1\",\"region\":\"north\",\"frame\":\"true\",\"height\":52,\"style\":\"border-width:0px\",\"xwlMeta\":\"form\",\"width\":400,\"layout\":\"absolute\",\"children\":[{\"id\":\"label1\",\"text\":\"请选择文件\",\"height\":22,\"xwlMeta\":\"label\",\"width\":72,\"y\":16,\"x\":8},{\"id\":\"fileName\",\"height\":22,\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"width\":152,\"inputType\":\"file\",\"y\":16,\"x\":88},{\"id\":\"submmit\",\"text\":\"导入\",\"height\":22,\"xwlMeta\":\"button\",\"width\":56,\"click\":\"if(Ext.getCmp('fileName').getValue()===\\\"\\\"){\\n  Ext.Msg.alert('提示','请选择文件!');\\n  return;\\n}\\n\\nform1.getForm().submit({\\n  url : '{#url#}',\\n  waitTitle: '提示', //标题\\n  waitMsg: '正在处理请稍后...', //提示信息    \\n  method : 'POST',\\t\\t\\t\\t\\t\\t\\t\\n  success : function(from, action) {\\n    var temp = action.response.responseText;\\n\\tvar resultJson = Ext.JSON.decode(temp);\\n    //Ext.Msg.alert('提示',resultJson.msg);\\n    if(resultJson.tagColumnId){\\n      logGridStore.getProxy().extraParams.tagId = resultJson.tagColumnId;\\n    \\tlogGridStore.load();\\n    }\\n  },\\t\\t\\t\\t\\t\\t\\t\\n  failure : function(from, action) {\\n    var temp = action.response.responseText;\\n\\tvar resultJson = Ext.JSON.decode(temp);\\n    if(resultJson.tagColumnId){\\n      logGridStore.getProxy().extraParams.tagId = resultJson.tagColumnId;\\n    \\tlogGridStore.load();\\n    }\\n    //Ext.Msg.alert('提示',resultJson.msg);\\n  }\\t\\t\\t\\t\\t\\t\\n});\",\"y\":16,\"x\":256},{\"id\":\"reset\",\"text\":\"重置\",\"height\":22,\"xwlMeta\":\"button\",\"width\":56,\"click\":\"Wb.reset(fileName);\",\"y\":16,\"x\":328}]},{\"id\":\"logGrid\",\"region\":\"center\",\"selType\":\"checkboxmodel\",\"store\":\"logGridStore\",\"xwlMeta\":\"grid\",\"columns\":\"logGridColumns\",\"simpleSelect\":\"false\",\"viewConfig\":\" {\\n enableTextSelection:true\\n }\"}]}],\"initScript\":\"var contextPath = request.getContextPath();\\n\\nvar templateCode = request.getParameter(\\\"templateCode\\\");\\n\\nvar url = contextPath + '/templateManageAction.do?method=importExcel&templateCode=' + templateCode;\\nrequest.setAttribute('url',url);\",\"loginRequired\":\"false\"}","数据导入",null,0,0,"admin","2015-04-27 14:50:51.0","admin","2015-06-25 13:57:28.0",1],["23WTY6AGX623","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectUrlorggrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,\\n       USER_NAME,\\n       EMP_NAME\\nfrom xip_pub_users x1,\\n     xip_pub_emps x2\\nwhere x1.EMP_ID in   \\n(select EMP_ID from xip_pub_emp_asg where ORG_ID={?ORG_ID?})\\n   and x1.EMP_ID=x2.EMP_ID AND USER_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectUrlorggrid",null,0,0,"admin","2015-04-30 15:02:20.0","admin","2015-04-30 15:02:20.0",17],["23WTY6AGX6H4","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"selectUrlorggrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,\\n       USER_NAME,\\n       EMP_NAME\\nfrom xip_pub_users x1,\\n     xip_pub_emps x2\\nwhere x1.EMP_ID in   \\n(select EMP_ID from xip_pub_emp_asg where ORG_ID={?ORG_ID?})\\n   and x1.EMP_ID=x2.EMP_ID AND USER_NAME like {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectUrlorggrid",null,0,0,"admin","2015-04-30 15:27:37.0","admin","2015-04-30 15:27:37.0",16],["23WVFDZYP0NF","23WSD6KB5YQJ","{\"id\":\"module\",\"title\":\"update_o\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query0\",\"sql\":\"update xip_pub_orgs\\nset ATTRIBUTE4 = ATTRIBUTE4+1 \\nwhere UP_ORG_ID = {?parent_id?} and ATTRIBUTE4 >= {?integer.ATTRIBUTE4?}\\n\\n\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"query1\",\"sql\":\"update xip_pub_orgs\\n   set \\n       up_org_id         = {?parent_id?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       ATTRIBUTE4        ={?integer.ATTRIBUTE4?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where org_id = {?ORG_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","update_o",null,0,0,"admin","2015-05-04 12:50:15.0","admin","2015-06-15 16:41:26.0",6],["23WVH95LXM3Y","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"FindZJID\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"{#valSql#}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","FindZJID",null,0,0,"admin","2015-05-04 15:51:34.0","admin","2015-05-05 10:00:31.0",2],["23WVH95LXT6L","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"selectgrid2Url\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select p.*,m.*, '' RUN_CONFIG_ID, '' PARAM_VAL,\\n (select VAL_SET_CODE from XIP_PUB_VAL_SETS t where t.VAL_SET_ID = p.VAL_SET_ID) VAL_SET_CODE\\nfrom XIP_PUB_PROGRAM_PARAMS  p ,XIP_PUB_PROGRAM  m where \\n  m.PROGRAM_ID = p.PROGRAM_ID and p.PROGRAM_ID ={?PROGRAM_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectgrid2Url",null,0,0,"admin","2015-05-05 13:16:09.0","admin","2015-06-02 16:24:14.0",9],["23WVH95LXUIZ","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"updateparameter\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update XIP_PUB_PROGRAM_RUN_PARAMS \\n    set PARAM_VAL = {?PARAM_VAL?},\\n        LAST_UPDATED_BY = {?XIP.userId?},\\n        LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n        ATTRIBUTE10 = {?ATTRIBUTE10?}\\n    WHERE RUN_PARAM_ID = {?RUN_PARAM_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"updateArray\"}],\"loginRequired\":\"false\"}","updateparameter",null,0,0,"admin","2015-05-05 13:53:45.0","admin","2015-07-08 11:29:26.0",12],["23WVS61UR5VD","23WTCCFOX43N",null,"data",null,1,0,"admin","2015-05-05 14:18:04.0","admin","2015-06-05 14:07:10.0",2],["23WVS61UR5VE","23WVS61UR5VD","{\"id\":\"module\",\"title\":\"getLogs\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select g.LOG_ID, g.TAG_ID, g.MSG, g.CREATION_DATE\\n  from xip_pub_io_log g\\n where g.TAG_ID = {?tagId?}\\n order by g.creation_date desc\",\"xwlMeta\":\"dataProvider\"}]}","getLogs",null,0,0,"admin","2015-05-05 14:19:36.0","admin","2015-05-05 14:34:11.0",1],["23WW4NT1ZP7X","23WW4OF5S66N",null,"DATA",null,1,0,"admin","2015-05-07 15:30:56.0","admin","2015-06-05 14:06:49.0",3],["23WW4NT1ZP7Y","23WW4NT1ZP7X","{\"id\":\"module\",\"title\":\"selectGrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#bm#}%\"},{\"id\":\"attribute2\",\"xwlMeta\":\"attribute\",\"value\":\"%{#ms#}%\"},{\"id\":\"attribute3\",\"xwlMeta\":\"attribute\",\"value\":\"%{#blx#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select IE_ID,\\n\\t\\t\\t\\t       IE_CODE,\\n\\t\\t\\t       IE_NAME,\\n       IE_TYPE,\\n       SEQ,\\nSELECT_SQL,\\nINSERT_SQL,\\nUPDATE_SQL,\\nIE_DESC\\nfrom XIP_PUB_IE WHERE IE_CODE  like {?attribute1?}    and   IE_NAME  like  {?attribute2?} \\nand   IE_TYPE  like {?attribute3?} \\norder by SEQ\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectGrid1",null,0,0,"admin","2015-05-07 15:31:13.0","admin","2015-05-13 05:29:07.0",1],["23WW4NT1ZPDL","23WW4NT1ZP7X","{\"id\":\"module\",\"title\":\"insertgrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_IE(\\n  IE_ID,IE_CODE,\\n  IE_NAME,IE_TYPE,\\n  SEQ,SELECT_SQL,\\n  INSERT_SQL,\\n  UPDATE_SQL,\\n  CREATED_BY,\\n  CREATION_DATE,\\n  LAST_UPDATED_BY,\\n  LAST_UPDATE_DATE)\\nvalues(\\n  {?IE_ID?},\\n  {?IE_CODE?},\\n  {?IE_NAME?},\\n  {?IE_TYPE?},\\n  {?SEQ?},\\n  {?SELECT_SQL?},\\n  {?INSERT_SQL?},\\n  {?UPDATE_SQL?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?}\\n)\\n\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","insertgrid1",null,0,0,"admin","2015-05-07 16:07:42.0","admin","2015-06-23 10:02:43.0",3],["23WW4NT1ZPDN","23WW4NT1ZP7X","{\"id\":\"module\",\"title\":\"updategrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update XIP_PUB_IE \\n   set IE_CODE = {?IE_CODE?},\\n       IE_NAME = {?IE_NAME?},\\n       IE_TYPE = {?IE_TYPE?},\\n       SEQ = {?SEQ?},\\n       SELECT_SQL = {?SELECT_SQL?},\\n       INSERT_SQL = {?INSERT_SQL?},\\n       UPDATE_SQL = {?UPDATE_SQL?},\\n       LAST_UPDATED_BY = {?XIP.userId?},\\n       LAST_UPDATE_DATE = {?timestamp.sys.date?}\\n   WHERE IE_ID = {?IE_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","updategrid1",null,0,0,"admin","2015-05-07 16:07:48.0","admin","2015-06-23 10:04:11.0",4],["23WW4NT1ZPDP","23WW4NT1ZP7X","{\"id\":\"module\",\"title\":\"deletegrid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"DELETE FROM XIP_PUB_IE WHERE IE_ID = {?IE_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}],\"loginRequired\":\"false\"}","deletegrid1",null,0,0,"admin","2015-05-07 16:07:54.0","admin","2015-05-07 16:13:43.0",5],["23WW4NT1ZPJY","23VQR0HS5LT8","{\"id\":\"module\",\"title\":\"Test Process\",\"initMethod\":\"com.xzsoft.xip.wf.action.WorkItemAction.testProcess\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\"}","Test Process",null,0,0,"admin","2015-05-07 16:22:51.0","admin","2015-05-07 17:34:20.0",2],["23WW4NT1ZQ6D","23WW4NT1ZP7X","{\"id\":\"module\",\"title\":\"selectcode\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select * from XIP_PUB_IE where IE_CODE='{#icode#}'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectcode",null,0,0,"admin","2015-05-07 16:45:30.0","admin","2015-05-13 05:29:25.0",2],["23WW4NT1ZWT7","23VVZ3QMOKQA",null,"平台数据移植",null,0,0,"admin","2015-05-08 12:05:24.0","admin","2015-06-19 11:00:20.0",27],["23WW4NT1ZWTE","23WW4NT1ZWT7","{\"id\":\"module\",\"title\":\"平台数据导入导出\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"IeGridtbar\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"menuItem1\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"exportbtn\",\"text\":\"导出\",\"xwlMeta\":\"button\",\"click\":\"var record = IeGrid.getSelectionModel().getSelection();\\nvar code='';\\nfor(var i=0;i<record.length;i++){\\n  var ie_code=record[i].get('IE_CODE');\\n     code=code+','+ie_code;\\n}\\nvar _code=code.substring(1,code.length);\\nWb.download('platformAction.do?method=doExp',{expcodes:_code});\",\"iconCls\":\"export_icon\"},{\"id\":\"menuItem2\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"importbtn\",\"text\":\"导入\",\"xwlMeta\":\"button\",\"click\":\"importWin.show();\",\"iconCls\":\"import_icon\"},{\"id\":\"menuItem3\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"}]},{\"id\":\"IeGridStore\",\"xwlMeta\":\"store\",\"pageSize\":\"-1\",\"load\":\"IeGrid.getSelectionModel().selectAll();\",\"output\":\"IeForm\",\"url\":\"#23WW4NT1ZWU3 (selectIeGrid)\"},{\"id\":\"importInfoStore\",\"xwlMeta\":\"store\",\"pageSize\":\"-1\",\"load\":\"IeGrid.getSelectionModel().selectAll();\",\"autoLoad\":\"false\",\"fields\":\"[{name:'TABLE_NAME'},{name:'IMPORT_MSG'}]\"},{\"id\":\"IeGridColumns\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"XUHAO\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"type\":\"rowNumber\"},{\"id\":\"IE_ID\",\"text\":\"ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"IE_ID\"},{\"id\":\"IE_CODE\",\"text\":\"表编码\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"IE_CODE\"},{\"id\":\"IE_NAME\",\"text\":\"表名称\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"IE_NAME\"},{\"id\":\"PRIMARY_KEY_COLUMN\",\"text\":\"主键列\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"width\":\"200\",\"dataIndex\":\"PRIMARY_KEY_COLUMN\"},{\"id\":\"IE_TYPE\",\"text\":\"表类型\",\"xwlMeta\":\"column\",\"dataIndex\":\"IE_TYPE\",\"renderer\":\"if(value === \\\"P\\\"){\\n  return \\\"系统内置\\\";\\n}else if(value === \\\"U\\\"){\\n  return \\\"用户自定义\\\";\\n}else{\\n  return value;\\n}\",\"flex\":\"1\"},{\"id\":\"INSERT_SQL\",\"text\":\"INSER_SQL\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"INSERT_SQL\"},{\"id\":\"SELECT_SQL\",\"text\":\"SELECT_SQL\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"SELECT_SQL\"},{\"id\":\"UPDATE_SQL\",\"text\":\"UPDATE_SQL\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"UPDATE_SQL\"}]},{\"id\":\"logGridColumns\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"rowNumber\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"width\":\"35\",\"type\":\"rowNumber\"},{\"id\":\"TABLE_NAME\",\"text\":\"表名称\",\"xwlMeta\":\"column\",\"width\":\"120\",\"dataIndex\":\"TABLE_NAME\"},{\"id\":\"IMPORT_MSG\",\"text\":\"日志信息\",\"xwlMeta\":\"column\",\"autoWrap\":\"true\",\"dataIndex\":\"IMPORT_MSG\",\"flex\":\"1\"}]},{\"id\":\"importWin\",\"beforeclose\":\"Wb.load(IeGridStore);\",\"title\":\"导入\",\"height\":\"450\",\"xwlMeta\":\"window\",\"beforehide\":\"Wb.load(IeGridStore);\",\"width\":\"630\",\"layout\":\"border\",\"children\":[{\"id\":\"form1\",\"region\":\"north\",\"frame\":\"true\",\"height\":\"'15%'\",\"style\":\"border-width:0px\",\"xwlMeta\":\"form\",\"layout\":\"form\",\"children\":[{\"id\":\"fieldSet1\",\"xwlMeta\":\"fieldSet\",\"layout\":\"column\",\"children\":[{\"id\":\"file\",\"labelWidth\":\"100\",\"xwlMeta\":\"text\",\"inputType\":\"file\",\"labelAlign\":\"right\",\"fieldLabel\":\"请选择文件\"},{\"id\":\"submitbtn\",\"text\":\"导入\",\"xwlMeta\":\"button\",\"width\":\"60\",\"click\":\"var fileName=file.getValue();\\nvar arr=fileName.split('.');\\nif(fileName===null||fileName===''){\\n  Ext.Msg.alert('提示','请选择文件!');\\n}else{\\n  if(arr[arr.length-1]!=='txt'){\\n      Ext.Msg.alert('提示','文件格式有误!');\\n    }\\n  else{\\nform1.getForm().submit({\\n  waitTitle: '提示', //标题\\n  waitMsg: '正在处理请稍后...', //提示信息    \\n  method : 'POST',\\t\\t\\t\\t\\t\\t\\t\\n  success : function(from, action) {\\n     var temp = action.response.responseText;\\n     var dataObj = Ext.JSON.decode(temp);\\n     var jsonObj;\\n    //==============0表示导入成功=============\\n    if(dataObj.flag ==='0'){\\n      var _infoArray = dataObj.datas;\\n      Ext.each(_infoArray,function(item){\\n        jsonObj = {TABLE_NAME:item.IE_CODE,IMPORT_MSG:item.IMP_RESULT};\\n        importInfoStore.add(jsonObj);\\n      });\\n    }else{\\n      jsonObj = {TABLE_NAME:'其他信息',IMPORT_MSG:dataObj.msg};\\n    }\\n\\n  },\\t\\t\\t\\t\\t\\t\\t\\n  failure : function(from, action) {\\n     var temp = action.response.responseText;\\n     var dataObj = Ext.JSON.decode(temp);\\n     var jsonObj;\\n     var _infoArray = dataObj.datas;\\n     Ext.each(_infoArray,function(item){\\n        jsonObj = {TABLE_NAME:item.IE_CODE,IMPORT_MSG:item.IMP_RESULT};\\n        importInfoStore.add(jsonObj);\\n      });\\n     Wb.message(dataObj.msg);\\n  }\\t\\t\\t\\t\\t\\t\\n});\\n  }\\n}\\n\\n\\n\\n\\n\\n\\n\",\"iconCls\":\"import_icon\",\"x\":\"5\"},{\"id\":\"closeWin\",\"text\":\"关闭\",\"xwlMeta\":\"button\",\"width\":\"60\",\"click\":\"importWin.close();\",\"iconCls\":\"cancel_icon\",\"x\":\"8\"}]}],\"border\":\"false\",\"url\":\"{#contextPath#}/platformAction.do?method=doImp\"},{\"id\":\"infoGrid\",\"region\":\"center\",\"selType\":\"checkboxmodel\",\"height\":\"180\",\"store\":\"importInfoStore\",\"xwlMeta\":\"grid\",\"pagingToolbar\":\"false\",\"columns\":\"logGridColumns\",\"autoLoad\":\"false\",\"simpleSelect\":\"false\",\"viewConfig\":\" {\\n enableTextSelection:true\\n }\"}],\"resizable\":\"false\",\"closeAction\":\"hide\",\"dialog\":\"false\"},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"border\",\"children\":[{\"id\":\"IeForm\",\"region\":\"north\",\"frame\":\"true\",\"style\":\"border-width:0px\",\"xwlMeta\":\"form\",\"children\":[{\"id\":\"fieldSet11\",\"title\":\"条件查询\",\"xwlMeta\":\"fieldSet\",\"layout\":\"column\",\"children\":[{\"id\":\"panel3\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".2\",\"children\":[{\"id\":\"bm\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"labelAlign\":\"right\",\"fieldLabel\":\"表编码\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n  Wb.load(IeGridStore);\\n}\"}]},{\"id\":\"panel4\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".2\",\"children\":[{\"id\":\"mc\",\"labelWidth\":\"80\",\"xwlMeta\":\"text\",\"labelAlign\":\"right\",\"fieldLabel\":\"表名称\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   Wb.load(IeGridStore);\\n\\n}\"}]},{\"id\":\"panel5\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".2\",\"children\":[{\"id\":\"blx\",\"labelWidth\":\"80\",\"xwlMeta\":\"comboBox\",\"pickList\":\"[['P','系统内置'],['U','用户自定义']]\",\"labelAlign\":\"right\",\"fieldLabel\":\"表类型\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n     Wb.load(IeGridStore);\\n}\"}]},{\"id\":\"panel8\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".1\",\"children\":[{\"id\":\"panel9\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"baseCls\":\"border-style:none\",\"children\":[{\"id\":\"panel10\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".5\",\"children\":[{\"id\":\"selectbtn\",\"text\":\"查询\",\"xwlMeta\":\"button\",\"width\":\"60\",\"click\":\"Wb.load(IeGridStore);\\n\",\"iconCls\":\"seek_icon\",\"x\":\"10\"}]},{\"id\":\"panel12\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".5\",\"children\":[{\"id\":\"resetbtn\",\"text\":\"重置\",\"xwlMeta\":\"button\",\"width\":\"60\",\"click\":\"IeForm.form.reset();\\nWb.load(IeGridStore);\",\"iconCls\":\"prior_icon\",\"x\":\"25\"}]}],\"bodyPadding\":\"0px 0px 0px 5px\"}]}]}],\"border\":\"false\"},{\"tbar\":\"IeGridtbar\",\"id\":\"IeGrid\",\"region\":\"center\",\"multiSelect\":\"true\",\"selType\":\"checkboxmodel\",\"store\":\"IeGridStore\",\"xwlMeta\":\"grid\",\"columns\":\"IeGridColumns\",\"simpleSelect\":\"true\"}]}],\"initScript\":\"var ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"loginRequired\":\"false\"}","平台数据移植",null,0,0,"admin","2015-05-08 12:06:05.0","admin","2015-06-24 14:25:37.0",2],["23WW4NT1ZWTK","23WW4NT1ZWT7",null,"DATA",null,1,0,"admin","2015-05-08 12:06:37.0","admin","2015-06-05 14:06:56.0",5],["23WW4NT1ZWU3","23WW4NT1ZWTK","{\"id\":\"module\",\"title\":\"selectIeGrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select IE_ID,\\n       IE_CODE,\\n       IE_NAME,\\n       IE_TYPE,\\n       SELECT_SQL,\\n       INSERT_SQL,\\n       UPDATE_SQL,\\n       PRIMARY_KEY_COLUMN\\n  from xip_pub_ie \\n  where  SELECT_SQL is not null\\n  and  (INSERT_SQL is not null or UPDATE_SQL is not null)\\n  and IE_CODE LIKE '%{#bm#}%' AND IE_NAME LIKE '%{#mc#}%' AND IE_TYPE LIKE '%{#blx#}%'\\n  order by seq\",\"mysql\":\"select IE_ID,\\n       IE_CODE,\\n       IE_NAME,\\n       IE_TYPE,\\n       SELECT_SQL,\\n       INSERT_SQL,\\n       UPDATE_SQL,\\n       PRIMARY_KEY_COLUMN\\n  from xip_pub_ie \\n  where SELECT_SQL!='' and SELECT_SQL is not null\\n  and ((INSERT_SQL!='' and INSERT_SQL is not null ) or(UPDATE_SQL!='' and UPDATE_SQL is not null))\\n  and IE_CODE LIKE '%{#bm#}%' AND IE_NAME LIKE '%{#mc#}%' AND IE_TYPE LIKE '%{#blx#}%'\\n  order by seq\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectIeGrid",null,0,0,"admin","2015-05-08 12:38:41.0","admin","2015-05-19 11:05:05.0",1],["23WW4OF5S66N","23VVZ3QMOKQA",null,"平台数据移植定义",null,0,0,"admin","2015-05-07 13:33:52.0","admin","2015-06-19 10:49:24.0",20],["23WW4OF5S66S","23WW4OF5S66N","{\"id\":\"module\",\"title\":\"平台数据导入导出\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"ajax\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"insertajax\",\"xwlMeta\":\"ajax\",\"output\":\"window1\",\"success\":\"Wb.load(selectGrid1Store);\\nWb.message('保存成功!');\",\"url\":\"#23WW4NT1ZPDL (insertgrid1)\"},{\"id\":\"updateajax\",\"xwlMeta\":\"ajax\",\"output\":\"window1\",\"success\":\"Wb.load(selectGrid1Store);\\nWb.message('保存成功!');\",\"url\":\"#23WW4NT1ZPDN (updategrid1)\"},{\"id\":\"deleteajax\",\"xwlMeta\":\"ajax\",\"output\":\"grid1\",\"success\":\"Wb.remove(grid1);\\nWb.message('删除成功!');\",\"url\":\"#23WW4NT1ZPDP (deletegrid1)\"}]},{\"id\":\"store\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"selectGrid1Store\",\"xwlMeta\":\"store\",\"output\":\"form1\",\"url\":\"#23WW4NT1ZP7Y (selectGrid1)\"}]},{\"id\":\"grid1Columns\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"xuhao\",\"xwlMeta\":\"column\",\"type\":\"rowNumber\"},{\"id\":\"ieid\",\"text\":\"主键id\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"IE_ID\"},{\"id\":\"bbm\",\"text\":\"表编码\",\"xwlMeta\":\"column\",\"dataIndex\":\"IE_CODE\"},{\"id\":\"bname\",\"text\":\"表名称\",\"xwlMeta\":\"column\",\"dataIndex\":\"IE_NAME\"},{\"id\":\"btype\",\"text\":\"表类型\",\"xwlMeta\":\"column\",\"dataIndex\":\"IE_TYPE\",\"renderer\":\"if(value === \\\"P\\\"){\\n  return \\\"系统内置\\\";\\n}else if(value === \\\"U\\\"){\\n  return \\\"用户自定义\\\";\\n}else{\\n  return value;\\n}\"},{\"id\":\"paixu\",\"text\":\"排序\",\"xwlMeta\":\"column\",\"dataIndex\":\"SEQ\"},{\"id\":\"ssql\",\"text\":\"查询sql\",\"xwlMeta\":\"column\",\"dataIndex\":\"SELECT_SQL\"},{\"id\":\"isql\",\"text\":\"插入sql\",\"xwlMeta\":\"column\",\"width\":\"250\",\"dataIndex\":\"INSERT_SQL\"},{\"id\":\"usql\",\"text\":\"更新sql\",\"xwlMeta\":\"column\",\"width\":\"250\",\"dataIndex\":\"UPDATE_SQL\"},{\"id\":\"desc\",\"text\":\"备注\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"width\":\"300\",\"dataIndex\":\"IE_DESC\"}]},{\"id\":\"window1array\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"save1\",\"text\":\"保存\",\"xwlMeta\":\"button\",\"click\":\"if(!form2.getForm().isValid()){\\n  Wb.warning('请填写所有必填项！');\\n  return false;\\n}\\nif(Ext.isEmpty(UPDATE_SQL.getValue()) && Ext.isEmpty(INSERT_SQL.getValue())){\\n  Wb.warning('插入SQL和更新SQL至少填写一个！');\\n  return false;\\n}\\nvar Ieid = Ext.getCmp('IE_ID').getValue();\\nvar json = {\\n  Ieid:'',\\n  icode:Ext.getCmp('IE_CODE').getValue(),\\n  iname:Ext.getCmp('IE_NAME').getValue(),\\n  itype:Ext.getCmp('IE_TYPE').getValue(),\\n  seq:Ext.getCmp('SEQ').getValue(),\\n  ssql:Ext.getCmp('SELECT_SQL').getValue(),\\n  isql:Ext.getCmp('INSERT_SQL').getValue(),\\n  usql:Ext.getCmp('UPDATE_SQL').getValue()\\n};\\n\\nif(Ieid===''){//新增\\nvar isExistFlag = false;\\n  \\n\\n  \\n  json.Ieid = Wb.getUuid();\\n\\n  Ext.getCmp('IE_ID').setValue(json.Ieid);\\n  \\n  insertajax.request(json);\\n}else{//更新\\n  json.Ieid = Ieid;\\n  \\n  updateajax.request(json);\\n}\\n\",\"iconCls\":\"save_icon\"},{\"id\":\"savenext\",\"text\":\"保存并添加下一个\",\"xwlMeta\":\"button\",\"click\":\"if(!form2.getForm().isValid()){\\n  Wb.warning('请填写所有必填项！');\\n  return false;\\n}\\nif(Ext.isEmpty(UPDATE_SQL.getValue()) && Ext.isEmpty(INSERT_SQL.getValue())){\\n  Wb.warning('插入SQL和更新SQL至少填写一个！');\\n  return false;\\n}\\nvar Ieid = Ext.getCmp('IE_ID').getValue();\\n\\n\\nvar json = {\\n  Ieid:'',\\n  icode:Ext.getCmp('IE_CODE').getValue(),\\n  iname:Ext.getCmp('IE_NAME').getValue(),\\n  itype:Ext.getCmp('IE_TYPE').getValue(),\\n  seq:Ext.getCmp('SEQ').getValue(),\\n  ssql:Ext.getCmp('SELECT_SQL').getValue(),\\n  isql:Ext.getCmp('INSERT_SQL').getValue(),\\n  usql:Ext.getCmp('UPDATE_SQL').getValue()\\n};\\n\\nif(Ieid===''){//新增\\n\\n  json.Ieid = Wb.getUuid();\\n \\n  Ext.getCmp('IE_ID').setValue(json.Ieid);\\n  \\n  insertajax.request(json);\\n}else{//更新\\n  json.Ieid = Ieid;\\n  \\n  updateajax.request(json);\\n}\\nWb.edit(window1);\\nwindow1.setTitle('新增值集');\\n\\nform2.form.reset();\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},{\"id\":\"closeBtn\",\"text\":\"关闭\",\"xwlMeta\":\"button\",\"click\":\"window1.close();\",\"iconCls\":\"cancel_icon\"}]},{\"id\":\"toolbargrid1\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"menuItem1\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btnadd\",\"text\":\"新增\",\"xwlMeta\":\"button\",\"click\":\"  \\tWb.edit(window1);\\n\\t//initajax.request();\\n\\twindow1.setTitle('新增');\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\",\"iconCls\":\"new_icon\"},{\"id\":\"menuItem11\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btnedit\",\"text\":\" 编辑\",\"xwlMeta\":\"button\",\"click\":\"Wb.edit(grid1,window1,IE_ID);\\n\\nwindow1.setTitle('编辑');\\n\\n\",\"iconCls\":\"edit_icon\"},{\"id\":\"menuItem12\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"deletegrid1\",\"text\":\"删除\",\"xwlMeta\":\"button\",\"click\":\"var rows = grid1.getSelectionModel().getSelection();\\nrecord= rows[0];\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择一行!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的信息吗？',function(a){\\n    if(a=='yes'){\\n     deleteajax.request();\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\",\"iconCls\":\"delete_icon\"}]},{\"id\":\"window1\",\"beforeclose\":\"selectgrid1.fireEvent('click');\",\"height\":\"400\",\"xwlMeta\":\"window\",\"width\":\"680\",\"layout\":\"border\",\"children\":[{\"bodyStyle\":\"border-style:none\",\"id\":\"form2\",\"region\":\"center\",\"frame\":\"true\",\"height\":\"400\",\"style\":\"border-width:0px\",\"bodyCls\":\"border-style:none\",\"xwlMeta\":\"form\",\"children\":[{\"id\":\"tempFieldSet\",\"xwlMeta\":\"fieldSet\",\"layout\":\"anchor\",\"children\":[{\"id\":\"hideFiledPanel\",\"frame\":\"true\",\"height\":\"25\",\"xwlMeta\":\"panel\",\"hidden\":\"true\",\"layout\":\"column\",\"baseCls\":\"border-style:none\",\"children\":[{\"id\":\"IE_ID\",\"xwlMeta\":\"text\"}],\"border\":\"false\"},{\"id\":\"panel2\",\"frame\":\"true\",\"height\":\"27\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"baseCls\":\"border-style:none\",\"children\":[{\"id\":\"IE_CODE\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"width\":\"300\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>表编码\"},{\"id\":\"IE_NAME\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"width\":\"300\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>表名称\"}],\"tagProperties\":\"anchor:'100%'\",\"border\":\"false\"},{\"id\":\"panel4\",\"frame\":\"true\",\"height\":\"27\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"baseCls\":\"border-style:none\",\"children\":[{\"id\":\"SEQ\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"width\":\"300\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>排序号\"},{\"id\":\"IE_TYPE\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"xwlMeta\":\"comboBox\",\"width\":\"300\",\"value\":\"U\",\"pickList\":\"[['P','系统内置'],['U','用户自定义']]\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>表类型\"}],\"tagProperties\":\"anchor:'100%'\",\"border\":\"false\"},{\"id\":\"SELECT_SQL\",\"labelWidth\":\"70\",\"height\":80,\"allowBlank\":\"false\",\"xwlMeta\":\"textArea\",\"width\":\"600\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>查询SQL\"},{\"id\":\"INSERT_SQL\",\"labelWidth\":\"70\",\"xwlMeta\":\"textArea\",\"width\":\"600\",\"labelAlign\":\"right\",\"fieldLabel\":\"插入SQL\"},{\"id\":\"UPDATE_SQL\",\"labelWidth\":\"70\",\"xwlMeta\":\"textArea\",\"width\":\"600\",\"labelAlign\":\"right\",\"fieldLabel\":\"更新SQL\"}]}],\"border\":\"false\"}],\"closeAction\":\"hide\",\"buttonAlign\":\"center\",\"buttons\":\"window1array\",\"dialog\":\"false\",\"modal\":\"true\"},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"border\",\"children\":[{\"id\":\"form1\",\"region\":\"north\",\"frame\":\"true\",\"style\":\"border-width:0px\",\"xwlMeta\":\"form\",\"children\":[{\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"xwlMeta\":\"fieldSet\",\"layout\":\"column\",\"children\":[{\"id\":\"panel1\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".2\",\"children\":[{\"id\":\"bm\",\"labelWidth\":\"60\",\"xwlMeta\":\"text\",\"width\":\"160\",\"labelAlign\":\"right\",\"fieldLabel\":\"表编码\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tselectajax.request();\\nWb.load(store1);\\n}\"}]},{\"id\":\"panel3\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".2\",\"children\":[{\"id\":\"ms\",\"labelWidth\":\"60\",\"xwlMeta\":\"text\",\"width\":\"160\",\"labelAlign\":\"right\",\"fieldLabel\":\"表名称\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tselectajax.request();\\nWb.load(store1);\\n}\"}]},{\"id\":\"panel5\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".2\",\"children\":[{\"id\":\"blx\",\"labelWidth\":\"60\",\"xwlMeta\":\"comboBox\",\"width\":\"160\",\"pickList\":\"[['P','系统内置'],['U','用户自定义']]\",\"labelAlign\":\"right\",\"fieldLabel\":\"表类型\"}]},{\"id\":\"panel6\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"baseCls\":\"border-style:none\",\"columnWidth\":\".2\",\"children\":[{\"id\":\"panel7\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"baseCls\":\"border-style:none\",\"children\":[{\"id\":\"selectgrid1\",\"text\":\"查询\",\"xwlMeta\":\"button\",\"click\":\"\\nWb.load(selectGrid1Store);\",\"autoWidth\":\"true\",\"iconCls\":\"seek_icon\",\"x\":\"10\"},{\"id\":\"resetgrid1\",\"text\":\"重置\",\"xwlMeta\":\"button\",\"click\":\"form1.form.reset();\\nWb.load(selectGrid1Store);\",\"autoWidth\":\"true\",\"iconCls\":\"refresh_icon\",\"x\":\"25\"}]}]}]}]},{\"tbar\":\"toolbargrid1\",\"id\":\"grid1\",\"region\":\"center\",\"selType\":\"rowmodel\",\"itemdblclick\":\"var rows = grid1.getSelectionModel().getSelection();\\n\\nif(rows.length === 0 || rows.length > 1){\\n  Ext.Msg.alert('提示','请选择一条节点信息!');\\n  return false ;  \\n  \\n}else{\\n \\tWb.edit(grid1,window1,'NODE_ID');\\n\\twindow1.setTitle('编辑节点');\\n}\",\"store\":\"selectGrid1Store\",\"xwlMeta\":\"grid\",\"columns\":\"grid1Columns\",\"border\":\"true\"}]}],\"finalize\":\"if(document.addEventListener){//如果是Firefox\\n\\t\\t   document.addEventListener(\\\"keypress\\\",keyHandler, true);\\n\\t\\t}else{\\n\\t\\t   document.attachEvent(\\\"onkeypress\\\",keyHandler);\\n\\t\\t}\\nfunction keyHandler(evt){\\n\\t\\t   if(evt.keyCode==13){\\n\\t\\t          selectgrid1.fireEvent('click');\\n\\t\\t   }\\n\\t\\t}\",\"loginRequired\":\"false\"}","平台数据移植定义",null,0,0,"admin","2015-05-07 13:34:39.0","admin","2015-06-25 11:08:31.0",2],["23WWPO1ZO73Z","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectFunTree\",\"initMethod\":\"com.xzsoft.xip.platform.action.UserAuthoriseTreeCreateAction.getUserFunTreeById\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\"}","selectFunTree",null,0,0,"admin","2015-05-12 10:00:35.0","admin","2015-06-05 17:49:07.0",1],["23WWPO1ZO742","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select r.ROLE_ID,r.ROLE_NAME,r.DESCRIPTION,r.ROLE_CODE,u.USER_ROLE_ID,r.MNU_GROUP_ID,r.ENABLE_FLAG  FROM  XIP_PUB_ROLE r,\\nXIP_PUB_USER_ROLES u\\n\\n\\nwhere   u.ROLE_ID=r.ROLE_ID  and r.enable_flag='Y'  and U.USER_ID={?USER_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectRole",null,0,0,"admin","2015-05-12 10:00:55.0","admin","2015-06-12 16:46:15.0",4],["23WWPO1ZO747","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectOrg\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#orgN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select t.ORG_ID,t.ORG_CODE,t.ORG_NAME, s.ORG_SEC_ID from XIP_PUB_ORGS  t,\\nXIP_PUB_ORG_SEC s\\nwhere  t.ORG_ID=s.ORG_ID and  s.TYPE='U' and t.ENABLE_FLAG = 'Y'  and  s.TARGET_ID={?USER_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectOrg",null,0,0,"admin","2015-05-12 10:01:10.0","admin","2015-05-18 15:50:11.0",5],["23WWPO1ZO749","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#appN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"select t.APP_ID,t.APP_CODE,t.APP_NAME ,s.SEC_ID\\n\\nfrom  XIP_PUB_APPS t ,XIP_PUB_APP_SEC s\\n\\nwhere t.APP_ID=s.APP_ID    and t.ENABLE_FLAG ='Y' and  s.USER_ID  ={?USER_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectApp",null,0,0,"admin","2015-05-12 10:01:18.0","admin","2015-05-19 17:11:31.0",6],["23WWPO1ZO8EN","23WHNATTV6WH","{\"id\":\"module\",\"title\":\"dqyhCombox\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select USER_ID, \\n      USER_NAME || '/' ||(SELECT X2.EMP_NAME FROM XIP_PUB_EMPS X2 WHERE  X2.EMP_ID=X1.EMP_ID) AS USER_NAME\\n    from xip_pub_users X1\",\"mysql\":\"select X1.USER_ID, \\n     concat( X1.USER_NAME,'/',X2.EMP_NAME) USER_NAME\\n   from xip_pub_users X1,XIP_PUB_EMPS X2 where X2.EMP_ID=X1.EMP_ID\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","dqyhCombox",null,0,0,"admin","2015-05-12 13:08:48.0","admin","2015-05-12 13:08:48.0",7],["23WWPO1ZOECD","23W0CDJH1KZ9","{\"id\":\"module\",\"title\":\"deletesongrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_VAL_SET_DTL where VAL_SET_CODE = {?VAL_SET_CODE?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}],\"loginRequired\":\"false\"}","deletesongrid",null,0,0,"admin","2015-05-12 15:43:02.0","admin","2015-05-12 15:50:01.0",6],["23WXX3ALONXX","23VVZ3QMOKSV","{\"id\":\"module\",\"title\":\"Delete EmpAsg\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"delete from xip_pub_emp_asg where asg_id = {?asg_id?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Delete EmpAsg",null,0,0,"admin","2015-05-12 15:16:32.0","admin","2015-05-12 15:18:19.0",6],["23WY5BHMORNL","23VVZ3QMOKQA",null,"参数管理",null,0,0,"admin","2015-05-13 09:02:51.0","admin","2015-05-21 16:45:03.0",12],["23WY5BHMORNO","23WY5BHMORNL","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"参数管理\",\"loginRequired\":\"false\",\"initScript\":\"var userId = request.getSession().getAttribute(\\\"userId\\\");\\nrequest.setAttribute(\\\"userId\\\",userId);\\nvar ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nvar paramsValue = request.getSession().getAttribute(\\\"XzSessionVars\\\");\\nvar sysMode = paramsValue.get(\\\"godMode\\\");\\nrequest.setAttribute(\\\"SYS_MODE\\\",sysMode);\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMOROC (insert_grid1)\",\"id\":\"insert_ajax\",\"output\":\"form2\",\"success\":\"Wb.message('保存成功！');\\nWb.load(store1);\\nWb.load(store11);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMORNZ (insertParamVal)\",\"id\":\"insertAll_ajax\",\"success\":\"Wb.message('保存成功！');\\nstore2.load();\\nselect_none_plantformstore.load();\\nselectAppStore.load();\\nselectRoleStore.load();\\nselectUserStore.load();\\n//重新加载4个级别的GRID\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n    if(VAL_SET_NAME.getValue()===null||VAL_SET_NAME.getValue()===''){\\n      selectPlantformStore.getProxy().url='main?xwl=23XSWLY0BX4G';\\n      Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n      appStore.getProxy().url='main?xwl=23XSWLY0BXGM';\\n      Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n      roleStore.getProxy().url='main?xwl=23XSWLY0BXDP';\\n      Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n      userStore.getProxy().url='main?xwl=23XSWLY0BXF4';\\n      Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    }else{\\n      selectPlantformStore.getProxy().url='main?xwl=23WY5BHMORO0';\\n      Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n      appStore.getProxy().url='main?xwl=23WY5BHMORNV';\\n      Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n      roleStore.getProxy().url='main?xwl=23WY5BHMOROA';\\n      Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n      userStore.getProxy().url='main?xwl=23WY5BHMOROD';\\n      Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    }\\n    \\n    \\n  }else{\\n    selectPlantformStore.getProxy().url='main?xwl=23WYSJFPDAS0';\\n    Wb.load(selectPlantformStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    appStore.getProxy().url='main?xwl=23WZPVCKUCLY';\\n    Wb.load(appStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    roleStore.getProxy().url='main?xwl=23WZPVCKUCLA';\\n    Wb.load(roleStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    userStore.getProxy().url='main?xwl=23WZPVCKUCLL';\\n    Wb.load(userStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    \\n    \\n    \\n  }\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMORNZ (insertParamVal)\",\"id\":\"insertPlatSys_ajax\",\"success\":\"Wb.message('保存成功！');\\nstore2.load();\\nselect_none_plantformstore.load();\\nselectAppStore.load();\\nselectRoleStore.load();\\nselectUserStore.load();\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=reloadXipConfig',\\n  method:'post',\\n  success: function(response,options){\\n  },\\n  failure : function(response,options){\\n  }\\n});\\n//重新加载4个级别的GRID\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n   if(VAL_SET_NAME.getValue()===null||VAL_SET_NAME.getValue()===''){\\n      selectPlantformStore.getProxy().url='main?xwl=23XSWLY0BX4G';\\n      Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n      appStore.getProxy().url='main?xwl=23XSWLY0BXGM';\\n      Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n      roleStore.getProxy().url='main?xwl=23XSWLY0BXDP';\\n      Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n      userStore.getProxy().url='main?xwl=23XSWLY0BXF4';\\n      Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    }else{\\n      selectPlantformStore.getProxy().url='main?xwl=23WY5BHMORO0';\\n      Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n      appStore.getProxy().url='main?xwl=23WY5BHMORNV';\\n      Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n      roleStore.getProxy().url='main?xwl=23WY5BHMOROA';\\n      Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n      userStore.getProxy().url='main?xwl=23WY5BHMOROD';\\n      Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    }\\n    \\n    \\n }else{\\n    selectPlantformStore.getProxy().url='main?xwl=23WYSJFPDAS0';\\n    Wb.load(selectPlantformStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    appStore.getProxy().url='main?xwl=23WZPVCKUCLY';\\n    Wb.load(appStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    roleStore.getProxy().url='main?xwl=23WZPVCKUCLA';\\n    Wb.load(roleStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    userStore.getProxy().url='main?xwl=23WZPVCKUCLL';\\n    Wb.load(userStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    \\n    \\n    \\n  }\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMOROC (insert_grid1)\",\"id\":\"insert_ps_ajax\",\"output\":\"form2\",\"success\":\"Wb.load(store1);\\nWb.load(store11);\\nselect_none_plantformstore.load();\\nvar temp1 = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp1);\\nPARAM_ID.setValue(resultJson.k);\\n /* //取出编码找到PARAM_ID 并赋值\\n   var param_code=PARAM_CODE.getValue();\\n  alert(param_code);\\n   for(var h=0;h<select_none_plantformstore.getTotalCount();h++){\\n     var code=select_none_plantformstore.getAt(h).get('PARAM_CODE');\\n     var id=select_none_plantformstore.getAt(h).get('PARAM_ID');\\n     alert(id);\\n     if(param_code===code){\\n       \\n       PARAM_ID.setValue(id);\\n       alert(id);\\n       alert( PARAM_ID.getValue());\\n     }\\n   }*/\\n\\nWb.message('保存成功！');\\nvar param_name=PARAM_NAME.getValue();\\nvar param_type=PARAM_TYPE.getValue();\\n\\n  if(param_type=='S'){\\n    appPanel.setDisabled(true);\\n    userPanel.setDisabled(true);\\n    rolePanel.setDisabled(true);\\n    plantformPanel.setDisabled(false);\\n    csmc.setValue(param_name);\\n    //selectPlantformStore.load();\\n  }else{\\n    plantformPanel.setDisabled(false);\\n    appPanel.setDisabled(false);\\n    userPanel.setDisabled(false);\\n    rolePanel.setDisabled(false);\\n  }\\n\\n  csmc.setValue(param_name);\\n  appParamName.setValue(param_name);\\n  userParamName.setValue(param_name);\\n  roleParamName.setValue(param_name);\\n  //param_id赋值\\n   var param_id=PARAM_ID.getValue();\\n   PARAMID.setValue(param_id);  \\n   PARAMID1.setValue(param_id); \\n   PARAMID11.setValue(param_id); \\n  //sql\\n  var sql=VAL_SQL.getValue();\\n  //alert(sql);\\n  VALSQL3.setValue(sql);\\n  VALSQL2.setValue(sql);\\n  VALSQL4.setValue(sql);\\n  VALSQL1.setValue(sql);\\n  //参数值\\n  var val_set_code=VAL_SET_NAME.getValue();\\n // Wb.load(valAppStore,{val_set_code:val_set_code});\\n  //val_set_code\\n  VALCODE.setValue(val_set_code);\\n  VALCODE1.setValue(val_set_code);\\n  VALCODE2.setValue(val_set_code);\\n  // grid1paramSetWindow.show();\\nselect_none_plantformstore.load();\\n//保存4个级别的参数var rec = selectPlantformStore.getModifiedRecords();\\n//var reco=plantFormGrid.getSelectionModel().getSelection();\\nvar rec = selectPlantformStore.getModifiedRecords();\\nif(rec.length===0){\\n   //Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n \\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    var sql=rec[i].data.VAL_SQL;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n        var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n          \\n        }else{\\n          \\n          val=rec[i].data.VAL_CODE;\\n        }\\n        if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            //val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n              PARAM_ID:param_id,\\n              VAL:val,\\n              VAL_LEVEL:'P',\\n              TARGET_ID:'P',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n         //插入的时候判断是系统还是扩展，系统的更新需要调Action中的方法\\n       if(PARAM_TYPE.getValue()=='S'){\\n           insertPlatSys_ajax.request(json);\\n         }\\n        else{\\n           insertAll_ajax.request(json);\\n        }\\n        \\n      } \\n      \\n    }\\n    else{\\n      //alert(rec[i].data.VAL_CODE);\\n       var tval;\\n         if(rec[i].data.VAL_SET_CODE===null||rec[i].data.VAL_SET_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n            if(tval===null||tval===''){\\n               Ext.Msg.alert('参数值不能为空！');\\n              return;\\n           }\\n       //更新的时候判断是系统还是扩展，系统的更新需要调Action中的方法\\n       if(PARAM_TYPE.getValue()=='S'){\\n           updatePlatSys_ajax.request(json2);\\n       }else{\\n            modifiedPlant_ajax.request(json2);\\n       }\\n          //store2.load();\\n    }\\n       \\n  }\\n}\\n\\n\\nvar rec = roleStore.getModifiedRecords();\\nvar reco=roleFormGrid.getSelectionModel().getSelection();\\n\\nif(reco.length===0){\\n   //Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n     \\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    var val_code=rec[i].data.VAL_CODE;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n          var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n        }else{\\n          val=rec[i].data.VAL_CODE;\\n        }\\n         if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            //val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_ID:param_id,\\n              VAL:val,\\n              TARGET_ID:rec[i].data.TARGET_ID,\\n              VAL_LEVEL:'R',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n    \\n        insertAll_ajax.request(json);\\n      } \\n      \\n    }\\n    else{\\n         var tval;\\n         if(rec[i].data.VAL_SET_CODE===null||rec[i].data.VAL_SET_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n      \\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n            if(tval===null||tval===''){\\n             Ext.Msg.alert('参数值不能为空！');\\n             return;\\n            }\\n          updateAll_ajax.request(json2);\\n          //store2.load();\\n    }\\n       \\n  }\\n}\\n\\nvar rec =userStore.getModifiedRecords();\\nvar reco=userFormGrid.getSelectionModel().getSelection();\\nif(reco.length===0){\\n   //Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n    \\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n          var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n        }else{\\n          val=rec[i].data.VAL_CODE;\\n        }\\n         if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            //val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_ID:param_id,\\n              VAL:val,\\n              TARGET_ID:rec[i].data.TARGET_ID,\\n              VAL_LEVEL:'U',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n    \\n        insertAll_ajax.request(json);\\n      } \\n      \\n    }\\n    else{\\n        var tval;\\n         if(rec[i].data.VAL_SET_CODE===null||rec[i].data.VAL_SET_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n      \\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n      if(tval===null||tval===''){\\n        Ext.Msg.alert('参数值不能为空！');\\n        return;\\n      }\\n          updateAll_ajax.request(json2);\\n          //store2.load();\\n    }\\n       \\n  }\\n}\\n\\nvar rec = appStore.getModifiedRecords();\\nvar reco=appFormGrid.getSelectionModel().getSelection();\\n//alert(rec.length);\\nif(reco.length===0||rec.length===0){\\n  //Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n    \\n    var flag;\\n    if(rec[i].data.ENABLE_FLAG=='是'){\\n      flag='Y';\\n    }else{\\n      flag='N';\\n    }\\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n          var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n        }else{\\n          val=rec[i].data.VAL_CODE;\\n        }\\n         if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            //val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_ID:param_id,\\n              VAL:val,\\n              TARGET_ID:rec[i].data.TARGET_ID,\\n              VAL_LEVEL:'A',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n    \\n        insertAll_ajax.request(json);\\n      } \\n      \\n    }\\n    else{\\n        var tval;\\n         if(rec[i].data.VAL_SET_CODE===null||rec[i].data.VAL_SET_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n            if(tval===null||tval===''){\\n             Ext.Msg.alert('参数值不能为空！');\\n             return;\\n           }\\n          updateAll_ajax.request(json2);\\n    }\\n       \\n  }\\n}\\n//newWindow.close();\\n\\n\\n\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMORNW (update_plantformParam)\",\"id\":\"modifiedPlant_ajax\",\"success\":\"Wb.message('保存成功');\\nselect_none_plantformstore.load();\\n//重新加载4个级别的GRID\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n    if(VAL_SET_NAME.getValue()===null||VAL_SET_NAME.getValue()===''){\\n      selectPlantformStore.getProxy().url='main?xwl=23XSWLY0BX4G';\\n      Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n      appStore.getProxy().url='main?xwl=23XSWLY0BXGM';\\n      Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n      roleStore.getProxy().url='main?xwl=23XSWLY0BXDP';\\n      Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n      userStore.getProxy().url='main?xwl=23XSWLY0BXF4';\\n      Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    }else{\\n      selectPlantformStore.getProxy().url='main?xwl=23WY5BHMORO0';\\n      Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n      appStore.getProxy().url='main?xwl=23WY5BHMORNV';\\n      Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n      roleStore.getProxy().url='main?xwl=23WY5BHMOROA';\\n      Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n      userStore.getProxy().url='main?xwl=23WY5BHMOROD';\\n      Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    }\\n    \\n    \\n  }else{\\n    selectPlantformStore.getProxy().url='main?xwl=23WYSJFPDAS0';\\n    Wb.load(selectPlantformStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    appStore.getProxy().url='main?xwl=23WZPVCKUCLY';\\n    Wb.load(appStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    roleStore.getProxy().url='main?xwl=23WZPVCKUCLA';\\n    Wb.load(roleStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    userStore.getProxy().url='main?xwl=23WZPVCKUCLL';\\n    Wb.load(userStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    \\n    \\n    \\n  }\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMORNY (updateParamVal)\",\"id\":\"updateAll_ajax\",\"success\":\"Wb.message('保存成功！');\\nstore2.load();\\n//重新加载4个级别的GRID\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n    selectPlantformStore.getProxy().url='main?xwl=23WY5BHMORO0';\\n    Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n    appStore.getProxy().url='main?xwl=23WY5BHMORNV';\\n    Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n    roleStore.getProxy().url='main?xwl=23WY5BHMOROA';\\n    Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n    userStore.getProxy().url='main?xwl=23WY5BHMOROD';\\n    Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    \\n  }else{\\n    selectPlantformStore.getProxy().url='main?xwl=23WYSJFPDAS0';\\n    Wb.load(selectPlantformStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    appStore.getProxy().url='main?xwl=23WZPVCKUCLY';\\n    Wb.load(appStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    roleStore.getProxy().url='main?xwl=23WZPVCKUCLA';\\n    Wb.load(roleStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    userStore.getProxy().url='main?xwl=23WZPVCKUCLL';\\n    Wb.load(userStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    \\n    \\n    \\n  }\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMORNX (update_grid1)\",\"id\":\"update_ajax\",\"output\":\"form2\",\"success\":\"Wb.message('修改成功！');\\nWb.load(store1);\\nWb.load(store11);\\n\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=reloadSysParams',\\n  method:'post',\\n  success: function(response,options){\\n\\n  },\\n  failure : function(response,options){\\n\\n  }\\n  \\n  \\n});\\n\\nvar rec = selectPlantformStore.getModifiedRecords();\\nif(rec.length===0){\\n   //Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n \\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    var sql=rec[i].data.VAL_SQL;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n        var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n          \\n        }else{\\n          var val=rec[i].data.VAL_CODE;\\n        }\\n        if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            //val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n          PARAM_ID:rec[i].data.PARAM_ID,\\n              VAL:val,\\n              VAL_LEVEL:'P',\\n              TARGET_ID:'P',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n         //插入的时候判断是系统还是扩展，系统的更新需要调Action中的方法\\n       if(PARAM_TYPE.getValue()=='系统'){\\n           insertPlatSys_ajax.request(json);\\n         }\\n        else{\\n           insertAll_ajax.request(json);\\n        }\\n        \\n      } \\n      \\n    }\\n    else{\\n      //alert(rec[i].data.VAL_CODE);\\n       var tval;\\n         if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n            if(tval===null||tval===''){\\n               Ext.Msg.alert('参数值不能为空！');\\n              return;\\n           }\\n       //更新的时候判断是系统还是扩展，系统的更新需要调Action中的方法\\n       if(PARAM_TYPE.getValue()=='系统'){\\n           updatePlatSys_ajax.request(json2);\\n       }else{\\n            modifiedPlant_ajax.request(json2);\\n       }\\n          //store2.load();\\n    }\\n       \\n  }\\n}\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMORNX (update_grid1)\",\"id\":\"update_ajax1\",\"output\":\"form2\",\"success\":\"var rec = selectPlantformStore.getModifiedRecords();\\n//Wb.message('修改成功！');\\nWb.load(store1);\\nWb.load(store11);\\n//保存或更新4个级别的参数var rec = selectPlantformStore.getModifiedRecords();\\n//var reco=plantFormGrid.getSelectionModel().getSelection();\\nvar rec = selectPlantformStore.getModifiedRecords();\\nif(rec.length===0){\\n   //Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n \\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    var sql=rec[i].data.VAL_SQL;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n        var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n          \\n        }else{\\n          var val=rec[i].data.VAL_CODE;\\n        }\\n        if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            //val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n          PARAM_ID:rec[i].data.PARAM_ID,\\n              VAL:val,\\n              VAL_LEVEL:'P',\\n              TARGET_ID:'P',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n         //插入的时候判断是系统还是扩展，系统的更新需要调Action中的方法\\n       if(PARAM_TYPE.getValue()=='系统'){\\n           insertPlatSys_ajax.request(json);\\n         }\\n        else{\\n           insertAll_ajax.request(json);\\n        }\\n        \\n      } \\n      \\n    }\\n    else{\\n      //alert(rec[i].data.VAL_CODE);\\n       var tval;\\n         if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n            if(tval===null||tval===''){\\n               Ext.Msg.alert('参数值不能为空！');\\n              return;\\n           }\\n       //更新的时候判断是系统还是扩展，系统的更新需要调Action中的方法\\n       if(PARAM_TYPE.getValue()=='系统'){\\n           updatePlatSys_ajax.request(json2);\\n       }else{\\n            modifiedPlant_ajax.request(json2);\\n       }\\n          //store2.load();\\n    }\\n       \\n  }\\n}\\n\\n\\nvar rec = roleStore.getModifiedRecords();\\nvar reco=roleFormGrid.getSelectionModel().getSelection();\\n\\nif(reco.length===0){\\n   //Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n     \\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    var val_code=rec[i].data.VAL_CODE;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n          var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n        }\\n         if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            //val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_ID:rec[i].data.PARAM_ID,\\n              VAL:val,\\n              TARGET_ID:rec[i].data.TARGET_ID,\\n              VAL_LEVEL:'R',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n    \\n        insertAll_ajax.request(json);\\n      } \\n      \\n    }\\n    else{\\n         var tval;\\n         if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n      \\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n            if(tval===null||tval===''){\\n             Ext.Msg.alert('参数值不能为空！');\\n             return;\\n            }\\n          updateAll_ajax.request(json2);\\n          //store2.load();\\n    }\\n       \\n  }\\n}\\n\\nvar rec =userStore.getModifiedRecords();\\nvar reco=userFormGrid.getSelectionModel().getSelection();\\nif(reco.length===0){\\n   //Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n    \\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n          var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n        }\\n         if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            //val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_ID:rec[i].data.PARAM_ID,\\n              VAL:val,\\n              TARGET_ID:rec[i].data.TARGET_ID,\\n              VAL_LEVEL:'U',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n    \\n        insertAll_ajax.request(json);\\n      } \\n      \\n    }\\n    else{\\n        var tval;\\n         if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n      \\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n      if(tval===null||tval===''){\\n        Ext.Msg.alert('参数值不能为空！');\\n        return;\\n      }\\n          updateAll_ajax.request(json2);\\n          //store2.load();\\n    }\\n       \\n  }\\n}\\n\\nvar rec = appStore.getModifiedRecords();\\nvar reco=appFormGrid.getSelectionModel().getSelection();\\n//alert(rec.length);\\nif(reco.length===0||rec.length===0){\\n  //Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n    \\n    var flag;\\n    if(rec[i].data.ENABLE_FLAG=='是'){\\n      flag='Y';\\n    }else{\\n      flag='N';\\n    }\\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n          var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n        }\\n         if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            //val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_ID:rec[i].data.PARAM_ID,\\n              VAL:val,\\n              TARGET_ID:rec[i].data.TARGET_ID,\\n              VAL_LEVEL:'A',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n    \\n        insertAll_ajax.request(json);\\n      } \\n      \\n    }\\n    else{\\n        var tval;\\n         if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n            if(tval===null||tval===''){\\n             Ext.Msg.alert('参数值不能为空！');\\n             return;\\n           }\\n          updateAll_ajax.request(json2);\\n    }\\n       \\n  }\\n}\\n\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMORNX (update_grid1)\",\"id\":\"update_sys_ajax\",\"output\":\"form2\",\"callback\":\"Ext.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=reloadSysParams',\\n  method:'post',\\n  success: function(response,options){\\n  },\\n  failure : function(response,options){\\n\\n  } \\n}); \",\"success\":\"Wb.message('修改成功！');\\nWb.load(store1);\\nWb.load(store11);\\n//保存或更新平台级参数\\nvar rec = selectPlantformStore.getModifiedRecords();\\nvar reco=plantFormGrid.getSelectionModel().getSelection();\\nif(reco.length===0){\\n   Ext.Msg.alert('提示','没有需要保存的数据');\\n}else{ \\n  for(var i=0;i<rec.length;i++){\\n \\n    var param_val_id=rec[i].data.PARAM_VAL_ID;\\n    var val=rec[i].data.VAL;\\n    var sql=rec[i].data.VAL_SQL;\\n    if(param_val_id===null||param_val_id===''){\\n      if(val===null||val===''){\\n        continue;\\n      }else{\\n        var val=rec[i].data.VAL_CODE;\\n        if(rec[i].data.VAL_CODE===null||rec[i].data.VAL_CODE===''){\\n          val=rec[i].data.VAL;\\n          \\n        }\\n        if(rec[i].data.VAL_SQL!==null||rec[i].data.VAL_SQL!==''){\\n            val=rec[i].data.VAL;\\n          }\\n        var json={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n          PARAM_ID:rec[i].data.PARAM_ID,\\n              VAL:val,\\n              VAL_LEVEL:'P',\\n              TARGET_ID:'P',\\n              ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n              CREATED_BY:'{#userId#}'};\\n         //插入的时候判断是系统还是扩展，系统的更新需要掉Action中的方法\\n       if(PARAM_TYPE.getValue()=='S'){\\n           insertPlatSys_ajax.request(json);\\n         }\\n        else{\\n           insertAll_ajax.request(json);\\n        }\\n        \\n      } \\n      \\n    }\\n    else{\\n      //alert(rec[i].data.VAL_CODE);\\n       var tval;\\n         if(rec[i].data.VAL_SET_CODE===null||rec[i].data.VAL_SET_CODE===''){\\n          tval=val;\\n        }else{\\n          tval=rec[i].data.VAL_CODE;\\n        }\\n       var json2={PARAM_VAL_ID:rec[i].data.PARAM_VAL_ID,\\n             VAL:tval,\\n             ENABLE_FLAG:rec[i].data.ENABLE_FLAG,\\n             LAST_UPDATED_BY:'{#userId#}'};\\n            if(tval===null||tval===''){\\n               Ext.Msg.alert('参数值不能为空！');\\n              return;\\n           }\\n       //更新的时候判断是系统还是扩展，系统的更新需要掉Action中的方法\\n       if(PARAM_TYPE.getValue()=='S'){\\n           updatePlatSys_ajax.request(json2);\\n       }else{\\n            modifiedPlant_ajax.request(json2);\\n       }\\n          //store2.load();\\n    }\\n       \\n  }\\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMORNW (update_plantformParam)\",\"id\":\"updatePlatSys_ajax\",\"success\":\" Wb.message('操作成功');\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=reloadSysParams',\\n  method:'post',\\n  success: function(response,options){\\n  },\\n  failure : function(response,options){\\n\\n  } \\n}); \\n\\nselect_none_plantformstore.load();\\n//重新加载4个级别的GRID\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n    if(VAL_SET_NAME.getValue()===null||VAL_SET_NAME.getValue()===''){\\n      selectPlantformStore.getProxy().url='main?xwl=23XSWLY0BX4G';\\n      Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n      appStore.getProxy().url='main?xwl=23XSWLY0BXGM';\\n      Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n      roleStore.getProxy().url='main?xwl=23XSWLY0BXDP';\\n      Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n      userStore.getProxy().url='main?xwl=23XSWLY0BXF4';\\n      Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    }else{\\n      selectPlantformStore.getProxy().url='main?xwl=23WY5BHMORO0';\\n      Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n      appStore.getProxy().url='main?xwl=23WY5BHMORNV';\\n      Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n      roleStore.getProxy().url='main?xwl=23WY5BHMOROA';\\n      Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n      userStore.getProxy().url='main?xwl=23WY5BHMOROD';\\n      Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    }\\n    \\n    \\n  }else{\\n    selectPlantformStore.getProxy().url='main?xwl=23WYSJFPDAS0';\\n    Wb.load(selectPlantformStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    appStore.getProxy().url='main?xwl=23WZPVCKUCLY';\\n    Wb.load(appStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    roleStore.getProxy().url='main?xwl=23WZPVCKUCLA';\\n    Wb.load(roleStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    userStore.getProxy().url='main?xwl=23WZPVCKUCLL';\\n    Wb.load(userStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    \\n    \\n    \\n  }\\n\"},{\"xwlMeta\":\"ajax\",\"async\":\"false\",\"url\":\"#23WY5BHMORO6 (sql_ajax)\",\"id\":\"sql_ajax\",\"failure\":\"Wb.message('SQl有误！');\\nreturn;\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23WY5BHMORNS (sql_isRight)\",\"id\":\"sql_isRight_ajax\",\"failure\":\"Ext.Msg.alert('提示','SQL有误!');\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0PQ955S67 (delete_grid1)\",\"id\":\"delete_grid1_ajax\",\"output\":\"grid1\",\"success\":\"Wb.message('删除成功！');\\nstore1.load();\\n//Wb.load(store1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0PQ955TVQ (delete_platFormGrid)\",\"id\":\"delete_platFormGrid_ajax\",\"output\":\"plantFormGrid\",\"success\":\"Wb.message('删除成功！');\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n    selectPlantformStore.getProxy().url='main?xwl=23WY5BHMORO0';\\n    Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n}else{\\n    selectPlantformStore.getProxy().url='main?xwl=23WYSJFPDAS0';\\n    Wb.load(selectPlantformStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n  \\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0PQ955TVU (delete_roleFormGrid)\",\"id\":\"delete_roleFormGrid_ajax\",\"output\":\"roleFormGrid\",\"success\":\"Wb.message('删除成功！');\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n    roleStore.getProxy().url='main?xwl=23WY5BHMOROA';\\n    Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n}else{\\n    roleStore.getProxy().url='main?xwl=23WZPVCKUCLA';\\n    Wb.load(roleStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n  \\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0PQ955TX5 (delete_userFormGrid)\",\"id\":\"delete_userFormGrid_ajax\",\"output\":\"userFormGrid\",\"success\":\"Wb.message('删除成功！');\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n    userStore.getProxy().url='main?xwl=23WY5BHMOROD';\\n    Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n}else{\\n    userStore.getProxy().url='main?xwl=23WZPVCKUCLL';\\n    Wb.load(userStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n  \\n}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23X0PQ955TWT (delete_appFormGrid)\",\"id\":\"delete_appFormGrid_ajax\",\"output\":\"appFormGrid\",\"success\":\"Wb.message('删除成功！');\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n    appStore.getProxy().url='main?xwl=23WY5BHMORNV';\\n    Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n}else{\\n    appStore.getProxy().url='main?xwl=23WZPVCKUCLY';\\n    Wb.load(appStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n  \\n}\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"url\":\"#23WY5BHMORO1 (selectAll)\",\"output\":\"form1\"},{\"xwlMeta\":\"store\",\"id\":\"selectAppStore\",\"pageSize\":\"-1\",\"url\":\"#23WY5BHMORO2 (selectApp)\",\"output\":\"appNameForm\"},{\"xwlMeta\":\"store\",\"id\":\"selectRoleStore\",\"url\":\"#23WY5BHMORO8 (selectRole)\",\"output\":\"roleNameForm\"},{\"xwlMeta\":\"store\",\"id\":\"selectUserStore\",\"url\":\"#23WY5BHMORNU (selectUser)\",\"output\":\"userNameForm\"},{\"xwlMeta\":\"store\",\"id\":\"selectPlantformStore\",\"url\":\"#23WY5BHMORO0 (selectPlantform)\",\"output\":\"plantForm\"},{\"xwlMeta\":\"store\",\"id\":\"select_none_plantformstore\",\"pageSize\":\"-1\",\"url\":\"#23WY5BHMORO9 (select_plantform_none)\"},{\"xwlMeta\":\"store\",\"id\":\"getEnableFlagStore\",\"url\":\"#23WY5BHMORNT (getEnableFlag)\"},{\"xwlMeta\":\"store\",\"id\":\"appStore\",\"pageSize\":\"-1\",\"url\":\"#23WY5BHMORNV (select_appStore)\"},{\"xwlMeta\":\"store\",\"id\":\"userStore\",\"pageSize\":\"-1\",\"url\":\"#23WY5BHMOROD (select_userStore)\"},{\"xwlMeta\":\"store\",\"id\":\"roleStore\",\"pageSize\":\"-1\",\"url\":\"#23WY5BHMOROA (select_rolestore)\"},{\"xwlMeta\":\"store\",\"id\":\"valSetNameStore\",\"pageSize\":\"-1\",\"url\":\"#23WY5BHMORO5 (select_val_set_name)\",\"load\":\"var data={\\\"CODE\\\":'',\\\"NAME\\\":''};\\nvalSetNameStore.insert(0,data);\\n\"},{\"xwlMeta\":\"store\",\"id\":\"valAppStore\",\"url\":\"#23WY5BHMOROB (select_valAPP)\",\"output\":\"valForm3,valname3,valname,valname2,valname1\"},{\"xwlMeta\":\"store\",\"id\":\"store2\",\"pageSize\":\"-1\",\"url\":\"#23WY5BHMORO3 (select_store2)\"},{\"xwlMeta\":\"store\",\"id\":\"store11\",\"pageSize\":\"-1\",\"url\":\"#23WY5BHMORO7 (seletALL_none)\"}]},{\"xwlMeta\":\"folder\",\"id\":\"windowbtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"appbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptbtn_App\",\"text\":\"确定\",\"click\":\"var row=Wb.getSelRec(appNameGrid);\\nvar record=appNameGrid.getSelectionModel().getSelection();\\nvar app_name2='';\\nvar app_id2='';\\nfor(var i=0;i<row.length;i++){\\n     \\n     var app_name=record[i].get('APP_NAME');\\n     var app_id=record[i].get('APP_ID');\\n     app_name2=app_name2+','+app_name;\\n     app_id2=app_id2+','+app_id;\\n    \\n}\\nappNa.setValue(app_name2.substring(1,app_name2.length));\\nAPPID.setValue(app_id2.substring(1,app_id2.length));\\nappNamewindow.close();\\nif(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n   Ext.Msg.alert('提示','请先新增参数！');\\n}else{\\n//判断当前所选的应用是否在当前GRID中，不在则添加\\n   var i=Ext.getCmp('appNa').getValue();\\n   var array=i.split(',');\\n   var appid=Ext.getCmp('APPID').getValue();\\n   var ar=appid.split(',');\\n   var bl;\\n   for(var j=0;j<array.length;j++){\\n         for(var i=0;i<appStore.getCount();i++){\\n            var app_n= appStore.getAt(i).get('APP_NAME');\\n            if(array[j]===app_n){\\n              bl=1;\\n              break;\\n            }else{\\n              bl=0;        \\n            }\\n           \\n         }\\n     if(bl!==1){\\n       //alert(66);\\n       //添加\\n       var record={VAL_SQL:VAL_SQL.getValue(),VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_ID:PARAM_ID.getValue(),TARGET_ID:ar[j],PARAM_NAME:PARAM_NAME.getValue(),APP_NAME:array[j]};\\n       appFormGrid.getStore().add(record);\\n     }\\n   }\\n   \\n\\n}\\n/*\\n    //清空GRID\\nappFormGrid.getStore().removeAll();\\nvar i=Ext.getCmp('appNa').getValue();\\nvar j=Ext.getCmp('appParamName').getValue();\\n \\nvar paramid=Ext.getCmp('PARAMID').getValue();\\nvar appid=Ext.getCmp('APPID').getValue();\\nvar val_set_code=Ext.getCmp('VALCODE1').getValue();\\nvar val_sql=Ext.getCmp('VALSQL4').getValue();\\nif(i===null||i===''){\\n   Ext.MessageBox.alert('提示', '请选择应用名称!');\\n}else{\\n  if(j===null||j===''){\\n    //循环遍历grid1（new一个不分页的grid）找到参数类型为U\\n    for(var l=0;l<grid11.getStore().getCount();l++){\\n      var param_type=grid11.getStore().getAt(l).get('PARAM_TYPE');\\n      if(param_type=='U'){\\n        var param_id=grid11.getStore().getAt(l).get('PARAM_ID');\\n        var param_name=grid11.getStore().getAt(l).get('PARAM_NAME');\\n        var val_set_code2=grid11.getStore().getAt(l).get('VAL_SET_CODE');\\n        var val_sql2=grid11.getStore().getAt(l).get('VAL_SQL');\\n        var array=i.split(',');\\n        var ar=appid.split(',');\\n         //Ext.getCmp('appNa').setValue(array[0]);\\n       var bl;\\n        for(var k=0;k<array.length;k++){\\n    \\n         // var record={PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,APP_NAME:array[k]};\\n          //appFormGrid.getStore().add(record);\\n             for(var h=0;h<store2.getTotalCount();h++){\\n                       var param_id2=store2.getAt(h).get('PARAM_ID');\\n                      var target_id2=store2.getAt(h).get('TARGET_ID');\\n                       if(param_id==param_id2&&ar[k]==target_id2){\\n                      bl=1;\\n                      var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n                      var val_name=store2.getAt(h).get('VAL_NAME');\\n                      var val_code=store2.getAt(h).get('VAL');\\n                     var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,APP_NAME:array[k]};\\n                     appFormGrid.getStore().add(record);\\n                      break;\\n          \\n                       }else{\\n                         bl=0;\\n                       }\\n        \\n           }\\n      if(bl==1){\\n                    continue;\\n               }\\n       var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,APP_NAME:array[k]};\\n          \\n          appFormGrid.getStore().add(record);\\n    } \\n        \\n      }\\n    }\\n    \\n    \\n  }else{\\n     var array=i.split(',');\\n     var ar=appid.split(',');\\n     //Ext.getCmp('appNa').setValue(array[0]);\\n     var bll;\\n    for(var k=0;k<array.length;k++){\\n      \\n      //var record={PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,APP_NAME:array[k]};\\n      //appFormGrid.getStore().add(record);\\n      //判断此条数据是否存于数据库\\n      for(var h=0;h<store2.getCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        if(paramid==param_id2&&ar[k]==target_id2){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n          //alert(val_name);\\n          var val_code=store2.getAt(h).get('VAL');\\n          if(val_name===null||val_name===''){\\n              var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,APP_NAME:array[k]};\\n              appFormGrid.getStore().add(record);\\n              break;\\n            \\n          }else{\\n              var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,APP_NAME:array[k]};\\n              appFormGrid.getStore().add(record);\\n              break;\\n          }\\n          \\n          \\n        }else{\\n          bll=0;\\n        }\\n       \\n        \\n      }\\n      if(bll==1){\\n                    continue;\\n               }\\n       var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,APP_NAME:array[k]};\\n          \\n          appFormGrid.getStore().add(record);\\n    } \\n  }\\n}\\n\\n\\n*/\"},{\"xwlMeta\":\"button\",\"id\":\"cancelbtn\",\"text\":\"取消\",\"click\":\"appNamewindow.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"userbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptbtn_User\",\"text\":\"确定\",\"click\":\"var row=Wb.getSelRec(userNameGrid);\\nvar record=userNameGrid.getSelectionModel().getSelection();\\nvar user_name2='';\\nvar user_id2='';\\nfor(var i=0;i<row.length;i++){\\n     \\n     var user_name=record[i].get('USER_NAME');\\n     var user_id=record[i].get('USER_ID');\\n    user_name2=user_name2+','+user_name;\\n    user_id2=user_id2+','+user_id;\\n    \\n}\\nuserNA.setValue(user_name2.substring(1,user_name2.length));\\nUSERID.setValue(user_id2.substring(1,user_id2.length));\\nuserNamewindow.close();\\nif(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n   Ext.Msg.alert('提示','请先新增参数！');\\n}else{\\n//判断当前所选的应用是否在当前GRID中，不在则添加\\n   var i=Ext.getCmp('userNA').getValue();\\n   var array=i.split(',');\\n   var userid=Ext.getCmp('USERID').getValue();\\n   var ar=userid.split(',');\\n   var bl;\\n   for(var j=0;j<array.length;j++){\\n         for(var i=0;i<userStore.getCount();i++){\\n            var user_n= userStore.getAt(i).get('USER_NAME');\\n            if(array[j]===user_n){\\n              bl=1;\\n              break;\\n            }else{\\n              bl=0;        \\n            }\\n           \\n         }\\n     if(bl!==1){\\n       //alert(66);\\n       //添加\\n       var record={VAL_SQL:VAL_SQL.getValue(),VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_ID:PARAM_ID.getValue(),TARGET_ID:ar[j],PARAM_NAME:PARAM_NAME.getValue(),USER_NAME:array[j]};\\n        userFormGrid.getStore().add(record);\\n     }\\n   }\\n   \\n\\n}\\n/*\\n   \\n       //清空GRID\\nuserFormGrid.getStore().removeAll();\\nvar i=Ext.getCmp('userNA').getValue();\\nvar j=Ext.getCmp('userParamName').getValue();\\nvar paramid=Ext.getCmp('PARAMID11').getValue();\\nvar userid=Ext.getCmp('USERID').getValue();\\nvar val_set_code=Ext.getCmp('VALCODE2').getValue();\\nvar val_sql=Ext.getCmp('VALSQL2').getValue();\\nif(i===null||i===''){\\n   Ext.MessageBox.alert('提示', '请选择应用名称!');\\n}else{\\n  if(j===null||j===''){\\n    //循环遍历grid1（new一个不分页的grid）找到参数类型为U\\n    for(var l=0;l<grid11.getStore().getCount();l++){\\n      var param_type=grid11.getStore().getAt(l).get('PARAM_TYPE');\\n      if(param_type=='U'){\\n        var param_id=grid11.getStore().getAt(l).get('PARAM_ID');\\n        var param_name=grid11.getStore().getAt(l).get('PARAM_NAME');\\n        var val_set_code2=grid11.getStore().getAt(l).get('VAL_SET_CODE');\\n        var val_sql2=grid11.getStore().getAt(l).get('VAL_SQL');\\n        var array=i.split(',');\\n        var ar=userid.split(',');\\n     var bl;\\n        for(var k=0;k<array.length;k++){\\n       \\n          //var record={PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,USER_NAME:array[k]};\\n          //userFormGrid.getStore().add(record);\\n                     //判断此条数据是否存于数据库\\n                 for(var h=0;h<store2.getTotalCount();h++){\\n                           var param_id2=store2.getAt(h).get('PARAM_ID');\\n                           var target_id2=store2.getAt(h).get('TARGET_ID');\\n                            if(param_id==param_id2&&ar[k]==target_id2){\\n                            bl=1;\\n                             var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n                             var val_name=store2.getAt(h).get('VAL_NAME');\\n                             var val_code=store2.getAt(h).get('VAL');\\n          //alert(param_val_id);\\n         // alert(val_name);\\n                              var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,USER_NAME:array[k]};\\n          \\n                         userFormGrid.getStore().add(record);\\n                              break;\\n          \\n                            }else{\\n                              bl=0;\\n                            }\\n        \\n      }\\n        if(bl==1){\\n                    continue;\\n               }\\n           var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,USER_NAME:array[k]};\\n          \\n          userFormGrid.getStore().add(record);\\n    } \\n        \\n      }\\n    }\\n    \\n    \\n  }else{\\n     var array=i.split(',');\\n     var ar=userid.split(',');\\n     //Ext.getCmp('appNa').setValue(array[0]);\\n     var bll;\\n    \\n    for(var k=0;k<array.length;k++){\\n      \\n   \\n      //var record={PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,USER_NAME:array[k]};\\n      //userFormGrid.getStore().add(record);\\n        //判断此条数据是否存于数据库\\n      for(var h=0;h<store2.getTotalCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        if(paramid==param_id2&&ar[k]==target_id2){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n           var val_code=store2.getAt(h).get('VAL');\\n          if(val_name===null||val_name===''){\\n            var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,USER_NAME:array[k]};\\n            userFormGrid.getStore().add(record);\\n            break;\\n            \\n          }else{\\n            var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,USER_NAME:array[k]};\\n            userFormGrid.getStore().add(record);\\n            break;\\n          }\\n          \\n          \\n        }else{\\n          bll=0;\\n        }\\n        \\n      }\\n        if(bll==1){\\n                    continue;\\n               }\\n      \\n           var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,USER_NAME:array[k]};\\n          \\n          userFormGrid.getStore().add(record);\\n    } \\n  }\\n}\\n\\n     \\n*/\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"cancelbtn2\",\"text\":\"取消\",\"click\":\"userNamewindow.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"rolebtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptbtn_Role\",\"text\":\"确定\",\"click\":\"var row=Wb.getSelRec(roleNameGrid);\\nvar record=roleNameGrid.getSelectionModel().getSelection();\\nvar role_name2='';\\nvar role_id2='';\\nfor(var i=0;i<row.length;i++){\\n     \\n     var role_name=record[i].get('ROLE_NAME');\\n     var role_id=record[i].get('ROLE_ID');\\n    role_name2=role_name2+','+role_name;\\n    role_id2=role_id2+','+role_id;\\n    \\n}\\nroleNA.setValue(role_name2.substring(1,role_name2.length));\\nROLEID.setValue(role_id2.substring(1,role_id2.length));\\nroleNamewindow.close();\\nif(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n   Ext.Msg.alert('提示','请先新增参数！');\\n}else{\\n//判断当前所选的应用是否在当前GRID中，不在则添加\\n   var i=Ext.getCmp('roleNA').getValue();\\n   var array=i.split(',');\\n   var roleid=Ext.getCmp('ROLEID').getValue();\\n   var ar=roleid.split(',');\\n   var bl;\\n   for(var j=0;j<array.length;j++){\\n         for(var i=0;i<roleStore.getCount();i++){\\n            var role_n= roleStore.getAt(i).get('ROLE_NAME');\\n            if(array[j]===role_n){\\n              bl=1;\\n              break;\\n            }else{\\n              bl=0;        \\n            }\\n           \\n         }\\n     if(bl!==1){\\n       //添加\\n       var record={VAL_SQL:VAL_SQL.getValue(),VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_ID:PARAM_ID.getValue(),TARGET_ID:ar[j],PARAM_NAME:PARAM_NAME.getValue(),ROLE_NAME:array[j]};\\n       roleFormGrid.getStore().add(record);\\n     }\\n   }\\n   \\n\\n}\\n/*\\n   //清空GRID\\nroleFormGrid.getStore().removeAll();\\nvar i=Ext.getCmp('roleNA').getValue();\\nvar j=Ext.getCmp('roleParamName').getValue();\\n\\n \\nvar paramid=Ext.getCmp('PARAMID1').getValue();\\nvar roleid=Ext.getCmp('ROLEID').getValue();\\nvar val_set_code=Ext.getCmp('VALCODE').getValue();\\nvar val_sql=Ext.getCmp('VALSQL3').getValue();\\n\\nif(i===null||i===''){\\n   Ext.MessageBox.alert('提示', '请选择角色名称!');\\n}else{\\n  if(j===null||j===''){\\n    //循环遍历grid1（new一个不分页的grid）找到参数类型为U\\n    for(var l=0;l<grid11.getStore().getCount();l++){\\n      var param_type=grid11.getStore().getAt(l).get('PARAM_TYPE');\\n      if(param_type=='U'){\\n        var param_id=grid11.getStore().getAt(l).get('PARAM_ID');\\n        var param_name=grid11.getStore().getAt(l).get('PARAM_NAME');\\n        var val_set_code2=grid11.getStore().getAt(l).get('VAL_SET_CODE');\\n        var val_sql2=grid11.getStore().getAt(l).get('VAL_SQL');\\n        var array=i.split(',');\\n        var ar=roleid.split(',');\\n         //Ext.getCmp('appNa').setValue(array[0]);\\n        var  bl;\\n        for(var k=0;k<array.length;k++){\\n    \\n                for(var h=0;h<store2.getTotalCount();h++){\\n                       var param_id2=store2.getAt(h).get('PARAM_ID');\\n                       var target_id2=store2.getAt(h).get('TARGET_ID');\\n                       if(param_id==param_id2&&ar[k]==target_id2){\\n                        //  alert(11);\\n                         bl=1;\\n                          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n                          var val_name=store2.getAt(h).get('VAL_NAME');\\n                          var val_code=store2.getAt(h).get('VAL');\\n                         var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,ROLE_NAME:array[k]};\\n          \\n                           roleFormGrid.getStore().add(record);\\n                      \\n                           break;\\n                       }else{\\n                         bl=0;\\n                       }\\n                  \\n        \\n               }\\n                  if(bl==1){\\n                    continue;\\n               }\\n                  var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,ROLE_NAME:array[k]};\\n                                     roleFormGrid.getStore().add(record);\\n\\n          \\n        } \\n        \\n      }\\n    }\\n    \\n    \\n  }else{\\n     var array=i.split(',');\\n     var ar=roleid.split(',');\\n     //Ext.getCmp('appNa').setValue(array[0]);\\n    var bll;\\n    for(var k=0;k<array.length;k++){\\n      //判断此条数据是否存于数据库\\n      for(var h=0;h<store2.getTotalCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        if(paramid==param_id2&&ar[k]==target_id2){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n           var val_code=store2.getAt(h).get('VAL');\\n          //alert(param_val_id);\\n         // alert(val_name);\\n          if(val_name===null||val_name===''){\\n            var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,ROLE_NAME:array[k]};\\n            roleFormGrid.getStore().add(record);\\n            break;\\n            \\n          }else{\\n            var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,ROLE_NAME:array[k]};\\n            roleFormGrid.getStore().add(record);\\n            break;\\n          }\\n          \\n          \\n        }else{\\n          bll=0;\\n        }\\n        \\n      }\\n      if(bll==1){\\n                    continue;\\n               }\\n       var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,ROLE_NAME:array[k]};\\n          \\n          roleFormGrid.getStore().add(record);\\n      \\n      \\n    } \\n  }\\n}   \\n   \\n*/\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"cancelbtn1\",\"text\":\"取消\",\"click\":\"roleNamewindow.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"newWindowbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"newSavebtn\",\"text\":\"保存\",\"click\":\"var flag=PARAM_ID.getValue();\\n  if(!form2.getForm().isValid()){\\n    Wb.warning('请填写所有必填项目');\\n    return false;\\n  }\\n  var sql=VAL_SQL.getValue();\\n  var array=sql.split(',');\\n  if(!Ext.isEmpty(sql)){\\n    if(array.length!==2){\\n      Ext.Msg.alert('提示','请按照提示的格式填写对应的SQL');\\n      return;\\n    }\\n  }\\n  //校验参数的合法性\\n  var _existParams = false;\\n  selectPlantformStore.each(function(platForm){\\n    var _tmpCode = platForm.get('VAL');\\n    if(Ext.isEmpty(_tmpCode)){\\n      _existParams = true;\\n      return false ;\\n    }\\n  });\\n  if(_existParams){\\n    Wb.warning('平台级参数值不能为空！');\\n    tabPanel1.setActiveTab(0);\\n    return false; \\n  }   \\n  //校验应用级别参数是否存在,并且参数值不为空\\n  appStore.each(function(app){\\n    if(Ext.isEmpty(app.data.VAL)){\\n      _existParams = true;\\n      return false;\\n    }\\n  });\\n  if(_existParams){\\n    Wb.warning('应用级参数值不能为空！');\\n     tabPanel1.setActiveTab(1);\\n    return false; \\n  }\\n  //校验角色级别参数是否存在,并且参数值不为空\\n  roleStore.each(function(role){\\n    if(Ext.isEmpty(role.data.VAL)){\\n      _existParams = true;\\n      return false;\\n    }\\n  });\\n  if(_existParams){\\n    Wb.warning('角色级参数值不能为空！');\\n     tabPanel1.setActiveTab(2);\\n    return false; \\n  }\\n  //校验用户级别参数是否存在,并且参数值不为空\\n  userStore.each(function(user){\\n    if(Ext.isEmpty(user.data.VAL)){\\n      _existParams = true;\\n      return false;\\n    }\\n  });\\n  if(_existParams){\\n    Wb.warning('用户级参数值不能为空！');\\n     tabPanel1.setActiveTab(3);\\n    return false; \\n  }\\nif(Ext.isEmpty(flag)){ \\n  var _value = PARAM_TYPE.getValue();\\n  insert_ps_ajax.request({paramType:_value});\\n  select_none_plantformstore.load();\\n}else{\\n  //更新的时候判断是系统还是扩展，系统的更新需要调Action中的方法\\n  if(PARAM_TYPE.getValue()=='S'){\\n    update_sys_ajax.request();\\n  }else{\\n    update_ajax1.request();\\n  }\\n   //store2.load();\\n   var param_name=PARAM_NAME.getValue();\\n   var param_type=PARAM_TYPE.getValue();\\n  if(param_type=='S'){\\n   appPanel.setDisabled(true);\\n   userPanel.setDisabled(true);\\n   rolePanel.setDisabled(true);\\n    plantformPanel.setDisabled(false);\\n    csmc.setValue(param_name); \\n  }else{\\n    plantformPanel.setDisabled(false);\\n    appPanel.setDisabled(false);\\n    userPanel.setDisabled(false);\\n    rolePanel.setDisabled(false);\\n    \\n  }\\n\\n  csmc.setValue(param_name);\\n  appParamName.setValue(param_name);\\n  userParamName.setValue(param_name);\\n  roleParamName.setValue(param_name);\\n  //param_id赋值\\n   var param_id=PARAM_ID.getValue();\\n   PARAMID.setValue(param_id);  \\n   PARAMID1.setValue(param_id); \\n   PARAMID11.setValue(param_id); \\n  //sql\\n  var sql=VAL_SQL.getValue();\\n  VALSQL3.setValue(sql);\\n  VALSQL2.setValue(sql);\\n  VALSQL4.setValue(sql);\\n  VALSQL1.setValue(sql);\\n  //参数值\\n  var val_set_code=VAL_SET_NAME.getValue();\\n   VALCODE.setValue(val_set_code);\\n   VALCODE1.setValue(val_set_code);\\n   VALCODE2.setValue(val_set_code);\\n   select_none_plantformstore.load();\\n}\\n/*\\n//重新加载4个级别的GRID\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n    selectPlantformStore.getProxy().url='main?xwl=23WY5BHMORO0';\\n    Wb.load(selectPlantformStore,{PARAM_ID:PARAM_ID.getValue()});\\n    appStore.getProxy().url='main?xwl=23WY5BHMORNV';\\n    Wb.load(appStore,{PARAM_ID:PARAM_ID.getValue()});\\n    roleStore.getProxy().url='main?xwl=23WY5BHMOROA';\\n    Wb.load(roleStore,{PARAM_ID:PARAM_ID.getValue()});\\n    userStore.getProxy().url='main?xwl=23WY5BHMOROD';\\n    Wb.load(userStore,{PARAM_ID:PARAM_ID.getValue()});\\n    \\n  }else{\\n    selectPlantformStore.getProxy().url='main?xwl=23WYSJFPDAS0';\\n    Wb.load(selectPlantformStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    appStore.getProxy().url='main?xwl=23WZPVCKUCLY';\\n    Wb.load(appStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    roleStore.getProxy().url='main?xwl=23WZPVCKUCLA';\\n    Wb.load(roleStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    userStore.getProxy().url='main?xwl=23WZPVCKUCLL';\\n    Wb.load(userStore,{_sql:VAL_SQL.getValue(),PARAM_ID:PARAM_ID.getValue()});\\n    \\n    \\n    \\n  }\\n*/\\n \"},{\"xwlMeta\":\"button\",\"id\":\"newSaveAndMoreBTN\",\"text\":\"保存并添加下一个\",\"hidden\":\"true\",\"click\":\"var flag=PARAM_ID.getValue();\\nif(!form2.getForm().isValid()){\\n    Wb.warning('请填写所有必填项目');\\n    return false;\\n  }\\n  var sql=VAL_SQL.getValue();\\n  var array=sql.split(',');\\n  if(!Ext.isEmpty(sql)){\\n    if(array.length!==2){\\n      Ext.Msg.alert('提示','请按照提示的格式填写对应的SQL');\\n      return;\\n    }\\n  }\\n  //校验参数的合法性\\n  var _existParams = false;\\n  selectPlantformStore.each(function(platForm){\\n    var _tmpCode = platForm.get('VAL');\\n    if(Ext.isEmpty(_tmpCode)){\\n      _existParams = true;\\n      return false ;\\n    }\\n  });\\n  if(_existParams){\\n    Wb.warning('平台级参数值不能为空！');\\n    tabPanel1.setActiveTab(0);\\n    return false; \\n  }   \\n  //校验应用级别参数是否存在,并且参数值不为空\\n  appStore.each(function(app){\\n    if(Ext.isEmpty(app.data.VAL)){\\n      _existParams = true;\\n      return false;\\n    }\\n  });\\n  if(_existParams){\\n    Wb.warning('应用级参数值不能为空！');\\n     tabPanel1.setActiveTab(1);\\n    return false; \\n  }\\n  //校验角色级别参数是否存在,并且参数值不为空\\n  roleStore.each(function(role){\\n    if(Ext.isEmpty(role.data.VAL)){\\n      _existParams = true;\\n      return false;\\n    }\\n  });\\n  if(_existParams){\\n    Wb.warning('角色级参数值不能为空！');\\n     tabPanel1.setActiveTab(2);\\n    return false; \\n  }\\n  //校验用户级别参数是否存在,并且参数值不为空\\n  userStore.each(function(user){\\n    if(Ext.isEmpty(user.data.VAL)){\\n      _existParams = true;\\n      return false;\\n    }\\n  });\\n  if(_existParams){\\n    Wb.warning('用户级参数值不能为空！');\\n     tabPanel1.setActiveTab(3);\\n    return false; \\n  }\\nif(Ext.isEmpty(flag)){\\n   var _value = PARAM_TYPE.getValue();\\n   insert_ps_ajax.request({paramType:_value});\\n   select_none_plantformstore.load();\\n}else{\\n  //更新的时候判断是系统还是扩展，系统的更新需要掉Action中的方法\\n  if(PARAM_TYPE.getValue()=='S'){\\n    update_sys_ajax.request();\\n  }else{\\n     update_ajax1.request();\\n  }\\n   //store2.load();\\n  \\n    var param_name=PARAM_NAME.getValue();\\n   var param_type=PARAM_TYPE.getValue();\\n  if(param_type=='S'){\\n   appPanel.setDisabled(true);\\n   userPanel.setDisabled(true);\\n   rolePanel.setDisabled(true);\\n    plantformPanel.setDisabled(false);\\n    csmc.setValue(param_name);\\n    \\n  }else{\\n    plantformPanel.setDisabled(false);\\n    appPanel.setDisabled(false);\\n    userPanel.setDisabled(false);\\n    rolePanel.setDisabled(false);\\n    \\n  }\\n\\n  csmc.setValue(param_name);\\n  appParamName.setValue(param_name);\\n  userParamName.setValue(param_name);\\n  roleParamName.setValue(param_name);\\n  //param_id赋值\\n   var param_id=PARAM_ID.getValue();\\n   PARAMID.setValue(param_id);  \\n   PARAMID1.setValue(param_id); \\n   PARAMID11.setValue(param_id); \\n  //sql\\n  var sql=VAL_SQL.getValue();\\n  VALSQL3.setValue(sql);\\n  VALSQL2.setValue(sql);\\n  VALSQL4.setValue(sql);\\n  VALSQL1.setValue(sql);\\n  //参数值\\n  var val_set_code=VAL_SET_NAME.getValue();\\n   VALCODE.setValue(val_set_code);\\n   VALCODE1.setValue(val_set_code);\\n   VALCODE2.setValue(val_set_code);\\n   select_none_plantformstore.load();\\n}\\nnewWindow.close();\\nnewWindow.setTitle('新增');\\nPARAM_CODE.enable();\\n//button2.setVisible(true);\\nplantformPanel.setDisabled(false);\\nappPanel.setDisabled(false);\\nuserPanel.setDisabled(false);\\nrolePanel.setDisabled(false);\\ncsmc.setValue('');\\nappParamName.setValue('');\\nuserParamName.setValue('');\\nroleParamName.setValue('');\\nVAL_SQL.setDisabled(false);\\nnewWindow.show();\\ngetEnableFlagStore.load(function (){\\n  ENABLE_FLAG.setValue('Y');\\n  ENABLE_FLAG.setRawValue('是');\\n});\\nvalSetNameStore.load();\\n\"},{\"xwlMeta\":\"button\",\"id\":\"newcanclebtn\",\"text\":\"关闭\",\"click\":\"newWindow.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"PVbtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptbtn11\",\"text\":\"确定\",\"click\":\"//var row=Wb.getSelRec(valNameGrid);\\nvar record=valNameGrid.getSelectionModel().getSelection();\\n\\n     var val_name=record[0].get('VNAME');\\n     var val_code=record[0].get('VCODE');\\n\\n\\nvar record1=userFormGrid.getSelectionModel().getSelection();\\n//alert(record1[0].get('PARAM_ID'));\\nrecord1[0].set('VAL',val_name);\\nrecord1[0].set('VAL_CODE',val_code);\\n\\n//userFormGrid.getSelectionModel().getSelected().set(VAL,val_name);\\nPVwindow.close();\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"cancelbtn11\",\"text\":\"取消\",\"click\":\"PVwindow.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"PVbtn1\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptbtn111\",\"text\":\"确定\",\"click\":\"//var row=Wb.getSelRec(valNameGrid);\\nvar record=valNameGrid1.getSelectionModel().getSelection();\\n\\n     var val_name=record[0].get('VNAME');\\n     var val_code=record[0].get('VCODE');\\n\\n     //alert(val_name);\\n    // alert(val_code);\\nvar record1=appFormGrid.getSelectionModel().getSelection();\\n//alert(record1[0].get('PARAM_ID'));\\nrecord1[0].set('VAL',val_name);\\nrecord1[0].set('VAL_CODE',val_code);\\n\\n//userFormGrid.getSelectionModel().getSelected().set(VAL,val_name);\\nPVwindow1.close();\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"cancelbtn111\",\"text\":\"取消\",\"click\":\"PVwindow1.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"PVbtn2\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptbtn112\",\"text\":\"确定\",\"click\":\"//var row=Wb.getSelRec(valNameGrid);\\nvar record=valNameGrid2.getSelectionModel().getSelection();\\n\\n     var val_name=record[0].get('VNAME');\\n     var val_code=record[0].get('VCODE');\\n\\n\\nvar record1=roleFormGrid.getSelectionModel().getSelection();\\n//alert(record1[0].get('PARAM_ID'));\\nrecord1[0].set('VAL',val_name);\\nrecord1[0].set('VAL_CODE',val_code);\\n\\n//userFormGrid.getSelectionModel().getSelected().set(VAL,val_name);\\nPVwindow2.close();\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"cancelbtn112\",\"text\":\"取消\",\"click\":\"PVwindow2.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"PVbtn3\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptbtn113\",\"text\":\"确定\",\"click\":\"//var row=Wb.getSelRec(valNameGrid);\\nvar record=valNameGrid3.getSelectionModel().getSelection();\\n\\n     var val_name=record[0].get('VNAME');\\n     var val_code=record[0].get('VCODE');\\n\\n\\nvar record1=plantFormGrid.getSelectionModel().getSelection();\\n//alert(record1[0].get('PARAM_ID'));\\n//record1[0].set('VAL',val_code);\\n//record1[0].set('VAL_CODE',)\\nrecord1[0].set('VAL',val_name);\\nrecord1[0].set('VAL_CODE',val_code);\\n\\n//userFormGrid.getSelectionModel().getSelected().set(VAL,val_name);\\nPVwindow3.close();\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"cancelbtn113\",\"text\":\"取消\",\"click\":\"PVwindow3.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"array1\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"button1\",\"text\":\"保存\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"gridEditor\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"pValue\",\"focus\":\"var record=plantFormGrid.getSelectionModel().getSelection();\\n//var record=grid1.getSelectionModel().getSelection();\\nvar val_set_code=record[0].get('VAL_SET_CODE');\\n\\nvar val_sql=record[0].get('VAL_SQL');\\n//alert(val_set_code);\\n//alert(val_sql);\\nif(val_set_code===null&&val_sql===null||val_set_code===null&&val_sql===''){\\n  return;\\n}\\nif(val_set_code===''&&val_sql===''||val_set_code===''&&val_sql===null){\\n  return;\\n}\\nif(val_set_code===undefined && val_sql===undefined){\\n  return;\\n}\\n\\nvar _sql ;\\nif(val_set_code !== null && val_set_code !== '' && val_set_code !== undefined) {\\n  _sql = 'select val_code VCODE,val_name VNAME from xip_pub_val_set_dtl  where enable_flag=\\\\'Y\\\\' and val_name like {?attribute1?} and val_set_code='+\\\"'\\\"+val_set_code+\\\"'\\\" ;\\n}\\nif(val_sql !== null && val_sql !== '' && val_sql !== undefined) {\\n  _sql = val_sql ;\\n}\\n\\n //Wb.load(valAppStore,{val_set_code:val_set_code});\\n\\n  Wb.load(valAppStore,{valSql:_sql});\\n\\n//valAppStore.load();\\nPVwindow3.show();\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"pickList\":\"[['Y','是'],['N','否']]\",\"id\":\"pEnable\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"aValue\",\"focus\":\"var record1=appFormGrid.getSelectionModel().getSelection();\\n//var record1=userFormGrid.getSelectionModel().getSelection();\\n//var record=grid1.getSelectionModel().getSelection();\\nvar val_set_code=record1[0].get('VAL_SET_CODE');\\n\\nvar val_sql=record1[0].get('VAL_SQL');\\n//alert(val_set_code);\\nif(val_set_code===null&&val_sql===null||val_set_code===null&&val_sql===''){\\n  return;\\n}\\nif(val_set_code===''&&val_sql===''||val_set_code===''&&val_sql===null){\\n  return;\\n}\\nif(val_set_code===undefined && val_sql===undefined){\\n  return;\\n}\\n\\nvar _sql ;\\nif(val_set_code !== null && val_set_code !== '' && val_set_code !== undefined) {\\n  _sql = 'select val_code VCODE,val_name VNAME from xip_pub_val_set_dtl  where enable_flag=\\\\'Y\\\\' and val_name like {?attribute2?} and val_set_code='+\\\"'\\\"+val_set_code+\\\"'\\\";\\n}\\nif(val_sql !== null && val_sql !== '' && val_sql !== undefined) {\\n  _sql = val_sql ;\\n}\\n\\n //Wb.load(valAppStore,{val_set_code:val_set_code});\\n\\n  Wb.load(valAppStore,{valSql:_sql});\\n\\n//valAppStore.load();\\nPVwindow1.show();\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"pickList\":\"[['Y','是'],['N','否']]\",\"id\":\"aEnable\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"uValue\",\"focus\":\"\\nvar record1=userFormGrid.getSelectionModel().getSelection();\\n//var record=grid1.getSelectionModel().getSelection();\\nvar val_set_code=record1[0].get('VAL_SET_CODE');\\nvar val_sql=record1[0].get('VAL_SQL');\\nif(val_set_code===null&&val_sql===null||val_set_code===null&&val_sql===''){\\n  return;\\n}\\nif(val_set_code===''&&val_sql===''||val_set_code===''&&val_sql===null){\\n  return;\\n}\\nif(val_set_code===undefined && val_sql===undefined){\\n  return;\\n}\\n\\nvar _sql ;\\nif(val_set_code !== null && val_set_code !== '' && val_set_code !== undefined) {\\n  _sql = 'select val_code VCODE,val_name VNAME from xip_pub_val_set_dtl  where enable_flag=\\\\'Y\\\\' and val_name like {?attribute4?} and val_set_code='+\\\"'\\\"+val_set_code+\\\"'\\\";\\n}\\nif(val_sql !== null && val_sql !== '' && val_sql !== undefined) {\\n  _sql = val_sql ;\\n}\\n\\n //Wb.load(valAppStore,{val_set_code:val_set_code});\\n\\n  Wb.load(valAppStore,{valSql:_sql});\\n\\n//valAppStore.load();\\nPVwindow.show();\\n\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"pickList\":\"[['Y','是'],['N','否']]\",\"id\":\"uEnable\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"rValue\",\"focus\":\"var record1=roleFormGrid.getSelectionModel().getSelection();\\n//var record1=userFormGrid.getSelectionModel().getSelection();\\n//var record=grid1.getSelectionModel().getSelection();\\nvar val_set_code=record1[0].get('VAL_SET_CODE');\\n\\nvar val_sql=record1[0].get('VAL_SQL');\\n//alert(val_set_code);\\nif(val_set_code===null&&val_sql===null||val_set_code===null&&val_sql===''){\\n  return;\\n}\\nif(val_set_code===''&&val_sql===''||val_set_code===''&&val_sql===null){\\n  return;\\n}\\nif(val_set_code===undefined && val_sql===undefined){\\n  return;\\n}\\n\\nvar _sql ;\\nif(val_set_code !== null && val_set_code !== '' && val_set_code !== undefined) {\\n  _sql = 'select val_code VCODE,val_name VNAME from xip_pub_val_set_dtl  where enable_flag=\\\\'Y\\\\' and val_name like {?attribute3?} and val_set_code='+\\\"'\\\"+val_set_code+\\\"'\\\";\\n}\\nif(val_sql !== null && val_sql !== '' && val_sql !== undefined) {\\n  _sql = val_sql ;\\n}\\n\\n //Wb.load(valAppStore,{val_set_code:val_set_code});\\n\\n  Wb.load(valAppStore,{valSql:_sql});\\n\\n//valAppStore.load();\\nPVwindow2.show();\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"pickList\":\"[['Y','是'],['N','否']]\",\"id\":\"rEnable\"}]},{\"xwlMeta\":\"folder\",\"id\":\"gridColumns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"roleFormGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_R\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_ID\",\"id\":\"PARAM_ID_R\",\"text\":\"PARAM_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"TARGET_ID_R\",\"text\":\"ROLE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_NAME\",\"id\":\"PARAM_NAME_R\",\"text\":\"参数名称\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"ROLE_NAME_R\",\"text\":\"角色名称\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL\",\"id\":\"VAL_R\",\"text\":\"参数值\",\"width\":\"200\",\"editor\":\"rValue\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_CODE\",\"id\":\"VAL_CODE_R\",\"text\":\"VAL_CODE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG_R\",\"renderer\":\"if(value === \\\"Y\\\"||value===''){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"是否启用\",\"flex\":\"1\",\"editor\":\"rEnable\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_VAL_ID\",\"id\":\"PARAM_VAL_ID_R\",\"text\":\"PARAM_VAL_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_CODE\",\"id\":\"jzbm11\",\"text\":\"值集编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SQL\",\"id\":\"VAL_SQL_R\",\"text\":\"VAL_SQL\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"plantFormGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_P\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_NAME\",\"id\":\"PARAM_NAME_P\",\"text\":\"参数名称\",\"width\":\"260\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL\",\"id\":\"VAL_P\",\"text\":\"参数值\",\"width\":\"260\",\"editor\":\"pValue\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG_P\",\"renderer\":\"if(value === \\\"Y\\\"||value===''){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"是否启用\",\"flex\":\"1\",\"editor\":\"pEnable\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_ID\",\"id\":\"PARAM_ID_P\",\"text\":\"参数ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_VAL_ID\",\"id\":\"PARAM_VAL_ID_P\",\"text\":\"ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_CODE\",\"id\":\"jzbm131\",\"text\":\"值集编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SQL\",\"id\":\"VAL_SQL_P\",\"text\":\"VAL_SQL\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_CODE\",\"id\":\"VAL_CODE_P\",\"text\":\"VAL_CODE\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"userFormGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_U\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_ID\",\"id\":\"PARAM_ID_U\",\"text\":\"PARAM_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"TARGET_ID_U\",\"text\":\"USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_NAME\",\"id\":\"PARAM_NAME_U\",\"text\":\"参数名称\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USER_NAME_U\",\"text\":\"用户名称\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL\",\"id\":\"VAL_U\",\"text\":\"参数值\",\"width\":\"200\",\"editor\":\"uValue\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_CODE\",\"id\":\"VAL_CODE_U\",\"text\":\"VAL_CODE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG_U\",\"renderer\":\"if(value === \\\"Y\\\"||value===''){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"是否启用\",\"flex\":\"1\",\"editor\":\"uEnable\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_VAL_ID\",\"id\":\"PARAM_VAL_ID_U\",\"text\":\"PARAM_VAL_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_CODE\",\"id\":\"jzbm13\",\"text\":\"值集编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SQL\",\"id\":\"VAL_SQL_U\",\"text\":\"VAL_SQL\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"appFormGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"app_xuhao\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_ID\",\"id\":\"PARAM_ID_A\",\"text\":\"param_id\",\"width\":\"50\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"TARGET_ID_A\",\"text\":\"APP_ID\",\"width\":\"50\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_NAME\",\"id\":\"PARAM_NAME_A\",\"text\":\"参数名称\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME_A\",\"text\":\"应用名称\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL\",\"id\":\"VAL_A\",\"text\":\"参数值\",\"width\":\"200\",\"editor\":\"aValue\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_CODE\",\"id\":\"VAL_CODE_A\",\"text\":\"VAL_CODE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG_A\",\"renderer\":\"if(value === \\\"Y\\\"||value===''){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"是否启用\",\"flex\":\"1\",\"editor\":\"aEnable\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_VAL_ID\",\"id\":\"PARAM_VAL_ID_A\",\"text\":\"PARAM_VAL_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_CODE\",\"id\":\"jzbm1\",\"text\":\"值集编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SQL\",\"id\":\"VAL_SQL_A\",\"text\":\"VAL_SQL\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_NAME\",\"id\":\"VAL_NAME_A\",\"text\":\"VAL_NAME\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid1columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xh\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_CODE\",\"id\":\"param_code_col\",\"text\":\"参数编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_NAME\",\"id\":\"param_name_col\",\"text\":\"参数名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_TYPE\",\"id\":\"param_type_col\",\"renderer\":\"if(value === \\\"S\\\"){\\n  return \\\"系统\\\";\\n}else{\\n  return \\\"扩展\\\";\\n}\",\"text\":\"参数类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"param_description_col\",\"text\":\"参数描述\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_NAME\",\"id\":\"dyjz_col\",\"text\":\"参数值来源值集\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SQL\",\"id\":\"dy_sql_col\",\"text\":\"参数值来源SQL\",\"width\":\"360\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"sfqy_col\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"是否启用\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_ID\",\"id\":\"id\",\"text\":\"参数ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_CODE\",\"id\":\"jzbm\",\"text\":\"值集编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid2Columns\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_VAL_ID\",\"id\":\"PARAM_VAL_ID_COL\",\"text\":\"PARAM_VAL_ID\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_ID\",\"id\":\"PARAM_ID_COL\",\"text\":\"PARAM_ID\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"TARGET_ID_COL\",\"text\":\"TARGET_ID\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL\",\"id\":\"VAL_COL\",\"text\":\"VAL\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_LEVEL\",\"id\":\"VAL_LEVEL_COL\",\"text\":\"VAL_LEVEL\"}]},{\"xwlMeta\":\"array\",\"id\":\"grid11columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xh1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_CODE\",\"id\":\"param_code_col1\",\"text\":\"参数编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_NAME\",\"id\":\"param_name_col1\",\"text\":\"参数名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_TYPE\",\"id\":\"param_type_col1\",\"renderer\":\"if(value === \\\"S\\\"){\\n  return \\\"系统\\\";\\n}else{\\n  return \\\"拓展\\\";\\n}\",\"text\":\"参数类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"param_description_col1\",\"text\":\"参数描述\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_NAME\",\"id\":\"dyjz_col1\",\"text\":\"对应值集\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SQL\",\"id\":\"dy_sql_col1\",\"text\":\"对应SQL\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"sfqy_col1\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"是否启用\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_ID\",\"id\":\"id1\",\"text\":\"参数ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_CODE\",\"id\":\"jzbm2\",\"text\":\"值集编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"appNameGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_AN\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_ID\",\"id\":\"APP_ID\",\"text\":\"应用ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME\",\"text\":\"应用名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"userNameGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_UN\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"USER_ID\",\"text\":\"用户ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USER_NAME\",\"text\":\"用户名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"roleNameGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_RN\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"ROLE_NAME\",\"text\":\"角色名称\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_CODE\",\"id\":\"ROLE_CODE\",\"text\":\"角色编码\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"ROLE_ID\",\"text\":\"角色ID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"valNameGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_VN\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VCODE\",\"id\":\"VCODE\",\"text\":\"值编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VNAME\",\"id\":\"VNAME\",\"text\":\"值名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"valNameGridColumns2\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VCODE\",\"id\":\"VCODE_\",\"text\":\"值编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VNAME\",\"id\":\"VNAME_\",\"text\":\"值名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"valNameGridColumns1\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VCODE\",\"id\":\"VCODE_1\",\"text\":\"值编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VNAME\",\"id\":\"VNAME_1\",\"text\":\"值名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"plantFormGridColumns_none\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_PF\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_NAME\",\"id\":\"PARAM_NAME_PF\",\"text\":\"参数名称\",\"width\":\"260\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL\",\"id\":\"VAL_PF\",\"text\":\"参数值\",\"width\":\"260\",\"editor\":\"pValue\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE_FLAG\",\"id\":\"ENABLE_FLAG_PF\",\"renderer\":\"if(value === \\\"Y\\\"||value===''){\\n  return \\\"是\\\";\\n}else{\\n  return \\\"否\\\";\\n}\",\"text\":\"是否启用\",\"flex\":\"1\",\"editor\":\"pEnable\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_ID\",\"id\":\"PARAM_ID_PF\",\"text\":\"参数ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PARAM_VAL_ID\",\"id\":\"PARAM_VAL_ID_PF\",\"text\":\"ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_CODE\",\"id\":\"VAL_CODE_PF\",\"text\":\"VAL_CODE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SET_CODE2\",\"id\":\"VAL_SET_CODE2_PF\",\"text\":\"VAL_SET_CODE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_SQL\",\"id\":\"VAL_SQL_PF\",\"text\":\"VAL_SQL\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_NAME\",\"id\":\"VAL_NAME_PF\",\"text\":\"VAL_NAME\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"valNameGridColumns3\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO_V1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VCODE\",\"id\":\"VCODE_V1\",\"text\":\"值编码\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VNAME\",\"id\":\"VNAME_V1\",\"text\":\"值名称\",\"flex\":\"1\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"gridTbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"grid1tbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addbtn\",\"text\":\"新增\",\"click\":\"newWindow.setTitle('新增');\\nPARAM_CODE.enable();\\n//button2.setVisible(true);\\nplantformPanel.setDisabled(false);\\nappPanel.setDisabled(false);\\nuserPanel.setDisabled(false);\\nrolePanel.setDisabled(false);\\ncsmc.setValue('');\\nappParamName.setValue('');\\nuserParamName.setValue('');\\nroleParamName.setValue('');\\nVAL_SQL.enable();\\nif('{#SYS_MODE#}' === 'godMode'){\\n  PARAM_TYPE.setReadOnly(false);\\n}\\nnewWindow.show();\\ngetEnableFlagStore.load(function (){\\n  ENABLE_FLAG.setValue('Y');\\n  ENABLE_FLAG.setRawValue('是');\\n});\\nvalSetNameStore.load();\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"editbtn\",\"text\":\"修改\",\"click\":\"var rows = Wb.getSelRec(grid1);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}\\nif(rows.length>1){\\n  Ext.MessageBox.alert('提示', '请选择一条数据!');\\n  return;\\n}\\nelse{\\n  Wb.edit(grid1,newWindow,PARAM_ID);\\n  var record2 = grid1.getSelectionModel().getSelection();\\n  var flag=record2[0].get('ENABLE_FLAG');\\n  var val=record2[0].get('VAL_SET_NAME');\\n  var code=record2[0].get('VAL_SET_CODE');\\n  var sql=record2[0].get('VAL_SQL');\\n   if(flag==='Y'){\\n         ENABLE_FLAG.setRawValue('是');\\n   }else{\\n        ENABLE_FLAG.setRawValue('否');\\n   }\\n   valSetNameStore.load(function (){\\n     VAL_SET_NAME.setRawValue(val);\\n     VAL_SET_NAME.setValue(code);\\n  });\\n  var type=record2[0].get('PARAM_TYPE');\\n  PARAM_TYPE.setValue(type);\\n  newWindow.setTitle('修改参数');\\n  \\n  //setReadonly('PARAM_CODE',true);\\n  PARAM_CODE.disable();\\n  if(!Ext.isEmpty(code)){\\n    VAL_SQL.disable();\\n  }else{\\n     VAL_SQL.enable();\\n  }\\n  if(sql===null||sql===''){\\n    if(val===null||val===''){\\n      selectPlantformStore.getProxy().url='main?xwl=23XSWLY0BX4G';\\n      Wb.load(selectPlantformStore,{PARAM_ID:record2[0].get('PARAM_ID')});\\n      appStore.getProxy().url='main?xwl=23XSWLY0BXGM';\\n      Wb.load(appStore,{PARAM_ID:record2[0].get('PARAM_ID')});\\n      roleStore.getProxy().url='main?xwl=23XSWLY0BXDP';\\n      Wb.load(roleStore,{PARAM_ID:record2[0].get('PARAM_ID')});\\n      userStore.getProxy().url='main?xwl=23XSWLY0BXF4';\\n      Wb.load(userStore,{PARAM_ID:record2[0].get('PARAM_ID')});\\n      \\n      \\n    }else{\\n      selectPlantformStore.getProxy().url='main?xwl=23WY5BHMORO0';\\n      Wb.load(selectPlantformStore,{PARAM_ID:record2[0].get('PARAM_ID')});\\n      appStore.getProxy().url='main?xwl=23WY5BHMORNV';\\n      Wb.load(appStore,{PARAM_ID:record2[0].get('PARAM_ID')});\\n      roleStore.getProxy().url='main?xwl=23WY5BHMOROA';\\n      Wb.load(roleStore,{PARAM_ID:record2[0].get('PARAM_ID')});\\n      userStore.getProxy().url='main?xwl=23WY5BHMOROD';\\n      Wb.load(userStore,{PARAM_ID:record2[0].get('PARAM_ID')});\\n    }\\n       \\n    \\n  }else{\\n    \\n    //改变STORE的来源SQL\\n    var column=sql.split('VCODE');\\n    var co_sql=column[0].split(',');\\n    if(co_sql.length>1){\\n      var _co_sql=co_sql[1].trim();\\n    }else{\\n      var _co_sql=co_sql[0].trim().split(' ')[1];\\n    }\\n    selectPlantformStore.getProxy().url='main?xwl=23WYSJFPDAS0';\\n    Wb.load(selectPlantformStore,{_sql:sql,PARAM_ID:record2[0].get('PARAM_ID')});\\n    appStore.getProxy().url='main?xwl=23WZPVCKUCLY';\\n    Wb.load(appStore,{_sql:sql,PARAM_ID:record2[0].get('PARAM_ID')});\\n    roleStore.getProxy().url='main?xwl=23WZPVCKUCLA';\\n    Wb.load(roleStore,{_sql:sql,PARAM_ID:record2[0].get('PARAM_ID')});\\n    userStore.getProxy().url='main?xwl=23WZPVCKUCLL';\\n    Wb.load(userStore,{_sql:sql,PARAM_ID:record2[0].get('PARAM_ID')});\\n    \\n    \\n    \\n  }\\n  newWindow.show();\\n    \\n    \\n    \\n}\\n\\n var record=grid1.getSelectionModel().getSelection();\\n   var param_name=record[0].get('PARAM_NAME');\\n   var param_type=record[0].get('PARAM_TYPE');\\n  if(param_type=='S'){\\n   appPanel.setDisabled(true);\\n   userPanel.setDisabled(true);\\n   rolePanel.setDisabled(true);\\n    plantformPanel.setDisabled(false);\\n    csmc.setValue(param_name);\\n    //selectPlantformStore.load();\\n\\n  }else{\\n    plantformPanel.setDisabled(false);\\n    appPanel.setDisabled(false);\\n    userPanel.setDisabled(false);\\n    rolePanel.setDisabled(false);\\n\\n  }\\n  \\n  csmc.setValue(param_name);\\n  appParamName.setValue(param_name);\\n  userParamName.setValue(param_name);\\n  roleParamName.setValue(param_name);\\n  //param_id赋值\\n   var param_id=record[0].get('PARAM_ID');\\n// 重新加载4个级的STORE\\n   Wb.load(selectPlantformStore,{PARAM_ID:param_id});\\n   Wb.load(appStore,{PARAM_ID:param_id});\\n   Wb.load(roleStore,{PARAM_ID:param_id});\\n   Wb.load(userStore,{PARAM_ID:param_id});\\n   \\n // var val_set_code=record[0].get('VAL_SET_CODE');\\n  PARAMID.setValue(param_id);  \\n   PARAMID1.setValue(param_id); \\n   PARAMID11.setValue(param_id); \\n  //sql\\n  var sql=record[0].get('VAL_SQL');\\n  VALSQL3.setValue(sql);\\n  VALSQL2.setValue(sql);\\n  VALSQL4.setValue(sql);\\n  VALSQL1.setValue(sql);\\n \\n  //参数值\\n  var val_set_code=record[0].get('VAL_SET_CODE');\\n  Wb.load(valAppStore,{val_set_code:val_set_code});\\n  //val_set_code\\n  VALCODE.setValue(val_set_code);\\n   VALCODE1.setValue(val_set_code);\\n   VALCODE2.setValue(val_set_code);\\n  // grid1paramSetWindow.show();\\n/*\\n   var cs;\\n   for(var h=0;h<select_none_plantformstore.getCount();h++){\\n        var name=select_none_plantformstore.getAt(h).get('PARAM_NAME');\\n        var param_val_id=select_none_plantformstore.getAt(h).get('PARAM_VAL_ID');\\n        var val=select_none_plantformstore.getAt(h).get('VAL');\\n        var val_name=select_none_plantformstore.getAt(h).get('VAL_NAME');\\n        var val_set_code=select_none_plantformstore.getAt(h).get('VAL_SET_CODE2');\\n       var sql2=select_none_plantformstore.getAt(h).get('VAL_SQL');\\n       if(param_name===name){\\n         if(val_name===null||val_name===''){\\n           var record={VAL:val,VAL_SQL:sql2,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,PARAM_ID:param_id,PARAM_NAME:param_name};\\n           \\n         }else{\\n           var record={VAL_CODE:val,VAL:val_name,VAL_SQL:sql2,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,PARAM_ID:param_id,PARAM_NAME:param_name};\\n         }\\n         \\n          cs=1;\\n          selectPlantformStore.add(record);\\n          //select_none_plantformstore.load();\\n         break;\\n       \\n       }else{\\n         cs=0;\\n       }\\n   }\\n  if(cs===0){\\n    //alert(val_set_code);\\n    var record={VAL_SQL:sql,VAL_SET_CODE:record[0].get('VAL_SET_CODE'),ENABLE_FLAG:'Y',PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n     selectPlantformStore.add(record);\\n  }\\n//判断应用 有数据 显示出来\\n\\n  for(var h=0;h<store2.getCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var  param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n       \\n       \\n        var  val_level=store2.getAt(h).get('VAL_LEVEL');\\n        if(param_id==param_id2&&val_level=='A'){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n          var val_code=store2.getAt(h).get('VAL');\\n          //alert(val_name);\\n          var appName;\\n          for(var k=0;k<selectAppStore.getCount();k++){\\n            var app_id=selectAppStore.getAt(k).get('APP_ID');\\n            var app_name=selectAppStore.getAt(k).get('APP_NAME');\\n            if(target_id2==app_id){\\n               appName=app_name;\\n               break;\\n            }\\n          \\n           }\\n          if(val_name===null||val_name===''){\\n              var record={VAL_SQL:sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,APP_NAME:appName};\\n              appFormGrid.getStore().add(record);\\n          }else{\\n              //alert(888);\\n          \\n              var record={VAL_SQL:sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,APP_NAME:appName};\\n              appFormGrid.getStore().add(record);\\n          }\\n          \\n        }else{\\n          bll=0;\\n        }\\n       \\n      }\\n\\n//判断角色\\n\\n   for(var h=0;h<store2.getCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var  param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        var  val_level=store2.getAt(h).get('VAL_LEVEL');\\n        if(param_id==param_id2&&val_level=='R'){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n          var val_code=store2.getAt(h).get('VAL');\\n          var roleName;\\n          for(var k=0;k<selectRoleStore.getCount();k++){\\n            var role_id=selectRoleStore.getAt(k).get('ROLE_ID');\\n            var role_name=selectRoleStore.getAt(k).get('ROLE_NAME');\\n            if(target_id2==role_id){\\n               roleName=role_name;\\n            }\\n          \\n          }\\n          if(val_name===null||val_name===''){\\n              var record={VAL_SQL:sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,ROLE_NAME:roleName};\\n              roleFormGrid.getStore().add(record);\\n            \\n          }else{\\n              var record={VAL_SQL:sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,ROLE_NAME:roleName};\\n              roleFormGrid.getStore().add(record);\\n          }\\n          \\n        }else{\\n          bll=0;\\n        }\\n        \\n      } \\n\\n//判断用户\\nfor(var h=0;h<store2.getCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var  param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        var  val_level=store2.getAt(h).get('VAL_LEVEL');\\n        if(param_id==param_id2&&val_level=='U'){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n          var val_code=store2.getAt(h).get('VAL');\\n          var userName;\\n          for(var k=0;k<selectUserStore.getCount();k++){\\n             var user_id=selectUserStore.getAt(k).get('USER_ID');\\n             var user_name=selectUserStore.getAt(k).get('USER_NAME');\\n             if(target_id2==user_id){\\n                userName=user_name;\\n             }\\n          \\n          }\\n          if(val_name===null||val_name===''){\\n              var record={VAL_SQL:sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,USER_NAME:userName};\\n              userFormGrid.getStore().add(record);\\n          }else{\\n              var record={VAL_SQL:sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,USER_NAME:userName};\\n              userFormGrid.getStore().add(record);\\n          }\\n          \\n          \\n        }else{\\n          bll=0;\\n        }\\n       \\n        \\n      } \\n      */\\ntabPanel1.setActiveTab(0);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"rename_icon\",\"id\":\"paramsetbtn\",\"text\":\"参数设置\",\"hidden\":\"true\",\"click\":\"var rows = Wb.getSelRec(grid1);\\nif (Ext.isEmpty(rows)) {\\n  Ext.MessageBox.alert('提示', '您没有选中任何数据!');\\n  return;\\n}\\nif(rows.length>1){\\n  Ext.MessageBox.alert('提示', '请选择一条数据!');\\n  return;\\n}\\nelse{\\n   var record=grid1.getSelectionModel().getSelection();\\n   var param_name=record[0].get('PARAM_NAME');\\n   var param_type=record[0].get('PARAM_TYPE');\\n  if(param_type=='S'){\\n   appPanel.setDisabled(true);\\n   userPanel.setDisabled(true);\\n   rolePanel.setDisabled(true);\\n    plantformPanel.setDisabled(false);\\n    csmc.setValue(param_name);\\n    //selectPlantformStore.load();\\n   \\n    \\n  }else{\\n    plantformPanel.setDisabled(false);\\n    appPanel.setDisabled(false);\\n    userPanel.setDisabled(false);\\n    rolePanel.setDisabled(false);\\n    \\n    \\n  }\\n  \\n  csmc.setValue(param_name);\\n  appParamName.setValue(param_name);\\n  userParamName.setValue(param_name);\\n  roleParamName.setValue(param_name);\\n  //param_id赋值\\n   var param_id=record[0].get('PARAM_ID');\\n // var val_set_code=record[0].get('VAL_SET_CODE');\\n  //alert(val_set_code);\\n  PARAMID.setValue(param_id);  \\n   PARAMID1.setValue(param_id); \\n   PARAMID11.setValue(param_id); \\n  //sql\\n  var sql=record[0].get('VAL_SQL');\\n  //alert(sql);\\n  VALSQL3.setValue(sql);\\n  VALSQL2.setValue(sql);\\n  VALSQL4.setValue(sql);\\n  VALSQL1.setValue(sql);\\n \\n  //参数值\\n  var val_set_code=record[0].get('VAL_SET_CODE');\\n  Wb.load(valAppStore,{val_set_code:val_set_code});\\n  //val_set_code\\n  VALCODE.setValue(val_set_code);\\n   VALCODE1.setValue(val_set_code);\\n   VALCODE2.setValue(val_set_code);\\n   grid1paramSetWindow.show();\\n   var cs;\\n   for(var h=0;h<select_none_plantformstore.getCount();h++){\\n        var name=select_none_plantformstore.getAt(h).get('PARAM_NAME');\\n        var param_val_id=select_none_plantformstore.getAt(h).get('PARAM_VAL_ID');\\n        var val=select_none_plantformstore.getAt(h).get('VAL');\\n        var val_name=select_none_plantformstore.getAt(h).get('VAL_NAME');\\n        var val_set_code=select_none_plantformstore.getAt(h).get('VAL_SET_CODE2');\\n       var sql2=select_none_plantformstore.getAt(h).get('VAL_SQL');\\n       if(param_name===name){\\n         if(val_name===null||val_name===''){\\n           var record={VAL:val,VAL_SQL:sql2,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,PARAM_ID:param_id,PARAM_NAME:param_name};\\n           \\n         }else{\\n           var record={VAL_CODE:val,VAL:val_name,VAL_SQL:sql2,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,PARAM_ID:param_id,PARAM_NAME:param_name};\\n         }\\n         \\n          cs=1;\\n          selectPlantformStore.add(record);\\n          //select_none_plantformstore.load();\\n         break;\\n       \\n       }else{\\n         cs=0;\\n       }\\n   }\\n  if(cs===0){\\n    //alert(val_set_code);\\n    var record={VAL_SQL:sql,VAL_SET_CODE:record[0].get('VAL_SET_CODE'),ENABLE_FLAG:'Y',PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n     selectPlantformStore.add(record);\\n  }\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\",\"hidden\":\"true\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"deletebtn\",\"text\":\"删除\",\"click\":\"var rows=Wb.getSelRec(grid1);\\nvar record=grid1.getSelectionModel().getSelection();\\nfor(var i=0;i<rows.length;i++){\\n  if(record[i].data.PARAM_TYPE==='S'){\\n    Ext.MessageBox.alert('提示','系统数据不能删除！');\\n    return;\\n    \\n  }\\n}\\nif(Ext.isEmpty(rows)){\\n  Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n}\\nelse{\\n   Ext.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n    delete_grid1_ajax.request();\\n    \\n    }else{\\n      return false ;\\n    }\\n   \\n   });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"plantFormGridtbar\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"set_icon\",\"id\":\"platbtn\",\"text\":\"添加\",\"click\":\"if(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n   Ext.Msg.alert('提示','请先填写参数信息！');\\n}else{\\nvar count=plantFormGrid.getStore().getCount();\\nif(count===0){\\n  var param_name=PARAM_NAME.getValue();\\n  var val_set_name=VAL_SET_NAME.getValue();\\n  var val_sql=VAL_SQL.getValue();\\n  var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_name,ENABLE_FLAG:'Y',PARAM_NAME:param_name,PARAM_ID:PARAM_ID.getValue()};\\n  selectPlantformStore.add(record);\\n}\\n}\\n        \\n          \\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"platDeleteBtn\",\"text\":\"删除\",\"click\":\"var rows=Wb.getSelRec(plantFormGrid);\\nif(PARAM_TYPE.getValue()==='S' && '{#SYS_MODE#}' !== 'godMode'){\\n    Ext.MessageBox.alert('提示','系统数据不能删除！');\\n    return;   \\n}\\nif(Ext.isEmpty(rows)){\\n   Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n   return ;\\n }\\nWb.confirm('确认删除所选记录？',function(){\\n  delete_platFormGrid_ajax.request();\\n});\\n\\n\\n  \\n\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"roleFormGridtbar\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"set_icon\",\"id\":\"rolebtn1\",\"text\":\"选择角色\",\"click\":\"\\nif(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n   Ext.Msg.alert('提示','请先填写参数信息！');\\n}else{\\n  roleNamewindow.show();\\n  Wb.reload(selectRoleStore);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"roleDeleteBtn\",\"text\":\"删除\",\"click\":\"var rows=Wb.getSelRec(roleFormGrid);\\nif(Ext.isEmpty(rows)){\\n   Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n   return ;\\n }\\nWb.confirm('确认删除所选记录？',function(){\\n  delete_roleFormGrid_ajax.request();\\n});\\n\\n\\n  \\n\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"userFormGridtbar\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"userbtn1\",\"text\":\"选择用户\",\"click\":\"if(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n   Ext.Msg.alert('提示','请先填写参数信息！');\\n}else{\\n  userNamewindow.show();\\n  Wb.reload(selectUserStore);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"userDeleteBtn\",\"text\":\"删除\",\"click\":\"var rows=Wb.getSelRec(userFormGrid);\\nif(Ext.isEmpty(rows)){\\n   Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n   return ;\\n }\\nWb.confirm('确认删除所选记录？',function(){\\n  delete_userFormGrid_ajax.request();\\n});\\n\\n\\n\\n\\n\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"appFormGridtbar\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"appbtn1\",\"text\":\"选择应用\",\"click\":\"if(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n   Ext.Msg.alert('提示','请先填写参数信息！');\\n}else{\\n  appNamewindow.show();\\n  Wb.reload(selectAppStore);\\n}\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"appDeleteBtn\",\"text\":\"删除\",\"click\":\"var rows=Wb.getSelRec(appFormGrid);\\nif(Ext.isEmpty(rows)){\\n   Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n   return ;\\n }\\n\\nWb.confirm('确认删除所选记录？',function(){\\n  delete_appFormGrid_ajax.request();\\n});\\n\\n  \\n\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"roleNamewindow\",\"title\":\"角色列表\",\"height\":\"300\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"520\",\"buttons\":\"rolebtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"roleNameForm\",\"height\":\"60\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet5\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色名称/编码\",\"id\":\"rolename\",\"labelWidth\":\"90\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"selectRoleStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button9\",\"text\":\"查询\",\"x\":\"200\",\"click\":\"selectRoleStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"selectRoleStore\",\"columns\":\"roleNameGridColumns\",\"height\":\"200\",\"region\":\"center\",\"id\":\"roleNameGrid\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"userNamewindow\",\"title\":\"用户列表\",\"height\":\"300\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"520\",\"buttons\":\"userbtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"userNameForm\",\"height\":\"60\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet6\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名称\",\"id\":\"username\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   usernameUpper.setValue(username.getValue().toUpperCase());\\n   selectUserStore.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button10\",\"text\":\"查询\",\"x\":\"200\",\"click\":\"usernameUpper.setValue(username.getValue().toUpperCase());\\nselectUserStore.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名称\",\"id\":\"usernameUpper\",\"labelWidth\":\"60\",\"width\":\"200\",\"hidden\":\"true\",\"labelAlign\":\"left\",\"specialkey\":\"selectUserStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"selectUserStore\",\"columns\":\"userNameGridColumns\",\"height\":\"200\",\"region\":\"center\",\"id\":\"userNameGrid\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"appNamewindow\",\"title\":\"应用列表\",\"height\":\"300\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"520\",\"buttons\":\"appbtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"appNameForm\",\"height\":\"60\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet4\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用名称\",\"id\":\"appname\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"selectAppStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button8\",\"text\":\"查询\",\"x\":\"200\",\"click\":\"selectAppStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"selectAppStore\",\"columns\":\"appNameGridColumns\",\"height\":\"200\",\"region\":\"center\",\"id\":\"appNameGrid\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"none_window\",\"height\":\"260\",\"width\":\"380\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store2\",\"columns\":\"grid2Columns\",\"id\":\"grid2\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"PVwindow\",\"title\":\"值列表\",\"height\":\"300\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"520\",\"buttons\":\"PVbtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"valForm\",\"height\":\"60\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet51\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"值名称\",\"id\":\"valname\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"valAppStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button91\",\"text\":\"查询\",\"x\":\"200\",\"click\":\"valAppStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"valAppStore\",\"columns\":\"valNameGridColumns\",\"height\":\"200\",\"region\":\"center\",\"id\":\"valNameGrid\",\"multiSelect\":\"false\",\"simpleSelect\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"PVwindow1\",\"title\":\"值列表\",\"height\":\"300\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"520\",\"buttons\":\"PVbtn1\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"valForm1\",\"height\":\"60\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet511\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"值名称\",\"id\":\"valname1\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"valAppStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button911\",\"text\":\"查询\",\"x\":\"200\",\"click\":\"valAppStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"valAppStore\",\"columns\":\"valNameGridColumns1\",\"height\":\"200\",\"region\":\"center\",\"id\":\"valNameGrid1\",\"multiSelect\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"PVwindow2\",\"title\":\"值列表\",\"height\":\"300\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"520\",\"buttons\":\"PVbtn2\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"valForm2\",\"height\":\"60\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet512\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"值名称\",\"id\":\"valname2\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"valAppStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button912\",\"text\":\"查询\",\"x\":\"200\",\"click\":\"valAppStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"valAppStore\",\"columns\":\"valNameGridColumns2\",\"height\":\"200\",\"region\":\"center\",\"id\":\"valNameGrid2\",\"multiSelect\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"PVwindow3\",\"title\":\"值列表\",\"height\":\"300\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"520\",\"buttons\":\"PVbtn3\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"valForm3\",\"height\":\"60\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet513\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"值名称\",\"id\":\"valname3\",\"labelWidth\":\"60\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"valAppStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"button913\",\"text\":\"查询\",\"x\":\"200\",\"click\":\"valAppStore.load();\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"valAppStore\",\"columns\":\"valNameGridColumns3\",\"height\":\"200\",\"region\":\"center\",\"id\":\"valNameGrid3\",\"multiSelect\":\"false\",\"simpleSelect\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"plant_none_window\",\"height\":\"260\",\"width\":\"380\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"select_none_plantformstore\",\"columns\":\"plantFormGridColumns_none\",\"id\":\"grid21\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1_gird11_none\",\"height\":\"260\",\"width\":\"380\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store11\",\"columns\":\"grid11columns\",\"id\":\"grid11\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"newWindow\",\"height\":\"500\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"700\",\"buttons\":\"newWindowbtn\",\"buttonAlign\":\"center\",\"show\":\"tabPanel1.setActiveTab(0);\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"form2\",\"height\":\"200\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"paramPanel\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>参数编码\",\"id\":\"PARAM_CODE\",\"height\":\"30\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>参数名称\",\"id\":\"PARAM_NAME\",\"height\":\"30\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"blur\":\"//平台级参数名赋值\\nselectPlantformStore.getAt(0).set('PARAM_NAME',PARAM_NAME.getValue());\\n//应用级\\nfor(var i=0;i<appStore.getCount();i++){\\n  appStore.getAt(i).set('PARAM_NAME',PARAM_NAME.getValue());\\n}\\n\\n//角色级\\nfor(var i=0;i<roleStore.getCount();i++){\\n  roleStore.getAt(i).set('PARAM_NAME',PARAM_NAME.getValue());\\n}\\n\\n//用户级\\nfor(var i=0;i<userStore.getCount();i++){\\n  userStore.getAt(i).set('PARAM_NAME',PARAM_NAME.getValue());\\n}\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_2_1\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"height\":\"30\",\"value\":\"U\",\"labelAlign\":\"right\",\"pickList\":\"[['S','系统'],['U','扩展']]\",\"fieldLabel\":\"参数类型\",\"id\":\"PARAM_TYPE\",\"readOnly\":\"true\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_3\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_3_1\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"参数描述\",\"id\":\"DESCRIPTION\",\"height\":\"30\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_4\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_val_set_name\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"valSetNameStore\",\"forceSelection\":\"true\",\"height\":\"30\",\"valueField\":\"CODE\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"参数来源值集\",\"id\":\"VAL_SET_NAME\",\"queryLike\":\"true\",\"displayField\":\"NAME\",\"tpl\":\"<tpl for=\\\".\\\">\\n        <div class=\\\"x-boundlist-item\\\" style=\\\"height:21px\\\">{NAME}<\\/div>\\n<\\/tpl>\",\"select\":\"if(Ext.isEmpty(VAL_SQL.getValue())){\\n     \\n  if(Ext.isEmpty(VAL_SET_NAME.getValue())){\\n    VAL_SQL.setDisabled(false);\\n//通过参数存在校验，将值集编码设置到应用参数上\\n    selectPlantformStore.each(function(platForm){\\n      platForm.set('VAL_SET_CODE',VAL_SET_NAME.getValue());\\n    });\\n    appStore.each(function(platForm){\\n      platForm.set('VAL_SET_CODE',VAL_SET_NAME.getValue());\\n    });     \\n    roleStore.each(function(platForm){\\n      platForm.set('VAL_SET_CODE',VAL_SET_NAME.getValue());\\n    });\\n    userStore.each(function(platForm){\\n      platForm.set('VAL_SET_CODE',VAL_SET_NAME.getValue());\\n    });      \\n  }else{\\n     VAL_SQL.setDisabled(true);\\n  }    \\n//============对应的SQL不为空==================== \\n}else{\\n  if(VAL_SET_NAME.getValue()!==''){\\n  Ext.Msg.confirm('提示','您确定要清空SQL,选择值集做为参数值的来源吗？',function(a){\\n    if(a=='yes'){\\n      VAL_SQL.setValue('');\\n      VAL_SQL.setDisabled(true); \\n      selectPlantformStore.each(function(platForm){\\n        platForm.set('VAL_SQL',VAL_SQL.getValue());\\n      });\\n      appStore.each(function(platForm){\\n        platForm.set('VAL_SQL',VAL_SQL.getValue());\\n      });     \\n      roleStore.each(function(platForm){\\n        platForm.set('VAL_SQL',VAL_SQL.getValue());\\n      });\\n      userStore.each(function(platForm){\\n        platForm.set('VAL_SQL',VAL_SQL.getValue());\\n      });      \\n    }else {\\n      VAL_SET_NAME.clearValue();\\n   } \\n  });\\n  }\\n}\\n\",\"beforeselect\":\"var orginalValue = VAL_SET_NAME.getValue();\\n//底部数据存在时，根据当前comobox值的有无进行校验\\nif(Ext.isEmpty(orginalValue) && !Ext.isEmpty(index)){\\n  if(selectPlantformStore.getCount()!==0){\\n      Wb.warning('平台级参数值已存在，请先删除后再修改参数值来源！');\\n      return false;\\n  }\\n  if(appStore.getCount()!==0){\\n      Wb.warning('应用级参数值已存在，请先删除后再修改参数值来源！');\\n      return false;\\n  } \\n  if(roleStore.getCount()!==0){\\n      Wb.warning('角色级参数值已存在，请先删除后再修改参数值来源！');\\n    return false;\\n  }\\n  if(userStore.getCount()!==0){\\n      Wb.warning('用户级参数值已存在，请先删除后再修改参数值来源！');\\n    return false;\\n  }  \\n}else if(!Ext.isEmpty(orginalValue) && orginalValue !==record.data.CODE){\\n  if(selectPlantformStore.getCount()!==0){\\n      Wb.warning('平台级参数值已存在，请先删除后再修改参数值来源！');\\n      return false;\\n  }\\n  if(appStore.getCount()!==0){\\n      Wb.warning('应用级参数值已存在，请先删除后再修改参数值来源！');\\n      return false;\\n  } \\n  if(roleStore.getCount()!==0){\\n      Wb.warning('角色级参数值已存在，请先删除后再修改参数值来源！');\\n    return false;\\n  }\\n  if(userStore.getCount()!==0){\\n      Wb.warning('用户级参数值已存在，请先删除后再修改参数值来源！');\\n    return false;\\n  } \\n}\\n\\n\\n\",\"blur\":\"VAL_SET_NAME.fireEvent('select');\\n      \"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_enable_flag\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"getEnableFlagStore\",\"height\":\"30\",\"valueField\":\"CODE\",\"labelAlign\":\"right\",\"pickList\":\"[['Y','是'],['N','否']]\",\"fieldLabel\":\"是否启用\",\"id\":\"ENABLE_FLAG\",\"displayField\":\"NAME\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_5\",\"height\":\"5\",\"layout\":\"column\",\"border\":\"false\",\"width\":\"600\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_5_1\",\"height\":\"50\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"600\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"对应SQL\",\"id\":\"VAL_SQL1\",\"height\":\"50\",\"width\":\"607\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"blur\":\"var sql=VAL_SQL.getValue();\\nvar json={SQL:sql};\\nsql_ajax.request(json);\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_6\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"textArea\",\"emptyText\":\"提示：SQL的列名只能是VCODE,VNAME!\",\"fieldLabel\":\"参数来源SQL\",\"id\":\"VAL_SQL\",\"height\":\"60\",\"width\":\"577\",\"labelAlign\":\"right\",\"focus\":\" if(selectPlantformStore.getCount()!==0){\\n      Wb.warning('平台级参数值已存在，请先删除后再修改参数值来源！');\\n      return false;\\n  }\\n  if(appStore.getCount()!==0){\\n      Wb.warning('应用级参数值已存在，请先删除后再修改参数值来源！');\\n      return false;\\n  } \\n  if(roleStore.getCount()!==0){\\n      Wb.warning('角色级参数值已存在，请先删除后再修改参数值来源！');\\n    return false;\\n  }\\n  if(userStore.getCount()!==0){\\n      Wb.warning('用户级参数值已存在，请先删除后再修改参数值来源！');\\n    return false;\\n  }  \",\"blur\":\"  var sql=VAL_SQL.getValue();\\n  var array=sql.split(',');\\n  if(!Ext.isEmpty(sql)){\\n    if(array.length!==2){\\n      Ext.Msg.alert('提示','请按照提示的格式填写对应的SQL');\\n      VAL_SQL.setValue('');\\n      return;\\n    }\\n  }\\n//平台级\\nif(selectPlantformStore.getCount()!==0){\\n  selectPlantformStore.getAt(0).set('VAL_SQL',VAL_SQL.getValue());\\n}\\n//应用级\\nif(appStore.getCount()!==0){\\n  for(var i=0;i<appStore.getCount();i++){\\n    appStore.getAt(i).set('VAL_SQL',VAL_SQL.getValue());\\n  }\\n}\\n//角色级\\nif(appStore.getCount()!==0){\\n    for(var i=0;i<roleStore.getCount();i++){\\n      roleStore.getAt(i).set('VAL_SQL',VAL_SQL.getValue());\\n    }\\n}\\n//用户级\\nif(userStore.getCount()!==0){\\n  for(var i=0;i<userStore.getCount();i++){\\n    userStore.getAt(i).set('VAL_SQL',VAL_SQL.getValue());\\n  }\\n}\\nif(VAL_SQL.getValue()===null||VAL_SQL.getValue()===''){\\n  if(VAL_SET_NAME.getValue()===null||VAL_SET_NAME.getValue()===''){\\n    //将4个级别的VAL_CODE清空\\n    if(selectPlantformStore.getCount()!==0){\\n      selectPlantformStore.getAt(0).set('VAL_CODE','');\\n    }\\n    //应用级\\n    if(appStore.getCount()!==0){\\n       for(var i=0;i<appStore.getCount();i++){\\n         appStore.getAt(i).set('VAL_CODE','');\\n       }\\n    }\\n    //角色级\\n    if(appStore.getCount()!==0){\\n      for(var i=0;i<roleStore.getCount();i++){\\n        roleStore.getAt(i).set('VAL_CODE','');\\n      }\\n    }\\n     //用户级\\n    if(userStore.getCount()!==0){\\n      for(var i=0;i<userStore.getCount();i++){\\n         userStore.getAt(i).set('VAL_CODE','');\\n      }\\n    }\\n    \\n    \\n  }\\n}\"}]},{\"xwlMeta\":\"text\",\"id\":\"VAL_SET_CODE\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"PARAM_ID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"button\",\"id\":\"saveBTN\",\"text\":\"保存\",\"width\":\"60\",\"hidden\":\"true\",\"x\":\"300\",\"click\":\"var flag=PARAM_ID.getValue();\\nif(flag===null||flag===''){\\n  if(PARAM_CODE.getValue()===null||PARAM_CODE.getValue()===''){\\n    if(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n      Ext.Msg.alert('提示','参数编码,参数名称不能为空！');\\n      return;\\n    }else{\\n      Ext.Msg.alert('提示','参数编码不能为空！');\\n       return;\\n    }\\n  }else{\\n      if(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n      Ext.Msg.alert('提示','参数名称不能为空！');\\n         return;\\n    }\\n  }\\n   var sql=VAL_SQL.getValue();\\n   //判断是否合法\\n // var json_sql={sql:sql};\\n // sql_isRight_ajax.request(json_sql);\\n   var array=sql.split(',');\\n   if(sql!==null&&sql!==''){\\n    if(array.length!==2){\\n       Ext.Msg.alert('提示','SQL列只能是两列！');\\n       return;\\n    }\\n  }  \\n   insert_ps_ajax.request();\\n   select_none_plantformstore.load();\\n\\n \\n}else{\\n  \\n       if(PARAM_CODE.getValue()===null||PARAM_CODE.getValue()===''){\\n    if(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n      Ext.Msg.alert('提示','参数编码,参数名称不能为空！');\\n      return;\\n    }else{\\n      Ext.Msg.alert('提示','参数编码不能为空！');\\n       return;\\n    }\\n  }else{\\n      if(PARAM_NAME.getValue()===null||PARAM_NAME.getValue()===''){\\n      Ext.Msg.alert('提示','参数名称不能为空！');\\n         return;\\n    }\\n  }\\n  var sql=VAL_SQL.getValue();\\n  //判断是否合法\\n //var json_sql={sql:sql};\\n //sql_isRight_ajax.request(json_sql);\\n\\n   var array=sql.split(',');\\n   if(sql!==null&&sql!==''){\\n    if(array.length!==2){\\n       Ext.Msg.alert('提示','SQL列只能是两列！');\\n       return;\\n    }\\n  }\\n  //更新的时候判断是系统还是扩展，系统的更新需要掉Action中的方法\\n  if(PARAM_TYPE.getValue()=='系统'){\\n    update_sys_ajax.request();\\n  }else{\\n     update_ajax1.request();\\n  }\\n  selectPlantformStore.removeAll();\\n  appStore.removeAll();\\n  roleStore.removeAll();\\n  userStore.removeAll();\\n  store2.load();\\n  \\n   var param_name=PARAM_NAME.getValue();\\n   var param_type=PARAM_TYPE.getValue();\\n  if(param_type=='系统'){\\n   appPanel.setDisabled(true);\\n   userPanel.setDisabled(true);\\n   rolePanel.setDisabled(true);\\n    plantformPanel.setDisabled(false);\\n    csmc.setValue(param_name);\\n    \\n  }else{\\n    plantformPanel.setDisabled(false);\\n    appPanel.setDisabled(false);\\n    userPanel.setDisabled(false);\\n    rolePanel.setDisabled(false);\\n    \\n  }\\n\\n  csmc.setValue(param_name);\\n  appParamName.setValue(param_name);\\n  userParamName.setValue(param_name);\\n  roleParamName.setValue(param_name);\\n  //param_id赋值\\n   var param_id=PARAM_ID.getValue();\\n   PARAMID.setValue(param_id);  \\n   PARAMID1.setValue(param_id); \\n   PARAMID11.setValue(param_id); \\n  //sql\\n  var sql=VAL_SQL.getValue();\\n  VALSQL3.setValue(sql);\\n  VALSQL2.setValue(sql);\\n  VALSQL4.setValue(sql);\\n  VALSQL1.setValue(sql);\\n  //参数值\\n  var val_set_code=VAL_SET_NAME.getValue();\\n   VALCODE.setValue(val_set_code);\\n   VALCODE1.setValue(val_set_code);\\n   VALCODE2.setValue(val_set_code);\\n   select_none_plantformstore.load();\\nvar cs;\\n   for(var h=0;h<select_none_plantformstore.getTotalCount();h++){\\n        var name=select_none_plantformstore.getAt(h).get('PARAM_NAME');\\n        var param_val_id=select_none_plantformstore.getAt(h).get('PARAM_VAL_ID');\\n        var val_set_code=select_none_plantformstore.getAt(h).get('VAL_SET_CODE2');\\n        var val=select_none_plantformstore.getAt(h).get('VAL');\\n        var val_name=select_none_plantformstore.getAt(h).get('VAL_NAME');\\n        var id=select_none_plantformstore.getAt(h).get('PARAM_ID');\\n        var val_code=select_none_plantformstore.getAt(h).get('VAL_CODE');\\n        if(param_id===id){\\n         cs=1;\\n         if(val_code===null||val_code===''){\\n            var record={VAL:val,VAL_SQL:sql,VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,PARAM_ID:param_id,PARAM_NAME:param_name};\\n         }else{\\n         var record={VAL_CODE:val,VAL_SQL:sql,VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,PARAM_ID:param_id,PARAM_NAME:param_name};\\n         }\\n          \\n          selectPlantformStore.add(record);\\n       break;\\n       \\n       }else{\\n         cs=0;\\n       }\\n   }\\nif(cs===0){\\n    var val_set_code=VAL_SET_NAME.getValue();\\n     var record={VAL_SQL:sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n          selectPlantformStore.add(record);\\n}\\n\\n}\\n//判断应用 有数据 显示出来\\n\\n  for(var h=0;h<store2.getCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var  param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        var  val_level=store2.getAt(h).get('VAL_LEVEL');\\n        if(param_id==param_id2&&val_level=='A'){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n          var val_code=store2.getAt(h).get('VAL');\\n          var appName;\\n          for(var k=0;k<selectAppStore.getCount();k++){\\n             var app_id=selectAppStore.getAt(k).get('APP_ID');\\n             var app_name=selectAppStore.getAt(k).get('APP_NAME');\\n             if(target_id2==app_id){\\n                 appName=app_name;\\n             }\\n          \\n          }\\n          if(val_name===null||val_name===''){\\n              var record={VAL_SQL:sql,VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,APP_NAME:appName};\\n              appFormGrid.getStore().add(record);\\n            \\n          }else{\\n              var record={VAL_SQL:sql,VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,APP_NAME:appName};\\n              appFormGrid.getStore().add(record);\\n          }\\n          \\n        }else{\\n          bll=0;\\n        }\\n       \\n        \\n      }\\n\\n//判断角色\\n   for(var h=0;h<store2.getCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var  param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        var  val_level=store2.getAt(h).get('VAL_LEVEL');\\n        if(param_id==param_id2&&val_level=='R'){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n          var val_code=store2.getAt(h).get('VAL');\\n          var roleName;\\n          for(var k=0;k<selectRoleStore.getCount();k++){\\n            var role_id=selectRoleStore.getAt(k).get('ROLE_ID');\\n            var role_name=selectRoleStore.getAt(k).get('ROLE_NAME');\\n            if(target_id2==role_id){\\n                roleName=role_name;\\n            }\\n          \\n          }\\n          if(val_name===null||val_name===''){\\n              var record={VAL_SQL:sql,VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,ROLE_NAME:roleName};\\n              roleFormGrid.getStore().add(record);\\n            \\n          }else{\\n              var record={VAL_SQL:sql,VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,ROLE_NAME:roleName};\\n              roleFormGrid.getStore().add(record);\\n \\n          }    \\n          \\n        }else{\\n          bll=0;\\n        }\\n        \\n      } \\n\\n//判断用户\\nfor(var h=0;h<store2.getCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var  param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        var  val_level=store2.getAt(h).get('VAL_LEVEL');\\n        if(param_id==param_id2&&val_level=='U'){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n          var val_code=store2.getAt(h).get('VAL');\\n          var userName;\\n          for(var k=0;k<selectUserStore.getCount();k++){\\n            var user_id=selectUserStore.getAt(k).get('USER_ID');\\n            var user_name=selectUserStore.getAt(k).get('USER_NAME');\\n            if(target_id2==user_id){\\n                userName=user_name;\\n            }\\n          \\n          }\\n          if(val_name===null||val_name===''){\\n              var record={VAL_SQL:sql,VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,USER_NAME:userName};\\n              userFormGrid.getStore().add(record);\\n            \\n          }else{\\n              var record={VAL_SQL:sql,VAL_SET_CODE:VAL_SET_NAME.getValue(),ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id2,TARGET_ID:target_id2,PARAM_NAME:param_name,USER_NAME:userName};\\n              userFormGrid.getStore().add(record);\\n \\n          }\\n          \\n        }else{\\n          bll=0;\\n        }\\n       \\n        \\n      } \"}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"tabPanel1\",\"border\":\"false\",\"activeTab\":\"0\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"plantformPanel\",\"title\":\"平台级\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"plantForm\",\"height\":\"80\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet2\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"参数名称\",\"id\":\"csmc\",\"labelWidth\":\"80\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"plantformQuerybtn\",\"text\":\"查询\",\"x\":\"15\",\"click\":\"//selectPlantformStore.load();\\nselectPlantformStore.removeAll();\\nvar record=grid1.getSelectionModel().getSelection();\\nvar csmc=Ext.getCmp('csmc').getValue();\\nvar val_sql=Ext.getCmp('VALSQL1').getValue();\\n//alert(csmc);\\nvar bl;\\n for(var l=0;l<grid11.getStore().getCount();l++){\\n      var param_type=grid11.getStore().getAt(l).get('PARAM_TYPE');\\n      //if(param_type=='U'){\\n        var param_id=grid11.getStore().getAt(l).get('PARAM_ID');\\n        var param_name=grid11.getStore().getAt(l).get('PARAM_NAME');\\n        var  vsc=grid11.getStore().getAt(l).get('VAL_SET_CODE');\\n        var  val_sql1=grid11.getStore().getAt(l).get('VAL_SQL');\\n        \\n        if(csmc==param_name){\\n         //alert(1);\\n           \\n          var bll;\\n          \\n            for(var h=0;h<select_none_plantformstore.getTotalCount();h++){\\n                       var param_id2=select_none_plantformstore.getAt(h).get('PARAM_ID');\\n                      \\n                       if(param_id==param_id2){\\n                      bll=1;\\n                      var param_val_id=select_none_plantformstore.getAt(h).get('PARAM_VAL_ID');\\n                      var val_code=select_none_plantformstore.getAt(h).get('VAL');\\n                        // alert(val_code);\\n                      var val_name=select_none_plantformstore.getAt(h).get('VAL_NAME');\\n                        // alert(val_name);\\n                      var val_set_code=select_none_plantformstore.getAt(h).get('VAL_SET_CODE2');\\n        \\n                         if(val_name===null||val_name===''){\\n                              \\n                            var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,PARAM_ID:param_id,VAL:val_code,PARAM_NAME:param_name};\\n          \\n                            selectPlantformStore.add(record);\\n                         }else{\\n                           var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n                            selectPlantformStore.add(record);\\n                         }\\n          \\n                       }\\n        \\n                }\\n          if(bll==1){\\n            break;\\n          }\\n        var record={VAL_SQL:val_sql,VAL_SET_CODE:vsc,ENABLE_FLAG:'Y',PARAM_ID:param_id,PARAM_NAME:param_name};\\n         \\n        selectPlantformStore.add(record);\\n          break;\\n        }\\n        if(csmc===null||csmc===''){\\n          //alert(2);\\n               \\n          \\n          \\n                for(var h=0;h<select_none_plantformstore.getTotalCount();h++){\\n                       var param_id2=select_none_plantformstore.getAt(h).get('PARAM_ID');\\n                      \\n                       if(param_id==param_id2){\\n                      bl=1;\\n                      var param_val_id=select_none_plantformstore.getAt(h).get('PARAM_VAL_ID');\\n                      var val_code=select_none_plantformstore.getAt(h).get('VAL');\\n                        // alert(val_code);\\n                           var val_name=select_none_plantformstore.getAt(h).get('VAL_NAME');\\n                      var val_set_code=select_none_plantformstore.getAt(h).get('VAL_SET_CODE2');\\n                      var val_sql2=select_none_plantformstore.getAt(h).get('VAL_SQL');\\n        \\n                         if(val_name===null||val_name===''){\\n                                 var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n                              selectPlantformStore.add(record);\\n                         }\\n                         else{\\n                         var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n                           selectPlantformStore.add(record);\\n                         }\\n                         break;\\n          \\n                       }else{\\n                            bl=0;  \\n                       }\\n        \\n                }\\n          \\n          if(bl==1){\\n            continue;\\n          }\\n          var record={VAL_SQL:val_sql1,VAL_SET_CODE:vsc,ENABLE_FLAG:'Y',PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n          selectPlantformStore.add(record);\\n        }\\n     // }\\n }\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"plantformResetbtn\",\"text\":\"重置\",\"x\":\"30\",\"click\":\"plantForm.form.reset();\\nselectPlantformStore.removeAll();\\n\\nvar csmc=Ext.getCmp('csmc').getValue();\\nvar bl;\\n for(var l=0;l<grid11.getStore().getCount();l++){\\n      var param_type=grid11.getStore().getAt(l).get('PARAM_TYPE');\\n      //if(param_type=='U'){\\n        var param_id=grid11.getStore().getAt(l).get('PARAM_ID');\\n        var param_name=grid11.getStore().getAt(l).get('PARAM_NAME');\\n        var   vsc=grid11.getStore().getAt(l).get('VAL_SET_CODE');\\n        var  val_sql1=grid11.getStore().getAt(l).get('VAL_SQL');\\n        \\n      \\n        if(csmc===null||csmc===''){\\n          //alert(2);\\n               \\n          \\n          \\n                for(var h=0;h<select_none_plantformstore.getTotalCount();h++){\\n                       var param_id2=select_none_plantformstore.getAt(h).get('PARAM_ID');\\n                      \\n                       if(param_id==param_id2){\\n                      bl=1;\\n                      var param_val_id=select_none_plantformstore.getAt(h).get('PARAM_VAL_ID');\\n                      var val_code=select_none_plantformstore.getAt(h).get('VAL');\\n                        // alert(val_code);\\n                           var val_name=select_none_plantformstore.getAt(h).get('VAL_NAME');\\n                      var val_set_code=select_none_plantformstore.getAt(h).get('VAL_SET_CODE2');\\n                      var val_sql2=select_none_plantformstore.getAt(h).get('VAL_SQL');\\n        \\n                         if(val_name===null||val_name===''){\\n                                 var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_code,PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n                              selectPlantformStore.add(record);\\n                         }\\n                         else{\\n                         var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n                           selectPlantformStore.add(record);\\n                         }\\n                         break;\\n          \\n                       }else{\\n                            bl=0;  \\n                       }\\n        \\n                }\\n          \\n          if(bl==1){\\n            continue;\\n          }\\n          var record={VAL_SQL:val_sql1,VAL_SET_CODE:vsc,ENABLE_FLAG:'Y',PARAM_ID:param_id,PARAM_NAME:param_name};\\n          \\n          selectPlantformStore.add(record);\\n        }\\n     // }\\n }\"},{\"xwlMeta\":\"text\",\"id\":\"VALSQL1\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"selectPlantformStore\",\"columns\":\"plantFormGridColumns\",\"height\":\"100\",\"exportExcel\":\"false\",\"border\":\"false\",\"width\":\"700\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"plantFormGrid\",\"tbar\":\"plantFormGridtbar\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"appPanel\",\"title\":\"应用级\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"appForm\",\"height\":\"80\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet3\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"参数名称\",\"id\":\"appParamName\",\"labelWidth\":\"80\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用名称\",\"id\":\"appNa\",\"labelWidth\":\"80\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"button5\",\"width\":\"25\",\"x\":\"-5\",\"click\":\"appNamewindow.show();\\n\\nWb.reload(selectAppStore);\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"appQuerybtn\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"//清空GRID\\nappFormGrid.getStore().removeAll();\\nvar i=Ext.getCmp('appNa').getValue();\\nvar j=Ext.getCmp('appParamName').getValue();\\n \\nvar paramid=Ext.getCmp('PARAMID').getValue();\\nvar appid=Ext.getCmp('APPID').getValue();\\nvar val_set_code=Ext.getCmp('VALCODE1').getValue();\\nvar val_sql=Ext.getCmp('VALSQL4').getValue();\\nif(i===null||i===''){\\n   Ext.MessageBox.alert('提示', '请选择应用名称!');\\n}else{\\n  if(j===null||j===''){\\n    //循环遍历grid1（new一个不分页的grid）找到参数类型为U\\n    for(var l=0;l<grid11.getStore().getCount();l++){\\n      var param_type=grid11.getStore().getAt(l).get('PARAM_TYPE');\\n      if(param_type=='U'){\\n        var param_id=grid11.getStore().getAt(l).get('PARAM_ID');\\n        var param_name=grid11.getStore().getAt(l).get('PARAM_NAME');\\n        var val_set_code2=grid11.getStore().getAt(l).get('VAL_SET_CODE');\\n        var val_sql2=grid11.getStore().getAt(l).get('VAL_SQL');\\n        var array=i.split(',');\\n        var ar=appid.split(',');\\n         //Ext.getCmp('appNa').setValue(array[0]);\\n       var bl;\\n        for(var k=0;k<array.length;k++){\\n    \\n         // var record={PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,APP_NAME:array[k]};\\n          //appFormGrid.getStore().add(record);\\n             for(var h=0;h<store2.getTotalCount();h++){\\n                       var param_id2=store2.getAt(h).get('PARAM_ID');\\n                      var target_id2=store2.getAt(h).get('TARGET_ID');\\n                       if(param_id==param_id2&&ar[k]==target_id2){\\n                      bl=1;\\n                      var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n                      var val_name=store2.getAt(h).get('VAL_NAME');\\n                      var val_code=store2.getAt(h).get('VAL');\\n                     var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,APP_NAME:array[k]};\\n                     appFormGrid.getStore().add(record);\\n                      break;\\n          \\n                       }else{\\n                         bl=0;\\n                       }\\n        \\n           }\\n      if(bl==1){\\n                    continue;\\n               }\\n       var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,APP_NAME:array[k]};\\n          \\n          appFormGrid.getStore().add(record);\\n    } \\n        \\n      }\\n    }\\n    \\n    \\n  }else{\\n     var array=i.split(',');\\n     var ar=appid.split(',');\\n     //Ext.getCmp('appNa').setValue(array[0]);\\n     var bll;\\n    for(var k=0;k<array.length;k++){\\n      \\n      //var record={PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,APP_NAME:array[k]};\\n      //appFormGrid.getStore().add(record);\\n      //判断此条数据是否存于数据库\\n      for(var h=0;h<store2.getTotalCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        if(paramid==param_id2&&ar[k]==target_id2){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n          var val_code=store2.getAt(h).get('VAL');\\n          var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,APP_NAME:array[k]};\\n          appFormGrid.getStore().add(record);\\n          break;\\n          \\n        }else{\\n          bll=0;\\n        }\\n       \\n        \\n      }\\n      if(bll==1){\\n                    continue;\\n               }\\n       var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,APP_NAME:array[k]};\\n          \\n          appFormGrid.getStore().add(record);\\n    } \\n  }\\n}\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"appResetbtn\",\"text\":\"重置\",\"x\":\"20\",\"click\":\"appForm.form.reset();\\nappFormGrid.getStore().removeAll();\"},{\"xwlMeta\":\"text\",\"id\":\"PARAMID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"APPID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"VALCODE1\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"VALSQL4\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"appStore\",\"columns\":\"appFormGridColumns\",\"height\":\"100\",\"border\":\"false\",\"width\":\"700\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"appFormGrid\",\"tbar\":\"appFormGridtbar\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"rolePanel\",\"title\":\"角色级\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"roleForm\",\"height\":\"80\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet31\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"参数名称\",\"id\":\"roleParamName\",\"labelWidth\":\"80\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"���色名称\",\"id\":\"roleNA\",\"labelWidth\":\"80\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"button6\",\"width\":\"25\",\"x\":\"-5\",\"click\":\"roleNamewindow.show();\\nWb.reload(selectRoleStore);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"roleQuerybtn\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"//清空GRID\\nroleFormGrid.getStore().removeAll();\\nvar i=Ext.getCmp('roleNA').getValue();\\nvar j=Ext.getCmp('roleParamName').getValue();\\n\\n \\nvar paramid=Ext.getCmp('PARAMID1').getValue();\\nvar roleid=Ext.getCmp('ROLEID').getValue();\\nvar val_set_code=Ext.getCmp('VALCODE').getValue();\\nvar val_sql=Ext.getCmp('VALSQL3').getValue();\\n\\nif(i===null||i===''){\\n   Ext.MessageBox.alert('提示', '请选择应用名称!');\\n}else{\\n  if(j===null||j===''){\\n    //循环遍历grid1（new一个不分页的grid）找到参数类型为U\\n    for(var l=0;l<grid11.getStore().getCount();l++){\\n      var param_type=grid11.getStore().getAt(l).get('PARAM_TYPE');\\n      if(param_type=='U'){\\n        var param_id=grid11.getStore().getAt(l).get('PARAM_ID');\\n        var param_name=grid11.getStore().getAt(l).get('PARAM_NAME');\\n        var val_set_code2=grid11.getStore().getAt(l).get('VAL_SET_CODE');\\n        var val_sql2=grid11.getStore().getAt(l).get('VAL_SQL');\\n        var array=i.split(',');\\n        var ar=roleid.split(',');\\n         //Ext.getCmp('appNa').setValue(array[0]);\\n        var  bl;\\n        for(var k=0;k<array.length;k++){\\n    \\n                for(var h=0;h<store2.getTotalCount();h++){\\n                       var param_id2=store2.getAt(h).get('PARAM_ID');\\n                       var target_id2=store2.getAt(h).get('TARGET_ID');\\n                       if(param_id==param_id2&&ar[k]==target_id2){\\n                        //  alert(11);\\n                         bl=1;\\n                          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n                          var val_name=store2.getAt(h).get('VAL_NAME');\\n                          var val_code=store2.getAt(h).get('VAL');\\n                         var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,ROLE_NAME:array[k]};\\n          \\n                           roleFormGrid.getStore().add(record);\\n                      \\n                           break;\\n                       }else{\\n                         bl=0;\\n                       }\\n                  \\n        \\n               }\\n                  if(bl==1){\\n                    continue;\\n               }\\n                  var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,ROLE_NAME:array[k]};\\n                                     roleFormGrid.getStore().add(record);\\n\\n          \\n        } \\n        \\n      }\\n    }\\n    \\n    \\n  }else{\\n     var array=i.split(',');\\n     var ar=roleid.split(',');\\n     //Ext.getCmp('appNa').setValue(array[0]);\\n    var bll;\\n    for(var k=0;k<array.length;k++){\\n      //判断此条数据是否存于数据库\\n      for(var h=0;h<store2.getTotalCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        if(paramid==param_id2&&ar[k]==target_id2){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n           var val_code=store2.getAt(h).get('VAL');\\n          //alert(param_val_id);\\n         // alert(val_name);\\n          var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,ROLE_NAME:array[k]};\\n          \\n          roleFormGrid.getStore().add(record);\\n          break;\\n          \\n        }else{\\n          bll=0;\\n        }\\n        \\n      }\\n      if(bll==1){\\n                    continue;\\n               }\\n       var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,ROLE_NAME:array[k]};\\n          \\n          roleFormGrid.getStore().add(record);\\n      \\n      \\n    } \\n  }\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"roleResetbtn\",\"text\":\"重置\",\"x\":\"20\",\"click\":\"roleForm.form.reset();\\nroleFormGrid.getStore().removeAll();\"},{\"xwlMeta\":\"text\",\"id\":\"ROLEID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"PARAMID1\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"VALCODE\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"VALSQL3\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"roleStore\",\"columns\":\"roleFormGridColumns\",\"height\":\"100\",\"border\":\"false\",\"width\":\"700\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"roleFormGrid\",\"tbar\":\"roleFormGridtbar\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"userPanel\",\"title\":\"用户级\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"userForm\",\"height\":\"80\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet32\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"参数名称\",\"id\":\"userParamName\",\"labelWidth\":\"80\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名称\",\"id\":\"userNA\",\"labelWidth\":\"80\",\"width\":\"200\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"get_icon\",\"id\":\"button7\",\"width\":\"25\",\"x\":\"-5\",\"click\":\"userNamewindow.show();\\nWb.reload(selectUserStore);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"userQuerybtn\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"//清空GRID\\nuserFormGrid.getStore().removeAll();\\nvar i=Ext.getCmp('userNA').getValue();\\nvar j=Ext.getCmp('userParamName').getValue();\\nvar paramid=Ext.getCmp('PARAMID11').getValue();\\nvar userid=Ext.getCmp('USERID').getValue();\\nvar val_set_code=Ext.getCmp('VALCODE2').getValue();\\nvar val_sql=Ext.getCmp('VALSQL2').getValue();\\nif(i===null||i===''){\\n   Ext.MessageBox.alert('提示', '请选择应用名称!');\\n}else{\\n  if(j===null||j===''){\\n    //循环遍历grid1（new一个不分页的grid）找到参数类型为U\\n    for(var l=0;l<grid11.getStore().getCount();l++){\\n      var param_type=grid11.getStore().getAt(l).get('PARAM_TYPE');\\n      if(param_type=='U'){\\n        var param_id=grid11.getStore().getAt(l).get('PARAM_ID');\\n        var param_name=grid11.getStore().getAt(l).get('PARAM_NAME');\\n        var val_set_code2=grid11.getStore().getAt(l).get('VAL_SET_CODE');\\n        var val_sql2=grid11.getStore().getAt(l).get('VAL_SQL');\\n        var array=i.split(',');\\n        var ar=userid.split(',');\\n     var bl;\\n        for(var k=0;k<array.length;k++){\\n       \\n          //var record={PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,USER_NAME:array[k]};\\n          //userFormGrid.getStore().add(record);\\n                     //判断此条数据是否存于数据库\\n                 for(var h=0;h<store2.getTotalCount();h++){\\n                           var param_id2=store2.getAt(h).get('PARAM_ID');\\n                           var target_id2=store2.getAt(h).get('TARGET_ID');\\n                            if(param_id==param_id2&&ar[k]==target_id2){\\n                            bl=1;\\n                             var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n                             var val_name=store2.getAt(h).get('VAL_NAME');\\n                             var val_code=store2.getAt(h).get('VAL');\\n          //alert(param_val_id);\\n         // alert(val_name);\\n                              var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,USER_NAME:array[k]};\\n          \\n                         userFormGrid.getStore().add(record);\\n                              break;\\n          \\n                            }else{\\n                              bl=0;\\n                            }\\n        \\n      }\\n        if(bl==1){\\n                    continue;\\n               }\\n           var record={VAL_SQL:val_sql2,VAL_SET_CODE:val_set_code2,ENABLE_FLAG:'Y',PARAM_ID:param_id,TARGET_ID:ar[k],PARAM_NAME:param_name,USER_NAME:array[k]};\\n          \\n          userFormGrid.getStore().add(record);\\n    } \\n        \\n      }\\n    }\\n    \\n    \\n  }else{\\n     var array=i.split(',');\\n     var ar=userid.split(',');\\n     //Ext.getCmp('appNa').setValue(array[0]);\\n     var bll;\\n    \\n    for(var k=0;k<array.length;k++){\\n      \\n   \\n      //var record={PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,USER_NAME:array[k]};\\n      //userFormGrid.getStore().add(record);\\n        //判断此条数据是否存于数据库\\n      for(var h=0;h<store2.getTotalCount();h++){\\n        var param_id2=store2.getAt(h).get('PARAM_ID');\\n        var target_id2=store2.getAt(h).get('TARGET_ID');\\n        if(paramid==param_id2&&ar[k]==target_id2){\\n          bll=1;\\n          var param_val_id=store2.getAt(h).get('PARAM_VAL_ID');\\n          var val_name=store2.getAt(h).get('VAL_NAME');\\n           var val_code=store2.getAt(h).get('VAL');\\n          var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_VAL_ID:param_val_id,VAL:val_name,VAL_CODE:val_code,PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,USER_NAME:array[k]};\\n          \\n         userFormGrid.getStore().add(record);\\n          break;\\n          \\n        }else{\\n          bll=0;\\n        }\\n        \\n      }\\n        if(bll==1){\\n                    continue;\\n               }\\n      \\n           var record={VAL_SQL:val_sql,VAL_SET_CODE:val_set_code,ENABLE_FLAG:'Y',PARAM_ID:paramid,TARGET_ID:ar[k],PARAM_NAME:j,USER_NAME:array[k]};\\n          \\n          userFormGrid.getStore().add(record);\\n    } \\n  }\\n}\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"userResetbtn\",\"text\":\"重置\",\"x\":\"20\",\"click\":\"userForm.form.reset();\\nuserFormGrid.getStore().removeAll();\"},{\"xwlMeta\":\"text\",\"id\":\"PARAMID11\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"USERID\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"VALCODE2\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"VALSQL2\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"userStore\",\"columns\":\"userFormGridColumns\",\"height\":\"100\",\"border\":\"false\",\"width\":\"700\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"userFormGrid\",\"tbar\":\"userFormGridtbar\",\"selType\":\"checkboxmodel\"}]}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"参数编码/名称\",\"id\":\"paramCorN\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tstore1.load();\\n}\"},{\"xwlMeta\":\"comboBox\",\"labelAlign\":\"right\",\"pickList\":\"[['S','系统'],['U','扩展']]\",\"fieldLabel\":\"参数类型\",\"id\":\"paramType\",\"labelWidth\":\"80\",\"select\":\"Wb.load(store1);\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n     Wb.load(store1);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"selectbtn\",\"textAlign\":\"center\",\"text\":\"查询\",\"click\":\"Wb.load(store1);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"resetbtn\",\"textAlign\":\"center\",\"text\":\"重置\",\"click\":\"form1.form.reset();\\nstore1.load();\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"grid1columns\",\"region\":\"center\",\"id\":\"grid1\",\"tbar\":\"grid1tbar\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"editbtn.fireEvent('click');\"}]}]}","参数管理",null,0,0,"admin","2015-05-13 09:03:18.0","23XQ4UO678F5","2015-10-27 10:09:00.0",5],["23WY5BHMORNR","23WY5BHMORNL",null,"DATA",null,1,0,"admin","2015-05-13 09:03:31.0","admin","2015-06-05 14:06:18.0",6],["23WY5BHMORNS","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"sql_isRight\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"isRight\",\"sql\":\"select count(1) as \\\"T\\\" from ({#sql#})\",\"xwlMeta\":\"query\"},{\"message\":\"SQL语句不合法！\",\"id\":\"except1\",\"xwlMeta\":\"except\",\"name\":\"isRight.T\",\"value\":\"0\",\"comparator\":\"=\"},{\"id\":\"response1\",\"text\":\"{kk:'sql不合法！'}\",\"xwlMeta\":\"response\"}],\"loginRequired\":\"false\"}","sql_isRight",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-13 09:03:31.0",38],["23WY5BHMORNT","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"getEnableFlag\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select l.VAL_CODE CODE, l.VAL_NAME NAME\\n  from xip_pub_val_set_dtl l\\n where l.VAL_SET_CODE = 'YN'\\n   and l.ENABLE_FLAG = 'Y'\",\"xwlMeta\":\"dataProvider\"}]}","getEnableFlag",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-13 09:03:31.0",22],["23WY5BHMORNU","23WY5BHMORNR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectUser\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,USER_NAME from xip_pub_users where USER_NAME like '%{#usernameUpper#}%'\"}]}","selectUser",null,0,0,"admin","2015-05-13 09:03:31.0","23XQ4UO678F5","2015-10-21 14:19:40.0",18],["23WY5BHMORNV","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"select_appStore\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VSC,null,VT.VAL,VT.VAL_NAME) VAL,\\n       DECODE(VT.VSC,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.APP_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.APP_NAME FROM XIP_PUB_APPS XPA WHERE XPA.APP_ID=X1.TARGET_ID) APP_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join XIP_PUB_VAL_SET_DTL T2 ON T.VAL=T2.VAL_CODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='A' AND VT.PARAM_ID={?PARAM_ID?}\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VSC is null,VT.VAL,VT.VAL_NAME) VAL,\\n       IF(VT.VSC is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.APP_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.APP_NAME FROM XIP_PUB_APPS XPA WHERE XPA.APP_ID=X1.TARGET_ID) APP_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join XIP_PUB_VAL_SET_DTL T2 ON T.VAL=T2.VAL_CODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='A' AND VT.PARAM_ID={?PARAM_ID?}\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","select_appStore",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-18 14:49:06.0",12],["23WY5BHMORNW","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"update_plantformParam\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_pub_param_vals\\n SET VAL={?VAL?},\\n  ENABLE_FLAG={?ENABLE_FLAG?},\\n  LAST_UPDATE_DATE={?timestamp.sys.date?},\\n  LAST_UPDATED_BY={?LAST_UPDATED_BY?}\\nwhere PARAM_VAL_ID={?PARAM_VAL_ID?}\\n\\n\",\"xwlMeta\":\"query\"}]}","update_plantformParam",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-13 09:03:31.0",26],["23WY5BHMORNX","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"update_grid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"update XIP_PUB_PARAMS\\n  \\n set PARAM_CODE={?PARAM_CODE?},\\n  PARAM_NAME={?PARAM_NAME?},\\n  DESCRIPTION= {?DESCRIPTION?},\\n  \\n  VAL_SQL={?VAL_SQL?},\\n  VAL_SET_CODE={?VAL_SET_NAME?},\\n  ENABLE_FLAG={?ENABLE_FLAG?},\\n  LAST_UPDATE_DATE={?timestamp.sys.date?},\\n  LAST_UPDATED_BY=  {?XIP.userId?}  \\nwhere PARAM_ID={?PARAM_ID?}\\n\\n\\n \\n     \\n     \\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","update_grid1",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-06-24 09:29:23.0",24],["23WY5BHMORNY","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"updateParamVal\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_pub_param_vals \\n       set VAL={?VAL?},\\n           ENABLE_FLAG={?ENABLE_FLAG?},\\n           LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n           LAST_UPDATED_BY =  {?XIP.userId?}\\nwhere PARAM_VAL_ID={?PARAM_VAL_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","updateParamVal",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-06-23 09:16:05.0",34],["23WY5BHMORNZ","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"insertParamVal\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_pub_param_vals(\\n  PARAM_VAL_ID,\\n  PARAM_ID,\\n  VAL_LEVEL,\\n  TARGET_ID,\\n  VAL,\\n  ENABLE_FLAG,\\n  CREATION_DATE,\\n  CREATED_BY,\\n  LAST_UPDATE_DATE,\\n  LAST_UPDATED_BY  \\n)\\n   values(\\n     '{#PARAM_VAL_ID#}',\\n     {?PARAM_ID?},\\n     {?VAL_LEVEL?},\\n     {?TARGET_ID?},\\n     {?VAL?},\\n     {?ENABLE_FLAG?},\\n     {?timestamp.sys.date?},\\n     {?XIP.userId?},\\n     {?timestamp.sys.date?},\\n     {?XIP.userId?}\\n   )\",\"xwlMeta\":\"query\"}],\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"PARAM_VAL_ID\\\",NEW_UUID);\",\"loginRequired\":\"false\"}","insertParamVal",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-06-23 09:16:24.0",33],["23WY5BHMORO0","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"selectPlantform\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VSC,null,VT.VAL,VT.VAL_NAME) VAL,\\n       DECODE(VT.VSC,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join XIP_PUB_VAL_SET_DTL T2 ON T.VAL=T2.VAL_CODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='P' AND VT.PARAM_ID={?PARAM_ID?}\\n\\n\\n\\n\\n\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VSC is null,VT.VAL,VT.VAL_NAME) VAL,\\n       IF(VT.VSC is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join XIP_PUB_VAL_SET_DTL T2 ON T.VAL=T2.VAL_CODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='P' AND VT.PARAM_ID={?PARAM_ID?}\\n\\n\\n\\n\\n\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectPlantform",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-18 14:47:01.0",6],["23WY5BHMORO1","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"selectAll\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select PARAM_ID,\\n       PARAM_CODE,\\n       PARAM_NAME,\\n       DESCRIPTION,\\n       PARAM_TYPE,\\n       (select VAL_SET_NAME from xip_pub_val_sets x2 where x1.VAL_SET_CODE=x2.VAL_SET_CODE) VAL_SET_NAME,\\n       x1.VAL_SET_CODE,\\n       x1.ENABLE_FLAG, \\n       VAL_SQL\\n       from xip_pub_params x1\\n   where (PARAM_CODE like '%{#paramCorN#}%'\\n          or  PARAM_NAME like '%{#paramCorN#}%') and PARAM_TYPE like '%{#paramType#}%'\\n   order by x1.PARAM_CODE asc\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectAll",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-28 16:12:13.0",1],["23WY5BHMORO2","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"selectApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select APP_ID,APP_NAME from xip_pub_apps where APP_NAME like '%{#appname#}%'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectApp",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-13 09:03:31.0",17],["23WY5BHMORO3","23WY5BHMORNR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"select_store2\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\" select PARAM_VAL_ID,\\n        PARAM_ID,\\n        TARGET_ID,\\n        VAL,\\n        VAL_LEVEL\\n       FROM XIP_PUB_PARAM_VALS x1 \"}]}","select_store2",null,0,0,"admin","2015-05-13 09:03:31.0","23XQ4UO678F5","2015-08-21 18:31:01.0",32],["23WY5BHMORO4","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"insertPlant\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"PARAM_VAL_ID\\\",NEW_UUID);\",\"children\":[{\"id\":\"dataProvider1\",\"xwlMeta\":\"dataProvider\"}]}","insertPlant",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-13 09:03:31.0",35],["23WY5BHMORO5","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"select_val_set_name\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select VAL_SET_CODE CODE,VAL_SET_NAME NAME from xip_pub_val_sets where ENABLE_FLAG='Y'\",\"xwlMeta\":\"dataProvider\"}]}","select_val_set_name",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-13 09:03:31.0",28],["23WY5BHMORO6","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"sql_ajax\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"{#SQL#}\",\"xwlMeta\":\"dataProvider\"}]}","sql_ajax",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-13 09:03:31.0",36],["23WY5BHMORO7","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"seletALL_none\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select PARAM_ID,\\n       PARAM_CODE,\\n       PARAM_NAME,\\n       DESCRIPTION,\\n       PARAM_TYPE,\\n       (select VAL_SET_NAME from xip_pub_val_sets x2 where x1.VAL_SET_CODE=x2.VAL_SET_CODE) VAL_SET_NAME,\\n       x1.VAL_SET_CODE,\\n       x1.ENABLE_FLAG, \\n       VAL_SQL\\n       from xip_pub_params x1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","seletALL_none",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-13 09:03:31.0",37],["23WY5BHMORO8","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"selectRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select ROLE_ID,\\n       ROLE_NAME,\\n       ROLE_CODE\\n   from xip_pub_role \\n  where ENABLE_FLAG='Y' and (ROLE_NAME like '%{#rolename#}%' or ROLE_CODE like '%{#rolename#}%')\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectRole",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-22 11:20:10.0",16],["23WY5BHMORO9","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"select_plantform_none\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"\\nselect * from(select PARAM_VAL_ID,\\n                     x2.PARAM_ID,\\n                     x2.VAL,\\n                    (SELECT PARAM_NAME FROM XIP_PUB_PARAMS X1 WHERE X1.PARAM_ID=X2.PARAM_ID ) PARAM_NAME,\\n                    (SELECT ENABLE_FLAG FROM XIP_PUB_PARAMS X1 WHERE X1.PARAM_ID=X2.PARAM_ID ) ENABLE_FLAG,\\n                    x3.VAL_SET_CODE VAL_SET_CODE2,\\n                     x3.VAL_SQL\\n               \\n               from xip_pub_param_vals x2,\\n                    xip_pub_params x3\\n               where VAL_LEVEL='P' and  x2.PARAM_ID=x3.PARAM_ID )tb left join xip_pub_val_set_dtl xp on tb.VAL=xp.VAL_CODE\\n                and tb.VAL_SET_CODE2=xp.VAL_SET_CODE\\n           \",\"xwlMeta\":\"dataProvider\"}]}","select_plantform_none",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-13 09:03:31.0",30],["23WY5BHMOROA","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"select_rolestore\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VSC,null,VT.VAL,VT.VAL_NAME) VAL,\\n       DECODE(VT.VSC,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.ROLE_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.ROLE_NAME FROM XIP_PUB_ROLE XPA WHERE XPA.ROLE_ID=X1.TARGET_ID) ROLE_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join XIP_PUB_VAL_SET_DTL T2 ON T.VAL=T2.VAL_CODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='R' AND VT.PARAM_ID={?PARAM_ID?}\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VSC is null,VT.VAL,VT.VAL_NAME) VAL,\\n       IF(VT.VSC is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.ROLE_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.ROLE_NAME FROM XIP_PUB_ROLE XPA WHERE XPA.ROLE_ID=X1.TARGET_ID) ROLE_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join XIP_PUB_VAL_SET_DTL T2 ON T.VAL=T2.VAL_CODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='R' AND VT.PARAM_ID={?PARAM_ID?}\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","select_rolestore",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-18 14:47:21.0",8],["23WY5BHMOROB","23WY5BHMORNR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"select_valAPP\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#valname3#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute2\",\"value\":\"%{#valname1#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute3\",\"value\":\"%{#valname2#}%\"},{\"xwlMeta\":\"attribute\",\"id\":\"attribute4\",\"value\":\"%{#valname#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"{#valSql#}\"}]}","select_valAPP",null,0,0,"admin","2015-05-13 09:03:31.0","23XQ4UO678F5","2015-10-27 10:01:34.0",29],["23WY5BHMOROC","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"insert_grid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"isExist\",\"sql\":\"select count(1) as \\\"T\\\" from XIP_PUB_PARAMS x where x.PARAM_CODE={?PARAM_CODE?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"参数编码已存在\",\"id\":\"error\",\"xwlMeta\":\"except\",\"name\":\"isExist.T\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"query1\",\"sql\":\"INSERT INTO XIP_PUB_PARAMS(\\n  PARAM_ID,\\n  PARAM_CODE,\\n  PARAM_NAME,\\n  DESCRIPTION,\\n  PARAM_TYPE,\\n  VAL_SQL,\\n  VAL_SET_CODE,\\n  ENABLE_FLAG,\\n  CREATION_DATE,\\n  CREATED_BY,\\n  LAST_UPDATE_DATE,\\n  LAST_UPDATED_BY \\n)\\n   VALUES(\\n     '{#PARAM_ID#}',\\n     {?PARAM_CODE?},\\n     {?PARAM_NAME?},\\n     {?DESCRIPTION?},\\n     {?paramType?},\\n     {?VAL_SQL?},\\n     {?VAL_SET_NAME?},\\n     {?ENABLE_FLAG?},\\n     {?timestamp.sys.date?},\\n     {?XIP.userId?},\\n     {?timestamp.sys.date?},\\n     {?XIP.userId?}  \\n   )\",\"xwlMeta\":\"query\"},{\"id\":\"response1\",\"text\":\"{k:'{#PARAM_ID#}'}\",\"xwlMeta\":\"response\"}],\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"PARAM_ID\\\",NEW_UUID);\",\"loginRequired\":\"false\"}","insert_grid1",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-06-23 09:11:59.0",25],["23WY5BHMOROD","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"select_userStore\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VSC,null,VT.VAL,VT.VAL_NAME) VAL,\\n       DECODE(VT.VSC,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.USER_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.USER_NAME FROM XIP_PUB_USERS XPA WHERE XPA.USER_ID=X1.TARGET_ID) USER_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join XIP_PUB_VAL_SET_DTL T2 ON T.VAL=T2.VAL_CODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='U' AND VT.PARAM_ID={?PARAM_ID?}\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VSC is null,VT.VAL,VT.VAL_NAME) VAL,\\n       IF(VT.VSC is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.USER_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.USER_NAME FROM XIP_PUB_USERS XPA WHERE XPA.USER_ID=X1.TARGET_ID) USER_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join XIP_PUB_VAL_SET_DTL T2 ON T.VAL=T2.VAL_CODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='U' AND VT.PARAM_ID={?PARAM_ID?}\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","select_userStore",null,0,0,"admin","2015-05-13 09:03:31.0","admin","2015-05-22 14:52:15.0",10],["23WY8FJ3Z8UI","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectUser\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT distinct\\n       u.USER_ID,\\n       u.USER_NAME,             \\n       e.EMP_NAME  \\n    FROM XIP_PUB_USERS u \\n    left join \\n        xip_pub_emp_asg t \\n    on u.EMP_ID = t.EMP_ID,\\n         xip_pub_emps e\\n    where u.emp_id = e.emp_id    \\n    and e.attribute2 = 'Y'\\n    and (t.ENABLED ='Y'  OR t.ENABLED IS NULL)\\n    {#WHERESQL#}\\n\\n \\t\\t\\t\\t\\t\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectUser",null,0,0,"admin","2015-05-13 14:35:27.0","admin","2015-06-10 11:16:16.0",7],["23WY8FJ3Z8UL","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectOrgs\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT\\nt.ORG_ID,\\nt.ORG_CODE,\\nt.ORG_NAME,\\nt.ORG_SHORT_NAME,\\nt.UP_ORG_ID,\\nt.ORG_TYPE,\\nt.ENABLE_FLAG,\\nt.ATTRIBUTE1,\\nt.ATTRIBUTE2,\\nt.ATTRIBUTE3,\\nt.ATTRIBUTE4,\\nt.ATTRIBUTE5,\\nt.ATTRIBUTE6,\\nt.ATTRIBUTE7,\\nt.ATTRIBUTE8,\\nt.ATTRIBUTE9,\\nt.ATTRIBUTE10,\\nt.CREATION_DATE,\\nt.CREATED_BY,\\nt.LAST_UPDATE_DATE,\\nt.LAST_UPDATED_BY,\\nt.LAST_UPDATE_LOGIN\\nfrom XIP_PUB_ORGS t\\nwhere  t.ENABLE_FLAG = 'Y'  and  t.ORG_NAME  like {?findKey?}\",\"xwlMeta\":\"dataProvider\"}]}","selectOrgs",null,0,0,"admin","2015-05-13 14:39:07.0","admin","2015-05-13 14:39:07.0",10],["23WY8FJ3Z8UN","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectDeptName\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"findKey\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT\\nt.DEPT_ID,\\nt.DEPT_CODE,\\nt.DEPT_NAME,\\nt.DEPT_SHORT_NAME,\\nt.UP_DP_ID,\\nt.ORG_ID,\\nt.ENABLE_FLAG,\\nt.ATTRIBUTE2,\\nt.ATTRIBUTE3,\\nt.ATTRIBUTE4,\\nt.ATTRIBUTE5,\\nt.ATTRIBUTE6,\\nt.ATTRIBUTE7,\\nt.ATTRIBUTE8,\\nt.ATTRIBUTE9,\\nt.ATTRIBUTE10,\\nt.CREATION_DATE,\\nt.CREATED_BY,\\nt.LAST_UPDATE_DATE,\\nt.LAST_UPDATED_BY,\\nt.LAST_UPDATE_LOGIN,\\nt.SEQ_UPDEPT,\\nt.ATTRIBUTE1\\nfrom XIP_PUB_DEPTS t\\nwhere   t.ENABLE_FLAG = 'Y'  and  t.ORG_ID = {?ORG_ID?}\",\"xwlMeta\":\"dataProvider\"}]}","selectDeptName",null,0,0,"admin","2015-05-13 14:39:13.0","admin","2015-05-13 14:39:13.0",11],["23WY8FJ3Z9YF","23VVZ3QMOKQV",null,"FUNDATA",null,1,0,"admin","2015-05-13 16:38:30.0","admin","2015-06-02 16:46:32.0",5],["23WYJMWGPGFW","23VQR0HS5LT8","{\"id\":\"module\",\"title\":\"Get Orgs\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"\\nselect t.org_id         ID,\\n       T.ORG_CODE       CODE,\\n       T.ORG_NAME       NAME,\\n       T.ORG_SHORT_NAME SHORT_NAME,\\n       T.ORG_TYPE\\n  from xip_pub_orgs t\\n WHERE T.ENABLE_FLAG = 'Y'\\n   and T.org_code like '%{#orgName#}%' or T.ORG_NAME  like '%{#orgName#}%'\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Get Orgs",null,0,0,"admin","2015-05-14 15:29:07.0","admin","2015-05-14 16:13:29.0",3],["23WYJMWGPGZN","23VQR0HS5LT8","{\"id\":\"module\",\"title\":\"Get Depts\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select xd.dept_id         ID,\\n       xd.dept_code       CODE,\\n       xd.dept_name       NAME,\\n       xd.dept_short_name SHORT_NAME\\n  from xip_pub_depts xd, xip_pub_orgs xo\\n where xd.org_id = xo.org_id\\n   and xd.enable_flag = 'Y'\\n   and xd.org_id = {?e_org?}\\n   and (xd.dept_code like '%{#deptName#}%' or xd.dept_name like '%{#deptName#}%')\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Get Depts",null,0,0,"admin","2015-05-14 16:43:36.0","admin","2015-05-14 17:11:21.0",4],["23WYSJFPCSOL","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectRoleAll\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#roleN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT a.ROLE_ID,a.ROLE_NAME,a.DESCRIPTION FROM  xip_pub_role a \\n  WHERE a.enable_flag='Y' \\n  AND NOT EXISTS (SELECT * FROM xip_pub_user_roles t\\n                 WHERE t.ROLE_ID = a.ROLE_ID AND USER_ID ={?USER_ID?})\\n  AND a.ROLE_NAME LIKE {?attribute1?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectRoleAll",null,0,0,"admin","2015-05-15 10:55:22.0","admin","2015-06-08 14:12:08.0",12],["23WYSJFPCSON","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectAppAll\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#appN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  a.APP_ID,\\n  a.APP_CODE,\\n  a.APP_NAME \\nFROM\\n  XIP_PUB_APPS a \\nWHERE a.ENABLE_FLAG = 'Y' \\n  AND a.APP_NAME LIKE {?attribute1?} \\n  AND NOT EXISTS \\n  (SELECT \\n    1 \\n  FROM\\n    XIP_PUB_APP_SEC t \\n  WHERE t.APP_ID = a.APP_ID  \\n    AND t.USER_ID = {?USER_ID?})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectAppAll",null,0,0,"admin","2015-05-15 10:55:35.0","admin","2015-06-08 16:32:07.0",13],["23WYSJFPCSOP","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectOrgAll\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#orgN#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT a.ORG_ID,\\n       a.ORG_CODE,\\n       a.ORG_NAME \\n       FROM XIP_PUB_ORGS  a \\n       WHERE   ENABLE_FLAG = 'Y'  AND  ORG_NAME LIKE {?attribute1?}\\n       AND NOT EXISTS (SELECT * FROM XIP_PUB_ORG_SEC s WHERE s.ORG_ID = a.ORG_ID AND s.TARGET_ID={?USER_ID?})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectOrgAll",null,0,0,"admin","2015-05-15 10:55:43.0","admin","2015-06-08 15:34:15.0",15],["23WYSJFPDAS0","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"selectPlatform_sql\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VAL_SQL,null,VT.VAL,VT.VNAME) VAL,\\n       DECODE(VT.VAL_SQL,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE, \\n       VT.VAL_SQL,\\n       VT.PARAM_VAL_ID\\n\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join ({#_sql#}) T2 ON T.VAL=T2.VCODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='P' AND VT.PARAM_ID={?PARAM_ID?}\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VAL_SQL is  null,VT.VAL,VT.VNAME) VAL,\\n       IF(VT.VAL_SQL is  null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE, \\n       VT.VAL_SQL,\\n       VT.PARAM_VAL_ID\\n\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join ({#_sql#}) T2 ON T.VAL=T2.VCODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='P' AND VT.PARAM_ID={?PARAM_ID?}\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectPlatform_sql",null,0,0,"admin","2015-05-18 10:16:09.0","admin","2015-05-18 14:39:57.0",2],["23WZPVCKUCLA","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"select_rolestore_sql\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VAL_SQL,null,VT.VAL,VT.VNAME) VAL,\\n       DECODE(VT.VAL_SQL,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.ROLE_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                           (SELECT XPR.ROLE_NAME FROM XIP_PUB_ROLE XPR WHERE XPR.ROLE_ID=X1.TARGET_ID) ROLE_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join ({#_sql#}) T2 ON T.VAL=T2.VCODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='R' AND VT.PARAM_ID={?PARAM_ID?}\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VAL_SQL is null,VT.VAL,VT.VNAME) VAL,\\n       IF(VT.VAL_SQL is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.ROLE_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                           (SELECT XPR.ROLE_NAME FROM XIP_PUB_ROLE XPR WHERE XPR.ROLE_ID=X1.TARGET_ID) ROLE_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join ({#_sql#}) T2 ON T.VAL=T2.VCODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='R' AND VT.PARAM_ID={?PARAM_ID?}\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","select_rolestore_sql",null,0,0,"admin","2015-05-18 12:33:18.0","admin","2015-05-18 14:43:34.0",5],["23WZPVCKUCLL","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"select_userStore_sql\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VAL_SQL,null,VT.VAL,VT.VNAME) VAL,\\n       DECODE(VT.VAL_SQL,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.USER_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.USER_NAME FROM XIP_PUB_USERS XPA WHERE XPA.USER_ID=X1.TARGET_ID) USER_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join ({#_sql#}) T2 ON T.VAL=T2.VCODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='U' AND VT.PARAM_ID={?PARAM_ID?}\\n      \",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VAL_SQL is null,VT.VAL,VT.VNAME) VAL,\\n       IF(VT.VAL_SQL is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.USER_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.USER_NAME FROM XIP_PUB_USERS XPA WHERE XPA.USER_ID=X1.TARGET_ID) USER_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join ({#_sql#}) T2 ON T.VAL=T2.VCODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='U' AND VT.PARAM_ID={?PARAM_ID?}\\n      \"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","select_userStore_sql",null,0,0,"admin","2015-05-18 12:33:37.0","admin","2015-05-18 14:42:34.0",4],["23WZPVCKUCLY","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"select_appStore_sql\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VAL_SQL,null,VT.VAL,VT.VNAME) VAL,\\n       DECODE(VT.VAL_SQL,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.APP_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.APP_NAME FROM XIP_PUB_APPS XPA WHERE XPA.APP_ID=X1.TARGET_ID) APP_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join ({#_sql#}) T2 ON T.VAL=T2.VCODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='A' AND VT.PARAM_ID={?PARAM_ID?}\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VAL_SQL is null,VT.VAL,VT.VNAME) VAL,\\n       IF(VT.VAL_SQL is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.APP_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.APP_NAME FROM XIP_PUB_APPS XPA WHERE XPA.APP_ID=X1.TARGET_ID) APP_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T left join ({#_sql#}) T2 ON T.VAL=T2.VCODE\\n      ) VT\\nWHERE VT.VAL_LEVEL='A' AND VT.PARAM_ID={?PARAM_ID?}\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","select_appStore_sql",null,0,0,"admin","2015-05-18 12:33:59.0","admin","2015-05-18 14:41:30.0",3],["23WZPVCKUF1G","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"insertrole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_pub_user_roles\\n            (USER_ROLE_ID,\\n             USER_ID,\\n             ROLE_ID,\\n             ISDEFAUT,\\n             ENABLE_FLAG,\\n             CREATION_DATE,\\n             CREATED_BY,\\n             LAST_UPDATE_DATE,\\n             LAST_UPDATED_BY\\n              )\\n    values(\\n      {?USER_ROLE_ID?},\\n      {?USER_ID?},\\n      {?ROLE_ID?},\\n      'N',\\n      'Y',\\n      {?timestamp.sys.date?},\\n      {?XIP.userId?},\\n      {?timestamp.sys.date?},\\n      {?XIP.userId?}\\n    )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"batchArray\"}],\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].USER_ROLE_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('batchArray',r);\\n\",\"loginRequired\":\"false\"}","insertrole",null,0,0,"admin","2015-05-18 13:49:23.0","admin","2015-06-08 14:08:11.0",18],["23WZPVCKUFJ5","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"deleterole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_user_roles  where USER_ROLE_ID={?USER_ROLE_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"Rolegrid\"}],\"loginRequired\":\"false\"}","deleterole",null,0,0,"admin","2015-05-18 14:03:08.0","admin","2015-05-18 14:13:38.0",21],["23WZPVCKUKKZ","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"insertOrg\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_ORG_SEC(\\n             ORG_SEC_ID,\\n             TARGET_ID,\\n             ORG_ID,\\n             TYPE,\\n             CREATED_BY,\\n             CREATION_DATE,\\n             LAST_UPDATE_DATE,\\n             LAST_UPDATED_BY )\\nvalues(\\n      {?ORG_SEC_ID?},\\n      {?TARGET_ID?},\\n      {?ORG_ID?},\\n      'U',\\n      {?XIP.userId?},\\n      {?timestamp.sys.date?},\\n      {?timestamp.sys.date?},\\n      {?XIP.userId?}\\n    )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"batchArray\"}],\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].ORG_SEC_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('batchArray',r);\\n\",\"loginRequired\":\"false\"}","insertOrg",null,0,0,"admin","2015-05-18 15:50:48.0","admin","2015-06-08 15:52:28.0",17],["23WZPVCKUKWE","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"deleterole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_org_sec  where ORG_SEC_ID={?ORG_SEC_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"Orggrid\"}],\"loginRequired\":\"false\"}","deleteorg",null,0,0,"admin","2015-05-18 16:04:18.0","admin","2015-05-18 16:07:25.0",22],["23WZPVCKULJ8","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"insertapp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_pub_app_sec\\n            (SEC_ID,\\n             USER_ID,\\n             APP_ID,\\n             CREATION_DATE,\\n             CREATED_BY,      \\n             LAST_UPDATE_DATE,\\n             LAST_UPDATED_BY )\\n    values(\\n      {?SEC_ID?},\\n      {?USER_ID?},\\n      {?APP_ID?},\\n      {?timestamp.sys.date?},\\n      {?XIP.userId?},\\n      {?timestamp.sys.date?},\\n      {?XIP.userId?}\\n    )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"batchArray\"}],\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].SEC_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('batchArray',r);\\n\",\"loginRequired\":\"false\"}","insertapp",null,0,0,"admin","2015-05-18 16:41:21.0","admin","2015-06-08 17:18:26.0",19],["23WZPVCKULMR","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"deleteapp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_app_sec  where SEC_ID={?SEC_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"Appgrid\"}],\"loginRequired\":\"false\"}","deleteapp",null,0,0,"admin","2015-05-18 16:46:36.0","admin","2015-05-18 16:55:33.0",23],["23WZPVCKUNYT","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"insertUserRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_pub_user_roles\\n            (USER_ROLE_ID,\\n             USER_ID,\\n             ROLE_ID,\\n             ISDEFAUT,\\n             ENABLE_FLAG,\\n             CREATION_DATE\\n             \\n              )\\n    values(\\n      '{#USER_ROLE_ID#}',\\n      {?USER_ID?},\\n      {?ROLE_ID?},\\n      'N',\\n      'Y',\\n       {?timestamp.sys.date?}\\n     \\n    )\\n\",\"xwlMeta\":\"query\"}],\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"USER_ROLE_ID\\\",NEW_UUID);\",\"loginRequired\":\"false\"}","insertUserRole",null,0,0,"admin","2015-05-19 14:19:40.0","admin","2015-05-21 14:14:18.0",24],["23X03HFUVIG7","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"insertUserOrg\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_ORG_SEC\\n            (ORG_SEC_ID,\\n             TARGET_ID,\\n             ORG_ID,\\n             TYPE,\\n             CREATION_DATE\\n             \\n              )\\n    values(\\n      '{#ORG_SEC_ID#}',\\n      {?TARGET_ID?},\\n      {?ORG_ID?},\\n      'U',\\n       {?timestamp.sys.date?}\\n     \\n    )\",\"xwlMeta\":\"query\"}],\"initScript\":\"var UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"ORG_SEC_ID\\\",UUID);\",\"loginRequired\":\"false\"}","insertUserOrg",null,0,0,"admin","2015-05-19 16:07:19.0","admin","2015-05-19 17:00:46.0",25],["23X03SSA2I7U","23VL9CC5TPUO",null,"公用",null,1,0,"admin","2015-05-19 16:55:00.0","23XSWLY0BYLW","2015-08-25 10:25:58.0",6],["23X03SSA2I83","23X03SSA2I7U",null,"data",null,1,0,"admin","2015-05-19 16:55:48.0","admin","2015-06-05 14:05:27.0",4],["23X03SSA2I85","23X03SSA2I83","{\"id\":\"module\",\"title\":\"插入功能使用日志\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_pub_fun_used_his\\n(USED_HIS_ID,\\n FUN_TREE_ID,\\n USER_ID,\\n OP_DATE,\\n APP_ID,\\n ROLE_ID,\\n CREATION_DATE,\\n CREATED_BY\\n)\\nvalues\\n({?sys.uuid?},\\n {?fun_tree_id?},\\n {?XIP.userId?},\\n {?timestamp.sys.date?},\\n {?app_id?},\\n {?role_id?},\\n {?timestamp.sys.date?},\\n {?XIP.userId?})\",\"xwlMeta\":\"query\"}],\"initScript\":\"var uuid= java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"log_id\\\",uuid);\",\"loginRequired\":\"false\"}","插入功能使用日志",null,0,0,"admin","2015-05-19 16:56:27.0","admin","2015-05-20 09:38:32.0",1],["23X03SSA2IGH","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"insertUserApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_pub_app_sec\\n            (SEC_ID,\\n             USER_ID,\\n             APP_ID,\\n           \\n             CREATION_DATE\\n             \\n              )\\n    values(\\n      '{#SEC_ID#}',\\n      {?USER_ID?},\\n      {?APP_ID?},\\n       {?timestamp.sys.date?}\\n     \\n    )\",\"xwlMeta\":\"query\"}],\"initScript\":\"var UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"SEC_ID\\\",UUID);\",\"loginRequired\":\"false\"}","insertUserApp",null,0,0,"admin","2015-05-19 17:11:41.0","admin","2015-05-19 17:12:26.0",26],["23X03SSA2KSV","23X03SSA2I7U","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"平台公用JS\",\"loginRequired\":\"false\",\"initScript\":\"var contextPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"platformPubJS\",\"header\":\"<script>\\n\\n/**\\nconfig{title:'',height:'',width:'',url:'',isMax:'',closeCallback:function(){}}\\n**/\\n  \\nfunction popTopWin(config){\\n  var win = window;\\n  \\n  while(win != win.parent){\\n    win = win.parent;\\n  }\\n  \\n  win.showExtWindow(config);\\n}\\n\\n<\\/script>\",\"initialize\":\"var xipTouchMenuMap = Ext.create('Ext.util.HashMap');\\n\\nfunction insertFunUsedLog(funTreeId,appId,roleId){\\n   Ext.Ajax.request({\\n       url : '{#contextPath#}/main?xwl=23X03SSA2I85',\\n       params:{\\n             fun_tree_id:funTreeId,\\n             app_id:appId,\\n             role_id:roleId\\n       },\\n       method: 'POST',\\n       async : true,\\n       success: function(response,options){\\n       },\\n       failure: function(response,options){\\n       }\\n   });\\n}\\n\\nfunction menuClikc4Touch(menuRec,homeNav){ \\n  var url ='';\\n  if(menuRec.data.IN_XIP ==='Y'){\\n    url='{#contextPath#}'+menuRec.data.MOB_URL;\\n  }else{\\n    url=menuRec.data.WEB_HOST+menuRec.data.MOB_URL;\\n  }\\n  if(url.indexOf('?')>0){\\n    url = url+'&';\\n  }else{\\n    url = url+'?';\\n  }\\n  url = url +'userId='+'{#XIP.userId#}'+'&roleId='+'{#XIP.roleId#}'+'&funId='+menuRec.data.FUN_TREE_ID+'&appId='+menuRec.data.APP_ID+\\n        '&userName='+'{#XIP.userName#}'+'&roleCode='+'{#XIP.roleCode#}'+'&funCode='+menuRec.data.FUN_TREE_CODE+'&appCode='+menuRec.data.APP_CODE;\\n  insertFunUsedLog(menuRec.data.FUN_TREE_ID,menuRec.data.APP_ID,'{#XIP.roleId#}');\\n  /*var page = Ext.create(\\\"Ext.Container\\\",\\n      {\\n        title:menuRec.data.FUN_TREE_NAME,\\n        layout:\\\"fit\\\",\\n        xtype:\\\"container\\\",\\n        html:'<iframe scrolling=\\\"auto\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\" src=\\\"'+url+'\\\">'\\n      });*/\\n  var viewId = menuRec.data.APP_CODE+\\\"_\\\"+menuRec.data.FUN_TREE_CODE;\\n  var page = Ext.getCmp(viewId);\\n  homeNav.push(page);\\n}\\n\\n/*Array.prototype._indexOf = function(n){   \\n  if(\\\"indexOf\\\" in this){   \\n    return this[\\\"indexOf\\\"](n);   \\n  }   \\n  for(var i=0;i<this.length;i++){   \\n    if(n===this[i]){   \\n      return i;   \\n    }   \\n  }   \\n  return -1;   \\n};*/\\n\\n/*function createNewUrl(node){\\n  var newUrl ;\\n  if(node.in_xip == 'Y'){\\n    newUrl = '{#contextPath#}'+ node.url;\\n  }else{\\n    newUrl = node.url;\\n  }\\n  if(node.url.indexOf('?')>0){\\n    newUrl = newUrl+'&';\\n  }else{\\n    newUrl = newUrl+'?';\\n  }\\n  newUrl = newUrl+'userId='+'{#XIP.userId#}'+'&roleId='+'{#XIP.roleId#}'+'&funId='+node.fun_id+'&appId='+node.app_id+\\n    '&userName='+'{#XIP.userName#}'+'&roleCode='+'{#XIP.roleCode#}'+'&funCode='+node.fun_code+'&appCode='+node.app_code;\\n\\n  return newUrl;\\n};*/\\n\\n/*function getState(e){\\n  var fun_id = e.fun_id;\\n  if(document.readyState!='complete'){\\n    Ext.Ajax.request({\\n      url : '{#contextPath#}' +'/frameAction.do?method=getButtonAuthorityList',\\n      params:{\\n        funId:e.fun_id\\n      },\\n      method: 'POST',\\n      success: function(response,options){\\n        var temp = response.responseText;\\n        var obj = Ext.JSON.decode(temp);\\n        if(obj.length==0)return;\\n        var win = document.getElementById(fun_id).contentWindow;\\n        for(var i=0;i<obj.length;i++){\\n          var btn_code = obj[i].btnCode;\\n          var btElement = win.document.getElementById(btn_code);\\n          if(btElement){\\n            btElement.disabled=true;\\n          }\\n        } \\n      },\\n      failure: function(response,options){\\n        Ext.Msg.alert('错误','失败，服务器没有响应');\\n      }\\n    });\\n  };\\n}\\n\\nfunction funcMenuClick4Page(funcMenuObj, componentobj){\\n  var id = \\\"tab$\\\" + funcMenuObj.fun_id; \\n  var keys = componentobj.items.keys ; \\n  if (keys._indexOf(id) == -1) {\\n    var tab = {};\\n    tab.id = id;\\n    tab.title = funcMenuObj.text;\\n    tab.closable=true;\\n    tab.tabUrl = createNewUrl(funcMenuObj);\\n    tab.html='<iframe id=iframe'+funcMenuObj.fun_id+' fun_id ='+funcMenuObj.fun_id+' onmouseover = hideMenus() scrolling=\\\"auto\\\" onload=\\\"getState(funcMenuObj)\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\" src=\\\"'+ createNewUrl(funcMenuObj)+'\\\"><\\/iframe>';\\n    tabPanel.add(tab);  \\n  }\\n  componentobj.setActiveTab(id);\\n  var frame = window.frames['iframe'+this.fun_id];\\n  frame.height = document.getElementById(id+\\\"-body\\\").style.height;\\n}*/\\n\\nvar defaultTextBgImg = '{#contextPath#}' + '/webbuilder/controls/ext/resources/themes/images/default/form/text-bg.gif';\\n\\n//设置组件是否可读并设置背景色 comId：组件id , flag: true,false\\nfunction setReadonly(comId, flag){\\n  if(flag){\\n    Ext.getCmp(comId).setReadOnly(true);\\n    Ext.getCmp(comId).setFieldStyle('background-color:#DDD;background-image:none');\\n  }else{\\n    Ext.getCmp(comId).setReadOnly(false);\\n    Ext.getCmp(comId).setFieldStyle('background-color:#FFF;background-image:none;background:url(\\\"'+defaultTextBgImg+'\\\") repeat-x scroll 0px 0px rgb(255, 255, 255)');\\n    //Ext.getCmp(comId).setFieldStyle('background-color:#FFF;background-image:url(\\\"../../resources/themes/images/default/form/text-bg.gif\\\");background-repeat:repeat-x');\\n  }\\n}\\n\\n/**\\nname:treeNodeQuery(实现树的模糊查找)\\ndesc:根据名称查询节点在树中的位置\\nparams:text(节点名称)\\nparams:by(依据字段<树查询默认为'text'>)\\nparams:treeId(树的ID)\\n*/\\nfunction treeNodeQuery(text,by,treeId) { \\n  if(Ext.isEmpty(by))\\n    by = 'text';\\n  var menuFunTree = Ext.getCmp(treeId);\\n  menuFunTree.expandAll(function(){\\n      var view = menuFunTree.getView(),\\n      me = menuFunTree,\\n      nodesAndParents = [];\\n  menuFunTree.getRootNode().cascadeBy(function(tree, view) {\\n        var uiNode = view.getNodeByRecord(this);\\n        if (uiNode) {\\n            Ext.get(uiNode).setDisplayed('table-row');\\n        }\\n    }, null, [menuFunTree, view]);\\n    //添加匹配的节点和他们的父节点到nodesAndParents数组.\\n    menuFunTree.getRootNode().cascadeBy(function(tree, view) {\\n      var currNode = this;\\n      if (currNode && currNode.data[by] && currNode.data[by].toString().toLowerCase().indexOf(text.toLowerCase()) > -1) {\\n             menuFunTree.expandPath(currNode.getPath());\\n             while (currNode.parentNode) {\\n                nodesAndParents.push(currNode.id);\\n                currNode = currNode.parentNode;\\n            }\\n        }\\n    }, null, [menuFunTree, view]);\\n    // 将不在nodesAndParents数组中的节点隐藏\\n    // 将根节点放在显示数组中\\n    nodesAndParents.push(menuFunTree.getRootNode().id);\\n    menuFunTree.getRootNode().cascadeBy(function(tree, view){\\n        var uiNode = view.getNodeByRecord(this);\\n        if (uiNode && !Ext.Array.contains(nodesAndParents, this.id)) {\\n            Ext.get(uiNode).setDisplayed('none');\\n        }\\n    }, null, [menuFunTree, view]);\\n  });\\n}\\n\\n/**\\nname:setChildChecked(选中当前节点下的子节点)\\ndesc:树节点选择函数\\nparams:node(当前节点)\\nparams:checked(选中状态：true 或者 false)\\n*/\\nfunction setChildChecked(node,checked){\\n  node.expand();\\n  //==============选中节点的子节点===============\\n  node.set({checked:checked});\\n  if(node.hasChildNodes){\\n    node.eachChild(function(childNode){\\n      setChildChecked(childNode,checked);\\n    });\\n  }  \\n}\\n\\n/**\\nname:setParentChecked(选中当前节点下的子节点)\\ndesc:树节点选择函数\\nparams:n(当前节点)\\nparams:checked(选中状态：true 或者 false)\\n*/\\nfunction setParentChecked(n,checked){\\n  n.set({checked:checked});\\n  var parentNode = n.parentNode;\\n  if(parentNode){\\n    var flag = false;\\n    parentNode.eachChild(function(node){\\n      if(node.data.checked === true){\\n        flag = true;\\n      }\\n    });\\n    if(checked === false){\\n      if(!flag)\\n        setParentChecked(parentNode,checked);\\n      }else{\\n      if(flag)\\n        setParentChecked(parentNode,checked); \\n    }  \\n  }\\n  \\n}\\n\"}]}","平台公用JS",null,0,0,"admin","2015-05-20 09:47:13.0","23XQ4B4KHDBR","2015-10-26 10:26:40.0",2],["23X03SSA2U6C","23VNB76YLXKT","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23W4UO78MN1S (pub)\\\"]\",\"id\":\"module\",\"title\":\"采购订单Demo\",\"loginRequired\":\"false\",\"initScript\":\"var protocol = request.getProtocol() ;\\nvar ipAddr = request.getServerName();\\nvar port = request.getServerPort() ;\\nvar ctxPath = request.getContextPath() ;\\nprotocol = (protocol == \\\"HTTP/1.1\\\" ? \\\"http\\\" : \\\"https\\\") ;\\nvar url = protocol + \\\"://\\\" + ipAddr +\\\":\\\" + port + ctxPath ;\\nrequest.setAttribute(\\\"appIP\\\",url);\",\"touchMode\":\"true\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"XIP_XIP2_WF_DEMO_CS\",\"initialize\":\"var XIP_XIP2_WF_DEMO_PODTL_MAP = Ext.create('Ext.util.HashMap');\\nfunction XIP_XIP2_WF_DEMO_save_po_line(formObj,po_l_id){\\n  var fs = XIP_XIP2_WF_DEMO_PODTL_MAP.get(po_l_id);\\n  var lOpType = fs.getAt(5).getValue();\\n  var itemName = fs.getAt(0).getValue();\\n  var price = fs.getAt(1).getValue();\\n  var cnt = fs.getAt(2).getValue();\\n  var amt = fs.getAt(3).getValue();\\n  var datas = formObj.getValues();\\n  var poId = datas.PO_ID;\\n  var ret ='Y';\\n  if(\\\"U\\\"===lOpType){\\n      Ext.Ajax.request({\\n        url : '{#contextPath#}/main?xwl=23VP5ADLVOFY',\\n        params:{\\n          'PO_L_ID':po_l_id,\\n          'ITEM_NAME':itemName,\\n          'UNIT':'',\\n          'PRICE':price,\\n          'CNT':cnt,\\n          'AMT':amt\\n        },\\n        method: 'POST',\\n        async : true,\\n        success: function(response,options){\\n         ret= 'Y';\\n        },\\n        failure: function(response,options){\\n          ret = 'N';\\n        }\\n      });\\n  }else{\\n      Ext.Ajax.request({\\n        url : '{#contextPath#}/main?xwl=23VP5NV3DHO5',\\n        params:{\\n          'PO_L_ID':po_l_id,\\n          'ITEM_NAME':itemName,\\n          'UNIT':'',\\n          'PRICE':price,\\n          'CNT':cnt,\\n          'AMT':amt,\\n          'PO_ID':poId\\n        },\\n        method: 'POST',\\n        async : true,\\n        success: function(response,options){\\n          fs.getAt(5).setValue('U');\\n          ret= 'Y';\\n        },\\n        failure: function(response,options){\\n          ret= 'N';\\n        }\\n      });\\n  }\\n  return ret;\\n}\\nfunction XIP_XIP2_WF_DEMO_del_po_line(formObj,po_l_id){\\n  var fs = XIP_XIP2_WF_DEMO_PODTL_MAP.get(po_l_id);\\n  var lOpType = fs.getAt(5).getValue();\\n  Wb.confirm(\\\"确定删除此条订单行数据吗？\\\",function(){\\n    if(\\\"U\\\"===lOpType){\\n      //删除数据库中的记录\\n      Ext.Ajax.request({\\n        url : '{#contextPath#}/main?xwl=23VOJCCPELDV',\\n        params:{\\n          'poids':\\\"'\\\"+po_l_id+\\\"'\\\"\\n        },\\n        method: 'POST',\\n        async : true,\\n        success: function(response,options){\\n          //移除订单行所在的FieldSet控件\\n          formObj.remove(fs);\\n          XIP_XIP2_WF_DEMO_PODTL_MAP.removeByKey(po_l_id);\\n        },\\n        failure: function(response,options){\\n        }\\n      });\\n    }else{\\n      //移除订单行所在的FieldSet控件\\n      formObj.remove(fs);\\n      XIP_XIP2_WF_DEMO_PODTL_MAP.removeByKey(po_l_id);\\n    }\\n  });\\n  \\n}\\nfunction XIP_XIP2_WF_DEMO_save_po(formObj){\\n  var datas = formObj.getValues();\\n  var poId = datas.PO_ID;\\n  var opType  = datas.OP_TYPE;\\n  if (\\\"U\\\"===opType){\\n    //更新订单头\\n      Ext.Ajax.request({\\n        url : '{#contextPath#}/main?xwl=23VP5NV3DINS',\\n        params:{\\n          'PO_ID':datas.PO_ID,\\n          'PO_NO':datas.PO_NO,\\n          'PO_DESC':datas.PO_DESC,\\n          'VENDOR':datas.VENDOR,\\n          'ORG_ID':datas.ORG_ID,\\n          'DEPT_ID':datas.DEPT_ID,\\n          'BUYER':datas.BUYER,\\n          'AMT':datas.AMT,\\n          'PO_DATE':datas.PO_DATE\\n        },\\n        method: 'POST',\\n        async : true,\\n        success: function(response,options){\\n          XIP_XIP2_WF_DEMO_PODTL_MAP.each(function(key, value, length){\\n            XIP_XIP2_WF_DEMO_save_po_line(formObj,key);\\n          });\\n          Ext.Msg.alert(\\\"保存数据成功\\\");\\n        },\\n        failure: function(response,options){\\n        }\\n      });\\n  }else{\\n    //新增订单头\\n      Ext.Ajax.request({\\n        url : '{#contextPath#}/main?xwl=23VOLTYRBKGH',\\n        params:{\\n          'PO_ID':datas.PO_ID,\\n          'PO_NO':datas.PO_NO,\\n          'PO_DESC':datas.PO_DESC,\\n          'VENDOR':datas.VENDOR,\\n          'ORG_ID':datas.ORG_ID,\\n          'DEPT_ID':datas.DEPT_ID,\\n          'BUYER':datas.BUYER,\\n          'AMT':datas.AMT,\\n          'PO_DATE':datas.PO_DATE\\n        },\\n        method: 'POST',\\n        async : true,\\n        success: function(response,options){\\n          formObj.setValues({'OP_TYPE':'U'});\\n          XIP_XIP2_WF_DEMO_PODTL_MAP.each(function(key, value, length){\\n            XIP_XIP2_WF_DEMO_save_po_line(formObj,key);\\n          });\\n          Ext.Msg.alert(\\\"保存数据成功\\\");\\n        },\\n        failure: function(response,options){\\n        }\\n      });\\n  }\\n}\\nfunction XIP_XIP2_WF_DEMO_create_po_line(parentObj,isNew,data){\\n  var poLineForm=null;\\n  var poLineToolBar=null;\\n  var lineId;\\n  if('Y'===isNew){\\n    lineId= Wb.getUuid();\\n    poLineForm = Ext.create('Ext.form.FieldSet',{\\n        items:[\\n          {name:\\\"ITEM_NAME\\\",label:\\\"物资名称\\\",xtype:\\\"textfield\\\"},\\n          {name:\\\"PRICE\\\",label:\\\"单价\\\",xtype:\\\"numberfield\\\"},\\n          {name:\\\"CNT\\\",label:\\\"数量\\\",xtype:\\\"numberfield\\\"},\\n          {name:\\\"L_AMT\\\",label:\\\"金额\\\",xtype:\\\"numberfield\\\"},\\n          {name:\\\"PO_L_ID\\\",xtype:\\\"hiddenfield\\\",value:lineId},\\n          {name:\\\"L_OP_TYPE\\\",xtype:\\\"hiddenfield\\\",value:\\\"I\\\"}\\n        ]\\n    });\\n    poLineToolBar = Ext.create(\\\"Ext.Container\\\",{\\n      layout:\\\"hbox\\\",\\n      items:[\\n        {id:\\\"SAVE\\\"+lineId,text:\\\"保存\\\",xtype:\\\"button\\\",listeners:{tap:function(comp,options){\\n          var po_l_id = this.getId().substring(4);\\n          var ret = XIP_XIP2_WF_DEMO_save_po_line(parentObj,po_l_id);\\n          if(ret ==='Y'){\\n           Ext.Msg.alert(\\\"订单行保存成功\\\"); \\n          }\\n          }}\\n          },\\n        {id:\\\"DEL\\\"+lineId,text:\\\"删除\\\",xtype:\\\"button\\\",listeners:{tap:function(comp,options){\\n            var po_l_id = this.getId().substring(3);\\n            XIP_XIP2_WF_DEMO_del_po_line(parentObj,po_l_id);\\n          }}\\n          }\\n        ]\\n    });\\n    poLineForm.add(poLineToolBar);\\n    parentObj.add(poLineForm);\\n//     var panel=Ext.getCmp('XIP_XIP2_WF_DEMO_EDIT_FORM');\\n//     panel.getScrollable().getScroller().on('scroll',function(scroller,x,y){\\n//     }); \\n    poLineForm.getAt(0).focus();\\n    XIP_XIP2_WF_DEMO_PODTL_MAP.add(lineId,poLineForm);\\n  }else{\\n    if((data!==null)&&(data!==undefined)){\\n      poLineForm = Ext.create('Ext.form.FieldSet',{\\n            items:[\\n              {name:\\\"ITEM_NAME\\\",label:\\\"物资名称\\\",xtype:\\\"textfield\\\",value:data.ITEM_NAME},\\n              {name:\\\"PRICE\\\",label:\\\"单价\\\",xtype:\\\"numberfield\\\",value:data.PRICE},\\n              {name:\\\"CNT\\\",label:\\\"数量\\\",xtype:\\\"numberfield\\\",value:data.CNT},\\n              {name:\\\"L_AMT\\\",label:\\\"金额\\\",xtype:\\\"numberfield\\\",value:data.AMT},\\n              {name:\\\"PO_L_ID\\\",xtype:\\\"hiddenfield\\\",value:data.PO_L_ID},\\n              {name:\\\"L_OP_TYPE\\\",xtype:\\\"hiddenfield\\\",value:\\\"U\\\"}\\n            ]\\n      });\\n    poLineToolBar = Ext.create(\\\"Ext.Container\\\",{\\n      layout:\\\"hbox\\\",\\n      items:[\\n        {id:\\\"SAVE\\\"+data.PO_L_ID,text:\\\"保存\\\",xtype:\\\"button\\\",listeners:{tap:function(comp,options){\\n          var po_l_id = this.getId().substring(4);\\n          var ret = XIP_XIP2_WF_DEMO_save_po_line(parentObj,po_l_id);\\n          if(ret ==='Y'){\\n           Ext.Msg.alert(\\\"订单行保存成功\\\"); \\n          }\\n        }}\\n        },\\n        {id:\\\"DEL\\\"+data.PO_L_ID,text:\\\"删除\\\",xtype:\\\"button\\\",listeners:{tap:function(comp,options){\\n          var po_l_id = this.getId().substring(3);\\n          XIP_XIP2_WF_DEMO_del_po_line(parentObj,po_l_id);\\n        }}\\n        }\\n      ]\\n    });\\n    poLineForm.add(poLineToolBar);\\n    parentObj.add(poLineForm);\\n    XIP_XIP2_WF_DEMO_PODTL_MAP.add(data.PO_L_ID,poLineForm);\\n   \\n    }\\n  }\\n}\\nfunction XIP_XIP2_WF_DEMO_del_po(poId){\\n  //删除采购订单行\\n  Ext.Ajax.request({\\n    url : '{#contextPath#}/main?xwl=23VP5NV3DKHG',\\n    params:{\\n      'poids':\\\"'\\\"+poId+\\\"'\\\"\\n    },\\n    method: 'POST',\\n    async : true,\\n    success: function(response,options){\\n    },\\n    failure: function(response,options){\\n    }\\n  });\\n  //删除订单头\\n  Ext.Ajax.request({\\n    url : '{#contextPath#}/main?xwl=23VP5NV3DKGB',\\n    params:{\\n      'poids':\\\"'\\\"+poId+\\\"'\\\"\\n    },\\n    method: 'POST',\\n    async : true,\\n    success: function(response,options){\\n    },\\n    failure: function(response,options){\\n    }\\n  });\\n  XIP_XIP2_WF_DEMO_POLISTSTORE.load();\\n}\"},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"XIP_XIP2_WF_DEMO_POLISTSTORE\",\"autoLoad\":\"false\",\"url\":\"#23X0EW1465B9 (poQuery4Touch)\"},{\"xwlMeta\":\"store\",\"showResult\":\"true\",\"id\":\"XIP_XIP2_WF_DEMO_PODTLSTORE\",\"autoLoad\":\"true\",\"url\":\"#23VNB76YM0N3 (polList)\"},{\"xwlMeta\":\"store\",\"id\":\"XIP_XIP2_WF_DEMO_ORG\",\"autoLoad\":\"true\",\"url\":\"#23VNMHKZ8ZBA (orgList)\"},{\"xwlMeta\":\"store\",\"id\":\"XIP_XIP2_WF_DEMO_DEPT\",\"url\":\"#23VNMHKZ8ZE5 (deptList)\"}]},{\"xwlMeta\":\"tcontainer\",\"autoCreate\":\"false\",\"id\":\"XIP_XIP2_WF_DEMO_EDIT\",\"layout\":\"fit\",\"activate\":\"\\nXIP_XIP2_WF_DEMO_EDIT_FORM.removeAll();\\nXIP_XIP2_WF_DEMO_PODTL_MAP.clear();\\nvar poMainFS = Ext.create(\\\"Ext.form.FieldSet\\\",{\\n    items:[\\n      {name:\\\"PO_NO\\\",label:\\\"订单编号\\\",required:true,xtype:\\\"textfield\\\"},\\n      {name:\\\"PO_DESC\\\",label:\\\"订单说明\\\",required:true,xtype:\\\"textfield\\\"},\\n      {name:\\\"VENDOR\\\",label:\\\"供应商\\\",required:true,xtype:\\\"textfield\\\"},\\n      {name:\\\"BUYER\\\",label:\\\"采购员\\\",required:true,xtype:\\\"textfield\\\"},\\n      {name:\\\"ORG_ID\\\",store:XIP_XIP2_WF_DEMO_ORG,displayField:\\\"ORG_NAME\\\",valueField:\\\"ORG_ID\\\",label:\\\"组织\\\",required:true,xtype:\\\"selectfield\\\",listeners:{\\n        change:function(comp,newValue,oldValue,options){\\n          XIP_XIP2_WF_DEMO_DEPT.load({params:{'ORG_ID':this.getValue()\\n                                             }\\n                                     });\\n        }\\n      }\\n      },\\n      {name:\\\"DEPT_ID\\\",store:XIP_XIP2_WF_DEMO_DEPT,displayField:\\\"DEPT_NAME\\\",valueField:\\\"DEPT_ID\\\",label:\\\"部门\\\",required:true,xtype:\\\"selectfield\\\"},\\n      {name:\\\"AMT\\\",label:\\\"金额\\\",xtype:\\\"textfield\\\"},\\n      {name:\\\"PO_DATE\\\",label:\\\"采购日期\\\",required:true,xtype:\\\"datepickerfield\\\"},\\n      {name:\\\"PO_ID\\\",xtype:\\\"hiddenfield\\\"},\\n      {name:\\\"OP_TYPE\\\",xtype:\\\"hiddenfield\\\"}\\n    ]\\n  });\\n//poMainFS.setScrollable(true);\\nXIP_XIP2_WF_DEMO_EDIT_FORM.add(poMainFS);\\nXIP_XIP2_WF_DEMO_EDIT_FORM.setValues(selRecord.data);\\nif(selRecord.data.OP_TYPE==='U'){\\nExt.Ajax.request({\\n  url : '{#contextPath#}/main?xwl=23VNB76YM0N3',\\n  params:{\\n    'poid':selRecord.data.PO_ID\\n  },\\n  method: 'POST',\\n  async : true,\\n  success: function(response,options){\\n    var resp = Ext.JSON.decode(response.responseText);\\n    if((resp.success===true)&&(resp.total>0)){\\n      var datas = resp.rows;\\n      Ext.each(datas,function(data,index){\\n        XIP_XIP2_WF_DEMO_create_po_line(XIP_XIP2_WF_DEMO_EDIT_FORM,'N',data);\\n      });\\n    }\\n  },\\n  failure: function(response,options){\\n  }\\n});\\n}\\n\",\"deactivate\":\"XIP_XIP2_WF_DEMO_POLISTSTORE.load();\",\"children\":[{\"xwlMeta\":\"tform\",\"id\":\"XIP_XIP2_WF_DEMO_EDIT_FORM\",\"layout\":\"vbox\"},{\"xwlMeta\":\"ttoolbar\",\"docked\":\"bottom\",\"id\":\"XIP_XIP2_WF_DEMO_EDIT_TBAR\",\"children\":[{\"xwlMeta\":\"tbutton\",\"text\":\"新建订单行\",\"id\":\"tb_create\",\"tap\":\"XIP_XIP2_WF_DEMO_create_po_line(XIP_XIP2_WF_DEMO_EDIT_FORM,'Y',null);\"},{\"xwlMeta\":\"tbutton\",\"text\":\"保存\",\"id\":\"tb_save\",\"tap\":\"XIP_XIP2_WF_DEMO_save_po(XIP_XIP2_WF_DEMO_EDIT_FORM);\"}]}]},{\"xwlMeta\":\"tviewport\",\"id\":\"tviewport1\",\"children\":[{\"xwlMeta\":\"tnaviview\",\"id\":\"tnav_home\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tcontainer\",\"autoCreate\":\"true\",\"id\":\"XIP_XIP2_WF_DEMO\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tlist\",\"store\":\"XIP_XIP2_WF_DEMO_POLISTSTORE\",\"mode\":\"SINGLE\",\"id\":\"poList\",\"layout\":\"fit\",\"itemTpl\":\"<div>\\n<div style=\\\"display:inline;\\\" >编号：{PO_NO}<\\/div>\\n<div style=\\\"display:inline;\\\">  描述：{PO_DESC}<\\/div>\\n<div style=\\\"display:inline;\\\">  供应商：{VENDOR}<\\/div>\\n<div style=\\\"display:inline;\\\">  状态：{STATUS}<\\/div>\\n<\\/div>\",\"itemdoubletap\":\"Wd.selRecord=record;\\ntnav_home.push(_XIP_XIP2_WF_DEMO_EDIT);\",\"children\":[{\"xwlMeta\":\"ttoolbar\",\"docked\":\"top\",\"type\":\"toolbar\",\"id\":\"poQuerytoolBar\",\"children\":[{\"xwlMeta\":\"ttext\",\"width\":\"220\",\"type\":\"text\",\"id\":\"tt_filter\",\"placeHolder\":\"订单编号/说明/供应商\"},{\"xwlMeta\":\"tbutton\",\"text\":\"查询\",\"id\":\"tb_query\",\"tap\":\"XIP_XIP2_WF_DEMO_POLISTSTORE.load({params:{'filterStr':tt_filter.getValue()}});\"},{\"xwlMeta\":\"tbutton\",\"text\":\"重置\",\"id\":\"tb_reset\"}]},{\"xwlMeta\":\"ttoolbar\",\"docked\":\"bottom\",\"type\":\"toolbar\",\"id\":\"poMainToolBar\",\"children\":[{\"xwlMeta\":\"tbutton\",\"text\":\"新建\",\"id\":\"tb_new\",\"tap\":\"Wd.selRecord={data:{'PO_ID':Wb.getUuid(),'OP_TYPE':'I','PO_DATE':new Date()}};\\ntnav_home.push(_XIP_XIP2_WF_DEMO_EDIT);\"},{\"xwlMeta\":\"tbutton\",\"text\":\"编辑\",\"id\":\"tb_edit\",\"tap\":\"var items = poList.getSelection();\\nif(items.length===0){\\n  Ext.Msg.alert(\\\"请先选择一条采购订单\\\");\\n}else{\\n  var item =items[0];\\n  Wd.selRecord=item;\\n  tnav_home.push(_XIP_XIP2_WF_DEMO_EDIT);\\n}\"},{\"xwlMeta\":\"tbutton\",\"text\":\"删除\",\"id\":\"tb_del\",\"tap\":\"var items = poList.getSelection();\\nif(items.length===0){\\n  Ext.Msg.alert(\\\"请先选择一条要删除的采购订单\\\");\\n}else{\\n  var item =items[0];\\n  Wb.confirm(\\\"确定要删除此条采购订单吗？\\\",function(){\\n    var poId = item.data.PO_ID;\\n    XIP_XIP2_WF_DEMO_del_po(poId);\\n  });\\n}\"},{\"xwlMeta\":\"tbutton\",\"text\":\"启动流程\",\"id\":\"tb_start_wf\",\"tap\":\"var items = poList.getSelection();\\nvar cnt = items.length;\\nif(cnt===0){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请先选择一条订单再启动流程。\\\");\\n  return;\\n}\\nvar item=items[0];\\nvar rec = item.data;\\nif(rec.ATTRIBUTE10===null || rec.ATTRIBUTE10===\\\"A\\\" || rec.ATTRIBUTE10===\\\"R\\\" || rec.ATTRIBUTE10===\\\"D\\\"|| rec.ATTRIBUTE10===\\\"\\\"){\\n  var instCode = rec.INST_CODE;\\n  var json = \\\"{AMT:\\\"+rec.AMT+\\\",PO_DESC:'\\\"+rec.PO_DESC+\\\"',PO_NO:'\\\"+rec.PO_NO+\\\"',e_org:'\\\"+rec.ORG_ID+\\\"',e_dept:'\\\"+rec.DEPT_ID+\\\"',e_business_id:'\\\"+rec.PO_ID+\\\"',APP_IP:'{#appIP#}'}\\\";\\n  if(instCode===null || instCode===''){\\n    startAndSubmitWithEntityCode(tnav_home,\\\"XIP_DEMO\\\",json,function(obj){\\n      if(obj.flag==='0'){\\n        Ext.Ajax.request({\\n          url : '{#contextPath#}/main?xwl=23VP8D49UUO8',\\n          params:{\\n            PO_ID:rec.PO_ID,\\n            INST_CODE:obj.instanceCode\\n          },\\n          method: 'POST',\\n          async : false,\\n          success: function(response,options){\\n            XIP_XIP2_WF_DEMO_POLISTSTORE.load();\\n            Ext.Msg.alert(\\\"提示\\\",\\\"启动流程成功\\\");\\n          },\\n          failure : function(reponse, options){\\n            Ext.Msg.alert(\\\"提示\\\",\\\"回写订单流程实例编码请求发送失败。\\\");\\n          }\\n        });\\n      }else{\\n        Ext.Msg.alert(\\\"提示\\\",obj.msg);\\n      }\\n    });\\n  }else{\\n    if(rec.ATTRIBUTE10===\\\"D\\\"){\\n      submitProcess(tnav_home,instCode,json,function(obj){\\n        if(obj.flag==='0'){\\n          XIP_XIP2_WF_DEMO_POLISTSTORE.load();\\n          Ext.Msg.alert(\\\"提示\\\",\\\"启动流程成功\\\");\\n        }else{\\n          Ext.Msg.alert(\\\"提示\\\",obj.msg);\\n        }\\n      });\\n    }else{\\n      restartAndSubmitInstance(tnav_home,instCode,'',json,function(obj){\\n        if(obj.flag==='0'){\\n          XIP_XIP2_WF_DEMO_POLISTSTORE.load();\\n          Ext.Msg.alert(\\\"提示\\\",\\\"启动流程成功\\\");\\n        }else{\\n          Ext.Msg.alert(\\\"提示\\\",obj.msg);\\n        }\\n      });\\n    }\\n  }\\n  \\n}else{\\n  Ext.Msg.alert(\\\"提示\\\",\\\"对于审批结束和审批中的订单不能启动流程\\\");\\n  return;\\n}\\n\"},{\"xwlMeta\":\"tbutton\",\"text\":\"撤回流程\",\"id\":\"tb_wf_monitor\",\"tap\":\"var items = poList.getSelection();\\nvar cnt = items.length;\\nif(cnt===0){\\n  Ext.Msg.alert(\\\"提示\\\",\\\"请先选择一条订单再撤回流程。\\\");\\n  return;\\n}\\nvar item=items[0];\\nvar rec = item.data;\\nif(rec.ATTRIBUTE10===\\\"A\\\" || rec.ATTRIBUTE10===\\\"C\\\"){\\n  var instCode = rec.INST_CODE;\\n  if(instCode!==null&&instCode!==''){\\n    revokeByInsCode(instCode,function(obj){\\n      if(obj.flag==='0'){\\n         XIP_XIP2_WF_DEMO_POLISTSTORE.load();\\n         Ext.Msg.alert(\\\"提示\\\",\\\"撤回流程成功\\\");\\n      }else{\\n        Ext.Msg.alert(\\\"提示\\\",obj.msg);\\n      }\\n    });\\n  }else{\\n    Ext.Msg.alert(\\\"提示\\\",\\\"此订单没有流程实例编码，无法执行撤回\\\");\\n  }\\n}\\n\"}]}]}]}]}]}]}","po4touch",null,0,0,"admin","2015-05-20 14:28:35.0","23XQ4UO678F0","2015-10-09 15:24:31.0",8],["23X0EW1465B9","23VNB76YLXKV","{\"id\":\"module\",\"title\":\"poQuery4Touch\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT P.PO_ID,\\n       P.PO_NO,\\n       P.PO_DESC,\\n       P.VENDOR,\\n       P.ORG_ID,\\n       T.ORG_NAME,\\n       P.DEPT_ID,\\n       D.DEPT_NAME,\\n       P.BUYER,\\n       P.AMT,\\n       P.PO_DATE,\\n       P.INST_CODE,\\n       P.STATUS,\\n       'U' as OP_TYPE,\\n       p.ATTRIBUTE10\\n  FROM XIP_DEMO_PO_H P\\n  LEFT JOIN XIP_PUB_ORGS T\\n    ON P.ORG_ID = T.ORG_ID\\n  LEFT JOIN XIP_PUB_DEPTS D\\n    ON P.DEPT_ID = D.DEPT_ID\\n WHERE P.PO_NO LIKE '%{#filterStr#}%' OR P.PO_DESC LIKE '%{#filterStr#}%' OR P.VENDOR LIKE '%{#filterStr#}%'\\n ORDER BY P.LAST_UPDATE_DATE DESC\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","poQuery4Touch",null,0,0,"admin","2015-05-20 16:56:21.0","admin","2015-06-13 14:58:30.0",13],["23X0MGAAYIBT","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"getMenuFunctionsTree\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id ID, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type NODE_TYPE,\\n\\t   t.node_order IDX,\\n\\t   t.FUN_TREE_CODE,\\n\\t   t.DESCRIPTION,\\n\\t\\t'__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or (({?parentID?} is null) and nvl(t.up_id,'-1') = '-1')  \\nand  t.ENABLE_FLAG = 'Y'  \\n order by t.node_order asc\",\"mysql\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id ID, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type NODE_TYPE,\\n\\t   t.node_order IDX,\\n\\t   t.FUN_TREE_CODE,\\n\\t   t.DESCRIPTION,\\n\\t\\t'__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or (({?parentID?} is null or {?parentID?}='') and ifnull(t.up_id,'-1') = '-1')  \\nand  t.ENABLE_FLAG = 'Y'  \\n order by t.node_order asc\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\",\"type\":\"tree\"}]}","selectFunTreeAll",null,0,0,"admin","2015-05-21 11:03:26.0","admin","2015-06-04 15:43:57.0",3],["23X0MGAAYK1S","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"insertFun\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"batchAddFunSec\",\"sql\":\"insert into XIP_PUB_USER_FUNS\\n            (USER_FUN_ID,\\n             TARGET_ID,\\n             FUN_TREE_ID,\\n             TYPE,\\n             CREATED_BY,\\n             CREATION_DATE,\\n             LAST_UPDATE_DATE,\\n             LAST_UPDATED_BY\\n              )\\nvalues(\\n      {?USER_FUN_ID?},\\n      {?TARGET_ID?},\\n      {?FUN_TREE_ID?},\\n       'U',\\n      {?XIP.userId?},\\n      {?timestamp.sys.date?},\\n      {?timestamp.sys.date?},\\n      {?XIP.userId?}\\n    )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"batchArray\"}],\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].USER_FUN_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\n\\nrequest.setAttribute('batchArray',r);\",\"loginRequired\":\"false\"}","insertFun",null,0,0,"admin","2015-05-21 14:11:51.0","admin","2015-06-08 10:36:31.0",16],["23X0MGAAYM0N","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"deleteFun\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_USER_FUNS where USER_FUN_ID={?USER_FUN_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteFun",null,0,0,"admin","2015-05-21 14:57:07.0","admin","2015-05-22 10:16:30.0",20],["23X0PQ955S67","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"delete_grid1\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query2\",\"sql\":\"delete from xip_pub_param_vals where PARAM_ID={?PARAM_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"},{\"id\":\"query1\",\"sql\":\"delete from xip_pub_params where PARAM_ID={?PARAM_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"grid1\"}],\"loginRequired\":\"false\"}","delete_grid1",null,0,0,"admin","2015-05-21 17:29:42.0","admin","2015-05-21 17:39:58.0",39],["23X0PQ955TVQ","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"delete_platFormGrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_param_vals where PARAM_VAL_ID={?PARAM_VAL_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"plantFormGrid\"}],\"loginRequired\":\"false\"}","delete_platFormGrid",null,0,0,"admin","2015-05-22 09:10:26.0","admin","2015-05-22 09:20:58.0",41],["23X0PQ955TVU","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"delete_roleFormGrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_param_vals where PARAM_VAL_ID={?PARAM_VAL_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"roleFormGrid\"}],\"loginRequired\":\"false\"}","delete_roleFormGrid",null,0,0,"admin","2015-05-22 09:10:56.0","admin","2015-05-22 09:21:06.0",40],["23X0PQ955TWT","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"delete_appFormGrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_param_vals where PARAM_VAL_ID={?PARAM_VAL_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"appFormGrid\"}],\"loginRequired\":\"false\"}","delete_appFormGrid",null,0,0,"admin","2015-05-22 09:11:12.0","admin","2015-05-22 09:20:34.0",43],["23X0PQ955TX5","23WY5BHMORNR","{\"id\":\"module\",\"title\":\"delete_userFormGrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_param_vals where PARAM_VAL_ID={?PARAM_VAL_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"userFormGrid\"}],\"loginRequired\":\"false\"}","delete_userFormGrid",null,0,0,"admin","2015-05-22 09:11:38.0","admin","2015-05-22 09:20:51.0",42],["23X0PQ9562LX","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"deleterolerepeat\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_user_roles  where USER_ROLE_ID={?USER_ROLE_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleterolerepeat",null,0,0,"admin","2015-05-22 14:37:25.0","admin","2015-05-22 14:39:05.0",27],["23X0PQ95632V","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"deleteorgrepeat\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_org_sec  where ORG_SEC_ID={?ORG_SEC_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteorgrepeat",null,0,0,"admin","2015-05-22 14:45:30.0","admin","2015-05-22 14:55:59.0",28],["23X0PQ95640V","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"deleteapprepeat\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_app_sec  where SEC_ID={?SEC_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteapprepeat",null,0,0,"admin","2015-05-22 15:00:04.0","admin","2015-05-22 15:01:40.0",29],["23X1UH8WGFK4","23W20GG51T5Y","{\"id\":\"module\",\"title\":\"getFuncHelpByFunId\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select FUN_HELP\\n  from xip_pub_fun_tree\\n where FUN_TREE_ID = '{#funcTreeId#}'\",\"xwlMeta\":\"dataProvider\",\"type\":\"jsonObject\"}],\"loginRequired\":\"false\"}","getFuncHelpByFunId",null,0,0,"admin","2015-05-25 10:39:42.0","admin","2015-05-25 10:41:10.0",23],["23X1W5D13MBQ","23W1PMZVOSUZ","{\"id\":\"module\",\"title\":\"deleteAppSecById\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"checkGrantSec\",\"sql\":\"SELECT COUNT(1)  AS \\\"SEC\\\" FROM xip_pub_app_sec  b WHERE b.APP_ID={?APP_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"该应用下还有应用的授权信息，无法删除！\",\"id\":\"secError\",\"xwlMeta\":\"except\",\"name\":\"checkGrantSec.SEC\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkRefFun\",\"sql\":\"SELECT  COUNT(1)  AS \\\"FUN\\\" FROM xip_pub_fun_tree  b WHERE b.APP_ID={?APP_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"该应用下还有注册的功能，无法删除！\",\"id\":\"funError\",\"xwlMeta\":\"except\",\"name\":\"checkRefFun.FUN\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkRefEntry\",\"sql\":\"SELECT  COUNT(1)  AS \\\"ENT\\\" FROM xip_wf_entities  b WHERE b.APP_ID={?APP_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"该应用下还有注册的实体，无法删除！\",\"id\":\"entryError\",\"xwlMeta\":\"except\",\"name\":\"checkRefEntry.ENT\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"checkReProgram\",\"sql\":\"SELECT  COUNT(1)  AS \\\"PRO\\\" FROM xip_pub_program  b WHERE b.APP_ID={?APP_ID?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"该应用下还有注册的并发程序，无法删除！\",\"id\":\"entryProgram\",\"xwlMeta\":\"except\",\"name\":\"checkReProgram.PRO\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"delApp\",\"sql\":\"delete from xip_pub_apps where APP_ID = {?APP_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","appDelAjax",null,0,0,"admin","2015-05-25 15:19:34.0","admin","2015-06-02 16:33:12.0",15],["23X2J7B83V1F","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"insertOrgSecApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"insertSec\",\"sql\":\"insert into XIP_PUB_ORG_SEC\\n            (ORG_SEC_ID,\\n             TARGET_ID,\\n             ORG_ID,\\n             TYPE,\\n             CREATION_DATE,\\n             CREATED_BY,\\n             LAST_UPDATED_BY,\\n             LAST_UPDATE_DATE)\\nvalues(\\n          {?ORG_SEC_ID?},\\n          {?TARGET_ID?},\\n          {?ORG_ID?},\\n          {?TYPE?},\\n          {?timestamp.sys.date?},\\n          {?XIP.userId?},\\n          {?XIP.userId?},\\n          {?timestamp.sys.date?}      \\n    )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"batchArray\"}],\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].ORG_SEC_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('batchArray',r);\",\"loginRequired\":\"false\"}","batchAddOrgSec",null,0,0,"admin","2015-05-27 15:59:44.0","admin","2015-05-27 17:19:52.0",27],["23X2J7B84IJZ","23W2FPM1OA9Z",null,"newData",null,1,0,"admin","2015-06-01 15:44:51.0","admin","2015-06-05 14:08:10.0",3],["23X2J7B84IK1","23X2J7B84IJZ","{\"id\":\"module\",\"title\":\"read\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT S.CAT_SEC_ID,\\n       S.ATT_SERVER_ID, \\n       S.ATT_CAT_ID,\\n       (SELECT ORG_NAME FROM XIP_PUB_ORGS WHERE ORG_ID = S.ORG_ID) ORG_NAME,\\n       S.ORG_ID,\\n       E.SERVER_NAME,\\n       E.SERVER_TYPE ||'|'||E.HOST AS HOSTANDTYPENAME,\\n       S.ENABLE_FLAG \\n       FROM XIP_PUB_ATT_CAT_SEC S,XIP_PUB_ATT_SERVER E\\n       WHERE S.ATT_SERVER_ID = E.SERVER_ID\\n       AND S.ATT_CAT_ID =  '{#ATT_CAT_ID#}'\",\"mysql\":\"SELECT S.CAT_SEC_ID,\\n       S.ATT_SERVER_ID, \\n       S.ATT_CAT_ID,\\n       (SELECT ORG_NAME FROM XIP_PUB_ORGS WHERE ORG_ID = S.ORG_ID) ORG_NAME,\\n       S.ORG_ID,\\n       E.SERVER_NAME,\\n       CONCAT(E.SERVER_TYPE,'|',E.HOST) AS HOSTANDTYPENAME,\\n       S.ENABLE_FLAG \\n       FROM XIP_PUB_ATT_CAT_SEC S,XIP_PUB_ATT_SERVER E\\n       WHERE S.ATT_SERVER_ID = E.SERVER_ID\\n       AND S.ATT_CAT_ID =  '{#ATT_CAT_ID#}'\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","secRead",null,0,0,"admin","2015-06-01 15:44:56.0","admin","2015-06-09 13:27:44.0",1],["23X2J7B84ILM","23X2J7B84IJZ","{\"id\":\"module\",\"title\":\"create\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"secCreat\",\"sql\":\"insert into XIP_PUB_ATT_CAT_SEC\\n  (cat_sec_id,\\n   att_cat_id,\\n   org_id,\\n   att_server_id, \\n   enable_flag,\\n   creation_date,\\n   created_by,\\n   last_update_date,\\n   last_updated_by,\\n   last_update_login\\n  )\\nvalues(\\n   {?CAT_SEC_ID?},\\n   {?ATT_CAT_ID?},\\n   {?ORG_ID?},\\n   {?ATT_SERVER_ID?},\\n   {?ENABLE_FLAG?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"},{\"id\":\"response1\",\"xwlMeta\":\"response\",\"object\":\"returns\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\\nrequest.setAttribute('returns',result);\",\"loginRequired\":\"false\"}","secCreate",null,0,0,"admin","2015-06-01 15:56:45.0","admin","2015-06-02 12:21:00.0",2],["23X2J7B84IYY","23X2J7B84IJZ","{\"id\":\"module\",\"title\":\"update\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update XIP_PUB_ATT_CAT_SEC \\nset \\n       org_id            = {?ORG_ID?},\\n       att_server_id     = {?ATT_SERVER_ID?}, \\n       enable_flag       = {?ENABLE_FLAG?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\nwhere cat_sec_id = {?CAT_SEC_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\"}","secUpdate",null,0,0,"admin","2015-06-01 16:32:42.0","admin","2015-06-02 12:21:08.0",3],["23X2J7B84IZA","23X2J7B84IJZ","{\"id\":\"module\",\"title\":\"destroy\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from XIP_PUB_ATT_CAT_SEC where CAT_SEC_ID={?CAT_SEC_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\",\"initialize\":\"delete from WB_CUST where CUST_ID={?id?}\"}","secDestroy",null,0,0,"admin","2015-06-01 16:35:32.0","admin","2015-06-02 12:21:16.0",4],["23X432D7JXGK","23VKVPUL8420","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select ArchiveTasks\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"     select tsk.task_id TASKID,\\n         tsk.process_id PROCESSID,\\n         tsk.process_code PROCESSCODE,\\n         tsk.process_version PROCESSVERSION,\\n         tsk.instance_id INSTANCEID,\\n         tsk.instance_code INSTANCECODE,\\n         tsk.act_id ACTID,\\n         tsk.act_code ACTCODE,\\n         tsk.act_name ACTNAME,\\n         tsk.task_title TASKTITLE,\\n         tsk.from_user FROMUSER,\\n         (select b.emp_name from xip_pub_users a, xip_pub_emps b where a.emp_id = b.emp_id and a.user_id = tsk.from_user) FROMUSERNAME,\\n         tsk.assign_user ASSIGNUSER,\\n         (select b.emp_name from xip_pub_users a, xip_pub_emps b where a.emp_id = b.emp_id and a.user_id = tsk.assign_user) ASSIGNUSERNAME,\\n         tsk.execute_user EXECUTEUSER, \\n         (select b.emp_name from xip_pub_users a, xip_pub_emps b where a.emp_id = b.emp_id and a.user_id = tsk.execute_user) EXECUTEUSERNAME,\\n         tsk.task_state  TASKSTATE,\\n         tsk.from_task_id FROMTASKID,\\n         tsk.begin_date BEGINDATE,\\n         tsk.end_date ENDDATE,\\n         tsk.result RESULT,\\n         tsk.approve_comment APPROVECOMMNET,\\n         tsk.description DESCRIPTION,\\n         tsk.close_cause CLOSECAUSE,\\n         tsk.create_type CREATETYPE,\\n         tsk.task_effective TASKEFFECTIVE,\\n         tsk.creation_date CREATIONDATE,\\n         tsk.created_by CREATEBY,\\n         tsk.last_update_date LASTUPDATEDATE,\\n         tsk.last_updated_by LASTUPDATEDBY \\n      from xip_wf_arch_task tsk\\n     where tsk.instance_id = (case when {?varType?} = 'ins' then \\n                   (select x.instance_id from xip_wf_arch_instance x where x.instance_code = {?insCode?})\\n                        else (select a.instance_id from xip_wf_arch_task a where a.task_id = {?taskId?}) end)\\n           and tsk.create_type != 'copyto'\\n           order by tsk.begin_date,tsk.end_date\"}]}","Select ArchiveTasks",null,0,0,"admin","2015-06-02 12:20:33.0","23XQ4UO678F8","2015-08-14 15:02:20.0",5],["23X432D7JXHQ","23VKVPUL841X","{\"id\":\"module\",\"title\":\"归档待办\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"store1\",\"xwlMeta\":\"store\",\"params\":\"{varType:'{#varType#}',insCode:'{#insCode#}',taskId:'{#taskId#}'}\",\"url\":\"#23X432D7JXGK (Get ArchiveTasks)\"},{\"id\":\"colArray\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"rownum\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"align\":\"center\",\"type\":\"rowNumber\"},{\"id\":\"assignUserName\",\"text\":\"待办所有者\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"ASSIGNUSERNAME\"},{\"id\":\"executeUserName\",\"text\":\"待办执行人\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"EXECUTEUSERNAME\"},{\"id\":\"actName\",\"text\":\"审批阶段\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"ACTNAME\"},{\"id\":\"beginDate\",\"text\":\"开始时间\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"BEGINDATE\",\"format\":\"Y-m-d H:i:s\"},{\"id\":\"endDate\",\"text\":\"结束时间\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"ENDDATE\",\"format\":\"Y-m-d H:i:s\"},{\"id\":\"taskState\",\"text\":\"待办状态\",\"xwlMeta\":\"column\",\"width\":\"80\",\"dataIndex\":\"TASKSTATE\",\"renderer\":\"// open-打开，hung-up-挂起，closed-关闭\\nif(value == 'open'){\\n  value = '打开' ;\\n}else if(value == 'hung-up'){\\n  value = '挂起' ;\\n}else if(value == 'closed'){\\n  value = '关闭' ;\\n}\\nreturn value ; \"},{\"id\":\"result\",\"text\":\"结果\",\"xwlMeta\":\"column\",\"width\":\"120\",\"dataIndex\":\"RESULT\"},{\"id\":\"createType\",\"text\":\"待办分类\",\"xwlMeta\":\"column\",\"width\":\"100\",\"dataIndex\":\"CREATETYPE\",\"renderer\":\"// normal - 正常待办，consult - 征询待办，copyto - 抄送待办，avoid - 规避待办，start-提交人待办\\nif(value == 'normal'){\\n  value = '正常待办' ;\\n}else if(value == 'consult'){\\n  value = '征询待办' ;\\n}else if(value == 'copyto'){\\n  value = '抄送待办' ;\\n}else if(value == 'avoid'){\\n  value = '规避待办' ;\\n}else if(value == 'start'){\\n  value = '提交人待办' ;\\n}else{\\n  return value ;\\n}\\nreturn value ;\"},{\"id\":\"approveCommnet\",\"text\":\"审批意见\",\"xwlMeta\":\"column\",\"width\":\"300\",\"dataIndex\":\"APPROVECOMMNET\"}]},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"panel1\",\"xwlMeta\":\"panel\",\"layout\":\"fit\",\"children\":[{\"id\":\"grid1\",\"store\":\"store1\",\"xwlMeta\":\"grid\",\"columns\":\"colArray\",\"viewConfig\":\"{\\n enableTextSelection:true\\n}\"}]}]}],\"initScript\":\"var _varType = request.getParameter(\\\"varType\\\") ;\\nvar _insCode = request.getParameter(\\\"insCode\\\") ;\\nvar _taskId = request.getParameter(\\\"taskId\\\") ;\\n\\nrequest.setAttribute(\\\"varType\\\",_varType);\\nrequest.setAttribute(\\\"insCode\\\",_insCode);\\nrequest.setAttribute(\\\"taskId\\\",_taskId);\",\"loginRequired\":\"false\"}","Archive Tasks",null,0,0,"admin","2015-06-02 12:22:12.0","admin","2015-08-04 10:44:19.0",7],["23X4DT3U5ILI","23WCQ6TFHJ7P","{\"id\":\"module\",\"title\":\"updateparameter\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into XIP_PUB_PROGRAM_RUN_PARAMS(\\n  RUN_PARAM_ID,\\n  RUN_CONFIG_ID,\\n  PROGRAM_PARAM_ID,\\n  PARAM_VAL,\\n  CREATION_DATE,\\n  CREATED_BY,\\n  LAST_UPDATED_BY,\\n  LAST_UPDATE_DATE,\\n  ATTRIBUTE10\\n) values (\\n  {?RUN_PARAM_ID?},\\n  {?RUN_CONFIG_ID?},\\n  {?PROGRAM_PARAM_ID?},\\n  {?PARAM_VAL?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?ATTRIBUTE10?}\\n)\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"insertArray\"}],\"loginRequired\":\"false\"}","insertparameter",null,0,0,"admin","2015-06-02 16:42:14.0","admin","2015-07-08 11:29:24.0",11],["23X4DT3U5ODN","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"selectgriddept\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.DEPT_ID,\\n\\t\\tt.DEPT_CODE,\\n\\t\\tt.DEPT_NAME\\nfrom XIP_PUB_DEPTS t  \\nwhere t.ENABLE_FLAG = 'Y' \\n{#WHERESQL#}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","postDeptStore",null,0,0,"admin","2015-06-03 14:10:08.0","admin","2015-06-03 14:15:56.0",18],["23X4WSD8F87Z","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"insertOrgSecApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"insertSec\",\"sql\":\"insert into xip_pub_user_roles\\n            (USER_ROLE_ID,\\n             USER_ID,\\n             ROLE_ID,\\n             CREATION_DATE,\\n             CREATED_BY,\\n             LAST_UPDATED_BY,\\n             LAST_UPDATE_DATE)\\n    values( \\n            {?USER_ROLE_ID?},\\n            {?USER_ID?},\\n            {?ROLE_ID?},\\n            {?timestamp.sys.date?},\\n            {?XIP.userId?},\\n            {?XIP.userId?},\\n            {?timestamp.sys.date?}  \\n    )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"batchArray\"}],\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].USER_ROLE_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('batchArray',r);\",\"loginRequired\":\"false\"}","batchAddRoleSec",null,0,0,"admin","2015-06-04 15:18:57.0","admin","2015-06-26 11:13:30.0",17],["23X4WSD8F9BI","23WO6G8BVPTC","{\"id\":\"module\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"delRoleSec\",\"sql\":\"delete from xip_pub_user_roles where ROLE_ID={?ROLE_ID?} AND USER_ID = {?USER_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"delArray\"}],\"loginRequired\":\"false\"}","batchDelRoleSec",null,0,0,"admin","2015-06-04 16:18:51.0","admin","2015-06-04 16:21:10.0",18],["23X4WSD8F9M8","23VKVPUL841U",null,"流程导入导出",null,1,0,"admin","2015-06-04 16:29:22.0","23XSWLY0BYLW","2015-08-25 10:32:15.0",14],["23X4WSD8F9MU","23X4WSD8F9M8","{\"id\":\"module\",\"title\":\"流程导出\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"store4Entities\",\"xwlMeta\":\"store\",\"load\":\"Ext.define('EntityModel', {  \\n    extend: 'Ext.data.Model',  \\n    fields: [  \\n        {name: 'ID'},  \\n        {name: 'CODE'},   \\n        {name: 'NAME'}\\n     ]  \\n});\\nvar p = Ext.create('EntityModel', {ID:'',CODE:'', NAME: '全部实体'});\\nstore4Entities.insert(0,p);\\n\\n\",\"params\":\"{'appId':'{#appId#}'}\",\"url\":\"#23X58EWZXDIP (Get Entities)\"},{\"id\":\"store4Proc\",\"groupDir\":\"desc\",\"groupField\":\"GROUPTYPE\",\"xwlMeta\":\"store\",\"pageSize\":\"-1\",\"params\":\"{'appId':'{#appId#}','entityId':'{#entityId#}'}\",\"output\":\"cbxEntities,proc_name\",\"url\":\"#23X4WSD8F9O0 (Get Process)\"},{\"id\":\"colArray\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"rownum\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"width\":\"40\",\"type\":\"rowNumber\"},{\"id\":\"procId\",\"text\":\"流程ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"PID\"},{\"id\":\"procCode\",\"text\":\"流程编码\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"PCODE\"},{\"id\":\"procName\",\"text\":\"流程名称\",\"xwlMeta\":\"column\",\"width\":\"250\",\"dataIndex\":\"PNAME\",\"renderer\":\"metaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:18px;';   \\nreturn value ;\"},{\"id\":\"procVerison\",\"text\":\"流程版本\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"PVERISON\"},{\"id\":\"procType\",\"text\":\"流程分类\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"PCATEGORY\",\"renderer\":\"if(value === 'P'){\\n  return '公共流程';\\n}else if(value === 'O'){\\n  return '组织流程';\\n}else{\\n  return value ;\\n}\"},{\"id\":\"entityId\",\"text\":\"实体ID\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"ENTITYID\"},{\"id\":\"entityName\",\"text\":\"业务实体\",\"xwlMeta\":\"column\",\"width\":\"150\",\"dataIndex\":\"ENTITYNAME\",\"renderer\":\"metaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:18px;';   \\nreturn value ;\"},{\"id\":\"orgId\",\"text\":\"组织Id\",\"xwlMeta\":\"column\",\"hidden\":\"true\",\"dataIndex\":\"PORGID\"},{\"id\":\"orgName\",\"text\":\"所属组织\",\"xwlMeta\":\"column\",\"width\":\"250\",\"dataIndex\":\"PORGNAME\",\"renderer\":\"metaData.style = 'overflow:auto;padding: 3px 6px;text-overflow: ellipsis;white-space: nowrap;white-space:normal;line-height:18px;';   \\nif(value === null){\\n  return '公共流程';\\n}else{\\n  return value ;\\n}\"}]},{\"id\":\"buttons\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"btnExp\",\"text\":\"导出\",\"xwlMeta\":\"button\",\"click\":\"var rows = grid4Proc.getSelectionModel().getSelection();\\nif(rows.length === 0){\\n  \\tExt.Msg.alert(\\\"提示\\\",\\\"请选择流程信息!\\\") ;\\n  \\treturn false ;\\n}else{\\n  \\tvar procList = \\\"\\\" ;\\n    Ext.each(rows, function(r){\\n      var pid = r.get('PID') ;\\n      if(procList === \\\"\\\"){\\n        procList = pid ;\\n      }else{\\n        procList = procList + \\\",\\\" + pid ;\\n      }\\n    });\\n  \\n\\tvar msg = Ext.MessageBox.show({\\n\\t\\ttitle \\t : \\t'请等待',\\n\\t\\tmsg \\t : \\t'正在提交请求.......',\\n\\t\\twidth \\t : \\t240,\\n\\t\\twait\\t : \\ttrue,\\n\\t\\tprogress : \\ttrue,\\n\\t\\tclosable : \\tfalse\\n\\t});\\n  \\n  \\t// 提交ajax请求\\n\\tExt.Ajax.request({\\n      url \\t: '{#contextPath#}'+'/procImpAndExpAction.do?method=expProc',\\n\\t\\tparams\\t: {'procList'  : procList},\\n\\t\\tmethod \\t: 'post',\\n\\t\\ttimeout : 3600000,\\n\\t\\tasync\\t:\\tfalse,\\n\\t\\tsuccess : function(response, options) {\\n            msg.hide();\\n\\t\\t\\tvar resp = Ext.JSON.decode(response.responseText); \\n            \\n          \\tvar flag = resp.flag ;\\n          \\tvar filepath = resp.filepath ;\\n          \\tvar filename = resp.filename ;\\n            if(flag === \\\"0\\\"){\\n              window.open('{#contextPath#}' + '/download?method=download&filepath='+filepath+'&filename='+filename);\\n            }else{\\n              Ext.Msg.alert(\\\"提示\\\", response.msg);\\n            }\\n\\t\\t},\\n\\t\\tfailure : function(reponse, options) {\\n            msg.hide();\\n\\t\\t\\tvar resp = Ext.JSON.decode(response.responseText);\\n          \\tExt.Msg.alert(\\\"提示\\\", response.msg);\\n\\t\\t}\\n\\t});\\t\\t  \\n}\",\"iconCls\":\"ok_icon\"}]},{\"id\":\"toolbar1\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"cbxEntities\",\"afterrender\":\"var _entityId = '{#entityId#}' ;\\nif(_entityId === null || _entityId === \\\"\\\"){\\n     store4Entities.load({\\n      callback:function(){\\n          cbxEntities.setValue('') ;\\n      }\\n    }) ; \\t\\n}else{\\n    store4Entities.load({\\n      callback:function(){\\n          cbxEntities.setValue(_entityId) ;\\n      }\\n    }) ;\\n}\\n\",\"labelWidth\":\"60\",\"store\":\"store4Entities\",\"displayField\":\"NAME\",\"xwlMeta\":\"comboBox\",\"select\":\"Wb.load(store4Proc) ;\",\"width\":\"300\",\"valueField\":\"ID\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务实体\",\"editable\":\"false\"},{\"id\":\"sep1\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"proc_name\",\"labelWidth\":\"60\",\"xwlMeta\":\"text\",\"width\":\"300\",\"labelAlign\":\"right\",\"fieldLabel\":\"流程名称\",\"specialkey\":\"Wb.load(store4Proc) ;\"},{\"id\":\"sep2\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btnQuery\",\"xwlMeta\":\"menuItem\",\"click\":\"Wb.load(store4Proc) ;\",\"iconCls\":\"seek_icon\"},{\"id\":\"sep3\",\"xwlMeta\":\"menuItem\"}]},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"selType\":\"checkboxmodel\",\"store\":\"store4Proc\",\"xwlMeta\":\"grid\",\"pagingToolbar\":\"false\",\"columns\":\"colArray\",\"buttons\":\"buttons\",\"id\":\"grid4Proc\",\"tbar\":\"toolbar1\",\"multiSelect\":\"true\",\"exportExcel\":\"false\",\"featureType\":\"grouping\",\"buttonAlign\":\"righ\",\"autoLoad\":\"true\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\"}]}],\"initScript\":\"var ctxPath = request.getContextPath() ;\\nvar appId = request.getParameter(\\\"appId\\\") ;\\nvar entityId = request.getParameter(\\\"entityId\\\") ;\\n\\nrequest.setAttribute(\\\"appId\\\",appId) ;\\nrequest.setAttribute(\\\"entityId\\\",entityId) ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"loginRequired\":\"false\"}","流程导出",null,0,0,"admin","2015-06-04 16:29:34.0","admin","2015-06-18 18:08:59.0",1],["23X4WSD8F9N5","23X4WSD8F9M8",null,"DATA",null,1,0,"admin","2015-06-04 16:29:43.0","23XSWLY0BYLW","2015-08-25 10:32:01.0",2],["23X4WSD8F9NE","23X4WSD8F9M8","{\"id\":\"module\",\"title\":\"流程导入\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"children\":[{\"id\":\"uploadForm\",\"frame\":\"true\",\"height\":\"110\",\"xwlMeta\":\"form\",\"width\":\"480\",\"layout\":\"absolute\",\"children\":[{\"id\":\"label1\",\"text\":\"请选择待导入的XML文件：\",\"height\":\"22\",\"xwlMeta\":\"label\",\"width\":\"250\",\"y\":\"8\",\"x\":\"16\"},{\"id\":\"fileText\",\"height\":\"22\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"width\":\"350\",\"inputType\":\"file\",\"y\":\"40\",\"x\":\"16\"},{\"id\":\"coverBiz\",\"xwlMeta\":\"check\",\"labelAlign\":\"right\",\"boxLabel\":\"覆盖业务状态\",\"y\":\"70\",\"x\":\"16\"},{\"id\":\"uploadFile\",\"text\":\"导入\",\"height\":\"22\",\"xwlMeta\":\"button\",\"width\":\"80\",\"click\":\"var form = uploadForm.form ;\\nif(form.isValid()){\\n  // 是否覆盖业务状态\\n  var chkB ;\\n  if(coverBiz.checked){\\n     chkB = 'Y' ;\\n  }else{\\n     chkB = 'N' ;\\n  }\\n  \\n  // 进度条\\n  var msg = Ext.MessageBox.show({\\n    title \\t : \\t'请等待',\\n    msg \\t : \\t'正在提交请求...',\\n    width \\t : \\t300,\\n    wait\\t : \\ttrue,\\n    progress : \\ttrue,\\n    closable : \\tfalse\\n  });\\n  \\n  form.submit({\\n    url\\t\\t: \\t'{#ctxPath#}'+'/procImpAndExpAction.do?method=impProc&coverBiz='+chkB,\\n    method\\t:\\t'post',\\n    timeout : 3600000,\\n    success\\t: \\tfunction(myform, action) {\\n      \\tmsg.hide();\\n\\t \\tvar flag = action.result.success ;\\n     \\tExt.Msg.alert('提示', action.result.data);\\n    },\\n    failure\\t: \\tfunction(myform, action) {\\n        msg.hide();\\n       \\tExt.Msg.alert('提示',action.result.msg);\\n    }\\n  });\\n}\",\"y\":\"40\",\"iconCls\":\"ok_icon\",\"x\":\"380\"}],\"transparent\":\"true\",\"y\":\"8\",\"x\":\"8\"}]}],\"initScript\":\"var appId = request.getParameter(\\\"appId\\\") ;\\nvar ctxPath = request.getContextPath();\\n\\nrequest.setAttribute(\\\"appId\\\",appId) ;\\nrequest.setAttribute(\\\"ctxPath\\\",ctxPath) ;\",\"loginRequired\":\"false\"}","流程导入",null,0,0,"admin","2015-06-04 16:29:52.0","admin","2015-06-19 12:24:21.0",3],["23X4WSD8F9O0","23X4WSD8F9N5","{\"id\":\"module\",\"title\":\"Get Process\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.process_id PID,\\n       t.process_code PCODE,\\n       t.process_name PNAME,\\n       t.process_verison PVERISON,\\n       t.process_category PCATEGORY,\\n       t.org_id PORGID,\\n       xo.org_name PORGNAME,\\n       xe.entity_id ENTITYID,\\n       xe.entity_name ENTITYNAME,\\n     '【' || xe.entity_name ||'】-'|| nvl(xo.org_name,'公共流程') GROUPTYPE\\n  from xip_wf_entities xe ,xip_wf_processes t \\n  left join xip_pub_orgs xo on t.org_id = xo.org_id\\n where xe.ENTITY_ID = t.ENTITY_ID\\n   and xe.app_id = {?appId?}\\n   and xe.entity_id = nvl({?entityId?},xe.entity_id)\\n   and xe.entity_id = nvl({?cbxEntities?},xe.entity_id)\\n   AND T.PROCESS_NAME LIKE '%{#proc_name#}%'\\n order by t.PROCESS_CATEGORY desc,t.ORG_ID \",\"mysql\":\"select t.process_id PID,\\n       t.process_code PCODE,\\n       t.process_name PNAME,\\n       t.process_verison PVERISON,\\n       t.process_category PCATEGORY,\\n       t.org_id PORGID,\\n       xo.org_name PORGNAME,\\n       xe.entity_id ENTITYID,\\n       xe.entity_name ENTITYNAME,\\n       CONCAT('【', xe.entity_name,'】-',IFNULL(xo.org_name,'公共流程')) GROUPTYPE\\n  from xip_wf_entities xe ,xip_wf_processes t \\n  left join xip_pub_orgs xo on t.org_id = xo.org_id\\n where xe.ENTITY_ID = t.ENTITY_ID\\n   and xe.APP_ID = {?appId?}\\n   and xe.ENTITY_ID = IFNULL({?entityId?} ,xe.ENTITY_ID)\\n   and xe.entity_id = IFNULL({?cbxEntities?},xe.entity_id)\\n   AND T.PROCESS_NAME LIKE '%{#proc_name#}%'\\n order by t.PROCESS_CATEGORY desc,t.ORG_ID\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Get Process",null,0,0,"admin","2015-06-04 16:30:30.0","admin","2015-06-05 12:27:08.0",1],["23X4WSD8FBG6","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"insertOrgSecApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"insertSec\",\"sql\":\"insert into XIP_PUB_USER_FUNS\\n            (USER_FUN_ID,\\n             TARGET_ID,\\n             FUN_TREE_ID,\\n             TYPE,\\n             CREATION_DATE,\\n             CREATED_BY,\\n             LAST_UPDATED_BY,\\n             LAST_UPDATE_DATE)\\n    values(\\n      {?USER_FUN_ID?},\\n      {?TARGET_ID?},\\n      {?FUN_TREE_ID?},\\n      {?TYPE?},\\n      {?timestamp.sys.date?},\\n      {?XIP.userId?},\\n      {?XIP.userId?},\\n      {?timestamp.sys.date?}     \\n    )\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"batchArray\"}],\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].USER_FUN_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('batchArray',r);\",\"loginRequired\":\"false\"}","batchAddFunSec",null,0,0,"admin","2015-06-04 17:29:37.0","admin","2015-06-04 17:41:43.0",19],["23X4WSD8FC5Q","23WO6G8BUTIH","{\"id\":\"module\",\"title\":\"deleteBackOrg\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"delOrgSec\",\"sql\":\"delete from XIP_PUB_USER_FUNS where FUN_TREE_ID={?FUN_TREE_ID?} and TARGET_ID={?TARGET_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"delArray\"}],\"loginRequired\":\"false\"}","batchDelFunGtant",null,0,0,"admin","2015-06-04 17:51:34.0","admin","2015-06-04 17:52:53.0",20],["23X58EWZXDIP","23X4WSD8F9N5","{\"id\":\"module\",\"title\":\"Get Entities\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"\\tselect t.ENTITY_ID ID ,t.ENTITY_CODE CODE ,t.ENTITY_NAME NAME\\nfrom xip_wf_entities t where t.APP_ID = {?appId?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Get Entities",null,0,0,"admin","2015-06-05 13:04:17.0","admin","2015-06-05 13:05:49.0",2],["23X64X5AE5EJ","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"deltFun\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"delFunSec\",\"sql\":\"delete from XIP_PUB_USER_FUNS where TARGET_ID={?TARGET_ID?} and FUN_TREE_ID={?FUN_TREE_ID?} and TYPE='U'\\n\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"newArray\"}],\"loginRequired\":\"false\"}","delFun",null,0,0,"admin","2015-06-08 10:50:37.0","admin","2015-06-08 10:52:36.0",30],["23X64X5AE63F","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select TARGET_ID,FUN_TREE_ID from XIP_PUB_USER_FUNS \\n  where TARGET_ID in ({#userIds#})\\n  and FUN_TREE_ID in ({#funIds#})\\n  and TYPE = 'U'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","userGrantedFunStore",null,0,0,"admin","2015-06-08 12:31:17.0","admin","2015-06-08 12:37:09.0",31],["23X64X5AE6NB","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select USER_ID,ROLE_ID from xip_pub_user_roles \\n  where USER_ID in ({#userIds#})\\n  and ROLE_ID in ({#roleIds#})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","userGrantedRoleStore",null,0,0,"admin","2015-06-08 14:34:02.0","admin","2015-06-08 14:36:01.0",32],["23X64X5AE74R","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"userGrantedoRGStore\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select \\n      t.ORG_ID,\\n      s.ORG_SEC_ID, \\n      s.TARGET_ID\\nfrom XIP_PUB_ORGS  t,\\nXIP_PUB_ORG_SEC s\\nwhere  t.ORG_ID=s.ORG_ID \\n  and  s.TYPE='U' \\n  and  t.ENABLE_FLAG = 'Y' \\n  and  s.TARGET_ID in ({#userIds#})\\n  and  s.ORG_ID in ({#orgIds#})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","userGrantedoRGStore",null,0,0,"admin","2015-06-08 16:01:12.0","admin","2015-06-08 16:08:33.0",33],["23X64X5AE7KQ","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"userGrantedoRGStore\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select\\n      t.USER_ID,\\n      t.APP_ID\\nfrom xip_pub_app_sec  t\\nwhere  t.USER_ID in ({#userIds#})\\n  and  t.APP_ID in ({#appIds#})\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","userGrantedAppStore",null,0,0,"admin","2015-06-08 17:19:17.0","admin","2015-06-08 17:24:23.0",34],["23X6JDTEN5QA","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectUrlgrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\n{#WHERESQL#}\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\n{#WHERESQL#}\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","orgDeptGridUser",null,0,0,"admin","2015-06-10 14:46:57.0","admin","2015-06-10 14:46:57.0",35],["23X6JDTEN5QC","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"selectgridUser\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  b.EMP_NAME\\nFROM\\n  xip_pub_users a,\\n  xip_pub_emps b\\nWHERE b.EMP_ID = a.EMP_ID\\nAND  b.ATTRIBUTE2 ='Y' \\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\nAND (a.USER_NAME LIKE {?attribute1?} OR b.EMP_NAME LIKE {?attribute1?})\\nAND NOT EXISTS (SELECT * FROM xip_pub_emp_asg t where t.EMP_ID = a.EMP_ID and t.ENABLED = 'N')\\n\\n\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  b.EMP_NAME\\nFROM\\n  xip_pub_users a,\\n  xip_pub_emps b\\nWHERE b.EMP_ID = a.EMP_ID\\nAND b.ATTRIBUTE2 ='Y' \\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\nAND (a.USER_NAME LIKE {?attribute1?} OR b.EMP_NAME LIKE {?attribute1?})\\nAND NOT EXISTS (SELECT * FROM xip_pub_emp_asg t where t.EMP_ID = a.EMP_ID and t.ENABLED = 'N')\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","noOrgDeptGridUser",null,0,0,"admin","2015-06-10 14:47:06.0","admin","2015-06-10 14:47:06.0",36],["23X6U35T97AU","23WSD6KB5Z7N","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectgridUser\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#userNUpper#}%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  b.EMP_NAME\\nFROM\\n  xip_pub_users a,\\n  xip_pub_emps b\\nWHERE b.EMP_ID = a.EMP_ID\\nAND  b.ATTRIBUTE2 ='Y' \\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\nAND (a.USER_NAME LIKE {?attribute1?} OR b.EMP_NAME LIKE {?attribute1?})\\nAND NOT EXISTS (SELECT * FROM xip_pub_emp_asg t where t.EMP_ID = a.EMP_ID and t.ENABLED = 'N')\\n\\n\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  b.EMP_NAME\\nFROM\\n  xip_pub_users a,\\n  xip_pub_emps b\\nWHERE b.EMP_ID = a.EMP_ID\\nAND b.ATTRIBUTE2 ='Y' \\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\nAND (a.USER_NAME LIKE {?attribute1?} OR b.EMP_NAME LIKE {?attribute1?})\\nAND NOT EXISTS (SELECT * FROM xip_pub_emp_asg t where t.EMP_ID = a.EMP_ID and t.ENABLED = 'N')\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","noOrgDeptGridUser",null,0,0,"admin","2015-06-10 16:15:38.0","23XQ4UO678F5","2015-10-19 16:13:22.0",28],["23X6U35T97B9","23WSD6KB5Z7N","{\"id\":\"module\",\"title\":\"selectUrlgrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\n{#WHERESQL#}\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\n{#WHERESQL#}\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","orgDeptGridUser",null,0,0,"admin","2015-06-10 16:15:55.0","admin","2015-06-10 16:15:55.0",29],["23X6U35T97J2","23WO6G8BVPTC","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectgridUser\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#userNUpper#}%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  b.EMP_NAME\\nFROM\\n  xip_pub_users a,\\n  xip_pub_emps b\\nWHERE b.EMP_ID = a.EMP_ID\\nAND  b.ATTRIBUTE2 ='Y' \\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\nAND (a.USER_NAME LIKE {?attribute1?} OR b.EMP_NAME LIKE {?attribute1?})\\nAND NOT EXISTS (SELECT * FROM xip_pub_emp_asg t where t.EMP_ID = a.EMP_ID and t.ENABLED = 'N')\\n\\n\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  b.EMP_NAME\\nFROM\\n  xip_pub_users a,\\n  xip_pub_emps b\\nWHERE b.EMP_ID = a.EMP_ID\\nAND b.ATTRIBUTE2 ='Y' \\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\nAND (a.USER_NAME LIKE {?attribute1?} OR b.EMP_NAME LIKE {?attribute1?})\\nAND NOT EXISTS (SELECT * FROM xip_pub_emp_asg t where t.EMP_ID = a.EMP_ID and t.ENABLED = 'N')\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","noOrgDeptGridUser",null,0,0,"admin","2015-06-10 16:21:14.0","23XQ4UO678F5","2015-10-19 15:53:05.0",19],["23X6U35T97KL","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"selectUrlgrid\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#userN#}%\"},{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\n{#WHERESQL#}\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\n{#WHERESQL#}\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","orgDeptGridUser",null,0,0,"admin","2015-06-10 16:21:36.0","admin","2015-06-10 16:21:36.0",20],["23X7D36B71XU","23W06BGDKYGT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"updateDeptTreeIndex\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"updateOtherNode\",\"sql\":\"update xip_pub_depts \\n set SEQ_UPDEPT = SEQ_UPDEPT+1\\n where UP_DP_ID = {?parentId?} \\n and SEQ_UPDEPT >= {?integer.seq_updept?}\",\"transaction\":\"start\"},{\"xwlMeta\":\"query\",\"id\":\"updateOwnNode\",\"sql\":\"update xip_pub_depts \\nset UP_DP_ID={?parentId?},\\n    SEQ_UPDEPT={?integer.seq_updept?} \\nwhere DEPT_ID={?deptId?}\"}]}","updateDeptIndex",null,0,0,"admin","2015-06-12 14:53:10.0","23XQ4B4KHDBQ","2015-08-27 12:04:57.0",24],["23X7D36B72F7","23VKVPUL841U",null,"节点执行人授权(new)",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-19 11:19:16.0",15],["23X7D36B72F8","23X7D36B72F7","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"节点执行人授权\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n\\nrequest.setAttribute(\\\"delImageSrc\\\",request.getContextPath()+\\\"/pub/uip/common/image/cut.gif\\\");\",\"cssFiles\":\"[\\\"common/css/default.css\\\"]\",\"finalize\":\"//添加选中项\\nfunction addItems(items, type){\\n  if(type=='act'){\\n    var addArray = new Array();\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectActStore_auth.find('ACT_ID',item.get('ACT_ID'));\\n      if(index==-1){\\n        addArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<addArray.length; j++){\\n      selectActStore_auth.add(addArray[j]);\\n    }\\n  }else if(type=='user'){\\n    var addArray = new Array();\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectUserStore.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        addArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<addArray.length; j++){\\n      selectUserStore.add(addArray[j]);\\n    }\\n  }else if(type=='post'){\\n    var addArray = new Array();\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectPostStore.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        addArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<addArray.length; j++){\\n      selectPostStore.add(addArray[j]);\\n    }\\n  }else if(type=='dept'){\\n    var addArray = new Array();\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectDeptStore.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        addArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<addArray.length; j++){\\n      selectDeptStore.add(addArray[j]);\\n    }\\n  }\\n}\\n\\t\\n//删除选中项\\nfunction removeItems(items, type){\\n  if(type=='act'){\\n    for(var i=0; i<items.length; i++){\\n      selectActStore_auth.remove(items[i]);\\n    }\\n  }else if(type=='user'){\\n    for(var i=0; i<items.length; i++){\\n      selectUserStore.remove(items[i]);\\n    }\\n  }else if(type=='post'){\\n    for(var i=0; i<items.length; i++){\\n      selectPostStore.remove(items[i]);\\n    }\\n  }else if(type=='dept'){\\n    for(var i=0; i<items.length; i++){\\n      selectDeptStore.remove(items[i]);\\n    }\\n  }\\n  \\n}\\n\\nvar addArray_edit = new Array();\\nvar deleteArray_edit = new Array();\\n\\n//添加时对addArray和deleteArray的操作。\\nfunction itemsAddWithArrayOperator(items){\\n  for(var i=0; i<items.length; i++){\\n    //addArray不包含则添加\\n    var add_flag = true;\\n    for(var j=0; j<addArray_edit.length; j++){\\n      if(addArray_edit[j].get('PRI_ID')==items[i].get('PRI_ID')){\\n        add_flag = false;\\n        break;\\n      }\\n    }\\n    if(add_flag==true){\\n      addArray_edit.push(items[i]);\\n    }\\n    //deleteArray包含则删除\\n    for(var k=0; k<deleteArray_edit.length; k++){\\n      if(deleteArray_edit[k].get('PRI_ID')==items[i].get('PRI_ID')){\\n        deleteArray_edit.splice(k,1);\\n      }\\n    }\\n  }\\n}\\n\\n//删除时对addArray和deleteArray的操作。\\nfunction itemsRemoveWithArrayOperator(items){\\n  for(var i=0; i<items.length; i++){\\n    //addArray包含则删除\\n    for(var j=0; j<addArray_edit.length; j++){\\n      if(addArray_edit[j].get('PRI_ID')==items[i].get('PRI_ID')){\\n        addArray_edit.splice(j,1);\\n      }\\n    }\\n    //deleteArray不包含则添加\\n    var del_flag = true;\\n    for(var k=0; k<deleteArray_edit.length; k++){\\n      if(deleteArray_edit[k].get('PRI_ID')==items[i].get('PRI_ID')){\\n        del_flag = false;\\n        break;\\n      }\\n    }\\n    if(del_flag==true){\\n      deleteArray_edit.push(items[i]);\\n    }\\n  }\\n}\\n\\n//点击>>或者双击行时触发\\nfunction addItems_edit(items, type){\\n  var tempArray = new Array();\\n  \\n  if(type=='user'){\\n    // 根据id判断，去除重复的item\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectUserStore_edit.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        tempArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<tempArray.length; j++){\\n      selectUserStore_edit.add(tempArray[j]);\\n    }\\n  }else if(type=='post'){\\n    // 根据id判断，去除重复的item\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectPostStore_edit.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        tempArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<tempArray.length; j++){\\n      selectPostStore_edit.add(tempArray[j]);\\n    }\\n  }else if(type=='dept'){\\n    // 根据id判断，去除重复的item\\n    for (var i=items.length-1; i>=0; i--) {\\n      var item = items[i];\\n      //如果返回-1说明没有找到相匹配的record\\n      var index = selectDeptStore_edit.find('PRI_ID',item.get('PRI_ID'));\\n      if(index==-1){\\n        tempArray.push(item);\\n      }\\n    }\\n    for(var j=0; j<tempArray.length; j++){\\n      selectDeptStore_edit.add(tempArray[j]);\\n    }\\n  }\\n  \\n  itemsAddWithArrayOperator(tempArray);\\n}\\n\\n//点击<<或者双击行时触发\\nfunction removeItems_edit(items, type){\\n  if(type=='user'){\\n    for(var i=0; i<items.length; i++){\\n      selectUserStore_edit.remove(items[i]);\\n    }\\n  }else if(type=='post'){\\n    for(var i=0; i<items.length; i++){\\n      selectPostStore_edit.remove(items[i]);\\n    }\\n  }else if(type=='dept'){\\n    for(var i=0; i<items.length; i++){\\n      selectDeptStore_edit.remove(items[i]);\\n    }\\n  }\\n  \\n  itemsRemoveWithArrayOperator(items);\\n}\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"authWinFunctions\",\"footer\":\"<script>\\n  //已经选中的临时数组节点ID\\n  var hasSelectActArray = new Array();\\n  \\n  //节点grid选择改变事件调用的方法\\n  function actSelectionchange(model, selected, options){\\n    var newSelectdArray = new Array();\\n    //添加新选中的记录\\n    for(var i=0; i<selected.length; i++){\\n      if(!Ext.Array.contains(hasSelectActArray,selected[i].get('ACT_ID'))){\\n        selectActStore_auth.add(selected[i]);\\n        hasSelectActArray.push(selected[i].get('ACT_ID'));\\n      }\\n      newSelectdArray.push(selected[i].get('ACT_ID'));\\n    }\\n\\n    var removeArray = new Array();\\n\\n    //删除未被选中的记录\\n    for(var i=0; i<selectActStore_auth.getCount(); i++){\\n      var selectRecord = selectActStore_auth.getAt(i);\\n      if(!Ext.Array.contains(newSelectdArray,selectRecord.get('ACT_ID'))){\\n        if(actStore_auth.find('ACT_ID',selectRecord.get('ACT_ID'))!=-1){\\n          Ext.Array.remove(hasSelectActArray,selectRecord.get('ACT_ID'));\\n          removeArray.push(selectActStore_auth.getAt(i));\\n        }\\n      }\\n    }\\n\\n    selectActStore_auth.remove(removeArray);\\n\\n    sumSelectAct();\\n  }\\n  \\n  //删除选中的节点\\n  function delSelectedAct(){\\n    var selRecords = authSelectActGrid.getSelectionModel().getSelection();\\n    selectActStore_auth.remove(selRecords);\\n\\n    authAllActGrid.getSelectionModel().deselect(actStore_auth.getAt(actStore_auth.find('ACT_ID',selRecords[0].get('ACT_ID'))));\\n    \\n    Ext.Array.remove(hasSelectActArray,selRecords[0].get('ACT_ID'));\\n\\n    sumSelectAct();\\n  }\\n  \\n  //删除全部选中的节点\\n  function delAllSelectedAct(){\\n    Ext.Msg.confirm('提示','确定删除全部已选的节点?',function(btn){\\n      if(btn == 'yes'){\\n        selectActStore_auth.removeAll();\\n\\n        authAllActGrid.getSelectionModel().deselectAll();\\n        \\n        hasSelectActArray = new Array();\\n\\n        sumSelectAct();\\n      }\\n    });\\n  }\\n  \\n  //修改选中的节点信息\\n  function sumSelectAct(){\\n    var count = selectActStore_auth.getCount();\\n    document.getElementById(\\\"showSelectActWin\\\").innerHTML = \\\"已选节点(\\\"+count+\\\")\\\"; \\n  }\\n  \\n  \\n  \\n  //已经选择的临时用户、岗位、部门\\n  var hasSelectUdpArray = new Array();\\n  \\n  //用户、岗位、部门grid选择改变事件调用的方法\\n  function udpGridSelectionchange(model, selected, options, type){\\n    var newSelectdArray = new Array();\\n    //添加新选中的记录\\n    for(var i=0; i<selected.length; i++){\\n      if(!Ext.Array.contains(hasSelectUdpArray,selected[i].get('PRI_ID'))){\\n        selectUdpStore_auth.add(selected[i]);\\n        hasSelectUdpArray.push(selected[i].get('PRI_ID'));\\n      }\\n      newSelectdArray.push(selected[i].get('PRI_ID'));\\n    }\\n\\n    var removeArray = new Array();\\n\\n    //删除未被选中的记录\\n    for(var i=0; i<selectUdpStore_auth.getCount(); i++){\\n      var selectRecord = selectUdpStore_auth.getAt(i);\\n      if(selectRecord.get('PRI_TYPE') == type){\\n        if(!Ext.Array.contains(newSelectdArray,selectRecord.get('PRI_ID'))){\\n          if(type=='U'){\\n            if(userStore.find('PRI_ID',selectRecord.get('PRI_ID'))!=-1){\\n              Ext.Array.remove(hasSelectUdpArray,selectRecord.get('PRI_ID'));\\n              removeArray.push(selectUdpStore_auth.getAt(i));\\n            }\\n          }else if(type=='P'){\\n            if(postStore.find('PRI_ID',selectRecord.get('PRI_ID'))!=-1){\\n              Ext.Array.remove(hasSelectUdpArray,selectRecord.get('PRI_ID'));\\n              removeArray.push(selectUdpStore_auth.getAt(i));\\n            }\\n          }else{\\n            if(deptStore.find('PRI_ID',selectRecord.get('PRI_ID'))!=-1){\\n              Ext.Array.remove(hasSelectUdpArray,selectRecord.get('PRI_ID'));\\n              removeArray.push(selectUdpStore_auth.getAt(i));\\n            }\\n          }\\n        }\\n      }\\n    }\\n\\n    selectUdpStore_auth.remove(removeArray);\\n\\n    sumSelectUdp();\\n  }\\n  \\n  //删除选中的用户、岗位、部门\\n  function delSelectedUdp(){\\n    var selRecords = authSelectUpdGrid.getSelectionModel().getSelection();\\n    if(selRecords[0].get('PRI_TYPE')=='U'){\\n      var record = userStore.find('PRI_ID',selRecords[0].get('PRI_ID'));\\n      if(!Ext.isEmpty(record)){\\n        allUserGrid.getSelectionModel().deselect(record);\\n      }\\n    }else if(selRecords[0].get('PRI_TYPE')=='P'){\\n      var record = postStore.find('PRI_ID',selRecords[0].get('PRI_ID'));\\n      if(!Ext.isEmpty(record)){\\n        allPostGrid.getSelectionModel().deselect(record);\\n      }\\n    }else{\\n      var record = deptStore.find('PRI_ID',selRecords[0].get('PRI_ID'));\\n      if(!Ext.isEmpty(record)){\\n        allDeptGrid.getSelectionModel().deselect(record);\\n      }\\n    }\\n    selectUdpStore_auth.remove(selRecords);\\n    \\n     Ext.Array.remove(hasSelectUdpArray,selRecords[0].get('PRI_ID'));\\n    \\n    sumSelectUdp();\\n  }\\n  \\n  //删除全部选中的用户、岗位、部门\\n  function delAllSelectedUdp(){\\n    Ext.Msg.confirm('提示','确定删除全部已选的用户、部门、岗位?',function(btn){\\n      if(btn == 'yes'){\\n        selectUdpStore_auth.removeAll();\\n\\n        allUserGrid.getSelectionModel().deselectAll();\\n        allPostGrid.getSelectionModel().deselectAll();\\n        allDeptGrid.getSelectionModel().deselectAll();\\n        \\n        hasSelectUdpArray = new Array();\\n\\n        sumSelectUdp();\\n      }\\n    });\\n  }\\n  \\n  //修改选中的用户，岗位，部门信息\\n  function sumSelectUdp(){\\n    var countSelectUser = 0;\\n    var countSelectPost = 0;\\n    var countSelectDept = 0;\\n    for(var i=0; i<selectUdpStore_auth.getCount(); i++){\\n      var udpType = selectUdpStore_auth.getAt(i).get('PRI_TYPE');\\n      if(udpType=='U'){\\n        countSelectUser++;\\n      }else if(udpType=='P'){\\n        countSelectPost++;\\n      }else{\\n        countSelectDept++;\\n      }\\n    }\\n    document.getElementById(\\\"sumSelectUdp\\\").innerHTML = \\\"已选用户(\\\"+countSelectUser+\\\")已选岗位(\\\"+countSelectPost+\\\")已选部门(\\\"+countSelectDept+\\\")\\\";\\n  }\\n<\\/script>\"},{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23X7D36B72FR (deleteAuth)\",\"id\":\"deleteExecutorAuth\",\"failure\":\"Ext.Msg.alert('提示','删除失败!');\",\"success\":\"Ext.Msg.alert('提示','删除成功!');\\nWb.load(executorAuthStore);\\nWb.load(executorStore) ;\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"appStore_queryForm\",\"url\":\"#23X7D36B72FJ (getApps_queryForm)\"},{\"xwlMeta\":\"store\",\"id\":\"entityStore_queryForm\",\"url\":\"#23X7D36B72FC (getEntitys_QueryForm)\"},{\"xwlMeta\":\"store\",\"id\":\"actStore\",\"url\":\"#23X7D36B72FA (getActs)\",\"output\":\"queryForm\",\"beforeload\":\"var whereSql = '';\\nif(!Ext.isEmpty(appCombox.getValue())){\\n  whereSql = whereSql+' and a.app_id = \\\\''+appCombox.getValue()+'\\\\'';\\n}\\nif(!Ext.isEmpty(entityCombox.getValue())){\\n  whereSql = whereSql+' and e.entity_id = \\\\''+entityCombox.getValue()+'\\\\'';\\n}\\n\\nif(whereSql !== ''){\\n  actStore.getProxy().extraParams.whereSql= whereSql;\\n}else{\\n  actStore.getProxy().extraParams.whereSql= ' and 1=1'; \\n}\\n\"},{\"xwlMeta\":\"store\",\"id\":\"executorAuthStore\",\"url\":\"#23X7D36B72FE (getExecutorAuths)\"},{\"xwlMeta\":\"store\",\"id\":\"executorStore\",\"url\":\"#23X7D36B72FM (getExecutors)\"},{\"xwlMeta\":\"store\",\"id\":\"appStore_auth\",\"url\":\"#23X7D36B72FJ (getApps_queryForm)\"},{\"xwlMeta\":\"store\",\"id\":\"entityStore_auth\",\"url\":\"#23X7D36B72FC (getEntitys_QueryForm)\"},{\"xwlMeta\":\"store\",\"id\":\"actStore_auth\",\"url\":\"#23X7D36B72FN (getActs_auth)\",\"output\":\"queryForm_auth\",\"load\":\"var tempArray = new Array();\\n\\n/*for(var i=0; i<selectActStore_auth.getCount(); i++){\\n  var record = selectActStore_auth.getAt();\\n  \\n  var index = actStore_auth.find('ACT_ID',record.get('ACT_ID'));\\n  \\n  if(index != -1){\\n    tempArray.push(actStore_auth.getAt(index));\\n  }\\n}*/\\n\\nfor(var i=0; i<hasSelectActArray.length; i++){\\n  var index = actStore_auth.find('ACT_ID',hasSelectActArray[i]);\\n  \\n  if(index != -1){\\n    tempArray.push(actStore_auth.getAt(index));\\n  }\\n}\\n\\nauthAllActGrid.getSelectionModel().select(tempArray);\",\"beforeload\":\"var whereSql = '';\\nif(!Ext.isEmpty(appCombox_auth.getValue())){\\n  whereSql = whereSql+' and a.app_id = \\\\''+appCombox_auth.getValue()+'\\\\'';\\n}\\nif(!Ext.isEmpty(entityCombox_auth.getValue())){\\n  whereSql = whereSql+' and e.entity_id = \\\\''+entityCombox_auth.getValue()+'\\\\'';\\n}\\n\\nif(whereSql !== ''){\\n  actStore_auth.getProxy().extraParams.whereSql= whereSql;\\n}else{\\n  actStore_auth.getProxy().extraParams.whereSql= ' and 1=1'; \\n}\\n\"},{\"xwlMeta\":\"store\",\"id\":\"selectActStore_auth\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23X7D36B72FA (getActs)\"},{\"xwlMeta\":\"store\",\"id\":\"selectUdpStore_auth\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23X7D36B72VN (getUdps)\"},{\"xwlMeta\":\"store\",\"id\":\"userStore\",\"url\":\"#23X7D36B72FO (getUsers)\",\"load\":\"var tempArray = new Array();\\n\\n/*for(var i=0; i<selectUdpStore_auth.getCount(); i++){\\n  var record = selectUdpStore_auth.getAt();\\n  \\n  if(record.get('PRI_TYPE') == 'U'){\\n    var index = userStore.find('PRI_ID',record.get('PRI_ID'));\\n    if(index != -1){\\n      tempArray.push(userStore.getAt(index));\\n    }\\n  }\\n}*/\\n\\nfor(var i=0; i<hasSelectUdpArray.length; i++){\\n  \\n  var index = userStore.find('PRI_ID',hasSelectUdpArray[i]);\\n  \\n  if(index != -1){\\n    tempArray.push(userStore.getAt(index));\\n  }\\n  \\n}\\n\\nallUserGrid.getSelectionModel().select(tempArray);\",\"beforeload\":\"var whereSql = '';\\n\\nif(!Ext.isEmpty(orgCombox_user_auth.getValue())){\\n  whereSql +=' AND a.ORG_ID =\\\\''+orgCombox_user_auth.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(deptCombox_user_auth.getValue())){\\n  whereSql +=' AND a.DEPT_ID =\\\\''+deptCombox_user_auth.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(queryUserName.getValue())){\\n  whereSql +=' AND (p.USER_NAME like \\\\'%'+queryUserNameUpper.getValue()+'%\\\\' or e.EMP_NAME like \\\\'%'+ queryUserNameUpper.getValue() +'%\\\\' )';\\n}\\n\\nstore.getProxy().extraParams.otherWhereSql = whereSql;\"},{\"xwlMeta\":\"store\",\"id\":\"postStore\",\"url\":\"#23X7D36B72FQ (getPosts)\",\"load\":\"var tempArray = new Array();\\n\\n/*for(var i=0; i<selectUdpStore_auth.getCount(); i++){\\n  var record = selectUdpStore_auth.getAt();\\n  \\n  if(record.get('PRI_TYPE') == 'P'){\\n    var index = postStore.find('PRI_ID',record.get('PRI_ID'));\\n    if(index != -1){\\n      tempArray.push(postStore.getAt(index));\\n    }\\n  }\\n}*/\\n\\nfor(var i=0; i<hasSelectUdpArray.length; i++){\\n  \\n  var index = postStore.find('PRI_ID',hasSelectUdpArray[i]);\\n  \\n  if(index != -1){\\n    tempArray.push(postStore.getAt(index));\\n  }\\n  \\n}\\n\\nallPostGrid.getSelectionModel().select(tempArray);\",\"beforeload\":\"var whereSql = '';\\n\\nif(!Ext.isEmpty(orgCombox_post_auth.getValue())){\\n  whereSql +=' AND p.ORG_ID =\\\\''+orgCombox_post_auth.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(deptCombox_post_auth.getValue())){\\n  whereSql +=' AND p.DEPT_ID =\\\\''+deptCombox_post_auth.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(queryPostName.getValue())){\\n  whereSql +=' AND p.POST_NAME like \\\\'%'+queryPostName.getValue()+'%\\\\'';\\n}\\n\\nstore.getProxy().extraParams.otherWhereSql = whereSql;\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore\",\"url\":\"#23X7D36B72FB (getDepts)\",\"output\":\"queryDeptName\",\"load\":\"var tempArray = new Array();\\n\\n/*for(var i=0; i<selectUdpStore_auth.getCount(); i++){\\n  var record = selectUdpStore_auth.getAt();\\n  \\n  if(record.get('PRI_TYPE') == 'D'){\\n    var index = deptStore.find('PRI_ID',record.get('PRI_ID'));\\n    if(index != -1){\\n      tempArray.push(deptStore.getAt(index));\\n    }\\n  }\\n}*/\\n\\nfor(var i=0; i<hasSelectUdpArray.length; i++){\\n  \\n  var index = deptStore.find('PRI_ID',hasSelectUdpArray[i]);\\n  \\n  if(index != -1){\\n    tempArray.push(deptStore.getAt(index));\\n  }\\n  \\n}\\n\\nallDeptGrid.getSelectionModel().select(tempArray);\",\"beforeload\":\"var whereSql = '';\\n\\nif(!Ext.isEmpty(orgCombox_dept_auth.getValue())){\\n  whereSql +=' AND p.ORG_ID =\\\\''+orgCombox_dept_auth.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(queryDeptName.getValue())){\\n  whereSql +=' AND p.DEPT_NAME like \\\\'%'+queryDeptName.getValue()+'%\\\\'';\\n}\\n\\nstore.getProxy().extraParams.otherWhereSql = whereSql;\"},{\"xwlMeta\":\"store\",\"id\":\"userStore_edit\",\"url\":\"#23X7D36B72FG (getUsers_edit)\",\"output\":\"queryUserName_edit\",\"beforeload\":\"var whereSql = '';\\n\\nif(!Ext.isEmpty(orgCombox_user_edit.getValue())){\\n  whereSql +=' AND a.ORG_ID =\\\\''+orgCombox_user_edit.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(deptCombox_user_edit.getValue())){\\n  whereSql +=' AND a.DEPT_ID =\\\\''+deptCombox_user_edit.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(queryUserName_edit.getValue())){\\n  whereSql +=' AND (p.USER_NAME like \\\\'%'+queryUserName_edit.getValue()+'%\\\\' or e.EMP_NAME like \\\\'%'+ queryUserName_edit.getValue() +'%\\\\' )';\\n}\\n\\nstore.getProxy().extraParams.otherWhereSql = whereSql;\"},{\"xwlMeta\":\"store\",\"id\":\"postStore_edit\",\"url\":\"#23X7D36B72FF (getPosts_edit)\",\"beforeload\":\"var whereSql = '';\\n\\nif(!Ext.isEmpty(orgCombox_post_edit.getValue())){\\n  whereSql +=' AND p.ORG_ID =\\\\''+orgCombox_post_edit.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(deptCombox_post_edit.getValue())){\\n  whereSql +=' AND p.DEPT_ID =\\\\''+deptCombox_post_edit.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(queryPostName_edit.getValue())){\\n  whereSql +=' AND p.POST_NAME like \\\\'%'+queryPostName_edit.getValue()+'%\\\\'';\\n}\\n\\nstore.getProxy().extraParams.otherWhereSql = whereSql;\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore_edit\",\"url\":\"#23X7D36B72FL (getDepts_edit)\",\"output\":\"queryDeptName_edit\",\"beforeload\":\"var whereSql = '';\\n\\nif(!Ext.isEmpty(orgCombox_dept_edit.getValue())){\\n  whereSql +=' AND p.ORG_ID =\\\\''+orgCombox_dept_edit.getValue()+'\\\\'';\\n}\\n\\nif(!Ext.isEmpty(queryDeptName_edit.getValue())){\\n  whereSql +=' AND p.DEPT_NAME like \\\\'%'+queryDeptName_edit.getValue()+'%\\\\'';\\n}\\n\\nstore.getProxy().extraParams.otherWhereSql = whereSql;\"},{\"xwlMeta\":\"store\",\"id\":\"selectUserStore_edit\",\"autoLoad\":\"false\",\"url\":\"#23X7D36B72FD (getAuthUsers)\"},{\"xwlMeta\":\"store\",\"id\":\"selectPostStore_edit\",\"autoLoad\":\"false\",\"url\":\"#23X7D36B72FI (getAuthPosts)\"},{\"xwlMeta\":\"store\",\"id\":\"selectDeptStore_edit\",\"autoLoad\":\"false\",\"url\":\"#23X7D36B72FP (getAuthDepts)\"},{\"xwlMeta\":\"store\",\"id\":\"actInfoStore\",\"url\":\"#23X7D36B72FK (getActById)\",\"load\":\"if(actInfoStore.getAt(0)) {\\n  var record = actInfoStore.getAt(0);\\n  authActInfoForm.loadRecord(record);\\n}\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore_user_auth\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEGYN (getOrgs_query)\",\"beforeload\":\"store.getProxy().extraParams.org_name = orgCombox_user_auth.getRawValue();\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore_user_auth\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEHAR (getDepts_query)\",\"beforeload\":\"store.getProxy().extraParams.org_id = orgCombox_user_auth.getValue();\\nstore.getProxy().extraParams.dept_name = deptCombox_user_auth.getRawValue();\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore_post_auth\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEGYN (getOrgs_query)\",\"beforeload\":\"store.getProxy().extraParams.org_name = orgCombox_post_auth.getRawValue();\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore_post_auth\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEHAR (getDepts_query)\",\"beforeload\":\"store.getProxy().extraParams.org_id = orgCombox_post_auth.getValue();\\nstore.getProxy().extraParams.dept_name = deptCombox_post_auth.getRawValue();\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore_dept_auth\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEGYN (getOrgs_query)\",\"beforeload\":\"store.getProxy().extraParams.org_name = orgCombox_dept_auth.getRawValue();\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore_user_edit\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEGYN (getOrgs_query)\",\"beforeload\":\"store.getProxy().extraParams.org_name = orgCombox_user_edit.getRawValue();\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore_user_edit\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEHAR (getDepts_query)\",\"beforeload\":\"store.getProxy().extraParams.org_id = orgCombox_user_edit.getValue();\\nstore.getProxy().extraParams.dept_name = deptCombox_user_edit.getRawValue();\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore_post_edit\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEGYN (getOrgs_query)\",\"beforeload\":\"store.getProxy().extraParams.org_name = orgCombox_post_edit.getRawValue();\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore_post_edit\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEHAR (getDepts_query)\",\"beforeload\":\"store.getProxy().extraParams.org_id = orgCombox_post_edit.getValue();\\nstore.getProxy().extraParams.dept_name = deptCombox_post_edit.getRawValue();\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore_dept_edit\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAEGYN (getOrgs_query)\",\"beforeload\":\"store.getProxy().extraParams.org_name = orgCombox_dept_edit.getRawValue();\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"actGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME\",\"text\":\"应用名\",\"width\":\"180\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_NAME\",\"id\":\"ENTITY_NAME\",\"text\":\"实体名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_NAME\",\"id\":\"PROCESS_NAME\",\"text\":\"流程名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_NAME\",\"id\":\"ACT_NAME\",\"text\":\"节点名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ACT_CATEGORY_NAME\",\"id\":\"ACT_CATEGORY_NAME\",\"text\":\"节点类型\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CATEGORY\",\"id\":\"ACT_CATEGORY\",\"text\":\"节点类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_ID\",\"id\":\"PROCESS_ID\",\"text\":\"流程id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_ID\",\"id\":\"ACT_ID\",\"text\":\"节点id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CODE\",\"id\":\"ACT_CODE\",\"text\":\"节点编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"executorAuthGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_executorAuthGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTOR_TYPE_VIEW\",\"id\":\"EXECUTOR_TYPE_VIEW_executorAuthGrid\",\"text\":\"执行人类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTOR_VALUE_VIEW\",\"id\":\"EXECUTOR_VALUE_VIEW_executorAuthGrid\",\"text\":\"执行人\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTOR_TYPE\",\"id\":\"EXECUTOR_TYPE_executorAuthGrid\",\"text\":\"执行人类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EXECUTOR_VALUE\",\"id\":\"EXECUTOR_VALUE_executorAuthGrid\",\"text\":\"执行人\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VALUE_ID\",\"id\":\"VALUE_ID_executorAuthGrid\",\"text\":\"VALUE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_ID\",\"id\":\"ACT_ID_executorAuthGrid\",\"text\":\"ACT_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROPERTY_CODE\",\"id\":\"PROPERTY_CODE_executorAuthGrid\",\"text\":\"属性编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"executorGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM2_executorGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_CODE\",\"id\":\"EMP_CODE_executorGrid\",\"text\":\"用户编码\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_executorGrid\",\"text\":\"用户\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"AUTH_TYPE\",\"id\":\"AUTH_TYPE_executorGrid\",\"text\":\"授权类型\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_NAME\",\"id\":\"POST_NAME_executorGrid\",\"text\":\"岗位\",\"width\":\"220\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_executorGrid\",\"text\":\"部门\",\"width\":\"220\"}]},{\"xwlMeta\":\"array\",\"id\":\"authAllActGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_authAllActGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME_authAllActGrid\",\"text\":\"应用名\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_NAME\",\"id\":\"ENTITY_NAME_authAllActGrid\",\"text\":\"实体名\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_NAME\",\"id\":\"PROCESS_NAME_authAllActGrid\",\"text\":\"流程名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_NAME\",\"id\":\"ACT_NAME_authAllActGrid\",\"text\":\"节点名\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ACT_CATEGORY_NAME\",\"id\":\"ACT_CATEGORY_NAME_authAllActGrid\",\"text\":\"节点类型\",\"align\":\"center\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CATEGORY\",\"id\":\"ACT_CATEGORY_authAllActGrid\",\"text\":\"节点类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_ID\",\"id\":\"PROCESS_ID_authAllActGrid\",\"text\":\"流程id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_ID\",\"id\":\"ACT_ID_authAllActGrid\",\"text\":\"节点id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CODE\",\"id\":\"ACT_CODE_authAllActGrid\",\"text\":\"节点编码\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"authSelectActGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_authSelectActGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME_authSelectActGrid\",\"text\":\"应用名\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENTITY_NAME\",\"id\":\"ENTITY_NAME_authSelectActGrid\",\"text\":\"实体名\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_NAME\",\"id\":\"PROCESS_NAME_authSelectActGrid\",\"text\":\"流程名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_NAME\",\"id\":\"ACT_NAME_authSelectActGrid\",\"text\":\"节点名\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"dataIndex\":\"ACT_CATEGORY_NAME\",\"id\":\"ACT_CATEGORY_NAME_authSelectActGrid\",\"text\":\"节点类型\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CATEGORY\",\"id\":\"ACT_CATEGORY_authSelectActGrid\",\"text\":\"节点类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PROCESS_ID\",\"id\":\"PROCESS_ID_authSelectActGrid\",\"text\":\"流程id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_ID\",\"id\":\"ACT_ID_authSelectActGrid\",\"text\":\"节点id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ACT_CODE\",\"id\":\"ACT_CODE_authSelectActGrid\",\"text\":\"节点编码\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"id\":\"DEL_COL_authSelectActGrid\",\"renderer\":\"var str = \\\"<a href=\\\\\\\"javascript:delSelectedAct();\\\\\\\"> 删除 <\\/a>\\\";\\nreturn str;\",\"text\":\"删除\",\"width\":\"50\"}]},{\"xwlMeta\":\"array\",\"id\":\"allUserColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allUserGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allUserGrid\",\"text\":\"用户名\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_allUserGrid\",\"text\":\"员工姓名\",\"width\":\"160\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allUserGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allUserGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allUserGrid\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allPostColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allPostGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allPostGrid\",\"text\":\"岗位名\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_allPostGrid\",\"text\":\"部门名称\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_allPostGrid\",\"text\":\"组织名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allPostGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allPostGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allPostGrid\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allDeptColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allDeptGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allDeptGrid\",\"text\":\"部门名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_allDeptGrid\",\"text\":\"组织名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allDeptGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allDeptGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allDeptGrid\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"authSelectUdpColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_authSelectUpdGrid\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_authSelectUpdGrid\",\"text\":\"名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_authSelectUpdGrid\",\"text\":\"类型\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_authSelectUpdGrid\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_authSelectUpdGrid\",\"text\":\"id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"id\":\"DEL_COL_authSelectUpdGrid\",\"renderer\":\"var str = \\\"<a href=\\\\\\\"javascript:delSelectedUdp();\\\\\\\"> 删除 <\\/a>\\\";\\nreturn str;\",\"text\":\"删除\",\"width\":\"50\"}]},{\"xwlMeta\":\"array\",\"id\":\"allUserColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allUserGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allUserGrid_edit\",\"text\":\"用户名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_allUserGrid_edit\",\"text\":\"员工姓名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allUserGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allUserGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allUserGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectUserColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_selectUserGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_selectUserGrid_edit\",\"text\":\"用户名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_selectUserGrid_edit\",\"text\":\"员工姓名\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_selectUserGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_selectUserGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_selectUserGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allPostColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allPostGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allPostGrid_edit\",\"text\":\"岗位名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_allPostGrid_edit\",\"text\":\"部门名称\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_allPostGrid_edit\",\"text\":\"组织名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allPostGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allPostGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allPostGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectPostColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_selectPostGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_selectPostGrid_edit\",\"text\":\"岗位名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_selectPostGrid_edit\",\"text\":\"部门名称\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_selectPostGrid_edit\",\"text\":\"组织名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_selectPostGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_selectPostGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_selectPostGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"allDeptColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_allDeptGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_allDeptGrid_edit\",\"text\":\"部门名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_allDeptGrid_edit\",\"text\":\"组织名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_allDeptGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_allDeptGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_allDeptGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectDeptColumns_edit\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"ROW_NUM_selectDeptGrid_edit\",\"text\":\"序号\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_NAME\",\"id\":\"PRI_NAME_selectDeptGrid_edit\",\"text\":\"部门名\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_selectDeptGrid_edit\",\"text\":\"组织名称\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE_NAME\",\"id\":\"PRI_TYPE_NAME_selectDeptGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_TYPE\",\"id\":\"PRI_TYPE_selectDeptGrid_edit\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRI_ID\",\"id\":\"PRI_ID_selectDeptGrid_edit\",\"text\":\"id\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"tbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"actGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-auth\",\"id\":\"addAuth\",\"text\":\"新增授权\",\"click\":\"authWin.show();\\nactStore_auth.load();\\nuserStore.load();\\npostStore.load();\\ndeptStore.load();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-auth\",\"id\":\"editAuth\",\"text\":\"修改授权\",\"click\":\"var rows = actGrid.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n  return false;\\n}else if(rows.length > 1){\\n  Ext.Msg.alert('提示','请选择一条操作的记录!');\\n  return false; \\n}\\nauthEditWin.show();\\n\\nvar actId = rows[0].data.ACT_ID;\\n    \\nselectUserStore_edit.getProxy().extraParams.actId = actId;\\nselectPostStore_edit.getProxy().extraParams.actId = actId;\\nselectDeptStore_edit.getProxy().extraParams.actId = actId;\\n\\nWb.load(userStore_edit);\\nWb.load(postStore_edit); \\nWb.load(deptStore_edit); \\n\\nWb.load(selectUserStore_edit);\\nWb.load(selectPostStore_edit); \\nWb.load(selectDeptStore_edit); \\n\\nactInfoStore.load({params:{actId:actId}});\\n\\naddArray_edit = new Array();\\ndeleteArray_edit = new Array();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"executorAuthGridToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-unauth\",\"id\":\"delAuth\",\"text\":\"删除授权\",\"click\":\"var rows = executorAuthGrid.getSelectionModel().getSelection();\\n\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择删除的记录!');\\n  return false ;\\n}else{\\n  Ext.Msg.confirm('提示','您确定要删除所选的记录吗？',function(a){\\n    if(a=='yes'){\\n      \\n      var ids = \\\"\\\";\\n      Ext.each(rows,function(item){\\n        var id = \\\"'\\\"+item.data.VALUE_ID+\\\"'\\\";\\n        if(ids === \\\"\\\"){\\n            ids = id ;\\n          }else{\\n            ids = ids+\\\",\\\"+id;\\n          }\\n\\n      });  \\n      \\n      deleteExecutorAuth.request({ids:ids});\\n      \\n      Ext.MessageBox.alert('提示', '删除成功！');\\n    }else{\\n      return false ;\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"winBtns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"authWinArray\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_auth\",\"text\":\"授权\",\"hidden\":\"true\",\"click\":\"if(selectActStore_auth.getCount()==0){\\n  Ext.Msg.alert('提示','请选择进行授权的节点!');\\n  return;\\n};\\n\\nvar activeTabId = authTabPanel.getActiveTab().getId();\\nvar confimMsg = '';\\n\\nif(activeTabId=='userPanel'){\\n  confimMsg = '您确认要对节点进行用户授权?';\\n  if(selectUserStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择用户!');\\n    return;\\n  }\\n}else if(activeTabId=='postPanel'){\\n  confimMsg = '您确认要对节点进行岗位授权?';\\n  if(selectPostStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择岗位!');\\n    return;\\n  }\\n}else if(activeTabId=='deptPanel'){\\n  confimMsg = '您确认要对节点进行部门授权?';\\n  if(selectDeptStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择部门!');\\n    return;\\n  }\\n}\\n\\nExt.MessageBox.confirm('提示',confimMsg,function(item){\\n  if(item==='yes'){ \\n    var actArray = new Array();\\n    selectActStore_auth.each(function(record){\\n      actArray.push(record.data);\\n    });\\n\\n    var priArray = new Array();\\n    if(activeTabId=='userPanel'){\\n      selectUserStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }else if(activeTabId=='postPanel'){\\n      selectPostStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }else if(activeTabId=='deptPanel'){\\n      selectDeptStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }   \\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : actArray,\\n      \\\"authorizeBottomObject\\\" : priArray\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=authorize',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','授权成功!');\\n        //parent.Ext.getCmp('editAuthWin').close();\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });     \\n  }\\n});\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btn_all_auth\",\"text\":\"授权\",\"click\":\"if(selectActStore_auth.getCount()==0){\\n  Ext.Msg.alert('提示','请选择进行授权的节点!');\\n  return;\\n};\\n\\nif(selectUdpStore_auth.getCount()==0){\\n  Ext.Msg.alert('提示','请选择用户,岗位,部门!');\\n  return;\\n}\\n\\nExt.MessageBox.confirm('提示','确定对用户,岗位,部门进行授权?',function(item){\\n  if(item==='yes'){ \\n    var actArray = new Array();\\n    selectActStore_auth.each(function(record){\\n      actArray.push(record.data);\\n    });\\n\\n    var priArray = new Array();\\n    selectUdpStore_auth.each(function(record){\\n      priArray.push(record.data);\\n    });\\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : actArray,\\n      \\\"authorizeBottomObject\\\" : priArray\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=authorize',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','授权成功!');\\n        //parent.Ext.getCmp('editAuthWin').close();\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });     \\n  }\\n});\"},{\"xwlMeta\":\"button\",\"id\":\"btn_unauth\",\"text\":\"取消授权\",\"hidden\":\"true\",\"click\":\"if(selectActStore_auth.getCount()==0){\\n  Ext.Msg.alert('提示','请选择取消授权的节点!');\\n  return;\\n};\\n\\nvar activeTabId = authTabPanel.getActiveTab().getId();\\nvar confimMsg = '';\\n\\nif(activeTabId=='userPanel'){\\n  confimMsg = '您确认要对节点取消用户授权?';\\n  if(selectUserStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择用户!');\\n    return;\\n  }\\n}else if(activeTabId=='postPanel'){\\n  confimMsg = '您确认要对节点取消岗位授权?';\\n  if(selectPostStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择岗位!');\\n    return;\\n  }\\n}else if(activeTabId=='deptPanel'){\\n  confimMsg = '您确认要对节点取消部门授权?';\\n  if(selectDeptStore.getCount()==0){\\n    Ext.Msg.alert('提示','请选择部门!');\\n    return;\\n  }\\n}\\n\\nExt.MessageBox.confirm('提示',confimMsg,function(item){\\n  if(item==='yes'){ \\n    var actArray = new Array();\\n    selectActStore_auth.each(function(record){\\n      actArray.push(record.data);\\n    });\\n\\n    var priArray = new Array();\\n    if(activeTabId=='userPanel'){\\n      selectUserStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }else if(activeTabId=='postPanel'){\\n      selectPostStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }else if(activeTabId=='deptPanel'){\\n      selectDeptStore.each(function(record){\\n        priArray.push(record.data);\\n      });\\n    }   \\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : actArray,\\n      \\\"authorizeBottomObject\\\" : priArray\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=cancel',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','取消授权成功!');\\n        //parent.Ext.getCmp('editAuthWin').close();\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });     \\n  }\\n});\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btn_all_unauth\",\"text\":\"取消授权\",\"click\":\"if(selectActStore_auth.getCount()===0){\\n  Ext.Msg.alert('提示','请选择要取消授权的节点!');\\n  return;\\n}\\n\\nif(selectUdpStore_auth.getCount()===0){\\n  Ext.Msg.alert('提示','请选择用户,岗位,部门!');\\n  return;\\n}\\n\\nExt.MessageBox.confirm('提示','确定对用户,岗位,部门取消授权?',function(item){\\n  if(item==='yes'){ \\n    var actArray = [];\\n    selectActStore_auth.each(function(record){\\n      actArray.push(record.data);\\n    });\\n\\n    var priArray = [];\\n    selectUdpStore_auth.each(function(record){\\n      priArray.push(record.data);\\n    });\\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : actArray,\\n      \\\"authorizeBottomObject\\\" : priArray\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=cancel',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','取消授权成功!');\\n        //parent.Ext.getCmp('editAuthWin').close();\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });     \\n  }\\n});\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"btn_cancel\",\"text\":\"关闭\",\"click\":\"authWin.hide();\"}]},{\"xwlMeta\":\"array\",\"id\":\"authEditWinArray\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_edit_auth\",\"text\":\"修改授权\",\"hidden\":\"true\",\"click\":\"var tempAddArray = new Array();\\nvar tempDeleteArray = new Array();\\n\\nfor(var i=0; i<addArray.length; i++){\\n  tempAddArray.push(addArray[i].data);\\n}\\nfor(var i=0; i<deleteArray.length; i++){\\n  tempDeleteArray.push(deleteArray[i].data);\\n}\\n\\nvar json = {\\n  \\\"authorizeTopObject\\\" : tempAddArray,\\n  \\\"authorizeBottomObject\\\" : tempDeleteArray,\\n  \\\"actId\\\":actId\\n};\\n\\nvar jsonData = Ext.util.JSON.encode(json);\\nvar progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\nExt.Ajax.request({\\n  url: contextPath+\\\"/actExecutorsAuthorizeAction.do?method=edit\\\",\\n  method:'POST',\\n  sync:'',\\n  //scope:this,\\n  //headers:{'Content-Type':'application/json'},\\n  jsonData:json,\\n  success: function(res, opts){\\n    progressBar.hide();\\n    Ext.Msg.alert('','修改成功!');\\n  },\\n  failure: function(res, opts){\\n    progressBar.hide();\\n    var respText = Ext.util.JSON.decode(res.responseText);\\n    Ext.Msg.alert('',respText.msg);\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"id\":\"btn_edit_all_auth\",\"text\":\"修改授权\",\"click\":\"if(addArray_edit.length==0 && deleteArray_edit.length==0){\\n  Ext.Msg.alert('提示','没有修改的授权信息!');\\n  return;\\n}\\n\\nExt.MessageBox.confirm('提示','确定对用户,岗位,部门修改授权?',function(item){\\n  if(item==='yes'){ \\n    var tempAddArray = new Array();\\n    var tempDeleteArray = new Array();\\n\\n    for(var i=0; i<addArray_edit.length; i++){\\n      tempAddArray.push(addArray_edit[i].data);\\n    }\\n    for(var i=0; i<deleteArray_edit.length; i++){\\n      tempDeleteArray.push(deleteArray_edit[i].data);\\n    }\\n\\n    var json = {\\n      \\\"authorizeTopObject\\\" : tempAddArray,\\n      \\\"authorizeBottomObject\\\" : tempDeleteArray,\\n      \\\"actId\\\":Ext.getCmp('ACT_ID_INFO').getValue()\\n    };\\n\\n    var jsonData = Ext.JSON.encode(json);\\n    var progressBar = Ext.Msg.wait(\\\"处理中，请稍候...\\\",\\\"提示\\\");\\n    Ext.Ajax.request({\\n      url: '{#contextPath#}' + '/actExecutorsAuthorizeAction.do?method=edit',\\n      method:'POST',\\n      sync:'',\\n      scope:this,\\n      headers:{'Content-Type':'application/json'},\\n      jsonData:json,\\n      success: function(res, opts){\\n        progressBar.hide();\\n        Ext.Msg.alert('','修改成功!');\\n      },\\n      failure: function(res, opts){\\n        progressBar.hide();\\n        var respText = Ext.JSON.decode(res.responseText);\\n        Ext.Msg.alert('',respText.msg);\\n      }\\n    });\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"id\":\"btn_edit_cancel\",\"text\":\"关闭\",\"click\":\"authEditWin.hide();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"popWins\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"authWin\",\"title\":\"新增授权\",\"height\":\"260\",\"layout\":\"border\",\"dialog\":\"false\",\"width\":\"380\",\"buttons\":\"authWinArray\",\"maximized\":\"true\",\"minimizable\":\"false\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"hide\":\"actStore.load();\\nWb.load(executorAuthStore);\\nWb.load(executorStore);\\n\\nWb.reset(queryUserName);\\nWb.reset(queryPostName);\\nWb.reset(queryDeptName);\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"authActPanel\",\"layout\":\"border\",\"width\":\"'48%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"queryPanel_auth\",\"height\":\"66\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm_auth\",\"style\":\"border-width:0px\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"trPanel1\",\"height\":\"28\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"appStore_auth\",\"valueField\":\"ID\",\"width\":\"180\",\"labelAlign\":\"right\",\"fieldLabel\":\"应用\",\"id\":\"appCombox_auth\",\"displayField\":\"NAME\",\"labelWidth\":\"60\",\"select\":\"entityCombox_auth.clearValue();\\nentityStore_auth.getProxy().extraParams.appId = appCombox_auth.getValue();\\nactStore_auth.load();\"},{\"xwlMeta\":\"comboBox\",\"store\":\"entityStore_auth\",\"valueField\":\"ID\",\"width\":\"180\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务实体\",\"id\":\"entityCombox_auth\",\"displayField\":\"NAME\",\"labelWidth\":\"70\",\"select\":\"actStore_auth.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn_auth\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"actStore_auth.load();\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"trPanel12\",\"height\":\"28\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"流程名\",\"id\":\"processName_auth\",\"labelWidth\":\"60\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tactStore_auth.load();\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点名\",\"id\":\"actName_auth\",\"labelWidth\":\"70\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tactStore_auth.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"resetBtn_auth\",\"text\":\"重置\",\"x\":\"5\",\"click\":\"Wb.reset(queryForm_auth);\\nactStore_auth.load();\"}]}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"authAllActPanel\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"actStore_auth\",\"columns\":\"authAllActGridColumns\",\"id\":\"authAllActGrid\",\"multiSelect\":\"true\",\"title\":\"全部节点\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\",\"selectionchange\":\"if(!actStore_auth.isLoading()){\\n  actSelectionchange(model, selected, options);\\n}\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"showActSelectInfoPanel\",\"height\":\"20\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel1\",\"border\":\"false\",\"width\":\"'40%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"actInfoPanel\",\"border\":\"false\",\"width\":\"'45%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"actInfoLabel\",\"html\":\"\\n<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"selectActsWin.show()\\\"  style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"showSelectActWin\\\" >已选节点(0)<\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel2\",\"border\":\"false\",\"width\":\"15\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"deleteAllAtcs\",\"html\":\"<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\" onclick = \\\"javascript:delAllSelectedAct();\\\" title=\\\"删除全部已选节点\\\" style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"delSelectActs\\\" ><image src=\\\"{#delImageSrc#}\\\"><\\/image><\\/a>\\n<\\/body>\\n<\\/html>\\n\\t\"}]}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"splitPanel\",\"width\":\"'4%'\",\"html\":\"&nbsp;\"},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"authUdpPanel\",\"layout\":\"border\",\"width\":\"'48%'\",\"children\":[{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"authTabPanel\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"userPanel\",\"title\":\"用 户\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"allUserPanel\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"bodyPadding\":\"5\",\"id\":\"allUserQueryForm\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel8\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore_user_auth\",\"valueField\":\"ORG_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织\",\"id\":\"orgCombox_user_auth\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"Wb.reset(deptCombox_user_auth);\\nbtn_user_query.fireEvent('click');\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel9\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"deptStore_user_auth\",\"valueField\":\"DEPT_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门\",\"id\":\"deptCombox_user_auth\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"60\",\"select\":\"btn_user_query.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel5\",\"layout\":\"column\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel10\",\"layout\":\"form\",\"columnWidth\":\".8\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"queryUserName\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n    queryUserNameUpper.setValue(queryUserName.getValue().toUpperCase());\\n\\tbtn_user_query.fireEvent('click');\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"queryUserNameUpper\",\"labelWidth\":\"60\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_user_query.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel11\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btn_user_query\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"queryUserNameUpper.setValue(queryUserName.getValue().toUpperCase());\\nWb.load(userStore);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel12\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btn_user_reset\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"Wb.reset(allUserQueryForm);\\nWb.load(userStore);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"userStore\",\"columns\":\"allUserColumns\",\"region\":\"center\",\"id\":\"allUserGrid\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\",\"selectionchange\":\"if(!userStore.isLoading()){\\n  udpGridSelectionchange(model, selected, options, 'U');\\n}\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"postPanel\",\"title\":\"岗 位\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"allPostPanel\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"bodyPadding\":\"5\",\"id\":\"allPostQueryForm\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel82\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore_post_auth\",\"valueField\":\"ORG_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织\",\"id\":\"orgCombox_post_auth\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"Wb.reset(deptCombox_post_auth);\\nbtn_post_query.fireEvent('click');\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel92\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"deptStore_post_auth\",\"valueField\":\"DEPT_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门\",\"id\":\"deptCombox_post_auth\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"60\",\"select\":\"btn_post_query.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel52\",\"layout\":\"column\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel102\",\"layout\":\"form\",\"columnWidth\":\".8\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"岗位名\",\"id\":\"queryPostName\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_post_query.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel112\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btn_post_query\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"Wb.load(postStore);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel122\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btn_post_reset\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"Wb.reset(allPostQueryForm);\\nWb.load(postStore);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"postStore\",\"columns\":\"allPostColumns\",\"region\":\"center\",\"id\":\"allPostGrid\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\",\"selectionchange\":\"if(!postStore.isLoading()){\\n  udpGridSelectionchange(model, selected, options, 'P');\\n}\\n\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"deptPanel\",\"title\":\"部 门\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"allDeptPanel\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"bodyPadding\":\"5\",\"id\":\"allDeptQueryForm\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel83\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore_dept_auth\",\"valueField\":\"ORG_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织\",\"id\":\"orgCombox_dept_auth\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"btn_dept_query.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel53\",\"layout\":\"column\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel103\",\"layout\":\"form\",\"columnWidth\":\".8\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门名\",\"id\":\"queryDeptName\",\"labelWidth\":\"60\",\"width\":\"150\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_dept_query.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel114\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btn_dept_query\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"Wb.load(deptStore)\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel123\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btn_dept_reset\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"Wb.reset(allDeptQueryForm);\\nWb.load(deptStore);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"deptStore\",\"columns\":\"allDeptColumns\",\"region\":\"center\",\"id\":\"allDeptGrid\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\",\"selectionchange\":\"if(!deptStore.isLoading()){\\n  udpGridSelectionchange(model, selected, options, 'D');\\n}\"}]}]}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"showUdpSelectInfoPanel\",\"height\":\"20\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel3\",\"border\":\"false\",\"width\":\"'35%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"updInfoPanel\",\"border\":\"false\",\"width\":\"'50%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"updInfLabel\",\"html\":\"\\n<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"selectUdpsWin.show()\\\"  style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"sumSelectUdp\\\" >已选用户(0)已选岗位(0)已选部门(0)<\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel4\",\"border\":\"false\",\"width\":\"15\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"deleteAllUdp\",\"html\":\"<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"delAllSelectedUdp();\\\" title=\\\"删除全部已选用户、岗位、部门\\\" style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"fun\\\" ><image src=\\\"{#delImageSrc#}\\\"><\\/image><\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"selectActsWin\",\"title\":\"已选节点\",\"height\":\"450\",\"layout\":\"fit\",\"autoReset\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectActStore_auth\",\"columns\":\"authSelectActGridColumns\",\"pagingToolbar\":\"false\",\"id\":\"authSelectActGrid\",\"autoLoad\":\"false\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"selectUdpsWin\",\"title\":\"已选用户、部门、岗位\",\"height\":\"450\",\"layout\":\"fit\",\"autoReset\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectUdpStore_auth\",\"columns\":\"authSelectUdpColumns\",\"pagingToolbar\":\"false\",\"id\":\"authSelectUpdGrid\",\"autoLoad\":\"false\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"authEditWin\",\"title\":\"编辑授权\",\"height\":\"260\",\"layout\":\"border\",\"dialog\":\"false\",\"width\":\"380\",\"buttons\":\"authEditWinArray\",\"maximized\":\"true\",\"minimizable\":\"false\",\"buttonAlign\":\"center\",\"maximizable\":\"true\",\"hide\":\"actStore.load();\\nWb.load(executorAuthStore);\\nWb.load(executorStore);\\n\\nWb.reset(queryUserName_edit);\\nWb.reset(queryPostName_edit);\\nWb.reset(queryDeptName_edit);\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"authActInfoPanel_edit\",\"height\":\"120\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"authActInfoForm\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"authActInfoFieldSet\",\"title\":\"节点信息\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel6\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"220\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点id\",\"id\":\"ACT_ID_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"hidden\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"应用名\",\"id\":\"APP_NAME_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"流程名\",\"id\":\"PROCESS_NAME_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel7\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"220\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"实体名\",\"id\":\"ENTITY_NAME_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点名\",\"id\":\"ACT_NAME_INFO\",\"labelWidth\":\"60\",\"readOnly\":\"true\",\"labelAlign\":\"right\"}]}]}]}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"authTabPanel_edit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"userPanel_edit\",\"title\":\"用 户\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"allUserPanel_edit\",\"layout\":\"border\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"bodyPadding\":\"5\",\"id\":\"allUserQueryForm_edit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel81\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore_user_edit\",\"valueField\":\"ORG_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织\",\"id\":\"orgCombox_user_edit\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"Wb.reset(deptCombox_user_edit);\\nbtn_user_query_edit.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel91\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"deptStore_user_edit\",\"valueField\":\"DEPT_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门\",\"id\":\"deptCombox_user_edit\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"60\",\"select\":\"btn_user_query_edit.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel51\",\"layout\":\"column\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel101\",\"layout\":\"form\",\"columnWidth\":\".8\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名\",\"id\":\"queryUserName_edit\",\"labelWidth\":\"60\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_user_query_edit.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel111\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"btn_user_query_edit\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"Wb.load(userStore_edit);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel121\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btn_user_reset_edit\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"Wb.reset(allUserQueryForm_edit);\\nWb.load(userStore_edit);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"userStore_edit\",\"columns\":\"allUserColumns_edit\",\"region\":\"center\",\"id\":\"allUserGrid_edit\",\"multiSelect\":\"true\",\"title\":\"全部用户\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel213\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel113\",\"height\":\"'30%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel313\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_user_select_edit\",\"text\":\">>\",\"click\":\"var items = allUserGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择用户!');\\n  return;\\n}\\n\\naddItems_edit(items, 'user');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel413\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_user_unselect_edit\",\"text\":\"<<\",\"click\":\"var items = selectUserGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择用户!');\\n  return;\\n}\\n\\nremoveItems_edit(items, 'user');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"selectUserPanel_edit\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectUserStore_edit\",\"columns\":\"selectUserColumns_edit\",\"pagingToolbar\":\"false\",\"id\":\"selectUserGrid_edit\",\"multiSelect\":\"true\",\"title\":\"已选/已授权用户\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"panel\",\"id\":\"postPanel_edit\",\"title\":\"岗 位\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"allPostPanel_edit\",\"layout\":\"border\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"bodyPadding\":\"5\",\"id\":\"allPostQueryForm_edit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel821\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore_post_edit\",\"valueField\":\"ORG_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织\",\"id\":\"orgCombox_post_edit\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"Wb.reset(deptCombox_post_edit);\\nbtn_post_query_edit.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel921\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"deptStore_post_edit\",\"valueField\":\"DEPT_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"部门\",\"id\":\"deptCombox_post_edit\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"60\",\"select\":\"btn_post_query_edit.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel521\",\"layout\":\"column\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1021\",\"layout\":\"form\",\"columnWidth\":\".8\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"岗位名\",\"id\":\"queryPostName_edit\",\"labelWidth\":\"60\",\"width\":\"150\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_post_query_edit.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1122\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_post_query_edit\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"Wb.load(postStore_edit);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1221\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btn_post_reset_edit\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"Wb.reset(allPostQueryForm_edit);\\nWb.load(postStore_edit);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"postStore_edit\",\"columns\":\"allPostColumns_edit\",\"region\":\"center\",\"id\":\"allPostGrid_edit\",\"multiSelect\":\"true\",\"title\":\"全部岗位\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel2111\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel1111\",\"height\":\"'30%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel3111\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_post_select_edit\",\"text\":\">>\",\"click\":\"var items = allPostGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择岗位!');\\n  return;\\n}\\n\\naddItems_edit(items, 'post');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel4111\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_post_unselect_edit\",\"text\":\"<<\",\"click\":\"var items = selectPostGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择岗位!');\\n  return;\\n}\\n\\nremoveItems_edit(items, 'post');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"selectPostPanel_edit\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectPostStore_edit\",\"columns\":\"selectPostColumns_edit\",\"pagingToolbar\":\"false\",\"id\":\"selectPostGrid_edit\",\"multiSelect\":\"true\",\"title\":\"已选/已授权岗位\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]},{\"xwlMeta\":\"panel\",\"id\":\"deptPanel_edit\",\"title\":\"部 门\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"border-style:none\",\"id\":\"allDeptPanel_edit\",\"layout\":\"border\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"bodyPadding\":\"5\",\"id\":\"allDeptQueryForm_edit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel831\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore_dept_edit\",\"valueField\":\"ORG_ID\",\"editable\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"组织\",\"id\":\"orgCombox_dept_edit\",\"displayField\":\"ORG_NAME\",\"labelWidth\":\"60\",\"select\":\"btn_dept_query_edit.fireEvent('click');\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel531\",\"layout\":\"column\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1031\",\"layout\":\"form\",\"columnWidth\":\".8\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门名\",\"id\":\"queryDeptName_edit\",\"labelWidth\":\"60\",\"width\":\"150\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == Ext.EventObject.ENTER){\\n\\tbtn_dept_query_edit.fireEvent('click');\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1141\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_dept_query_edit\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"Wb.load(deptStore_edit);\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"panel1231\",\"layout\":\"form\",\"width\":\"60\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"btn_dept_reset_edit\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"Wb.reset(allDeptQueryForm_edit);\\nWb.load(deptStore_edit);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"deptStore_edit\",\"columns\":\"allDeptColumns_edit\",\"region\":\"center\",\"id\":\"allDeptGrid_edit\",\"multiSelect\":\"true\",\"title\":\"全部部门\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel2121\",\"layout\":\"border\",\"width\":\"'6%'\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"border-style:none\",\"id\":\"panel1121\",\"height\":\"'30%'\",\"columnWidth\":\".5\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"panel3121\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_dept_select_edit\",\"text\":\">>\",\"click\":\"var items = allDeptGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择部门!');\\n  return;\\n}\\n\\naddItems_edit(items, 'dept');\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"border-style:none\",\"id\":\"panel4121\",\"height\":\"'30%'\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"btn_dept_unselect_edit\",\"text\":\"<<\",\"click\":\"var items = selectdeptGrid_edit.getSelectionModel().getSelection();\\n\\nif(items.length==0){\\n  Ext.Msg.alert('提示','请选择部门!');\\n  return;\\n}\\n\\nremoveItems_edit(items, 'dept');\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"border-style:none\",\"id\":\"selectDeptPanel_edit\",\"layout\":\"fit\",\"width\":\"'47%'\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectDeptStore_edit\",\"columns\":\"selectDeptColumns_edit\",\"pagingToolbar\":\"false\",\"id\":\"selectdeptGrid_edit\",\"multiSelect\":\"true\",\"title\":\"已选/已授权部门\",\"autoLoad\":\"false\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"height\":\"80\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"queryfieldSet\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"appStore_queryForm\",\"valueField\":\"ID\",\"width\":\"180\",\"labelAlign\":\"right\",\"fieldLabel\":\"应用\",\"id\":\"appCombox\",\"displayField\":\"NAME\",\"labelWidth\":\"60\",\"select\":\"entityCombox.clearValue();\\nentityStore_queryForm.getProxy().extraParams.appId = appCombox.getValue();\\n\\nquertBtn.fireEvent('click');\"},{\"xwlMeta\":\"comboBox\",\"store\":\"entityStore_queryForm\",\"valueField\":\"ID\",\"width\":\"200\",\"labelAlign\":\"right\",\"fieldLabel\":\"业务实体\",\"id\":\"entityCombox\",\"displayField\":\"NAME\",\"labelWidth\":\"80\",\"select\":\"quertBtn.fireEvent('click');\",\"focus\":\"return false;\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"流程名\",\"id\":\"processName\",\"labelWidth\":\"70\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tactStore.load();\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"节点名\",\"id\":\"actName\",\"labelWidth\":\"70\",\"width\":\"180\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tactStore.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn\",\"text\":\"查询\",\"x\":\"5\",\"click\":\"actStore.load();\\n\\nexecutorAuthStore.getProxy().extraParams.actId = '';\\nexecutorStore.getProxy().extraParams.actId = '';\\n\\nWb.load(executorAuthStore);\\nWb.load(executorStore) ;\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"x\":\"10\",\"click\":\"Wb.reset(queryfieldSet);\\nquertBtn.fireEvent('click');\\n\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"border-style:none\",\"id\":\"actPanel\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"actStore\",\"columns\":\"actGridColumns\",\"id\":\"actGrid\",\"tbar\":\"actGridToolbar\",\"multiSelect\":\"false\",\"simpleSelect\":\"false\",\"selType\":\"checkboxmodel\",\"itemclick\":\"var actId = record.data.ACT_ID ;\\n\\nexecutorAuthStore.getProxy().extraParams.actId = actId;\\nexecutorStore.getProxy().extraParams.actId = actId;\\n\\nWb.load(executorAuthStore);\\nWb.load(executorStore) ;\\n\\n//Wb.load(executorAuthStore,{actId:actId});\\n//Wb.load(executorStore,{actId:actId}) ;\"}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"south\",\"id\":\"executorTabPanel\",\"height\":\"280\",\"border\":\"false\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"executorAuthPanel\",\"title\":\"已授权类型\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"executorAuthStore\",\"columns\":\"executorAuthGridColumns\",\"id\":\"executorAuthGrid\",\"tbar\":\"executorAuthGridToolbar\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"border-style:none\",\"id\":\"executorPanel\",\"title\":\"查看节点执行人\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"executorStore\",\"columns\":\"executorGridColumns\",\"id\":\"executorGrid\",\"multiSelect\":\"true\",\"selType\":\"checkboxmodel\"}]}]}]}]}","节点执行人授权",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-10-22 14:15:30.0",1],["23X7D36B72F9","23X7D36B72F7",null,"Executor Sub",null,1,0,"admin","2015-06-12 15:11:34.0","23XSWLY0BYLW","2015-08-25 10:32:24.0",2],["23X7D36B72FA","23X7D36B72F9","{\"id\":\"module\",\"title\":\"getActs\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT A.APP_NAME,\\n       E.ENTITY_NAME,\\n       P.PROCESS_NAME,\\n       T.ACT_CODE,\\n       T.ACT_CATEGORY,\\n       T.ACT_NAME,\\n       CASE\\n           WHEN T.ACT_CATEGORY = 'Start' THEN\\n            '开始'\\n           WHEN T.ACT_CATEGORY = 'End' THEN\\n            '结束'\\n           WHEN T.ACT_CATEGORY = 'Notice' THEN\\n            '通知'\\n           WHEN T.ACT_CATEGORY = 'Function' THEN\\n            '功能'\\n           WHEN T.ACT_CATEGORY = 'Switch' THEN\\n            '判断'\\n           WHEN T.ACT_CATEGORY = 'Countersign' THEN\\n            '会签'\\n           WHEN T.ACT_CATEGORY = 'Response' THEN\\n            '抄送'\\n        END AS ACT_CATEGORY_NAME,\\n       T.ACT_ID,\\n       T.PROCESS_ID\\n  FROM XIP_WF_ACTS T\\n  LEFT JOIN XIP_WF_PROCESSES P\\n    ON T.PROCESS_ID = P.PROCESS_ID\\n  LEFT JOIN XIP_WF_ENTITIES E\\n    ON P.ENTITY_ID = E.ENTITY_ID\\n  LEFT JOIN XIP_PUB_APPS A\\n    ON E.APP_ID = A.APP_ID\\n WHERE (T.ACT_CATEGORY = 'Notice' OR T.ACT_CATEGORY = 'Countersign' OR\\n       T.ACT_CATEGORY = 'Response')\\n   AND (P.ENABLE_FLAG = 'C' OR P.ENABLE_FLAG = 'Y')\\n   AND EXISTS (SELECT *\\n          FROM XIP_WF_ACT_PROPERTIES ATTR\\n         WHERE ATTR.PROPERTY_CODE = 'a_executor_type'\\n           AND ATTR.PROPERTY_VALUE = 'GRANT'\\n           AND ATTR.ACT_ID = T.ACT_ID)\\n   AND P.PROCESS_NAME LIKE '%{#processName#}%'\\n   AND T.ACT_NAME LIKE '%{#actName#}%'\\n   {#whereSql#}\",\"xwlMeta\":\"dataProvider\"}]}","getActs",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-12 15:11:34.0",4],["23X7D36B72FB","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getDepts\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT p.DEPT_ID PRI_ID,\\n       p.DEPT_NAME PRI_NAME,\\n       (select ORG_NAME FROM XIP_PUB_ORGS WHERE ORG_ID = p.ORG_ID) ORG_NAME,\\n       'D' PRI_TYPE,\\n       '部门' PRI_TYPE_NAME\\n  FROM XIP_PUB_DEPTS p\\n WHERE p.ENABLE_FLAG = 'Y'\\n {#otherWhereSql#}\"}]}","getDepts",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-09-10 16:26:40.0",10],["23X7D36B72FC","23X7D36B72F9","{\"id\":\"module\",\"title\":\"getEntitys_QueryForm\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  s.ENTITY_ID ID,\\n  s.ENTITY_NAME NAME \\nFROM\\n  xip_wf_entities s\\nWHERE s.APP_ID = {?appId?}\\nORDER BY s.creation_date ASC \",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getEntitys_QueryForm",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-12 15:11:34.0",3],["23X7D36B72FD","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getAuthUser\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select m.executor_type PRI_TYPE,\\n       '用户' PRI_TYPE_NAME,\\n       m.executor_value PRI_ID,\\n       (select v1.user_name\\n          from xip_pub_users v1\\n         where v1.user_id = m.executor_value) PRI_NAME,\\n       (select s.emp_name from xip_pub_emps s where s.emp_id = (select u.emp_id from xip_pub_users u where u.user_id = m.executor_value)) EMP_NAME\\n  from xip_wf_act_pv_enum m\\n where m.act_id = '{#actId#}'\\n   and m.property_code = 'a_executor_type'\\n   and m.executor_type = 'U'\"}]}","getAuthUsers",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-09-10 16:56:15.0",12],["23X7D36B72FE","23X7D36B72F9","{\"id\":\"module\",\"title\":\"executorAuth\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT M.VALUE_ID,\\n       M.ACT_ID,\\n       M.PROPERTY_CODE,\\n       M.EXECUTOR_TYPE,\\n       CASE\\n           WHEN M.EXECUTOR_TYPE = 'U' THEN\\n            '用户'\\n           WHEN M.EXECUTOR_TYPE = 'P' THEN\\n            '岗位'\\n           WHEN M.EXECUTOR_TYPE = 'D' THEN\\n            '部门'\\n        END AS EXECUTOR_TYPE_VIEW,\\n       M.EXECUTOR_VALUE,\\n       CASE\\n           WHEN M.EXECUTOR_TYPE = 'U' THEN\\n            (SELECT V1.USER_NAME\\n               FROM XIP_PUB_USERS V1\\n              WHERE V1.USER_ID = M.EXECUTOR_VALUE)\\n           WHEN M.EXECUTOR_TYPE = 'P' THEN\\n            (SELECT V2.POST_NAME\\n               FROM XIP_PUB_POSTS V2\\n              WHERE V2.POST_ID = M.EXECUTOR_VALUE)\\n           WHEN M.EXECUTOR_TYPE = 'D' THEN\\n            (SELECT V3.DEPT_NAME\\n               FROM XIP_PUB_DEPTS V3\\n              WHERE V3.DEPT_ID = M.EXECUTOR_VALUE)\\n        END AS EXECUTOR_VALUE_VIEW\\n  FROM XIP_WF_ACT_PV_ENUM M\\n WHERE M.ACT_ID = '{#actId#}'\\n   AND M.PROPERTY_CODE = 'a_executor_type'\\n\",\"xwlMeta\":\"dataProvider\"}]}","getExecutorAuths",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-12 15:11:34.0",5],["23X7D36B72FF","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getPosts\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT p.POST_ID PRI_ID,\\n       p.POST_NAME PRI_NAME,\\n       (select ORG_NAME FROM XIP_PUB_ORGS WHERE ORG_ID = p.ORG_ID) ORG_NAME,\\n       (select DEPT_NAME FROM XIP_PUB_DEPTS WHERE DEPT_ID = p.DEPT_ID) DEPT_NAME,\\n       'P' PRI_TYPE,\\n       '岗位' PRI_TYPE_NAME\\n  FROM XIP_PUB_POSTS p\\n WHERE p.ENABLE_FLAG = 'Y'\\n {#otherWhereSql#}\"}]}","getPosts_edit",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-09-10 16:03:16.0",17],["23X7D36B72FG","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getUsers\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT \\n       p.USER_ID PRI_ID,\\n       p.USER_NAME PRI_NAME,\\n       e.EMP_NAME,\\n       'U' PRI_TYPE,\\n       '用户' PRI_TYPE_NAME\\n  FROM XIP_PUB_USERS p\\n  left join xip_pub_emps e on p.EMP_ID = e.EMP_ID and e.ATTRIBUTE2 = 'Y'\\n  left join xip_pub_emp_asg a on e.EMP_ID = a.EMP_ID and a.ENABLED = 'Y' \\n WHERE (p.END_DATE > sysdate OR p.END_DATE IS NULL)\\n   {#otherWhereSql#}\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT DISTINCT \\n       p.USER_ID PRI_ID,\\n       p.USER_NAME PRI_NAME,\\n       e.EMP_NAME,\\n       'U' PRI_TYPE,\\n       '用户' PRI_TYPE_NAME\\n  FROM XIP_PUB_USERS p\\n  left join xip_pub_emps e on p.EMP_ID = e.EMP_ID and e.ATTRIBUTE2 = 'Y'\\n  left join xip_pub_emp_asg a on e.EMP_ID = a.EMP_ID and a.ENABLED = 'Y' \\n WHERE (p.END_DATE >NOW() OR p.END_DATE IS NULL)\\n   {#otherWhereSql#}\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","getUsers_edit",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-10-23 10:14:46.0",16],["23X7D36B72FH","23X7D36B72F9","{\"id\":\"module\",\"title\":\"Get Grants\",\"xwlMeta\":\"module\"}","Get Grants",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-12 15:11:34.0",1],["23X7D36B72FI","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getAuthPosts\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select m.executor_type PRI_TYPE,\\n       '岗位' PRI_TYPE_NAME,\\n       m.executor_value PRI_ID,\\n       (select v2.post_name\\n          from xip_pub_posts v2\\n         where v2.post_id = m.executor_value) PRI_NAME,\\n       (select o.org_name from xip_pub_orgs o where o.org_id = (select p1.org_id from xip_pub_posts p1 where p1.post_id = m.executor_value)) ORG_NAME,\\n       (select d.dept_name from xip_pub_depts d where d.dept_id = (select p2.dept_id from xip_pub_posts p2 where p2.post_id = m.executor_value)) DEPT_NAME\\n  from xip_wf_act_pv_enum m\\n where m.act_id = '{#actId#}'\\n   and m.property_code = 'a_executor_type'\\n   and m.executor_type = 'P'\"}]}","getAuthPosts",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-09-10 17:01:47.0",13],["23X7D36B72FJ","23X7D36B72F9","{\"id\":\"module\",\"title\":\"getApps_queryForm\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  s.APP_ID ID,\\n  s.APP_NAME NAME \\nFROM\\n  xip_pub_apps s\\nWHERE s.enable_flag = 'Y' \\n  AND (\\n    s.APP_ID IN \\n    (SELECT \\n      c.APP_ID \\n    FROM\\n      XIP_PUB_APP_SEC c \\n    WHERE c.USER_ID = {?XIP.userId?})\\n  ) \\nORDER BY s.creation_date ASC \",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getApps_queryForm",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-12 15:11:34.0",2],["23X7D36B72FK","23X7D36B72F9","{\"id\":\"module\",\"title\":\"getActById\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select a.app_name APP_NAME_INFO, e.entity_name ENTITY_NAME_INFO, p.process_name PROCESS_NAME_INFO, t.act_name ACT_NAME_INFO, t.act_id ACT_ID_INFO\\n  from xip_pub_apps a, xip_wf_entities e, xip_wf_processes p, xip_wf_acts t \\n where t.act_id = '{#actId#}'\\n   and t.process_id = p.process_id\\n   and p.entity_id = e.entity_id\\n   and e.app_id = a.app_id\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getActById",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-12 15:11:34.0",15],["23X7D36B72FL","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getDepts\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT p.DEPT_ID PRI_ID,\\n       p.DEPT_NAME PRI_NAME,\\n       (select ORG_NAME FROM XIP_PUB_ORGS WHERE ORG_ID = p.ORG_ID) ORG_NAME,\\n       'D' PRI_TYPE,\\n       '部门' PRI_TYPE_NAME\\n  FROM XIP_PUB_DEPTS p\\n WHERE p.ENABLE_FLAG = 'Y'\\n {#otherWhereSql#}\"}]}","getDepts_edit",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-09-10 16:40:24.0",18],["23X7D36B72FM","23X7D36B72F9","{\"id\":\"module\",\"title\":\"getExecutors\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT EMP_CODE, EMP_NAME, POST_NAME, DEPT_NAME, AUTH_TYPE\\n  FROM (SELECT E.EMP_CODE,\\n               E.EMP_NAME,\\n               '' POST_NAME,\\n               '' DEPT_NAME,\\n               '用户' AUTH_TYPE\\n          FROM XIP_PUB_EMPS E\\n         WHERE E.EMP_ID IN\\n               (SELECT U.EMP_ID\\n                  FROM XIP_PUB_USERS U\\n                 WHERE U.USER_ID IN (SELECT PE.EXECUTOR_VALUE\\n                                       FROM XIP_WF_ACT_PV_ENUM PE\\n                                      WHERE PE.ACT_ID = '{#actId#}'\\n                                        AND PE.EXECUTOR_TYPE = 'U'))\\n        UNION\\n        SELECT E.EMP_CODE,\\n               E.EMP_NAME,\\n               S.POST_NAME,\\n               (SELECT T.DEPT_NAME\\n                  FROM XIP_PUB_DEPTS T\\n                 WHERE T.DEPT_ID = G.DEPT_ID) DEPT_NAME,\\n               '岗位' AUTH_TYPE\\n          FROM XIP_PUB_EMPS E, XIP_PUB_EMP_ASG G, XIP_PUB_POSTS S\\n         WHERE E.EMP_ID = G.EMP_ID\\n           AND G.POST_ID = S.POST_ID\\n           AND G.POST_ID IN (SELECT PE.EXECUTOR_VALUE\\n                               FROM XIP_WF_ACT_PV_ENUM PE\\n                              WHERE PE.ACT_ID = '{#actId#}'\\n                                AND PE.EXECUTOR_TYPE = 'P')\\n        UNION\\n        SELECT E.EMP_CODE,\\n               E.EMP_NAME,\\n               '' POST_NAME,\\n               T.DEPT_NAME,\\n               '部门' AUTH_TYPE\\n          FROM XIP_PUB_EMPS E, XIP_PUB_EMP_ASG G, XIP_PUB_DEPTS T\\n         WHERE E.EMP_ID = G.EMP_ID\\n           AND G.DEPT_ID = T.DEPT_ID\\n           AND G.DEPT_ID IN (SELECT PE.EXECUTOR_VALUE\\n                               FROM XIP_WF_ACT_PV_ENUM PE\\n                              WHERE PE.ACT_ID = '{#actId#}'\\n                                AND PE.EXECUTOR_TYPE = 'D')\\n         GROUP BY E.EMP_CODE, E.EMP_NAME, T.DEPT_NAME) T_EXECUTORS\",\"xwlMeta\":\"dataProvider\"}]}","getExecutors",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-12 15:11:34.0",6],["23X7D36B72FN","23X7D36B72F9","{\"id\":\"module\",\"title\":\"getActs\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT A.APP_NAME,\\n       E.ENTITY_NAME,\\n       P.PROCESS_NAME,\\n       T.ACT_CODE,\\n       T.ACT_CATEGORY,\\n       T.ACT_NAME,\\n       CASE\\n           WHEN T.ACT_CATEGORY = 'Start' THEN\\n            '开始'\\n           WHEN T.ACT_CATEGORY = 'End' THEN\\n            '结束'\\n           WHEN T.ACT_CATEGORY = 'Notice' THEN\\n            '通知'\\n           WHEN T.ACT_CATEGORY = 'Function' THEN\\n            '功能'\\n           WHEN T.ACT_CATEGORY = 'Switch' THEN\\n            '判断'\\n           WHEN T.ACT_CATEGORY = 'Countersign' THEN\\n            '会签'\\n           WHEN T.ACT_CATEGORY = 'Response' THEN\\n            '抄送'\\n        END AS ACT_CATEGORY_NAME,\\n       T.ACT_ID,\\n       T.PROCESS_ID\\n  FROM XIP_WF_ACTS T\\n  LEFT JOIN XIP_WF_PROCESSES P\\n    ON T.PROCESS_ID = P.PROCESS_ID\\n  LEFT JOIN XIP_WF_ENTITIES E\\n    ON P.ENTITY_ID = E.ENTITY_ID\\n  LEFT JOIN XIP_PUB_APPS A\\n    ON E.APP_ID = A.APP_ID\\n WHERE (T.ACT_CATEGORY = 'Notice' OR T.ACT_CATEGORY = 'Countersign' OR\\n       T.ACT_CATEGORY = 'Response')\\n   AND (P.ENABLE_FLAG = 'C' OR P.ENABLE_FLAG = 'Y')\\n   AND EXISTS (SELECT *\\n          FROM XIP_WF_ACT_PROPERTIES ATTR\\n         WHERE ATTR.PROPERTY_CODE = 'a_executor_type'\\n           AND ATTR.PROPERTY_VALUE = 'GRANT'\\n           AND ATTR.ACT_ID = T.ACT_ID)\\n   AND P.PROCESS_NAME LIKE '%{#processName_auth#}%'\\n   AND T.ACT_NAME LIKE '%{#actName_auth#}%'\\n   {#whereSql#}\",\"xwlMeta\":\"dataProvider\"}]}","getActs_auth",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-12 15:11:34.0",11],["23X7D36B72FO","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getUsers\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT \\n       p.USER_ID PRI_ID,\\n       p.USER_NAME PRI_NAME,\\n       e.EMP_NAME,\\n       'U' PRI_TYPE,\\n       '用户' PRI_TYPE_NAME\\n  FROM XIP_PUB_USERS p\\n  left join xip_pub_emps e on p.EMP_ID = e.EMP_ID and e.ATTRIBUTE2 = 'Y'\\n  left join xip_pub_emp_asg a on e.EMP_ID = a.EMP_ID and a.ENABLED = 'Y' \\n WHERE (p.END_DATE > sysdate OR p.END_DATE IS NULL)\\n {#otherWhereSql#}\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT DISTINCT \\n       p.USER_ID PRI_ID,\\n       p.USER_NAME PRI_NAME,\\n       e.EMP_NAME,\\n       'U' PRI_TYPE,\\n       '用户' PRI_TYPE_NAME\\n  FROM XIP_PUB_USERS p\\n  left join xip_pub_emps e on p.EMP_ID = e.EMP_ID and e.ATTRIBUTE2 = 'Y'\\n  left join xip_pub_emp_asg a on e.EMP_ID = a.EMP_ID and a.ENABLED = 'Y' \\n WHERE (p.END_DATE >NOW() OR p.END_DATE IS NULL)\\n {#otherWhereSql#}\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","getUsers",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-10-23 10:13:23.0",8],["23X7D36B72FP","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getAuthDepts\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select m.executor_type PRI_TYPE,\\n       '部门' PRI_TYPE_NAME,\\n       m.executor_value PRI_ID,\\n       (select v3.dept_name\\n          from xip_pub_depts v3\\n         where v3.dept_id = m.executor_value) PRI_NAME,\\n       (select o.org_name from xip_pub_orgs o where o.org_id = (select p.org_id from xip_pub_depts p where p.dept_id = m.executor_value)) ORG_NAME\\n  from xip_wf_act_pv_enum m\\n where m.act_id = '{#actId#}'\\n   and m.property_code = 'a_executor_type'\\n   and m.executor_type = 'D'\"}]}","getAuthDepts",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-09-10 17:06:04.0",14],["23X7D36B72FQ","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getPosts\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT p.POST_ID PRI_ID,\\n       p.POST_NAME PRI_NAME,\\n       (select ORG_NAME FROM XIP_PUB_ORGS WHERE ORG_ID = p.ORG_ID) ORG_NAME,\\n       (select DEPT_NAME FROM XIP_PUB_DEPTS WHERE DEPT_ID = p.DEPT_ID) DEPT_NAME,\\n       'P' PRI_TYPE,\\n       '岗位' PRI_TYPE_NAME\\n  FROM XIP_PUB_POSTS p\\n WHERE p.ENABLE_FLAG = 'Y'\\n {#otherWhereSql#}\"}]}","getPosts",null,0,0,"admin","2015-06-12 15:11:34.0","23XQ4B4KHDBR","2015-09-10 15:42:01.0",9],["23X7D36B72FR","23X7D36B72F9","{\"id\":\"module\",\"title\":\"deleteAuth\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_wf_act_pv_enum where VALUE_ID in ({#ids#})\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","deleteAuth",null,0,0,"admin","2015-06-12 15:11:34.0","admin","2015-06-12 15:11:34.0",7],["23X7D36B72VN","23X7D36B72F9","{\"id\":\"module\",\"title\":\"getUsers\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT '' PRI_ID,\\n       '' PRI_NAME,\\n       '' PRI_TYPE,\\n       '' PRI_TYPE_NAME\\n  FROM WB_DUAL\\n WHERE 1=2\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getUdps",null,0,0,"admin","2015-06-12 15:42:33.0","admin","2015-06-12 15:44:14.0",19],["23X7D36B73XH","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"getMenuFunctions\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id id, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type node_type,\\n\\t   t.node_order idx,\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where (t.up_id = {?parentID?} or ({?parentID?} is null and nvl(t.up_id,'-1') = '-1'))\\n   and t.enable_flag = 'Y'\\n   and not exists (\\n     select * from xip_pub_mnu_tree mt where mt.fun_tree_id = t.fun_tree_id and mt.mnu_group_id = {?menuGroupId?} and mt.NODE_TYPE = 'F'\\n   )\\n order by t.node_order asc\",\"mysql\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id ID, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type NODE_TYPE,\\n\\t   t.node_order IDX,\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where (t.up_id = {?parentID?} or (({?parentID?} is null or {?parentID?}='' ) and ifnull(t.up_id,'-1') = '-1'))\\n   and t.enable_flag = 'Y'\\n   and not exists (\\n     select * from xip_pub_mnu_tree mt where mt.fun_tree_id = t.fun_tree_id and mt.MNU_GROUP_ID = {?menuGroupId?} and mt.NODE_TYPE = 'F'\\n   )\\n order by t.node_order asc\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\",\"type\":\"tree\"}],\"loginRequired\":\"false\"}","getRoleFunctionsTree",null,0,0,"admin","2015-06-12 16:49:43.0","admin","2015-06-12 16:50:14.0",37],["23X7D36B73XJ","23WY8FJ3Z9YF","{\"id\":\"module\",\"title\":\"getMenuGroupTree\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.up_id \\\"parent_id\\\",\\n       t.mnu_id id,\\n       t.name \\\"text\\\",\\n       t.node_type node_type,\\n       t.node_order idx,\\n       t.fun_tree_id,\\n       t.mnu_group_id,\\n       '__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_mnu_tree t1\\n                where t1.up_id = t.mnu_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_mnu_tree t\\n where t.up_id = {?parentID?} or ({?parentID?} is null and t.up_id = '-1')\\n   and t.mnu_group_id = {?menuGroupId?}\\n order by t.node_order asc\\n\",\"mysql\":\"select t.up_id \\\"parent_id\\\",\\n       t.mnu_id ID,\\n       t.name \\\"text\\\",\\n       t.node_type NODE_TYPE,\\n       t.node_order IDX,\\n       t.FUN_TREE_ID,\\n       t.MNU_GROUP_ID,\\n       '__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_mnu_tree t1\\n                where t1.up_id = t.mnu_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_mnu_tree t\\n where t.up_id = {?parentID?} or (({?parentID?} is null OR {?parentID?}='') and IFNULL(t.up_id,'-1') = '-1')\\n   and t.mnu_group_id = {?menuGroupId?}\\n order by t.node_order asc\\n\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\",\"type\":\"tree\"}]}","getMenuGroupTree",null,0,0,"admin","2015-06-12 16:49:52.0","admin","2015-06-12 16:49:52.0",38],["23X7GYI1JMQ8","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"selectALL\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT t.USER_ROLE_ID,\\n       t.USER_ID\\n  FROM xip_pub_user_roles  t \\n  WHERE t.USER_ID IN({#userIds#}) \\n   AND t.ISDEFAUT = 'Y'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","repeatRoleValidStore",null,0,0,"admin","2015-06-13 10:28:54.0","admin","2015-06-13 12:06:45.0",21],["23X7GYI1JMQL","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"updatedefault\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"setDefaultRoles\",\"sql\":\"update xip_pub_user_roles set ISDEFAUT='Y' where USER_ROLE_ID={?USER_ROLE_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"userRoleIds\"}],\"loginRequired\":\"false\"}","setDefaultRoles",null,0,0,"admin","2015-06-13 10:54:06.0","admin","2015-06-13 10:55:22.0",22],["23X7GYI1JMS1","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"updatedefault\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"cancelDefaultRoles\",\"sql\":\"update xip_pub_user_roles set ISDEFAUT='N' where USER_ROLE_ID={?USER_ROLE_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"userRoleIds\"}],\"loginRequired\":\"false\"}","cancelDefaultRoles",null,0,0,"admin","2015-06-13 11:56:01.0","admin","2015-06-13 11:56:41.0",23],["23X7GYI1JQQF","23WO6G8BVPTC","{\"id\":\"module\",\"title\":\"setSingleDefaultRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"updateSingleDefaultRole\",\"sql\":\"update xip_pub_user_roles set ISDEFAUT='N' where USER_ROLE_ID<>{?USER_ROLE_ID?} and USER_ID={?USER_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"},{\"id\":\"setSingleDefaultRole\",\"sql\":\"update xip_pub_user_roles set ISDEFAUT='Y' where USER_ROLE_ID={?USER_ROLE_ID?}\",\"transaction\":\"commit\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","setSingleDefaultRole",null,0,0,"admin","2015-06-15 14:28:37.0","admin","2015-06-15 14:36:13.0",24],["23X8M3R27ZTH","23WCFT07IZK4","{\"id\":\"module\",\"title\":\"getSyncRole\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select *\\n  from xip_pub_role t\\n where t.role_id <> {?sourceRoleId?}\\n   and t.role_name like '%{#syncRoleName#}%'\\n order by t.CREATION_DATE desc\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","getSyncRole",null,0,0,"admin","2015-06-16 14:51:16.0","admin","2015-06-16 20:12:50.0",18],["23X8M3R280O4","23VNB76YLXKT","{\"id\":\"module\",\"title\":\"采购订单演示\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"grid2store\",\"xwlMeta\":\"store\",\"params\":\"{poid:'{#poid#}'}\",\"autoLoad\":\"true\",\"url\":\"#23VP6VH4OAL2 (queryGrid)\"},{\"id\":\"tviewport1\",\"xwlMeta\":\"tviewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"ttabpanel1\",\"xwlMeta\":\"ttabpanel\",\"children\":[{\"id\":\"tcontainer1\",\"title\":\"订单头\",\"xwlMeta\":\"tcontainer\",\"layout\":\"fit\",\"children\":[{\"id\":\"tform1\",\"xwlMeta\":\"tform\",\"children\":[{\"id\":\"PO_NO\",\"readOnly\":\"true\",\"xwlMeta\":\"ttext\",\"name\":\"PO_NO\",\"label\":\"订单编号\"},{\"id\":\"PO_DESC\",\"readOnly\":\"true\",\"xwlMeta\":\"ttext\",\"name\":\"PO_DESC\",\"label\":\"订单说明\"},{\"id\":\"VENDOR\",\"readOnly\":\"true\",\"xwlMeta\":\"ttext\",\"name\":\"VENDOR\",\"label\":\"供应商\"},{\"id\":\"BUYER\",\"readOnly\":\"true\",\"xwlMeta\":\"ttext\",\"name\":\"BUYER\",\"label\":\"采购员\"},{\"id\":\"ORG_NAME\",\"readOnly\":\"true\",\"xwlMeta\":\"ttext\",\"name\":\"ORG_NAME\",\"label\":\"组织\"},{\"id\":\"DEPT_NAME\",\"readOnly\":\"true\",\"xwlMeta\":\"ttext\",\"name\":\"DEPT_NAME\",\"label\":\"部门\"},{\"id\":\"AMT\",\"readOnly\":\"true\",\"xwlMeta\":\"ttext\",\"name\":\"AMT\",\"label\":\"金额\"},{\"id\":\"PO_DATE\",\"readOnly\":\"true\",\"xwlMeta\":\"ttext\",\"name\":\"PO_DATE\",\"label\":\"采购日期\"}]}]},{\"activate\":\"grid2store.load();\",\"id\":\"tcontainer2\",\"title\":\"订单行\",\"xwlMeta\":\"tcontainer\",\"layout\":\"fit\",\"children\":[{\"id\":\"tlist1\",\"store\":\"grid2store\",\"xwlMeta\":\"tlist\",\"itemTpl\":\"物资：{ITEM_NAME}    单价：{PRICE}   金额：{AMT}\"}],\"html\":\"Test\"}],\"initialize\":\"Ext.Ajax.request({\\n  url : 'main?xwl=23VP6VH4OAL0',\\n  params:{\\n    'poid':'{#poid#}'\\n  },\\n  method: 'POST',\\n  async : true,\\n  success: function(response,options){\\n    var resp = Ext.JSON.decode(response.responseText);\\n    if((resp.success===true)&&(resp.total>0)){\\n      var datas = resp.rows;\\n      Ext.each(datas,function(data,index){\\n        tform1.setValues(data);\\n      });\\n    }\\n  },\\n  failure: function(response,options){\\n    alert(\\\"test\\\");\\n  }\\n});\"}]}],\"initScript\":\"var businessId = request.getParameter(\\\"businessId\\\");\\nrequest.setAttribute(\\\"poid\\\",businessId);\",\"loginRequired\":\"false\",\"touchMode\":\"true\"}","poWfView4Touch",null,0,0,"admin","2015-06-16 15:09:18.0","admin","2015-06-16 16:39:51.0",9],["23X8YM2E156C","23W06BGDKYGT","{\"id\":\"module\",\"title\":\"insertOrgSecApp\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"insertSec\",\"sql\":\"insert into xip_pub_emp_asg\\n(ASG_ID,           \\n EMP_ID,           \\n POST_ID,          \\n DEPT_ID,          \\n ORG_ID,           \\n ENABLED,          \\n LAST_UPDATE_DATE, \\n LAST_UPDATED_BY,  \\n CREATION_DATE,    \\n CREATED_BY,       \\n POST_SEQ        \\n)\\nvalues(\\n  {?EMP_ASG_ID?},\\n  {?EMP_ID?},\\n  {?POST_ID?},\\n  {?DEPT_ID?},\\n  {?ORG_ID?},\\n  'Y',\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?}, \\n  {?XIP.userId?},\\n  'N'\\n)\\n\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"batchArray\"}],\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].EMP_ASG_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('batchArray',r);\",\"loginRequired\":\"false\"}","addEmpAsgSec",null,0,0,"admin","2015-06-18 10:54:43.0","admin","2015-06-18 11:05:50.0",25],["23X8YM2E16G3","23WCQ6TFHLFW","{\"id\":\"module\",\"title\":\"selectAll\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher12\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select x.PRIVILEGE_ID,\\n                    (select xp.USER_NAME from xip_pub_users xp where x.MASTER_USER_ID=xp.USER_ID)|| '/' ||(select X1.EMP_NAME FROM XIP_PUB_EMPS X1 WHERE X1.EMP_ID=(select X2.EMP_ID FROM XIP_PUB_USERS X2 WHERE X2.USER_ID=x.MASTER_USER_ID)) as USER_NAME1,\\n                     (select u.USER_NAME from xip_pub_users u where x.PROXY_USER_ID=u.USER_ID)|| '/' ||(select e.EMP_NAME FROM XIP_PUB_EMPS e WHERE e.EMP_ID=(select u2.EMP_ID FROM XIP_PUB_USERS u2 WHERE u2.USER_ID=x.PROXY_USER_ID)) as USER_NAME2,\\n                      x.BEGIN_DATE,\\n\\t\\t              x.END_DATE,\\n                      x.ATTRIBUTE1,\\n                      x.MASTER_USER_ID,\\n                      x.PROXY_USER_ID\\n                 from xip_wf_user_holiday x\\n               WHERE x.ATTRIBUTE1 = 'Y'\\n\\n \",\"mysql\":\"select x.PRIVILEGE_ID,\\n                    concat((select xp.USER_NAME from xip_pub_users xp where x.MASTER_USER_ID=xp.USER_ID),'/',(select X1.EMP_NAME FROM XIP_PUB_EMPS X1 WHERE X1.EMP_ID=(select X2.EMP_ID FROM XIP_PUB_USERS X2 WHERE X2.USER_ID=x.MASTER_USER_ID))) USER_NAME1,\\n                     concat((select u.USER_NAME from xip_pub_users u where x.PROXY_USER_ID=u.USER_ID),'/',(select e.EMP_NAME FROM XIP_PUB_EMPS e WHERE e.EMP_ID=(select u2.EMP_ID FROM XIP_PUB_USERS u2 WHERE u2.USER_ID=x.PROXY_USER_ID))) USER_NAME2,\\n                      x.BEGIN_DATE,\\n\\t\\t              x.END_DATE,\\n                      x.ATTRIBUTE1,\\n                      x.MASTER_USER_ID,\\n                      x.PROXY_USER_ID\\n                 from xip_wf_user_holiday x\\n               WHERE x.ATTRIBUTE1 = 'Y'\\n\\n\\n\\n\"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher12\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","validRepeatHolidays",null,0,0,"admin","2015-06-18 13:06:23.0","admin","2015-06-18 13:09:29.0",12],["23X99X8TOY9V","23VLH4ZGX3X1","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"shortcuts_query\",\"loginRequired\":\"false\",\"initScript\":\"var contextPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select u.USER_SHORTCUTS_ID,\\n       u.USER_ID,\\n       u.FUN_TREE_ID AS FUN_ID,\\n       M.MENUNAME,\\n       M.URL,\\n       M.FUNID,\\n       M.APPID,\\n       M.APPCODE,\\n       M.FUNCODE,\\n       M.WEB_HOST,\\n       M.IN_XIP,\\n       M.LARGE_ICON,\\n       M.SHOW_STYLE,\\n      {?contextPath?} CTX\\n  from XIP_PUB_USER_SHORTCUTS u,\\n       (select f.fun_tree_id   as \\\"FUNID\\\",\\n               f.fun_tree_code as \\\"FUNCODE\\\",\\n               f.fun_tree_id   as \\\"MEUNID\\\",\\n               f.fun_tree_name as \\\"MENUNAME\\\",\\n               f.url           as \\\"URL\\\",\\n               f.large_icon    as \\\"LARGE_ICON\\\",\\n               f.app_id        as \\\"APPID\\\",\\n               s.web_host      as \\\"WEB_HOST\\\",\\n               s.in_xip        as \\\"IN_XIP\\\",\\n               f.up_id         as \\\"UP_ID\\\",\\n               s.app_code      as \\\"APPCODE\\\",\\n               f.SHOW_STYLE\\n          from xip_pub_mnu_tree p, xip_pub_fun_tree f\\n          left join XIP_PUB_APPS s\\n            on f.app_id = s.app_id\\n         where p.fun_tree_id = f.fun_tree_id\\n           and f.enable_flag = 'Y'\\n           and p.mnu_group_id =\\n               (select mnu_group_id\\n                  from xip_pub_role\\n                 where role_id = {?roleId?})\\n           and p.node_type = 'F') M\\n\\n where u.FUN_TREE_ID = M.FUNID\\n and u.USER_ID = {?XIP.userId?}\\n\"}]}","shortcuts_query_role",null,0,0,"admin","2015-06-18 15:32:50.0","admin","2015-10-13 17:30:04.0",6],["23XF2T8HTFXF","23VVZ3QMOKQA",null,"图表模板定义",null,0,0,"admin","2015-07-09 14:04:16.0","admin","2015-07-09 14:04:16.0",38],["23XF2T8HTFXH","23XF2T8HTFXF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"图表模板定义\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n\\n\",\"finalize\":\"var num=1;\\nvar i=2;\\nvar cnum=1;\\nvar ts=0;\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23XJBSONLEIK (insertTemAttribute)\",\"id\":\"insert_templateAttribute_ajax\",\"success\":\"Wb.message('保存成功');\\nWb.load(templateDefGridStore,{tmp_id:tmp_id2.getValue(),chartTypeComboBox_:CHART_TYPE.getValue()});\\nWb.load(templateGridStore);\\nts=0;\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XJBSONLEIE (insertTemDataSource)\",\"id\":\"insert_templateDS_ajax\",\"success\":\"// alert(666);\\n// var store = templateDefGrid.getStore();\\n// var array = [];\\n// var temp = response.responseText;\\n// var resultJson = Ext.JSON.decode(temp);\\n// var tmp_id= resultJson.k;\\n// alert(tmp_id);\\n// store.each(function(rec){\\n//   if(rec.data.PRO_VAL_DISPLAY!== null&&rec.data.PRO_VAL_DISPLAY!== ''){\\n//     var JSON={TMP_ID: tmp_id,\\n//               PRO_ID: rec.data.PRO_ID,\\n//               PRO_CODE: rec.data.PRO_CODE,\\n//               PRO_VAL: rec.data.PRO_VAL2,\\n//               PRO_VAL_DISPLAY: rec.data.PRO_VAL_DISPLAY};\\n//     array.push(JSON);\\n//   }\\n// });\\n// alert(array);\\n// // insert_templateAttribute_ajax.request(array);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XF2T8HTRCD (insertTemplate)\",\"id\":\"insert_template_ajax\",\"output\":\"temDeForm,templateDefForm\",\"success\":\"//保存数据来源\\nvar temp = response.responseText;\\nvar resultJson = Ext.JSON.decode(temp);\\nvar tmp_id= resultJson.k;\\ntmp_id2.setValue(tmp_id);\\nvar arr= [];\\nvar sql_string= sqls.getValue();\\nvar sql_arr= sql_string.split('&');\\nvar attribute1 ='';\\nfor(var j=0;j<sql_arr.length;j++){\\n//   if(j===0){\\n//     attribute1 = 'Y';\\n//   }else{\\n//     attribute1 ='';\\n//   }\\n  var json= {DS_ID:'',\\n             TMP_ID: tmp_id,\\n             TMP_CODE: TMP_CODE.getValue(),\\n             TMP_DESC: TMP_DESC.getValue(),\\n             SQL_STRING: sql_arr[j],\\n             ATTRIBUTE1: Number(j)+Number(1)\\n            };\\n  arr.push(json);\\n}\\ninsert_templateDS_ajax.params.newArr = Wb.encode(arr);\\ninsert_templateDS_ajax.request(json);\\n\\n\\n//保存配置的属性\\nvar store = templateDefGrid.getStore();\\nvar array = [];\\nstore.each(function(rec){\\n  if(rec.data.PRO_VAL_DISPLAY!== null&&rec.data.PRO_VAL_DISPLAY!== ''){\\n    var JSON={TMP_ID: tmp_id,\\n              TMP_DTL_ID:'',\\n              PRO_ID: rec.data.PRO_ID,\\n              PRO_CODE: rec.data.PRO_CODE,\\n              PRO_VAL: rec.data.PRO_VAL2,\\n              PRO_VAL_DISPLAY: rec.data.PRO_VAL_DISPLAY};\\n    array.push(JSON);\\n  }\\n});\\ninsert_templateAttribute_ajax.params.newArray = Wb.encode(array);\\ninsert_templateAttribute_ajax.request();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XJBSONLN7C (deleteTemplate)\",\"id\":\"delete_template_ajax\",\"output\":\"templateGrid\",\"success\":\"Wb.message('删除成功');\\nWb.load(templateGridStore);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XJXR79UNWS (updateTemplate)\",\"id\":\"update_template_ajax\",\"success\":\"var djson={TMP_ID:tmp_id2.getValue()};\\ndelete_templateDS_ajax.request(djson);\\n\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XJXR79UPHF (updateTemAttri)\",\"id\":\"update_templateAttri_ajax\",\"success\":\"var store = templateDefGrid.getStore();\\nvar array = [];\\nvar array2 = [];\\nstore.each(function(rec){\\n  if(rec.data.TMP_DTL_ID!==null&&rec.data.TMP_DTL_ID!==''){\\n    if(rec.data.PRO_VAL_DISPLAY!== null&&rec.data.PRO_VAL_DISPLAY!== ''){\\n      //更新\\n       var JSON={ TMP_DTL_ID:rec.data.TMP_DTL_ID,\\n                  PRO_VAL: rec.data.PRO_VAL2,\\n                  PRO_VAL_DISPLAY: rec.data.PRO_VAL_DISPLAY};\\n       array.push(JSON);  \\n       }\\n  }else{\\n    if(rec.data.PRO_VAL_DISPLAY!== null&&rec.data.PRO_VAL_DISPLAY!== ''){\\n    //插入\\n      var JSON2={TMP_ID: tmp_id2.getValue(),\\n                TMP_DTL_ID:'',\\n                PRO_ID: rec.data.PRO_ID,\\n                PRO_CODE: rec.data.PRO_CODE,\\n                PRO_VAL: rec.data.PRO_VAL2,\\n                PRO_VAL_DISPLAY: rec.data.PRO_VAL_DISPLAY};\\n            array2.push(JSON2);   \\n    }\\n  }\\n});\\ninsert_templateAttribute_ajax2.params.newArray = Wb.encode(array2);\\ninsert_templateAttribute_ajax2.request();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XJXR79UQLU (delete_templateDS)\",\"id\":\"delete_templateDS_ajax\",\"success\":\"var ds= dataSouTextArea.getValue();\\nvar da= \\\"\\\";\\nif(num>1){\\n  var string= \\\"dataSd\\\";\\n  for(var k=2;k<= num;k++){\\n    var _da= Ext.getCmp(string+k).getValue();\\n    if(_da!== null&&_da!== ''){\\n      da= da+\\\"//\\\"+_da;\\n    }\\n  }\\n}\\nif(ds!== null&&ds!== ''){\\n  sqls.setValue((ds+da));\\n}else{\\n  sqls.setValue(da.substring(1,da.length));\\n}\\nvar sql_string= sqls.getValue();\\nvar sql_arr= sql_string.split('//');\\n// 获取DS_ID\\n// var record=templateGrid.getSelectionModel().getSelection();\\n// var ds_id=record[0].get('SOURCE_ID').split('//');\\nvar arr=[];\\nvar a = '';\\nfor(var j=0;j<sql_arr.length;j++){\\n//   if(j===0){\\n//     a = 'Y';\\n//   }else{\\n//     a = '';\\n//   }\\n  var json= {DS_ID: '',\\n             TMP_ID: tmp_id2.getValue(),\\n             TMP_DESC: TMP_DESC.getValue(),\\n             TMP_CODE: TMP_CODE.getValue(),\\n             SQL_STRING: sql_arr[j],\\n             ATTRIBUTE1: Number(j)+Number(1)\\n            };\\n  arr.push(json);\\n}\\ninsert_templateDS_ajax2.params.newArr = Wb.encode(arr);\\ninsert_templateDS_ajax2.request(json);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XJBSONLEIK (insertTemAttribute)\",\"id\":\"insert_templateAttribute_ajax2\",\"success\":\"Wb.message('修改成功');\\nWb.load(templateDefGridStore,{tmp_id:tmp_id2.getValue(),chartTypeComboBox_:CHART_TYPE.getValue()});\\ntemplateGridStore.load();\\nts=0;\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XJBSONLEIE (insertTemDataSource)\",\"id\":\"insert_templateDS_ajax2\",\"success\":\"var store = templateDefGrid.getStore();\\nvar array = [];\\nvar array1 = [];\\nvar array2 = [];\\nstore.each(function(rec){\\n  if(rec.data.TMP_DTL_ID!==null&&rec.data.TMP_DTL_ID!==''){\\n    if(rec.data.PRO_VAL_DISPLAY!== null&&rec.data.PRO_VAL_DISPLAY!== ''){\\n      //更新\\n      var pro_val =rec.data.PRO_VAL2;\\n      if(rec.data.PRO_VAL_TYPE==='number'||rec.data.PRO_VAL_TYPE==='string'||rec.data.PRO_VAL_TYPE==='object'){\\n        if(rec.data.PRO_VAL=== null||rec.data.PRO_VAL=== ''){\\n           pro_val=rec.data.PRO_VAL_DISPLAY;\\n        }\\n      }\\n       var JSON={ TMP_DTL_ID:rec.data.TMP_DTL_ID,\\n                  PRO_VAL: pro_val,\\n                  PRO_VAL_DISPLAY: rec.data.PRO_VAL_DISPLAY};\\n       array.push(JSON);  \\n    }else{\\n      var jsonT={TMP_DTL_ID:rec.data.TMP_DTL_ID};\\n      //array1.push(jsonT);\\n      delete_templateAttri_ajax.request(jsonT);\\n    }\\n  }else{\\n    if(rec.data.PRO_VAL_DISPLAY!== null&&rec.data.PRO_VAL_DISPLAY!== ''){\\n    //插入\\n      var JSON2={TMP_ID: tmp_id2.getValue(),\\n                TMP_DTL_ID:'',\\n                PRO_ID: rec.data.PRO_ID,\\n                PRO_CODE: rec.data.PRO_CODE,\\n                PRO_VAL: rec.data.PRO_VAL2,\\n                PRO_VAL_DISPLAY: rec.data.PRO_VAL_DISPLAY};\\n            array2.push(JSON2);   \\n    }\\n  }\\n});\\nupdate_templateAttri_ajax.params.newA = Wb.encode(array);\\nupdate_templateAttri_ajax.request();\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XJXR79UWIC (delete_temAttri)\",\"id\":\"delete_templateAttri_ajax\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XQ5H45XKQJ (copyTmp)\",\"id\":\"copyTmp_ajax\",\"success\":\"\\nvar tid = copyTmpId.getValue();\\nvar code = copyCode.getValue();\\nvar desc = copyDesc.getValue(); \\nvar record = templateGrid.getSelectionModel().getSelection();\\nvar tmp_id = record[0].get('TMP_ID');\\n//复制数据源\\nvar json = {TMP_ID:tmp_id,TID:tid,CODE:code,DESC:desc};\\ncopyDataSource_ajax.request(json);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XQ5H45XM6O (copyDataSource)\",\"id\":\"copyDataSource_ajax\",\"failure\":\"Wb.message('default');\",\"success\":\"//复制图表属性\\nvar tid = copyTmpId.getValue();\\nvar record = templateGrid.getSelectionModel().getSelection();\\nvar tmp_id = record[0].get('TMP_ID');\\nvar json = {TMP_ID:tmp_id,TID:tid};\\ntmpAttribute_ajax.request(json);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XQ5H45XPR7 (copyAttribute)\",\"id\":\"tmpAttribute_ajax\",\"success\":\"Wb.message('复制成功。');\\nWb.load(templateGridStore);\\ncopyWindow.close();\"}]},{\"xwlMeta\":\"folder\",\"id\":\"js\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"bcScript\",\"footer\":\"<script>\\n  function buttonHid(){\\n    document.getElementById('btn').style.display='none';\\n    document.getElementById('dbtn').style.display='none';\\n    document.getElementById('ddiv').style.display='none';\\n\\n  }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"addColorScript\",\"footer\":\"<script>\\n  var cnum=1;\\nfunction addColor(){\\n    cnum=document.getElementById('ddiv').getElementsByTagName(\\\"input\\\").length+1;\\n    var input1 = document.createElement('input');\\n    input1.setAttribute('type', 'color');\\n    input1.setAttribute('id', 'Icolor'+cnum);\\n    input1.setAttribute('name', 'colord');\\n    input1.setAttribute('style', 'width:200px');\\n    var btn1 = document.getElementById(\\\"ddiv\\\");\\n    btn1.insertBefore(input1,null);\\n    cnum++;\\n }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"buttonChangeScript\",\"footer\":\"<script>\\nfunction buttonColor(){\\n    document.getElementById('btn').style.display='block';\\n    document.getElementById('dbtn').style.display='block';\\n    document.getElementById('ddiv').style.display='block';\\n }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"editColorScript\",\"footer\":\"<script>\\nfunction editColor(){\\n    var record1=templateDefGrid.getSelectionModel().getSelection();\\n    var pro_val=record1[0].get('PRO_VAL_DISPLAY');\\n    document.getElementById('colorT').value=pro_val;\\n }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"editArrayColorScript\",\"footer\":\"<script>\\nfunction editArrayColor(){\\n    var record1=templateDefGrid.getSelectionModel().getSelection();\\n    var pro_val=record1[0].get('PRO_VAL_DISPLAY');\\n    var str=pro_val.split(',');\\n    document.getElementById('colorT').value=str[0];\\n    for(var j=1;j<str.length;j++){\\n       document.getElementById('Icolor'+j).value=str[j];\\n    }\\n }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"colorScript\",\"footer\":\"<script>\\nfunction chooseColor(){\\n    var val=document.getElementById('colorT').value; \\n    var record1=templateDefGrid.getSelectionModel().getSelection();\\n    var pro_val_type=record1[0].get('PRO_VAL_TYPE');\\n    if(pro_val_type=='color'){\\n      record1[0].set('PRO_VAL_DISPLAY',val);\\n      record1[0].set('PRO_VAL2',val);\\n    }\\n   }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"color2Script\",\"footer\":\"<script>\\nfunction choose2Color(){\\n    var val=document.getElementById('colorT').value; \\n    var record1=templateDefGrid.getSelectionModel().getSelection();\\n    var str=val;\\n    for(var i=1;i<100;i++){\\n      try{\\n      var _val=document.getElementById('Icolor'+i).value;\\n      //alert(_val);\\n      }catch(e){\\n        break;\\n      }\\n      str=str+','+_val;\\n    }\\n      record1[0].set('PRO_VAL_DISPLAY',str);\\n      record1[0].set('PRO_VAL2',str);\\n}\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"deleteColorScript\",\"footer\":\"<script>\\nfunction deleteColor(){\\n   //document.getElementById('Icolor1').remove();\\n   document.getElementsByName('colord')[document.getElementsByName('colord').length-1].remove();\\n }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"clearColorScript\",\"footer\":\"<script>\\nfunction clearColor(){\\n    attriValWinColor.close();\\n    var record1=templateDefGrid.getSelectionModel().getSelection();\\n    record1[0].set('PRO_VAL_DISPLAY','');\\n    record1[0].set('PRO_VAL2','');\\n }\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"btnScript\",\"footer\":\"<script>\\n  function btnJs(){\\n    document.getElementById('addDs').click();\\n  }\\n  <\\/script>\"}]},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"templateGridStore\",\"url\":\"#23XF2T8HTGIY (selectTemplate)\",\"output\":\"templateQueryForm\"},{\"xwlMeta\":\"store\",\"id\":\"charTypeStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23XF2T8HTGM3 (selectChartType)\"},{\"xwlMeta\":\"store\",\"id\":\"dataSourceStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23XF2T8HTGQD (selectDataSource)\"},{\"xwlMeta\":\"store\",\"id\":\"templateDefGridStore\",\"autoLoad\":\"false\",\"groupField\":\"PRO_GROUP\",\"pageSize\":\"-1\",\"url\":\"#23XF2T8HTH7A (SELECT_NONE)\"},{\"xwlMeta\":\"store\",\"id\":\"xNameComStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"{#contextPath#}//platformChartAction.do?method=getChartAxisColumnName\"},{\"xwlMeta\":\"store\",\"id\":\"YNgridStore\",\"autoLoad\":\"true\",\"url\":\"#23XF2T8HTLSQ (selectYN)\"},{\"xwlMeta\":\"store\",\"id\":\"proValStore\",\"fields\":\"[{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\"},{\\\"name\\\":\\\"value\\\",\\\"type\\\":\\\"string\\\"}]\",\"pageSize\":\"-1\",\"load\":\"var data={\\\"name\\\":'',\\\"value\\\":''};\\nproValStore.insert(0,data);\"},{\"xwlMeta\":\"store\",\"id\":\"yNameComStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"{#contextPath#}//platformChartAction.do?method=getChartAxisColumnName\"},{\"xwlMeta\":\"store\",\"id\":\"sqlDsStore\",\"pageSize\":\"-1\",\"url\":\"#23XJBSONLPDZ (selectSqlDs)\"}]},{\"xwlMeta\":\"folder\",\"id\":\"editor\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"attributeVal\",\"focus\":\"var record= templateDefGrid.getSelectionModel().getSelection();\\nvar pro_val_type= record[0].get('PRO_VAL_TYPE');\\nif(pro_val_type==='boolean'){\\n  attriValWinBoo.show();\\n}\\nif(pro_val_type==='color'){\\n  var pro_val= record[0].get('PRO_VAL_DISPLAY');\\n  attriValWinColor.show();\\n  if(pro_val!==null&&pro_val!==''){\\n    editColor();\\n  }\\n  \\n}\\nif(pro_val_type==='color_array'){\\n  var pro_val= record[0].get('PRO_VAL_DISPLAY');\\n  attriValWinColor.show();\\n  buttonColor();\\n  if(pro_val!==null&&pro_val!==''){\\n    var _colorArray = pro_val.split(',');\\n    if(_colorArray.length >1){\\n      document.getElementById('colorT').value = _colorArray[0];\\n      for(var tmpIndex = 1;tmpIndex<_colorArray.length;tmpIndex++){\\n           var input1 = document.createElement('input');\\n           input1.setAttribute('type', 'color');\\n           input1.setAttribute('id', 'Icolor'+tmpIndex);\\n           input1.setAttribute('name', 'colord');\\n           input1.setAttribute('style', 'width:200px');\\n           input1.setAttribute('value', _colorArray[tmpIndex]);\\n           var btn1 = document.getElementById(\\\"ddiv\\\");\\n           btn1.insertBefore(input1,null);\\n      }\\n    }\\n  }\\n}\\nif(pro_val_type==='string'){\\n  var pro_val= record[0].get('PRO_VAL');\\n  pro_val = pro_val.substring(1,pro_val.length);\\n  if(pro_val!==null&&pro_val!==''){\\n    proValStore.loadData(Ext.decode(pro_val));\\n    attriValWinComboBox.show();\\n  }else{\\n    return;\\n  }\\n}\\nif(pro_val_type==='number'){\\n  return ;\\n}\\nif(pro_val_type==='object'){\\n  //Wb.message.alert('提示','格式为{\\\"a\\\":\\\"1\\\",\\\"b\\\",\\\"2\\\"}');\\n  if(ts=== 0){\\n    Ext.Msg.alert('提示','格式为{\\\"a\\\":\\\"1\\\",\\\"b\\\",\\\"2\\\"}');\\n    ts=1;\\n}\\n  }\\n   \\n\",\"blur\":\"// var record= templateDefGrid.getSelectionModel().getSelection();\\n// var pro_val_type= record[0].get('PRO_VAL_TYPE');\\n// if(pro_val_type==='object'){\\n//      Ext.Msg.alert('提示','格式为{\\\"a\\\":\\\"1\\\",\\\"b\\\",\\\"2\\\"}');\\n// }\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"templateGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rowNumber\",\"text\":\"行号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_ID\",\"id\":\"TMP_ID\",\"text\":\"TMP_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_CODE\",\"id\":\"templateCode_COL\",\"text\":\"模板编码\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_NAME\",\"id\":\"templateName_COL\",\"text\":\"模板名称\",\"width\":\"300\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CHART_TYPE\",\"id\":\"chartType_COL\",\"text\":\"图表类型\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_DESC\",\"id\":\"remarks\",\"text\":\"备注\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"Y_AXIS_TYPE\",\"id\":\"Y_AXIS_TYPE_COL\",\"text\":\"Y轴类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"X_AXIS\",\"id\":\"X_AXIS_COL\",\"text\":\"X轴\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"Y_AXIS\",\"id\":\"Y_AXIS_COL\",\"text\":\"Y轴\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"X_AXIS_DS\",\"id\":\"X_AXIS_DS_COL\",\"text\":\"X轴来源\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"Y_AXIS_DS\",\"id\":\"Y_AXIS_DS_COL\",\"text\":\"Y轴来源\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"X_AXIS_TYPE\",\"id\":\"X_AXIS_TYPE_COL\",\"text\":\"X轴类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"LEGEND\",\"id\":\"LEGEND_COL\",\"text\":\"图例\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CT\",\"id\":\"CT_COL\",\"text\":\"CT\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"LEGEND_TYPE\",\"id\":\"LEGEND_TYPE_COL\",\"text\":\"LEGEND_TYPE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_CHART_SRC_ID\",\"id\":\"TMP_CHART_SRC_ID_COL\",\"text\":\"TMP_CHART_SRC_ID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"templateDefGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rowNumber1\",\"text\":\"行号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_CODE\",\"id\":\"PRO_CODE_COL_\",\"text\":\"属性编码\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_ID\",\"id\":\"PRO_ID_COL\",\"text\":\"PRO_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_NAME\",\"id\":\"PRO_NAME_COL\",\"text\":\" 属性\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_VAL\",\"id\":\"PRO_VAL_COL\",\"text\":\"属性值\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_DESC\",\"id\":\"PRO_DESC_COL\",\"renderer\":\"metaData.tdAttr = 'data-qtip=\\\"'+value+'\\\"';\\nreturn value; \",\"text\":\"属性描述\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_GROUP\",\"id\":\"PRO_GROUP_COL\",\"text\":\"属性分组\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_VAL_TYPE\",\"id\":\"PRO_VAL_TYPE_COL\",\"text\":\"属性值类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_TYPE\",\"id\":\"PRO_TYPE_COL\",\"text\":\"属性类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_VAL_DISPLAY\",\"id\":\"PRO_VAL_DISPLAY_COL\",\"renderer\":\"metaData.tdAttr = 'data-qtip=\\\"'+value+'\\\"';\\nreturn value; \",\"text\":\"属性显示值\",\"width\":\"120\",\"editor\":\"attributeVal\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_VAL2\",\"id\":\"PRO_VAL2_COL\",\"text\":\"属性真实值\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_DTL_ID\",\"id\":\"TMP_DTL_ID_COL\",\"text\":\"TMP_DTL_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SEQ\",\"id\":\"SEQ_COL\",\"text\":\"SEQ\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"dataSourceGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xuhao\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SQL_STRING\",\"id\":\"sql\",\"text\":\"来源SQL\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DS_ID\",\"id\":\"DS_ID_COL\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TMP_ID\",\"id\":\"TMP_ID_COL\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"YNgridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XH\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_NAME\",\"id\":\"VAL_NAME_COL\",\"text\":\"属性值\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"VAL_CODE\",\"id\":\"VAL_CODE_COL\",\"text\":\"属性编码\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windowBtn\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"previewWinBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptBtn21\",\"textAlign\":\"center\",\"text\":\"确定\",\"click\":\"var string = 'p_';\\nvar dd = '';\\nfor(var l=0;l<NUM.getValue();l++){\\nvar val = Ext.getCmp(string+l).getValue();\\n  if(val===null||val===''){\\n    Wb.warning('参数值不能为空');\\n    return false;\\n  }\\n var name = Ext.getCmp(string+l).getFieldLabel();\\n //dd=dd+','+name+'xzsplit'+val;\\n  dd = dd +','+\\\"'\\\"+name+\\\"'\\\"+':'+\\\"\\\\\\\"\\\"+val+\\\"\\\\\\\"\\\";\\n}\\nvar _sqlParams= '{'+dd.substring(1,dd.length)+'}';\\nvar tmp_chart_src_id = TMP_CHART_SRC_ID.getValue();\\nvar legend_type = LEGEND_TYPE.getValue();\\nif(_sqlParams!=='{}'){\\n  var _url = '{#contextPath#}'+'/platformChartAction.do?method=generateChart&chartMoudleId='+tmp_id2.getValue()+\\n      '&sqlParams='+_sqlParams+'&exportType='+exportTypeCom.getValue()+'&chartSourceId='+tmp_chart_src_id+\\n      '&legendType='+legend_type;\\n  window.open(_url);\\n}else{\\n   var _url = '{#contextPath#}'+'/platformChartAction.do?method=generateChart&chartMoudleId='+tmp_id2.getValue()+\\n       '&exportType='+exportTypeCom.getValue()+'&chartSourceId='+tmp_chart_src_id+'&legendType='+legend_type;\\n   window.open(_url);\\n}\\n\\n\\n\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"previewWin\",\"title\":\"请输入参数值\",\"height\":\"300\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"400\",\"buttons\":\"previewWinBtn\",\"buttonAlign\":\"center\",\"beforeclose\":\"previewPanel.removeAll();\",\"clickOK\":\"//把参数名数组传递过来  newArray\\n//p   z  组合成  p + xzsplit+z,p+xzsplit+z,\\n//sqlParams = \\n\",\"beforehide\":\"previewPanel.removeAll();\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-boder\",\"padding\":\"10px 40px 0px 0px\",\"id\":\"panel_Com\",\"height\":\"40\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"width\":\"400\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-boder\",\"id\":\"tr\",\"layout\":\"column\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-boder\",\"id\":\"td\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"value\":\"HTML\",\"labelAlign\":\"right\",\"pickList\":\"[['HTML','输出页面'],['DATA','输出数据']]\",\"fieldLabel\":\"输出形式\",\"id\":\"exportTypeCom\"}]}]}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-boder\",\"padding\":\"10px 40px 0px 0px\",\"id\":\"previewPanel\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\"}]},{\"xwlMeta\":\"array\",\"id\":\"attriValWinBooBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptBtn\",\"textAlign\":\"center\",\"text\":\"确定\",\"click\":\"var record=YNgrid.getSelectionModel().getSelection();\\nvar val_name=record[0].get('VAL_NAME');\\nvar val_code=record[0].get('VAL_CODE');\\nvar record1=templateDefGrid.getSelectionModel().getSelection();\\nrecord1[0].set('PRO_VAL_DISPLAY',val_name);\\nrecord1[0].set('PRO_VAL2',val_code);\\nattriValWinBoo.close();\\n\\n\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"attriValWinComboBoxBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptBtn2\",\"textAlign\":\"center\",\"text\":\"确定\",\"click\":\"var record1=templateDefGrid.getSelectionModel().getSelection();\\nrecord1[0].set('PRO_VAL_DISPLAY',proValcomboBox.getRawValue());\\nrecord1[0].set('PRO_VAL2',proValcomboBox.getValue());\\n//record1[0].set('VAL_CODE',val_code);\\nattriValWinComboBox.close();\\n\\n\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"newTemplateWindowBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"saveBtn\",\"text\":\"保存\",\"click\":\"var ds= dataSouTextArea.getValue();\\nvar da= \\\"\\\";\\nif(num>1){\\n  var string= \\\"dataSd\\\";\\n  for(var k=2;k<= num;k++){\\n    var _da= Ext.getCmp(string+k).getValue();\\n    if(_da!== null&&_da!== ''){\\n      da= da+\\\"&\\\"+_da;\\n    }\\n  }\\n}\\nif(ds!== null&&ds!== ''){\\n  sqls.setValue((ds+da));\\n}else{\\n  sqls.setValue(da.substring(1,da.length));\\n}\\nvar tmp_code= TMP_CODE.getValue();\\nvar tmp_name= TMP_NAME.getValue();\\nvar chart_type= CHART_TYPE.getValue();\\nif(!templateDefForm.getForm().isValid()||!dataSourcePanel1.getForm().isValid()||!temDeForm.getForm().isValid()){\\n    Wb.warning('请填写所有必填项目');\\n    return false;\\n  }\\nif(tmp_id2.getValue()!== null&&tmp_id2.getValue()!== ''){\\n  //修改\\n  var JSON2={TMP_ID: tmp_id2.getValue(),\\n             TMP_CODE: TMP_CODE.getValue(),\\n             TMP_NAME: TMP_NAME.getValue(),\\n             TMP_DESC: TMP_DESC.getValue(),\\n             CHART_TYPE: CHART_TYPE.getValue(),\\n             LEGEND: LEGEND.getValue(),\\n             LEGEND_TYPE: LEGEND_TYPE.getValue(),\\n             TMP_CHART_SRC_ID: TMP_CHART_SRC_ID.getValue(),\\n             X_AXIS_TYPE: X_AXIS_TYPE.getValue(),\\n             Y_AXIS_TYPE: Y_AXIS_TYPE.getValue(),\\n             X_AXIS: X_AXIS.getValue(),\\n             Y_AXIS: Y_AXIS.getValue(),\\n             X_AXIS_DS: X_AXIS_DS.getValue(),\\n             Y_AXIS_DS: Y_AXIS_DS.getValue()};\\n   update_template_ajax.request(JSON2);\\n}else{\\n  //保存\\n   insert_template_ajax.request();\\n}\\n\"},{\"xwlMeta\":\"button\",\"id\":\"previewBtn\",\"text\":\"预览\",\"click\":\"//1.先判断模板是否保存\\n//2.取得所有的数据源sql\\nvar sm=0;\\nif(tmp_id2.getValue()===null||tmp_id2.getValue()===''){\\n   Ext.Msg.alert('提示','请先保存');\\n   return;\\n}else{\\n    var ds= dataSouTextArea.getValue();\\n    var da= \\\"\\\";\\n    if(num>1){\\n       var string= \\\"dataSd\\\";\\n       for(var k=2;k<= num;k++){\\n        var _da= Ext.getCmp(string+k).getValue();\\n        if(_da!== null&&_da!== ''){\\n          da= da+\\\"&\\\"+_da;\\n        }\\n      }\\n    }\\n    if(ds!== null&&ds!== ''){\\n       sqls.setValue((ds+da));\\n    }else{\\n       sqls.setValue(da.substring(1,da.length));\\n    }\\n   var sql=sqls.getValue().split('&');\\n   var testArray=[];\\n   for(var k=0;k<sql.length;k++){\\n     testArray.push(sql[k]);\\n   }\\n  //判断图例类型如果是SQL则将该SQL 放入testArray中\\n  if(LEGEND_TYPE.getValue()=='SQL'){\\n     testArray.push(LEGEND.getValue());\\n  }\\n   var  keyArray = [];\\n   Ext.each(testArray,function(a){\\n    var  sqlArray = a.split('${');\\n    for(var i = 1;i<sqlArray.length;i++){\\n      var tmpStr = sqlArray[i].substring(0,sqlArray[i].indexOf('}'));\\n      keyArray.push(tmpStr);\\n   }\\n   });\\n\\n  var newArray = Ext.Array.unique(keyArray);\\n  //如果存在参数，要求输入参数 否则直接发请求\\n  if(newArray.length>0){\\n    for(var h=0;h<newArray.length;h++){\\n      var paramText = Ext.create('Ext.form.field.Text',{\\n        id:'p_'+sm,\\n        name:'paramText',\\n        fieldLabel:newArray[h],\\n        labelAlign:'right'\\n      });\\n      sm++;\\n      NUM.setValue(sm);\\n      previewPanel.add(paramText);\\n    }\\n      \\n  }\\n  previewWin.show();\\n}\"}]},{\"xwlMeta\":\"array\",\"id\":\"attriValWinColorBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"acceptBtn1\",\"textAlign\":\"center\",\"text\":\"确定\",\"click\":\"var record1=templateDefGrid.getSelectionModel().getSelection();\\nvar pro_val_type=record1[0].get('PRO_VAL_TYPE');\\nif(pro_val_type=='color'){\\n  chooseColor();\\n}\\nif(pro_val_type=='color_array'){\\n  choose2Color();\\n}\\nattriValWinColor.close();\\n\\n\\n\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"copyWindowBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"cAcceptBtn\",\"text\":\"确定\",\"click\":\"if(!copyForm.getForm().isValid()){\\n    Wb.warning('请填写所有必填项目');\\n    return false;\\n  }\\nvar code = copyCode.getValue();\\nvar name = copyName.getValue();\\nvar desc = copyDesc.getValue(); \\nvar record = templateGrid.getSelectionModel().getSelection();\\nvar tmp_id = record[0].get('TMP_ID');\\nvar tid = Wb.getUuid();\\ncopyTmpId.setValue(tid);\\nvar json = {TID:tid,TMP_ID:tmp_id,CODE:code,NAME:name,DESC:desc};\\ncopyTmp_ajax.request(json);\"},{\"xwlMeta\":\"button\",\"id\":\"cCancelBtn\",\"text\":\"取消\",\"click\":\"copyWindow.close();\"}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"templateGridTbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addBtn\",\"text\":\"新增\",\"click\":\"newTemplateWindow.setTitle('新增模板');\\nTMP_CODE.setDisabled(false);\\ncharTypeStore.load();\\nnewTemplateWindow.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"text\":\"编辑\",\"click\":\"var rows=Wb.getSelRec(templateGrid);\\nvar record=templateGrid.getSelectionModel().getSelection();\\nif(rows.length!==1){\\n  Wb.warning('请选择一条记录');\\n  return;\\n}\\n//获取TMP_ID并赋值\\ntmp_id2.setValue(record[0].get('TMP_ID'));\\nWb.edit(templateGrid,newTemplateWindow,TMP_ID);\\ntemplateDefGridStore.getProxy().url='main?xwl=23XF2T8HTGV0';\\nWb.load(templateDefGridStore,{tmp_id:record[0].get('TMP_ID'),chartTypeComboBox_:record[0].get('CT')});\\ncharTypeStore.load(function(){\\n  CHART_TYPE.setValue(record[0].get('CT'));\\n  //CHART_TYPE.setRawValue(record[0].get('CHART_TYPE'));\\n});\\n//数据来源赋值\\n//sqls.setValue(record[0].get('CHART_SOURCE'));\\n//Wb.load(dataSourceStore,{TMP_ID:record[0].get('TMP_ID')});\\ndataSourceStore.load({\\n                params:{TMP_ID:record[0].get('TMP_ID')},\\n                callback:function(){\\n                  //根据SQL数据源的个数，执行添加操作\\n                  //alert(dataSourceStore.getCount());\\n                  if(dataSourceStore.getCount()==1){\\n                        dataSouTextArea.setValue(dataSourceStore.getAt(0).get('SQL_STRING'));\\n                  }else{\\n                        var s = 2;\\n                        for(var at=0;at<dataSourceStore.getCount();at++){\\n                          if(dataSourceStore.getAt(at).get('ATTRIBUTE1')=='1'){\\n                            dataSouTextArea.setValue(dataSourceStore.getAt(at).get('SQL_STRING'));\\n                          }else{\\n                             try{\\n                               document.getElementById('addDs').click();\\n                             }catch(e){\\n                             }\\n                             var string = \\\"dataSd\\\";\\n//                             if(dataSourceStore.getAt(at).get('ATTRIBUTE1')==string+s){\\n//                             }                              \\n                             Ext.getCmp(string+s).setValue(dataSourceStore.getAt(at).get('SQL_STRING'));\\n                             s++;\\n                          }\\n                      \\n                        }\\n//                         dataSouTextArea.setValue(dataSourceStore.getAt(0).get('SQL_STRING'));\\n//                         for(var p=1; p< dataSourceStore.getCount();p++){\\n//                           try{\\n//                             document.getElementById('addDs').click();\\n//                           }catch(e){\\n//                           }\\n//                             var string=\\\"dataSd\\\";\\n//                             var s=p+1;\\n//                             Ext.getCmp(string+s).setValue(dataSourceStore.getAt(p).get('SQL_STRING'));\\n//                         }\\n                  }\\n                }\\n});\\n\\nvar xt=record[0].get(record[0].get('X_AXIS_TYPE'));\\nvar yt=record[0].get(record[0].get('Y_AXIS_TYPE'));\\nvar legend_type= record[0].get(record[0].get('LEGEND_TYPE'));\\nif(xt==='CATEGORY'){\\n  X_AXIS_TYPE.setRawValue('类别类型');\\n}\\nif(xt==='VALUE'){\\n  X_AXIS_TYPE.setRawValue('数值类型');\\n}\\nif(xt==='TIME'){\\n  X_AXIS_TYPE.setRawValue('时间类型');\\n}\\nif(yt==='CATEGORY'){\\n  Y_AXIS_TYPE.setRawValue('类别类型');\\n}\\nif(yt==='VALUE'){\\n  Y_AXIS_TYPE.setRawValue('数值类型');\\n}\\nif(yt==='TIME'){\\n  Y_AXIS_TYPE.setRawValue('时间类型');\\n}\\nif(legend_type=='CUSTOM'){\\n  LEGEND_TYPE.setRawValue('自定义');\\n}\\nif(legend_type=='SQL'){\\n  LEGEND_TYPE.setRawValue('SQL');\\n}\\nnewTemplateWindow.setTitle('编辑模板');\\nnewTemplateWindow.show();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"deleteBtn\",\"text\":\"删除\",\"click\":\"var rows=Wb.getSelRec(templateGrid);\\nvar record=templateGrid.getSelectionModel().getSelection();\\nExt.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n    delete_template_ajax.request();\\n    \\n    }else{\\n      return false ;\\n    }\\n   \\n   });\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"type\":\"colorPicker\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"copy_icon\",\"id\":\"copyBtn\",\"text\":\"复制\",\"click\":\"var rows=Wb.getSelRec(templateGrid);\\nvar record=templateGrid.getSelectionModel().getSelection();\\nif(rows.length!==1){\\n  Wb.warning('请选择一条记录');\\n  return;\\n}\\ncopyCode.setValue(record[0].get('TMP_CODE'));\\ncopyName.setValue(record[0].get('TMP_NAME'));\\ncopyDesc.setValue(record[0].get('TMP_DESC'));\\ncopyWindow.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"dataSourceGridTbar\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addSourceBtn\",\"text\":\"增加\",\"click\":\"var e=dataSourceGrid.plugins[0],index=dataSourceStore.getCount()===0?0:dataSourceStore.getCount();\\ne.completeEdit();\\ndataSourceStore.insert(index,{});\\ne.startEditByPosition({row:index,column:2});\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"delete_icon\",\"id\":\"deleteSourceBtn\",\"text\":\"删除\",\"click\":\"var m=dataSourceGrid.getSelectionModel(),s=m.getSelection();\\nif(s.length===0){\\n  Ext.Msg.alert('提示','请选择要删除的数据来源SQL!');\\n  return false ;\\n}\\nExt.Msg.confirm('提示','确定要删除此数据吗？',function(a){\\n\\t  if(a=='yes'){\\n      var i=dataSourceStore.indexOf(s[0]);\\n      dataSourceStore.remove(s);\\n      var j = dataSourceStore.getCount() - 1;\\n      if (i > j)\\n         i = j;\\n      if (i > -1)\\n        m.select(i);\\n }});\"}]},{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"autoScroll\":\"true\",\"closeAction\":\"hide\",\"id\":\"newTemplateWindow\",\"title\":\"新增模板\",\"height\":\"550\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"700\",\"buttons\":\"newTemplateWindowBtn\",\"maximized\":\"true\",\"buttonAlign\":\"center\",\"beforeclose\":\"//关闭前清空SQL数据来源\\n// if(tmp_id2.getValue()!==null&&tmp_id2.getValue()!== ''){\\n//   try{\\n//   var record=templateGrid.getSelectionModel().getSelection();\\n//   if(record!==null&&record!==''){\\n//    if(record[0].get('CHART_SOURCE')!==null&&record[0].get('CHART_SOURCE')!==''){\\n//       var sql_string=record[0].get('CHART_SOURCE').split('&');\\n//       //alert(sql_string.length);\\n//       if(sql_string.length===1||sql_string.length===0){\\n//          dataSouTextArea.setValue('');\\n//       }else{\\n//       for(var p=1; p< sql_string.length;p++){\\n//          document.getElementById('deleteDS').click();\\n//        }\\n//       }\\n//    }\\n//   }\\n//   }catch(e){\\n//     var children=panel_dataSource.items;\\n//     for(var m = 1; m < children.length; m ++){\\n//       document.getElementById('deleteDS').click();\\n//     }\\n//   }\\n// }\\nvar children = panel_dataSource.items;\\n// for(var m = 1; m < children.length; m ++){\\n//   alert(m);\\n  \\n//   try{\\n//     document.getElementById('deleteDS').click();\\n//   }catch(e){\\n//   }\\n  \\n// }\\nfor(var m=1;m<100;m++){\\n  if(children.length!==1){\\n  document.getElementById('deleteDS').click();\\n  }else{\\n    return;\\n  }\\n}\\ndataSouTextArea.setValue('');\\n\\n\",\"close\":\"tmp_id2.setValue('');\\nts=0;\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"northPanel\",\"height\":\"250\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"templateDefForm\",\"height\":\"31\",\"style\":\"border-width:0px;\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr1\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>模板编码\",\"id\":\"TMP_CODE\",\"height\":\"30\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_2\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>模板名称\",\"id\":\"TMP_NAME\",\"height\":\"30\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_3\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"charTypeStore\",\"height\":\"30\",\"valueField\":\"CODE\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"<font color='red'>*<\\/font>图表类型\",\"id\":\"CHART_TYPE\",\"displayField\":\"NAME\",\"select\":\"templateDefGridStore.getProxy().url='main?xwl=23XF2T8HTGV0';\\nWb.load(templateDefGridStore,{chartTypeComboBox_:CHART_TYPE.getValue(),tmp_id:tmp_id2.getValue()});\\nts=0;\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_4\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>模板说明\",\"id\":\"TMP_DESC\",\"height\":\"30\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_5\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"图表数据源\",\"id\":\"TMP_CHART_SRC_ID\",\"height\":\"30\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"text\",\"id\":\"tmp_id2\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"sqls\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"NUM\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"form\",\"region\":\"south\",\"id\":\"temDeForm\",\"height\":\"150\",\"style\":\"border-width:0px;\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td1_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"pickList\":\"[['CATEGORY','类别类型'],['VALUE','数值类型']]\",\"fieldLabel\":\"<font color='red'>*<\\/font>X轴类型\",\"id\":\"X_AXIS_TYPE\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td1_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"pickList\":\"[['CATEGORY','类别类型'],['VALUE','数值类型']]\",\"fieldLabel\":\"<font color='red'>*<\\/font>Y轴类型\",\"id\":\"Y_AXIS_TYPE\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td2_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"X轴坐标来源\",\"id\":\"X_AXIS_DS\",\"height\":\"40\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td2_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"textArea\",\"fieldLabel\":\"Y轴坐标来源\",\"id\":\"Y_AXIS_DS\",\"height\":\"40\",\"width\":\"340\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_4\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td4_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"xNameComStore\",\"valueField\":\"COLUMN_NAME\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>X轴\",\"id\":\"X_AXIS\",\"displayField\":\"COLUMN_NAME\",\"beforequery\":\"if(Ext.isEmpty(dataSouTextArea.getValue())){\\n  Wb.warning('请填写数据来源');\\n  return false;\\n}else{\\n   xNameComStore.getProxy().extraParams.chartSql = dataSouTextArea.getValue();\\n   xNameComStore.getProxy().extraParams.chartSourceId = TMP_CHART_SRC_ID.getValue();\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr4_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"yNameComStore\",\"valueField\":\"COLUMN_NAME\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"fieldLabel\":\"<font color='red'>*<\\/font>Y轴\",\"id\":\"Y_AXIS\",\"displayField\":\"COLUMN_NAME\",\"beforequery\":\"if(Ext.isEmpty(dataSouTextArea.getValue())){\\n  Wb.warning('请填写数据来源');\\n  return false;\\n}else{\\n  yNameComStore.getProxy().extraParams.chartSql = dataSouTextArea.getValue();\\n  yNameComStore.getProxy().extraParams.chartSourceId = TMP_CHART_SRC_ID.getValue();\\n}\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_3\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td3_2\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"value\":\"CUSTOM\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"pickList\":\"[['CUSTOM','自定义'],['SQL','SQL']]\",\"fieldLabel\":\"<font color='red'>*<\\/font>图例类型\",\"id\":\"LEGEND_TYPE\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td3_1\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"textArea\",\"emptyText\":\"提示： 自定义类型，多个图例，请以\\\",\\\"分隔！SQL类型请填写SQL。\",\"fieldLabel\":\"<font color='red'>*<\\/font>图例\",\"id\":\"LEGEND\",\"height\":\"40\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]}]},{\"xwlMeta\":\"form\",\"region\":\"center\",\"autoScroll\":\"true\",\"id\":\"dataSourcePanel1\",\"height\":\"200\",\"style\":\"border-width:0px;\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_column\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_AddButton\",\"layout\":\"form\",\"columnWidth\":\".05\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addDs\",\"textAlign\":\"center\",\"text\":\"添加\",\"width\":\"30\",\"x\":\"109\",\"click\":\"if(Number(num) ===1 ){\\n  dataSouTextArea.setFieldLabel(\\\"<font color='red'>*<\\/font>\\\"+'数据来源1');\\n}\\nnum++;\\nvar textarea= new Ext.form.field.TextArea({\\n    id:'dataSd'+i,\\n    name:'dataSouTextArea1',\\n    fieldLabel:\\\"数据来源\\\"+num,\\n    labelAlign:'right',\\n    height:40\\n});\\nExt.getCmp('panel_dataSource').add(textarea);\\nif(num<5){\\n  northPanel.setHeight(250+42*(num-1));\\n}\\nif(num>4){\\n  dataSourcePanel1.setAutoScroll(true);\\n}\\ni++;\\nExt.getCmp('panel_dataSource').doLayout();\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_DeleteButton\",\"layout\":\"form\",\"columnWidth\":\".05\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"minus_icon\",\"id\":\"deleteDS\",\"textAlign\":\"center\",\"text\":\"删除\",\"width\":\"30\",\"x\":\"130\",\"click\":\"if(Number(num)==2){\\n  dataSouTextArea.setFieldLabel(\\\"<font color='red'>*<\\/font>\\\"+'数据来源');\\n}\\nif(Number(num)>=2){\\n  panel_dataSource.remove(num-1);\\n  i--;\\n  num--;\\n  if(num<5){\\n    northPanel.setHeight(250+42*(num-1));\\n    //northPanel.setHeight(northPanel.getHeight()-40);\\n  }\\n}else{\\n  Ext.Msg.alert(\\\"提示\\\",'没有可删除的数据来源！');\\n}\\n\\n\\n\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_column1\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_dataSource\",\"layout\":\"form\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"textArea\",\"emptyText\":\"提示：参数格式示例ID='${ID}'\",\"fieldLabel\":\"<font color='red'>*<\\/font>数据来源\",\"id\":\"dataSouTextArea\",\"height\":\"40\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]}]}]},{\"xwlMeta\":\"fieldSet\",\"region\":\"center\",\"collapsible\":\"true\",\"id\":\"attributeConFieldSet\",\"title\":\"属性配置\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"templateDefGridStore\",\"columns\":\"templateDefGridColumns\",\"height\":\"150\",\"featureType\":\"grouping\",\"pluginType\":\"cellediting\",\"id\":\"templateDefGrid\",\"viewConfig\":\"{ enableTextSelection:true}\",\"cellclick\":\"// var pro_val_type=record.get('PRO_VAL_TYPE');\\n// alert(pro_val_type);\\n// if(pro_val_type==='boolean'){\\n//   //Ext.getCmp('PRO_VAL').setEditor(attriValComboBox);\\n//   PRO_VAL_COL.setEditor(new Ext.form.ComboBox({\\n//     id:'1',\\n//     fieldLabel:'哈哈',\\n//     labelAlign:'right',\\n//     labelWidth:90\\n//   }));\\n//   alert(11);\\n// }\\n\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"attriValWinBoo\",\"height\":\"160\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"220\",\"buttons\":\"attriValWinBooBtn\",\"buttonAlign\":\"center\",\"beforeshow\":\"YNgridStore.load();\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"YNgridStore\",\"columns\":\"YNgridColumns\",\"height\":\"240\",\"pagingToolbar\":\"false\",\"width\":\"240\",\"region\":\"center\",\"id\":\"YNgrid\"}]},{\"xwlMeta\":\"window\",\"autoScroll\":\"true\",\"closeAction\":\"hide\",\"id\":\"attriValWinColor\",\"height\":\"150\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"240\",\"buttons\":\"attriValWinColorBtn\",\"buttonAlign\":\"center\",\"html\":\"<body id='htmlBody'>\\n  <table>\\n    <tr>\\n       <td> <input type='button' id='btn' value='添加' style=\\\"display:none;\\\" onclick='addColor()'/><\\/td>\\n       <td> <input type='button' id='dbtn' value='删除' style=\\\"display:none;\\\" onclick='deleteColor()'/><\\/td>\\n       <td> <input type='button' id='cbtn' value='清除'  onclick='clearColor()'/><\\/td>\\n    <\\/tr>\\n  <\\/table>\\n   <input type='color' id='colorT' style='width:200px' value=''/>\\n   <input type='color' id='colorT1' style='width:200px;display:none;' value=''/>\\n   <input type='color' id='colorT2' style='width:200px;display:none;' value=''/>\\n   <input type='color' id='colorT3' style='width:200px;display:none;' value=''/>\\n  <div id='ddiv'>\\n  <\\/div>\\n   <!-- <input type='button' value='确定' id='acceptColor'/> -->\\n<\\/body>\",\"beforeclose\":\" buttonHid();\\n var div = document.getElementById(\\\"ddiv\\\");\\n while(div.hasChildNodes()){\\n        div.removeChild(div.firstChild);\\n }\\n\\n\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"height\":\"240\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"240\",\"frame\":\"true\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"window\",\"autoScroll\":\"true\",\"closeAction\":\"hide\",\"id\":\"attriValWinComboBox\",\"height\":\"160\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"220\",\"buttons\":\"attriValWinComboBoxBtn\",\"buttonAlign\":\"center\",\"beforeshow\":\"YNgridStore.load();\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"center\",\"id\":\"proValForm\",\"height\":\"240\",\"border\":\"false\",\"width\":\"240\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"proValStore\",\"valueField\":\"name\",\"queryMode\":\"local\",\"id\":\"proValcomboBox\",\"displayField\":\"value\",\"tpl\":\"<tpl for=\\\".\\\">\\n        <div class=\\\"x-boundlist-item\\\" style=\\\"height:21px\\\">{value}<\\/div>\\n<\\/tpl>\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"copyWindow\",\"height\":\"200\",\"layout\":\"border\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"340\",\"buttons\":\"copyWindowBtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"center\",\"id\":\"copyForm\",\"height\":\"180\",\"border\":\"false\",\"bodyStyle\":\"border-width:0px;\",\"width\":\"340\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel2\",\"height\":\"20\",\"columnWidth\":\".5\",\"border\":\"false\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>模板编码\",\"id\":\"copyCode\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>模板名称\",\"id\":\"copyName\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>模板描述\",\"id\":\"copyDesc\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"id\":\"copyTmpId\",\"hidden\":\"true\"}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"TemplateQueryPanel\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"templateQueryForm\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"模板编码\",\"id\":\"templateCode\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tWb.load(templateGridStore);\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"模板名称\",\"id\":\"templateName\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tWb.load(templateGridStore);\\n}\"},{\"xwlMeta\":\"comboBox\",\"store\":\"charTypeStore\",\"valueField\":\"CODE\",\"labelAlign\":\"right\",\"fieldLabel\":\"图表类型\",\"id\":\"chartTypeComboBox\",\"displayField\":\"NAME\",\"focus\":\"/*\\n     Ext.onReady( function() {  \\n            var colorShowId = '';  \\n            var colorWin = new Ext.Window( {  \\n                border :0,  \\n                frame:false,  \\n                closeAction :'hide',  \\n                closable :false,  \\n                resizable :false,  \\n                width :90,  \\n                height :80,  \\n                items : [   \\n                          {  \\n                              xtype:'colorpicker',  \\n                              listeners: {  \\n                                    select: function(picker, selColor) {  \\n                                          var color = '#' + selColor;  \\n                                        // alert(colorShowId+','+color); \\n                                          chartTypeComboBox.setRawValue(color);\\n                                            Ext.getDom(colorShowId).style.background = color;  \\n                                            colorWin.hide();   \\n                                    }  \\n                                }  \\n                          }  \\n                 ]  \\n            }) ;  \\n            function showColor(id) {  \\n                colorShowId = id;  \\n                var colorText = Ext.getCmp(id);  \\n                colorWin.x = colorText.getPosition()[0] + colorText.getWidth();  \\n                colorWin.y = colorText.getPosition()[1];  \\n                colorWin.show();  \\n            }  \\n               \\n            var form = Ext.create('Ext.form.Panel',{   \\n                width:50,  \\n                buttons: [{  \\n                    text: '',  \\n                    id:'bb',  \\n                    style:'background:red',  \\n                    handler: function(btn) {  \\n                        showColor('bb');  \\n                    }  \\n                } ],  \\n                renderTo:Ext.getBody()  \\n            });   \\n               \\n        });\\n*/\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tWb.load(templateGridStore);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"click\":\"Wb.load(templateGridStore);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"click\":\"templateQueryForm.form.reset();\\nWb.load(templateGridStore);\\na();\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"templateGridStore\",\"columns\":\"templateGridColumns\",\"region\":\"center\",\"id\":\"templateGrid\",\"tbar\":\"templateGridTbar\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\n  enableTextSelection:true\\n}\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}","图表模板定义",null,0,0,"admin","2015-07-09 14:04:46.0","23XQ4UO678F5","2015-09-23 10:29:09.0",1],["23XF2T8HTFXK","23XF2T8HTFXF",null,"DATA",null,1,0,"admin","2015-07-09 14:04:58.0","23XSWLY0BYLW","2015-08-25 10:28:14.0",8],["23XF2T8HTGIY","23XF2T8HTFXK","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectTemplate\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select TMP_ID,\\n       TMP_CODE,\\n       TMP_NAME,\\n       CHART_TYPE CT,\\n      (select X1.VAL_NAME FROM  xip_pub_val_set_dtl X1\\n       where X1.VAL_SET_CODE='XIP_CHART_TYPE_VS' and X1.VAL_CODE=CHART_TYPE) CHART_TYPE,\\n       TMP_DESC,\\n       LEGEND,\\n       LEGEND_TYPE,\\n       TMP_CHART_SRC_ID,\\n       X_AXIS_TYPE,\\n       Y_AXIS_TYPE,\\n       X_AXIS,\\n       Y_AXIS,\\n       X_AXIS_DS,\\n       Y_AXIS_DS\\n from xip_pub_chart_tmp t\\nwhere TMP_CODE like '%{#templateCode#}%' and TMP_NAME like '%{#templateName#}%' \\n      and CHART_TYPE like '%{#chartTypeComboBox#}%' \"}]}","selectTemplate",null,0,0,"admin","2015-07-10 17:02:17.0","23XQ4UO678F5","2015-08-17 15:44:31.0",5],["23XF2T8HTGM3","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"selectChartType\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select VAL_CODE CODE,\\n       VAL_NAME NAME \\nFROM  xip_pub_val_set_dtl\\nwhere VAL_SET_CODE='XIP_CHART_TYPE_VS' and ENABLE_FLAG='Y'\\n\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectChartType",null,0,0,"admin","2015-07-13 10:29:54.0","admin","2015-07-13 13:10:56.0",4],["23XF2T8HTGQD","23XF2T8HTFXK","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectDataSource\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select DS_ID,\\n       SQL_STRING,\\n       ATTRIBUTE1\\nfrom xip_pub_chart_tmp_ds \\nwhere TMP_ID = {?TMP_ID?}  order by  to_number(ATTRIBUTE1) ASC\",\"id\":\"sqlSwitcher1\",\"mysql\":\"select DS_ID,\\n       SQL_STRING,\\n       ATTRIBUTE1\\nfrom xip_pub_chart_tmp_ds \\nwhere TMP_ID = {?TMP_ID?}  order by  CAST(ATTRIBUTE1 AS UNSIGNED)   ASC\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","selectDataSource",null,0,0,"admin","2015-07-13 11:24:24.0","23XQ4UO678F5","2015-08-31 11:35:21.0",6],["23XF2T8HTGV0","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"selectTemDefAttr\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\" select * from(select * from (\\n  select t1.*\\n  from xip_pub_chart_properties t1\\n  where t1.ENABLE='Y' and (t1.PRO_TYPE='PUBLIC' or t1.PRO_TYPE={?chartTypeComboBox_?})\\n  order by SEQ\\n) t  left join (select x1.TMP_DTL_ID,\\n                      x1.PRO_ID PID,\\n                      x1.PRO_VAL_DISPLAY,\\n                      x1.PRO_VAL PRO_VAL2\\n               FROM xip_pub_chart_tmp_dtl x1 where x1.TMP_ID={?tmp_id?}) x on t.PRO_ID=x.PID\\n)p order by  to_number(p.SEQ)  ASC \",\"mysql\":\" select * from(select * from (\\n  select t1.*\\n  from xip_pub_chart_properties t1\\n  where t1.ENABLE='Y' and (t1.PRO_TYPE='PUBLIC' or t1.PRO_TYPE={?chartTypeComboBox_?})\\n  order by SEQ\\n) t  left join (select x1.TMP_DTL_ID,\\n                      x1.PRO_ID PID,\\n                      x1.PRO_VAL_DISPLAY,\\n                      x1.PRO_VAL PRO_VAL2\\n               FROM xip_pub_chart_tmp_dtl x1 where x1.TMP_ID={?tmp_id?}) x on t.PRO_ID=x.PID\\n)p order by  CAST(p.SEQ AS UNSIGNED)  ASC \"},{\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectTemDefAttr",null,0,0,"admin","2015-07-13 13:57:21.0","admin","2015-07-24 09:37:36.0",8],["23XF2T8HTH7A","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"SELECT_NONE\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select * from (\\n  select * from (\\n  select t1.*\\n  from xip_pub_chart_properties t1\\n  where t1.ENABLE='Y' and (t1.PRO_TYPE='PUBLIC' or t1.PRO_TYPE={?chartTypeComboBox_?})\\n  order by SEQ\\n) t left join (select x1.PRO_ID PID,\\n                      x1.PRO_VAL_DISPLAY,\\n                      x1.PRO_VAL PRO_VAL2\\n               FROM xip_pub_chart_tmp_dtl x1 where x1.TMP_ID={?tmp_id?}) x on t.PRO_ID=x.PID\\n)p where 1=0\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","SELECT_NONE",null,0,0,"admin","2015-07-13 14:30:55.0","admin","2015-07-23 09:32:45.0",7],["23XF2T8HTLSQ","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"selectYN\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select VAL_CODE,\\n       VAL_NAME\\nfrom xip_pub_val_set_dtl \\nwhere VAL_SET_CODE='YN'\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectYN",null,0,0,"admin","2015-07-16 10:56:58.0","admin","2015-07-16 11:00:57.0",9],["23XF2T8HTRCD","23XF2T8HTFXK","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insertTemplate\",\"loginRequired\":\"false\",\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"TMP_ID\\\",NEW_UUID);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"isExist\",\"sql\":\"select count(1) as \\\"B\\\" from xip_pub_chart_tmp x where x.TMP_CODE={?TMP_CODE?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"error\",\"message\":\"模板编码已存在\",\"name\":\"isExist.B\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_pub_chart_tmp(\\n    TMP_ID,  \\n    TMP_CODE,\\n    TMP_NAME,\\n    TMP_DESC,\\n    CHART_TYPE,\\n    X_AXIS_TYPE,\\n    Y_AXIS_TYPE,\\n    X_AXIS,\\n    Y_AXIS,\\n    X_AXIS_DS,\\n    Y_AXIS_DS,\\n    LEGEND,\\n    LEGEND_TYPE,\\n    TMP_CHART_SRC_ID,\\n    CREATION_DATE,\\n    CREATED_BY,\\n    LAST_UPDATE_DATE,\\n    LAST_UPDATED_BY \\n   )\\nvalues(\\n   '{#TMP_ID#}',\\n   {?TMP_CODE?},\\n   {?TMP_NAME?},\\n   {?TMP_DESC?},\\n   {?CHART_TYPE?},\\n   {?X_AXIS_TYPE?},\\n   {?Y_AXIS_TYPE?},\\n   {?X_AXIS?},\\n   {?Y_AXIS?},\\n   {?X_AXIS_DS?},\\n   {?Y_AXIS_DS?},\\n   {?LEGEND?},\\n   {?LEGEND_TYPE?},\\n   {?TMP_CHART_SRC_ID?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?}  \\n)\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{k:'{#TMP_ID#}'}\"}]}","insertTemplate",null,0,0,"admin","2015-07-20 16:48:27.0","23XQ4UO678F5","2015-08-17 15:42:59.0",2],["23XFEC09KKFX","23VVZ3QMOKQA",null,"图表属性定义",null,0,0,"admin","2015-07-08 15:19:31.0","23XSWLY0BYLW","2015-08-25 10:45:59.0",33],["23XFEC09KKFY","23XFEC09KKFX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"平台图表属性定义\",\"jsFiles\":\"[\\\"pub/uip/common/extendjs/RowExpander.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"initialize\":\"var curIndex = 0;\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"chartTypeStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23XFEC09KKKZ (chartTypeStore)\"},{\"xwlMeta\":\"store\",\"id\":\"chartTypeColumnStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23XFEC09KKKZ (chartTypeStore)\"},{\"xwlMeta\":\"store\",\"id\":\"chartProValColumnStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23XFMPZL3JRO (chartProValueStore)\"},{\"xwlMeta\":\"store\",\"id\":\"chartProGroupColumnStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23XFMPZL3JS4 (chartProGroupStore)\"},{\"xwlMeta\":\"store\",\"id\":\"chartGridStore\",\"proxy\":\"{\\ntype:\\\"ajax\\\",\\napi: {\\nread:'main?xwl=23XFEC09KKMB',\\nupdate: 'main?xwl=23XFMPZL3K7P',\\ncreate: 'main?xwl=23XFMPZL3K7V',\\ndestroy: 'main?xwl=23XFMPZL3K7Y'\\n},\\nreader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\nlisteners:{\\nexception:function(proxy,response,operation,options){\\nWb.except(response.responseText);\\n}\\n}\\n}\",\"pageSize\":\"-1\",\"tagEvents\":\"beforesync:function(){Wb.mask();}\",\"beforeload\":\"var whereSql='and 1=1';\\nif(!Ext.isEmpty(chartType.getValue())){\\n  whereSql += ' and a.pro_type=\\\\''+chartType.getValue()+'\\\\'';\\n}\\nif(!Ext.isEmpty(attrCode.getValue())){\\n  whereSql += ' and a.pro_code like \\\\'%'+attrCode.getValue()+'%\\\\'';\\n}\\n\\nstore.getProxy().extraParams.WHERESQL = whereSql;\"}]},{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"{#contextPath#}/coreJoin.do\",\"id\":\"testAjax\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columnEditors\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"chartTypeColumnStore\",\"autoCreate\":\"false\",\"valueField\":\"VAL_CODE\",\"width\":\"100\",\"editable\":\"false\",\"id\":\"chartTypeColumn\",\"displayField\":\"VAL_NAME\",\"select\":\"var r = chartGridStore.getAt(curIndex);\\ncomboBox.setValue(records[0].get('VAL_NAME'));\\nr.set('PRO_TYPE',records[0].get('VAL_CODE'));\\nr.set('PRO_TYPE_NAME',records[0].get('VAL_NAME'));\\n\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"chartCodeColumn\",\"width\":\"150\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"chartNameColumn\",\"width\":\"200\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"chartDescColumn\",\"width\":\"300\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"chartValResource\",\"width\":\"220\"},{\"xwlMeta\":\"comboBox\",\"store\":\"chartProValColumnStore\",\"autoCreate\":\"false\",\"valueField\":\"VAL_CODE\",\"width\":\"120\",\"editable\":\"false\",\"id\":\"chartProValueColumn\",\"displayField\":\"VAL_NAME\",\"select\":\"var r = chartGridStore.getAt(curIndex);\\ncomboBox.setValue(records[0].get('VAL_NAME'));\\nr.set('PRO_VAL_TYPE',records[0].get('VAL_CODE'));\\nr.set('PRO_VAL_TYPE_NAME',records[0].get('VAL_NAME'));\"},{\"xwlMeta\":\"comboBox\",\"store\":\"chartProGroupColumnStore\",\"autoCreate\":\"false\",\"valueField\":\"VAL_CODE\",\"width\":\"150\",\"editable\":\"false\",\"id\":\"chartProGroupColumn\",\"displayField\":\"VAL_NAME\",\"select\":\"var r = chartGridStore.getAt(curIndex);\\ncomboBox.setValue(records[0].get('VAL_NAME'));\\nr.set('PRO_GROUP',records[0].get('VAL_CODE'));\\nr.set('PRO_GROUP_NAME',records[0].get('VAL_NAME'));\"},{\"xwlMeta\":\"comboBox\",\"autoCreate\":\"false\",\"value\":\"Y\",\"width\":\"40\",\"editable\":\"false\",\"pickList\":\"[['Y','是'],['N','否']]\",\"id\":\"chartEnableColumn\"},{\"xwlMeta\":\"number\",\"minValue\":\"0\",\"autoCreate\":\"false\",\"id\":\"chartSeqColumn\",\"value\":\"0\",\"width\":\"40\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"chartGridColumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownumber\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_ID\",\"id\":\"PRO_ID\",\"editor\":\"chartTypeColumn\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_TYPE_NAME\",\"id\":\"PRO_TYPE_NAME\",\"text\":\"<font color='red'>*<\\/font>图表类型\",\"width\":\"100\",\"editor\":\"chartTypeColumn\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_TYPE\",\"id\":\"PRO_TYPE\",\"text\":\"PRO_TYPE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_CODE\",\"id\":\"PRO_CODE\",\"text\":\"<font color='red'>*<\\/font>属性编码\",\"width\":\"150\",\"editor\":\"chartCodeColumn\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_NAME\",\"id\":\"PRO_NAME\",\"text\":\"<font color='red'>*<\\/font>属性名称\",\"width\":\"200\",\"editor\":\"chartNameColumn\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_DESC\",\"id\":\"PRO_DESC\",\"renderer\":\"metaData.tdAttr = 'data-qtip=\\\"'+value+'\\\"';\\nreturn value; \",\"text\":\"属性描述\",\"width\":\"300\",\"editor\":\"chartDescColumn\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_VAL_TYPE_NAME\",\"id\":\"PRO_VAL_TYPE_NAME\",\"text\":\"<font color='red'>*<\\/font>属性值类型\",\"width\":\"120\",\"editor\":\"chartProValueColumn\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_VAL_TYPE\",\"id\":\"PRO_VAL_TYPE\",\"text\":\"PRO_VAL_TYPE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_VAL\",\"id\":\"PRO_VAL\",\"text\":\"属性值来源\",\"width\":\"200\",\"editor\":\"chartValResource\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_GROUP_NAME\",\"id\":\"PRO_GROUP_NAME\",\"text\":\"<font color='red'>*<\\/font>属性分组\",\"width\":\"130\",\"editor\":\"chartProGroupColumn\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"PRO_GROUP\",\"id\":\"PRO_GROUP\",\"text\":\"PRO_GROUP\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SEQ\",\"id\":\"SEQ\",\"text\":\"排序\",\"width\":\"40\",\"editor\":\"chartSeqColumn\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ENABLE\",\"id\":\"ENABLE\",\"renderer\":\"if(value ==='Y'){\\n  return '是';\\n}else{\\n  return '否';\\n}\",\"text\":\"是否启用\",\"width\":\"70\",\"editor\":\"chartEnableColumn\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"autoScroll\":\"true\",\"closeAction\":\"hide\",\"id\":\"previewWin\",\"title\":\"请输入参数值\",\"height\":\"600\",\"layout\":\"border\",\"modal\":\"true\",\"width\":\"900\",\"maximized\":\"true\",\"beforeclose\":\"previewPanel.removeAll();\",\"clickOK\":\"var _moudleId = moudleId.getValue();\\nif(Ext.isEmpty(_moudleId)){\\n  Wb.warning('请输入模板ID');\\n  return false;\\n}\\nvar url = './platformChartAction.do?method=generateChart&chartMoudleId='+_moudleId;\\nwindow.open(url);\\n//previewWin.close();\\ndocument.getElementById(\\\"x1\\\").src=url;\\n\",\"beforehide\":\"previewPanel.removeAll();\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-boder\",\"padding\":\"10px 40px 0px 0px\",\"id\":\"previewPanel\",\"height\":\"30\",\"layout\":\"fit\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"false\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"模板ID\",\"id\":\"moudleId\",\"width\":\"250\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"模板ID2\",\"id\":\"xx\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-boder\",\"padding\":\"10px 40px 0px 0px\",\"id\":\"previewPanel1\",\"height\":\"500\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"false\",\"html\":\"<iframe id=\\\"x1\\\" src=\\\"\\\" style=\\\"height:100%;width:100%\\\" scrolling=\\\"yes\\\"><\\/iframe>\\n\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"chartGridBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addProperty\",\"text\":\"添加属性\",\"click\":\"e.completeEdit();\\nvar e=chartGrid.plugins[0];\\nvar index=chartGridStore.getCount();\\ne.completeEdit();\\nchartGridStore.insert(index,{});\\nvar newKey = Wb.getUuid();\\nchartGridStore.getAt(index).set('PRO_ID',newKey);\\ne.startEditByPosition({row:index,column:2});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveProperty\",\"text\":\"保存属性\",\"click\":\"chartGrid.plugins[0].completeEdit();\\nchartGridStore.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n      Wb.message('数据保存成功！');\\n    }\\n  });\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"minus_icon\",\"id\":\"delProperty\",\"text\":\"删除属性\",\"click\":\"var m=chartGrid.getSelectionModel(),s=m.getSelection(),i,j;\\nif(s.length===0)\\n  return;\\nchartGrid.plugins[0].completeEdit();\\ni=chartGridStore.indexOf(s[0]);\\nchartGridStore.remove(s);\\nj = chartGridStore.getCount() - 1;\\nif (i > j)\\n  i = j;\\nif (i > -1)\\n  m.select(i);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"height\":\"'14%'\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"querySet\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"layout\":\"form\",\"columnWidth\":\".25\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"chartTypeStore\",\"valueField\":\"VAL_CODE\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"图表类型\",\"id\":\"chartType\",\"queryLike\":\"true\",\"displayField\":\"VAL_NAME\",\"labelWidth\":\"70\",\"select\":\"queryBtn.fireEvent('click');\",\"specialkey\":\"if(event.getKey()===event.ENTER){\\n  Wb.load(chartTypeStore);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel4\",\"layout\":\"form\",\"columnWidth\":\".2\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"属性编码\",\"id\":\"attrCode\",\"labelWidth\":\"70\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() === event.ENTER){\\n  Wb.load(chartGridStore);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"padding\":\"0px 5px 0px 3px\",\"id\":\"panel2\",\"layout\":\"form\",\"columnWidth\":\".05\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"y\":\"2\",\"click\":\"Wb.load(chartGridStore);\\n\\n\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel3\",\"layout\":\"form\",\"columnWidth\":\".05\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"y\":\"2\",\"click\":\"queryForm.getForm().reset();\\nWb.load(chartGridStore);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"chartGridStore\",\"columns\":\"chartGridColumn\",\"pagingToolbar\":\"false\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"chartGrid\",\"tbar\":\"chartGridBar\",\"selType\":\"checkboxmodel\",\"cellclick\":\"curIndex = rowIndex;\"}]}]}","图表属性定义",null,0,0,"admin","2015-07-08 15:19:42.0","23XQ4B4KHDBQ","2015-09-18 14:52:55.0",1],["23XFEC09KKKY","23XFEC09KKFX",null,"data",null,1,0,"admin","2015-07-08 17:23:35.0","23XSWLY0BYLW","2015-08-25 10:28:05.0",2],["23XFEC09KKKZ","23XFEC09KKKY","{\"id\":\"module\",\"title\":\"chartTypeStore\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select VAL_CODE,VAL_NAME from xip_pub_val_set_dtl a where a.VAL_SET_CODE='XIP_CHART_TYPE_VS' and a.ENABLE_FLAG='Y'\\nunion \\nselect 'PUBLIC' AS \\\"VAL_CODE\\\",'公共属性' AS \\\"VAL_NAME\\\" from dual\",\"mysql\":\"select VAL_CODE,VAL_NAME from xip_pub_val_set_dtl a where a.VAL_SET_CODE='XIP_CHART_TYPE_VS' and a.ENABLE_FLAG='Y'\\nunion \\nselect 'PUBLIC' AS \\\"VAL_CODE\\\",'公共属性' AS \\\"VAL_NAME\\\" \"},{\"id\":\"chartTypeStore\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","chartTypeStore",null,0,0,"admin","2015-07-08 17:24:06.0","admin","2015-07-09 15:51:24.0",1],["23XFEC09KKMB","23XFEC09KKKY","{\"id\":\"module\",\"title\":\"chartTypeStore\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher1\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select a.*,\\nCASE WHEN (SELECT val_name FROM xip_pub_val_set_dtl t WHERE t.val_set_code='XIP_CHART_TYPE_VS' AND t.val_code=a.pro_type) IS NULL THEN '公共属性'\\nELSE\\n(SELECT val_name FROM xip_pub_val_set_dtl t WHERE t.val_set_code='XIP_CHART_TYPE_VS' AND t.val_code=a.pro_type) \\nEND AS \\\"PRO_TYPE_NAME\\\",\\n(SELECT val_name FROM xip_pub_val_set_dtl t WHERE t.val_set_code='XIP_CHART_ATTR_TYPE_VS' AND t.val_code=a.pro_val_type) AS \\\"PRO_VAL_TYPE_NAME\\\",\\n(SELECT val_name FROM xip_pub_val_set_dtl t WHERE t.val_set_code='XIP_CHART_GROUP_VS' AND t.val_code=a.pro_group) AS \\\"PRO_GROUP_NAME\\\"\\nfrom xip_pub_chart_properties a\\nwhere 1=1 {#WHERESQL#}\\nORDER BY to_number(a.SEQ)  ASC \",\"mysql\":\"select a.*,\\nCASE WHEN (SELECT val_name FROM xip_pub_val_set_dtl t WHERE t.val_set_code='XIP_CHART_TYPE_VS' AND t.val_code=a.pro_type) IS NULL THEN '公共属性'\\nELSE\\n(SELECT val_name FROM xip_pub_val_set_dtl t WHERE t.val_set_code='XIP_CHART_TYPE_VS' AND t.val_code=a.pro_type) \\nEND AS \\\"PRO_TYPE_NAME\\\",\\n(SELECT val_name FROM xip_pub_val_set_dtl t WHERE t.val_set_code='XIP_CHART_ATTR_TYPE_VS' AND t.val_code=a.pro_val_type) AS \\\"PRO_VAL_TYPE_NAME\\\",\\n(SELECT val_name FROM xip_pub_val_set_dtl t WHERE t.val_set_code='XIP_CHART_GROUP_VS' AND t.val_code=a.pro_group) AS \\\"PRO_GROUP_NAME\\\"\\nfrom xip_pub_chart_properties a\\nwhere 1=1 {#WHERESQL#}\\nORDER BY CAST(a.SEQ AS UNSIGNED)  ASC \"},{\"id\":\"chartTypeStore\",\"sqlSwitcher\":\"sqlSwitcher1\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","chartGridStore",null,0,0,"admin","2015-07-08 17:54:51.0","admin","2015-08-11 15:34:28.0",2],["23XFMPZL3JRO","23XFEC09KKKY","{\"id\":\"module\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VAL_CODE,VAL_NAME FROM xip_pub_val_set_dtl a WHERE a.VAL_SET_CODE='XIP_CHART_ATTR_TYPE_VS' AND a.ENABLE_FLAG='Y'\",\"mysql\":\"SELECT VAL_CODE,VAL_NAME FROM xip_pub_val_set_dtl a WHERE a.VAL_SET_CODE='XIP_CHART_ATTR_TYPE_VS' AND a.ENABLE_FLAG='Y'\"},{\"id\":\"chartProValueStore\",\"sqlSwitcher\":\"sqlSwitcher\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","chartProValueStore",null,0,0,"admin","2015-07-09 11:16:31.0","admin","2015-08-11 15:34:11.0",6],["23XFMPZL3JS4","23XFEC09KKKY","{\"id\":\"module\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"sqlSwitcher\",\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VAL_CODE,VAL_NAME FROM xip_pub_val_set_dtl a WHERE a.VAL_SET_CODE='XIP_CHART_GROUP_VS' AND a.ENABLE_FLAG='Y'\",\"mysql\":\"SELECT VAL_CODE,VAL_NAME FROM xip_pub_val_set_dtl a WHERE a.VAL_SET_CODE='XIP_CHART_GROUP_VS' AND a.ENABLE_FLAG='Y'\"},{\"id\":\"chartProGroupStore\",\"sqlSwitcher\":\"sqlSwitcher\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","chartProGroupStore",null,0,0,"admin","2015-07-09 11:19:04.0","admin","2015-07-09 11:20:01.0",7],["23XFMPZL3K7P","23XFEC09KKKY","{\"id\":\"module\",\"title\":\"update\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"UPDATE xip_pub_chart_properties t \\nSET\\n  t.SEQ = {?SEQ?},\\n  t.PRO_VAL_TYPE = {?PRO_VAL_TYPE?},\\n  t.PRO_VAL = {?PRO_VAL?},\\n  t.PRO_TYPE = {?PRO_TYPE?},\\n  t.PRO_NAME = {?PRO_NAME?},\\n  t.PRO_GROUP = {?PRO_GROUP?},\\n  t.PRO_DESC = {?PRO_DESC?},\\n  t.PRO_CODE = {?PRO_CODE?},\\n  t.CREATED_BY ={?XIP.userId?},\\n  t.CREATION_DATE ={?timestamp.sys.date?},\\n  t.LAST_UPDATED_BY ={?XIP.userId?},\\n  t.LAST_UPDATE_DATE ={?timestamp.sys.date?},\\n  t.ENABLE =  {?ENABLE?}\\nWHERE t.PRO_ID = {?PRO_ID?} \",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\"}","update",null,0,0,"admin","2015-07-09 15:00:11.0","admin","2015-07-09 16:37:49.0",4],["23XFMPZL3K7V","23XFEC09KKKY","{\"id\":\"module\",\"title\":\"create\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_pub_chart_properties(\\nPRO_ID,            \\nPRO_TYPE,          \\nPRO_CODE,          \\nPRO_NAME,          \\nPRO_DESC,          \\nPRO_VAL_TYPE,      \\nPRO_VAL,           \\nPRO_GROUP,         \\nSEQ,                 \\nCREATION_DATE,     \\nCREATED_BY,        \\nLAST_UPDATE_DATE,  \\nLAST_UPDATED_BY,\\nENABLE\\n)values(\\n  {?PRO_ID?},\\n  {?PRO_TYPE?},\\n  {?PRO_CODE?},\\n  {?PRO_NAME?},\\n  {?PRO_DESC?},\\n  {?PRO_VAL_TYPE?},\\n  {?PRO_VAL?},\\n  {?PRO_GROUP?},\\n  {?SEQ?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?ENABLE?}\\n)\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"},{\"id\":\"response1\",\"xwlMeta\":\"response\",\"object\":\"returns\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('returns',result);\\nrequest.setAttribute('rows',result);\\n\"}","create",null,0,0,"admin","2015-07-09 15:07:43.0","admin","2015-07-09 16:37:30.0",3],["23XFMPZL3K7Y","23XFEC09KKKY","{\"id\":\"module\",\"title\":\"destroy\",\"xwlMeta\":\"module\",\"createBody\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_chart_properties where PRO_ID={?PRO_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"rows\"}],\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';//to Array\\nrequest.setAttribute('rows', result);\",\"loginRequired\":\"false\",\"initialize\":\"delete from WB_CUST where CUST_ID={?id?}\"}","destroy",null,0,0,"admin","2015-07-09 15:08:08.0","admin","2015-07-09 17:23:27.0",5],["23XFORRAEBK4","23VKVPUL8420","{\"id\":\"module\",\"title\":\"Select UserComment\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select t.USER_ID ID,t.USER_COMMENT NAME from xip_wf_user_comment t where t.USER_ID = {?XIP.userId?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Select UserComment",null,0,0,"admin","2015-07-09 14:48:31.0","admin","2015-07-10 10:46:42.0",8],["23XFORRAECHA","23VKVPUL8420","{\"id\":\"module\",\"title\":\"Insert UserComment\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"chkUC\",\"sql\":\"select count(1) as \\\"V\\\" from xip_wf_user_comment t where t.USER_ID = {?XIP.userId?} and t.USER_COMMENT = {?textArea?}\",\"xwlMeta\":\"query\",\"loadData\":\"true\"},{\"message\":\"[\\\"此快速意见已存在！\\\"]\",\"id\":\"commentExists\",\"xwlMeta\":\"except\",\"name\":\"chkUC.V\",\"value\":\"0\",\"comparator\":\">\"},{\"id\":\"addUserComment\",\"sql\":\"insert into xip_wf_user_comment\\n  (user_id,\\n   user_comment,\\n   creation_date,\\n   created_by)\\nvalues\\n  ({?XIP.userId?},\\n   {?textArea?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?})\",\"transaction\":\"start\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Insert UserComment",null,0,0,"admin","2015-07-09 17:28:25.0","admin","2015-07-10 09:26:11.0",9],["23XFY10AML5B","23VKVPUL8420","{\"id\":\"module\",\"title\":\"Delete UserComment\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"deleteUC\",\"sql\":\"delete from xip_wf_user_comment where user_id = {?XIP.userId?} and user_comment = {?name?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","Delete UserComment",null,0,0,"admin","2015-07-10 10:22:17.0","admin","2015-07-10 10:24:13.0",10],["23XI5TIL5BHK","23VVZ3QMOKQA",null,"平台图表展示界面",null,1,0,"admin","2015-07-20 09:29:51.0","23XSWLY0BYLW","2015-08-25 10:36:43.0",42],["23XI5TIL5BHP","23XI5TIL5BHK","{\"id\":\"module\",\"title\":\"平台图标展示界面\",\"xwlMeta\":\"module\",\"jsFiles\":\"[\\\"pub/uip/common/echarts/echarts-all.js\\\"]\",\"children\":[{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"panel1\",\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"html\":\"<div id ='platFormChart'  style=\\\"height:83%;width:100%;\\\"><\\/div>\\n<div class=\\\"footer\\\">\\n  <div align=\\\"center\\\" style=\\\"height:5px\\\"><font size='3'>{#errorMessage#}<\\/font><\\/div>\\n  <div class=\\\"info\\\">\\n    <font color='red'>切换主题<\\/font>：\\n                <select style=\\\"height:24px;\\\" name=\\\"theme-select\\\" onchange=\\\"changeThema(this.value)\\\">\\n                    <option name='infographic' value='infographic'>图表<\\/option>\\n                    <option selected=\\\"true\\\"  name='macarons' value='macarons'>马卡龙<\\/option>\\n                    <option name='shine' value='shine'>闪耀<\\/option>\\n                    <option name='dark' value='dark'>主题黑<\\/option>\\n                    <option name='blue' value='blue'>主题蓝<\\/option>\\n                    <option name='green' value='green'>主题绿<\\/option>\\n                    <option name='red' value='red'>主题红<\\/option>\\n                    <option name='gray' value='gray'>主题灰<\\/option>\\n                    <option name=\\\"helianthus\\\" value='helianthus'>向日葵<\\/option>\\n                    <option name=\\\"roma\\\" value=\\\"roma\\\">罗马<\\/option>\\n                    <option name=\\\"mint\\\" value='mint'>薄荷<\\/option>\\n                    <option name=\\\"macarons2\\\" value='macarons2'>马卡龙2<\\/option>\\n                    <option name=\\\"sakura\\\" value='sakura'>樱花<\\/option>\\n                    <option name='default' value='macarons'>默认<\\/option>\\n                <\\/select>\\n    &nbsp; &nbsp; &nbsp; &nbsp;\\n    个性化开发请参考官网：\\n    <a href=\\\"http://echarts.baidu.com/doc/example.html\\\" target=\\\"_blank\\\">ECharts地址<\\/a>\\n  <\\/div>\\n<\\/div>\\n\\n\",\"border\":\"false\"}]}],\"finalize\":\"var myChart = echarts.init(document.getElementById('platFormChart'));\\nmyChart.setTheme('macarons');\\nvar option ={#chartOption#};            \\nmyChart.setOption(option);\\nglobelChart = myChart;\\n//echart事件交互，设置公共的js接口，自定义主键字段，返回到也页面，通过调用指定的js方法实现图表的穿透\\n\\n// function eConsole(param) {\\n//     var xh = Number(param.dataIndex)+1;\\n//     alert('你点击了序号为：'+xh+'的数据域，名称是：'+param.name+',值是：'+param.value);\\n// }\\n// myChart.on('dblclick', eConsole);\\nvar chartMoudleId = '{#chartMoudleId#}';\\nif(chartMoudleId === '1003'){\\nvar lastIndex = 5;\\nvar axisData;\\nclearInterval(timeTicket);\\ntimeTicket = setInterval(function (){\\n    lastIndex += 1;\\n    myChart.addData([\\n        [\\n            0,        // 系列索引\\n            {         // 新增数据\\n                name: '随机部门'+lastIndex,\\n                value: Math.round(Math.random()*10)\\n            }, \\n            false,     // 新增数据是否从队列头部插入\\n            false,     // 是否增加队列长度，false则自定删除原有数据，队头插入删队尾，队尾插入删队头\\n            '随机部门'+lastIndex\\n        ]\\n    ]);\\n}, 3000);             \\n             \\n}\\n\\n\\n\\n\\n\\n\\n\\n                    \",\"initScript\":\"var chartOption = request.getAttribute(\\\"chartOption\\\");\\nvar errorMessage = request.getAttribute(\\\"errorMessage\\\");\\nvar chartMoudleId = request.getAttribute(\\\"chartMoudleId\\\");\\nvar ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"chartOption\\\",chartOption);\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nrequest.setAttribute(\\\"errorMessage\\\",errorMessage);\\nrequest.setAttribute(\\\"chartMoudleId\\\",chartMoudleId);\\nWb.print(request,chartOption);\\n\",\"loginRequired\":\"false\",\"head\":\"<style type='text/css'>\\n*{ margin:0} html,body{ height:100%} \\n.wrapper{ min-height:100%; height:auto !important; height:100%; margin:0 auto -155px} \\n.footer,.push{ height:100px} \\n.middle{ text-align:center; margin:0 auto; width:90%; height:auto} \\n.info{font-size:12px; text-align:center; line-height:10px; padding:10px} \\n.info a{margin:0 10px; text-decoration:none; color:green}\\n<\\/style>\\n<script type='text/javascript'>\\n  var blueTheme = {\\n    // 默认色板\\n    color: [\\n        '#1790cf','#1bb2d8','#99d2dd','#88b0bb',\\n        '#1c7099','#038cc4','#75abd0','#afd6dd'\\n    ],\\n\\n    // 图表标题\\n    title: {\\n        textStyle: {\\n            fontWeight: 'normal',\\n            color: '#1790cf'\\n        }\\n    },\\n    \\n    // 值域\\n    dataRange: {\\n        color:['#1178ad','#72bbd0']\\n    },\\n\\n    // 工具箱\\n    toolbox: {\\n        color : ['#1790cf','#1790cf','#1790cf','#1790cf']\\n    },\\n\\n    // 提示框\\n    tooltip: {\\n        backgroundColor: 'rgba(0,0,0,0.5)',\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'line',         // 默认为直线，可选为：'line' | 'shadow'\\n            lineStyle : {          // 直线指示器样式设置\\n                color: '#1790cf',\\n                type: 'dashed'\\n            },\\n            crossStyle: {\\n                color: '#1790cf'\\n            },\\n            shadowStyle : {                     // 阴影指示器样式设置\\n                color: 'rgba(200,200,200,0.3)'\\n            }\\n        }\\n    },\\n\\n    // 区域缩放控制器\\n    dataZoom: {\\n        dataBackgroundColor: '#eee',            // 数据背景颜色\\n        fillerColor: 'rgba(144,197,237,0.2)',   // 填充颜色\\n        handleColor: '#1790cf'     // 手柄颜色\\n    },\\n    \\n    // 网格\\n    grid: {\\n        borderWidth: 0\\n    },\\n\\n    // 类目轴\\n    categoryAxis: {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#1790cf'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#eee']\\n            }\\n        }\\n    },\\n\\n    // 数值型坐标轴默认参数\\n    valueAxis: {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#1790cf'\\n            }\\n        },\\n        splitArea : {\\n            show : true,\\n            areaStyle : {\\n                color: ['rgba(250,250,250,0.1)','rgba(200,200,200,0.1)']\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#eee']\\n            }\\n        }\\n    },\\n\\n    timeline : {\\n        lineStyle : {\\n            color : '#1790cf'\\n        },\\n        controlStyle : {\\n            normal : { color : '#1790cf'},\\n            emphasis : { color : '#1790cf'}\\n        }\\n    },\\n\\n    // K线图默认参数\\n    k: {\\n        itemStyle: {\\n            normal: {\\n                color: '#1bb2d8',          // 阳线填充颜色\\n                color0: '#99d2dd',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#1c7099',   // 阳线边框颜色\\n                    color0: '#88b0bb'   // 阴线边框颜色\\n                }\\n            }\\n        }\\n    },\\n    \\n    map: {\\n        itemStyle: {\\n            normal: {\\n                areaStyle: {\\n                    color: '#ddd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                areaStyle: {\\n                    color: '#99d2dd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    force : {\\n        itemStyle: {\\n            normal: {\\n                linkStyle : {\\n                    color : '#1790cf'\\n                }\\n            }\\n        }\\n    },\\n    \\n    chord : {\\n        padding : 4,\\n        itemStyle : {\\n            normal : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            },\\n            emphasis : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#1bb2d8'],[0.8, '#1790cf'],[1, '#1c7099']], \\n                width: 8\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 10,   // 每份split细分多少段\\n            length :12,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length : 18,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        pointer : {\\n            length : '90%',\\n            color : 'auto'\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#333'\\n            }\\n        },\\n        detail : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        }\\n    },\\n    \\n    textStyle: {\\n        fontFamily: '微软雅黑, Arial, Verdana, sans-serif'\\n    }\\n};\\n\\nvar greenTheme = {\\n    // 默认色板\\n    color: [\\n        '#408829','#68a54a','#a9cba2','#86b379',\\n        '#397b29','#8abb6f','#759c6a','#bfd3b7'\\n    ],\\n\\n    // 图表标题\\n    title: {\\n        textStyle: {\\n            fontWeight: 'normal',\\n            color: '#408829'\\n        }\\n    },\\n    \\n    // 值域\\n    dataRange: {\\n        color:['#1f610a','#97b58d']\\n    },\\n\\n    // 工具箱\\n    toolbox: {\\n        color : ['#408829','#408829','#408829','#408829']\\n    },\\n\\n    // 提示框\\n    tooltip: {\\n        backgroundColor: 'rgba(0,0,0,0.5)',\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'line',         // 默认为直线，可选为：'line' | 'shadow'\\n            lineStyle : {          // 直线指示器样式设置\\n                color: '#408829',\\n                type: 'dashed'\\n            },\\n            crossStyle: {\\n                color: '#408829'\\n            },\\n            shadowStyle : {                     // 阴影指示器样式设置\\n                color: 'rgba(200,200,200,0.3)'\\n            }\\n        }\\n    },\\n\\n    // 区域缩放控制器\\n    dataZoom: {\\n        dataBackgroundColor: '#eee',            // 数据背景颜色\\n        fillerColor: 'rgba(64,136,41,0.2)',   // 填充颜色\\n        handleColor: '#408829'     // 手柄颜色\\n    },\\n    \\n    // 网格\\n    grid: {\\n        borderWidth: 0\\n    },\\n\\n    // 类目轴\\n    categoryAxis: {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#408829'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#eee']\\n            }\\n        }\\n    },\\n\\n    // 数值型坐标轴默认参数\\n    valueAxis: {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#408829'\\n            }\\n        },\\n        splitArea : {\\n            show : true,\\n            areaStyle : {\\n                color: ['rgba(250,250,250,0.1)','rgba(200,200,200,0.1)']\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#eee']\\n            }\\n        }\\n    },\\n\\n    timeline : {\\n        lineStyle : {\\n            color : '#408829'\\n        },\\n        controlStyle : {\\n            normal : { color : '#408829'},\\n            emphasis : { color : '#408829'}\\n        }\\n    },\\n\\n    // K线图默认参数\\n    k: {\\n        itemStyle: {\\n            normal: {\\n                color: '#68a54a',          // 阳线填充颜色\\n                color0: '#a9cba2',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#408829',   // 阳线边框颜色\\n                    color0: '#86b379'   // 阴线边框颜色\\n                }\\n            }\\n        }\\n    },\\n    \\n    map: {\\n        itemStyle: {\\n            normal: {\\n                areaStyle: {\\n                    color: '#ddd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                areaStyle: {\\n                    color: '#99d2dd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    force : {\\n        itemStyle: {\\n            normal: {\\n                linkStyle : {\\n                    color : '#408829'\\n                }\\n            }\\n        }\\n    },\\n    \\n    chord : {\\n        padding : 4,\\n        itemStyle : {\\n            normal : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            },\\n            emphasis : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#86b379'],[0.8, '#68a54a'],[1, '#408829']], \\n                width: 8\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 10,   // 每份split细分多少段\\n            length :12,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length : 18,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        pointer : {\\n            length : '90%',\\n            color : 'auto'\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#333'\\n            }\\n        },\\n        detail : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        }\\n    },\\n    \\n    textStyle: {\\n        fontFamily: '微软雅黑, Arial, Verdana, sans-serif'\\n    }\\n};\\n\\nvar redTheme = {\\n    // 默认色板\\n    color: [\\n        '#d8361b','#f16b4c','#f7b4a9','#d26666',\\n        '#99311c','#c42703','#d07e75'\\n    ],\\n\\n    // 图表标题\\n    title: {\\n        textStyle: {\\n            fontWeight: 'normal',\\n            color: '#d8361b'\\n        }\\n    },\\n    \\n    // 值域\\n    dataRange: {\\n        color:['#bd0707','#ffd2d2']\\n    },\\n\\n    // 工具箱\\n    toolbox: {\\n        color : ['#d8361b','#d8361b','#d8361b','#d8361b']\\n    },\\n\\n    // 提示框\\n    tooltip: {\\n        backgroundColor: 'rgba(0,0,0,0.5)',\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'line',         // 默认为直线，可选为：'line' | 'shadow'\\n            lineStyle : {          // 直线指示器样式设置\\n                color: '#d8361b',\\n                type: 'dashed'\\n            },\\n            crossStyle: {\\n                color: '#d8361b'\\n            },\\n            shadowStyle : {                     // 阴影指示器样式设置\\n                color: 'rgba(200,200,200,0.3)'\\n            }\\n        }\\n    },\\n\\n    // 区域缩放控制器\\n    dataZoom: {\\n        dataBackgroundColor: '#eee',            // 数据背景颜色\\n        fillerColor: 'rgba(216,54,27,0.2)',   // 填充颜色\\n        handleColor: '#d8361b'     // 手柄颜色\\n    },\\n    \\n    // 网格\\n    grid: {\\n        borderWidth: 0\\n    },\\n\\n    // 类目轴\\n    categoryAxis: {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#d8361b'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#eee']\\n            }\\n        }\\n    },\\n\\n    // 数值型坐标轴默认参数\\n    valueAxis: {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#d8361b'\\n            }\\n        },\\n        splitArea : {\\n            show : true,\\n            areaStyle : {\\n                color: ['rgba(250,250,250,0.1)','rgba(200,200,200,0.1)']\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#eee']\\n            }\\n        }\\n    },\\n\\n    timeline : {\\n        lineStyle : {\\n            color : '#d8361b'\\n        },\\n        controlStyle : {\\n            normal : { color : '#d8361b'},\\n            emphasis : { color : '#d8361b'}\\n        }\\n    },\\n\\n    // K线图默认参数\\n    k: {\\n        itemStyle: {\\n            normal: {\\n                color: '#f16b4c',          // 阳线填充颜色\\n                color0: '#f7b4a9',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#d8361b',   // 阳线边框颜色\\n                    color0: '#d26666'   // 阴线边框颜色\\n                }\\n            }\\n        }\\n    },\\n    \\n    map: {\\n        itemStyle: {\\n            normal: {\\n                areaStyle: {\\n                    color: '#ddd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                areaStyle: {\\n                    color: '#99d2dd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    force : {\\n        itemStyle: {\\n            normal: {\\n                linkStyle : {\\n                    color : '#d8361b'\\n                }\\n            }\\n        }\\n    },\\n    \\n    chord : {\\n        padding : 4,\\n        itemStyle : {\\n            normal : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            },\\n            emphasis : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#f16b4c'],[0.8, '#d8361b'],[1, '#99311c']], \\n                width: 8\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 10,   // 每份split细分多少段\\n            length :12,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length : 18,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        pointer : {\\n            length : '90%',\\n            color : 'auto'\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#333'\\n            }\\n        },\\n        detail : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        }\\n    },\\n    \\n    textStyle: {\\n        fontFamily: '微软雅黑, Arial, Verdana, sans-serif'\\n    }\\n};\\n\\nvar grayTheme = {\\n    // 默认色板\\n    color: [\\n        '#757575','#c7c7c7','#dadada',\\n        '#8b8b8b','#b5b5b5','#e9e9e9'\\n    ],\\n\\n    // 图表标题\\n    title: {\\n        textStyle: {\\n            fontWeight: 'normal',\\n            color: '#757575'\\n        }\\n    },\\n    \\n    // 值域\\n    dataRange: {\\n        color:['#636363','#dcdcdc']\\n    },\\n\\n    // 工具箱\\n    toolbox: {\\n        color : ['#757575','#757575','#757575','#757575']\\n    },\\n\\n    // 提示框\\n    tooltip: {\\n        backgroundColor: 'rgba(0,0,0,0.5)',\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'line',         // 默认为直线，可选为：'line' | 'shadow'\\n            lineStyle : {          // 直线指示器样式设置\\n                color: '#757575',\\n                type: 'dashed'\\n            },\\n            crossStyle: {\\n                color: '#757575'\\n            },\\n            shadowStyle : {                     // 阴影指示器样式设置\\n                color: 'rgba(200,200,200,0.3)'\\n            }\\n        }\\n    },\\n\\n    // 区域缩放控制器\\n    dataZoom: {\\n        dataBackgroundColor: '#eee',            // 数据背景颜色\\n        fillerColor: 'rgba(117,117,117,0.2)',   // 填充颜色\\n        handleColor: '#757575'     // 手柄颜色\\n    },\\n    \\n    // 网格\\n    grid: {\\n        borderWidth: 0\\n    },\\n\\n    // 类目轴\\n    categoryAxis: {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#757575'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#eee']\\n            }\\n        }\\n    },\\n\\n    // 数值型坐标轴默认参数\\n    valueAxis: {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#757575'\\n            }\\n        },\\n        splitArea : {\\n            show : true,\\n            areaStyle : {\\n                color: ['rgba(250,250,250,0.1)','rgba(200,200,200,0.1)']\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#eee']\\n            }\\n        }\\n    },\\n\\n    timeline : {\\n        lineStyle : {\\n            color : '#757575'\\n        },\\n        controlStyle : {\\n            normal : { color : '#757575'},\\n            emphasis : { color : '#757575'}\\n        }\\n    },\\n\\n    // K线图默认参数\\n    k: {\\n        itemStyle: {\\n            normal: {\\n                color: '#8b8b8b',          // 阳线填充颜色\\n                color0: '#dadada',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#757575',   // 阳线边框颜色\\n                    color0: '#c7c7c7'   // 阴线边框颜色\\n                }\\n            }\\n        }\\n    },\\n    \\n    map: {\\n        itemStyle: {\\n            normal: {\\n                areaStyle: {\\n                    color: '#ddd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                areaStyle: {\\n                    color: '#99d2dd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    force : {\\n        itemStyle: {\\n            normal: {\\n                linkStyle : {\\n                    color : '#757575'\\n                }\\n            }\\n        }\\n    },\\n    \\n    chord : {\\n        padding : 4,\\n        itemStyle : {\\n            normal : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            },\\n            emphasis : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#b5b5b5'],[0.8, '#757575'],[1, '#5c5c5c']], \\n                width: 8\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 10,   // 每份split细分多少段\\n            length :12,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length : 18,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        pointer : {\\n            length : '90%',\\n            color : 'auto'\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#333'\\n            }\\n        },\\n        detail : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        }\\n    },\\n    \\n    textStyle: {\\n        fontFamily: '微软雅黑, Arial, Verdana, sans-serif'\\n    }\\n};\\n\\nvar helianthusTheme = {\\n    backgroundColor: '#F2F2E6',\\n    // 默认色板\\n    color: [\\n        '#44B7D3','#E42B6D','#F4E24E','#FE9616','#8AED35',\\n        '#ff69b4','#ba55d3','#cd5c5c','#ffa500','#40e0d0',\\n        '#E95569','#ff6347','#7b68ee','#00fa9a','#ffd700',\\n        '#6699FF','#ff6666','#3cb371','#b8860b','#30e0e0'\\n    ],\\n\\n    // 图表标题\\n    title: {\\n        backgroundColor: '#F2F2E6',\\n        itemGap: 10,               // 主副标题纵向间隔，单位px，默认为10，\\n        textStyle: {\\n            color: '#8A826D'          // 主标题文字颜色\\n        },\\n        subtextStyle: {\\n            color: '#E877A3'          // 副标题文字颜色\\n        }\\n    },\\n\\n    // 值域\\n    dataRange: {\\n        x:'right',\\n        y:'center',\\n        itemWidth: 5,\\n        itemHeight:25,\\n        color:['#E42B6D','#F9AD96'],\\n        text:['高','低'],         // 文本，默认为数值文本\\n        textStyle: {\\n            color: '#8A826D'          // 值域文字颜色\\n        }\\n    },\\n\\n    toolbox: {\\n        color : ['#E95569','#E95569','#E95569','#E95569'],\\n        effectiveColor : '#ff4500',\\n        itemGap: 8\\n    },\\n\\n    // 提示框\\n    tooltip: {\\n        backgroundColor: 'rgba(138,130,109,0.7)',     // 提示背景颜色，默认为透明度为0.7的黑色\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'line',         // 默认为直线，可选为：'line' | 'shadow'\\n            lineStyle : {          // 直线指示器样式设置\\n                color: '#6B6455',\\n                type: 'dashed'\\n            },\\n            crossStyle: {          //十字准星指示器\\n                color: '#A6A299'\\n            },\\n            shadowStyle : {                     // 阴影指示器样式设置\\n                color: 'rgba(200,200,200,0.3)'\\n            }\\n        }\\n    },\\n\\n    // 区域缩放控制器\\n    dataZoom: {\\n        dataBackgroundColor: 'rgba(130,197,209,0.6)',            // 数据背景颜色\\n        fillerColor: 'rgba(233,84,105,0.1)',   // 填充颜色\\n        handleColor: 'rgba(107,99,84,0.8)'     // 手柄颜色\\n    },\\n\\n    // 网格\\n    grid: {\\n        borderWidth:0\\n    },\\n\\n    // 类目轴\\n    categoryAxis: {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#6B6455'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            show: false\\n        }\\n    },\\n\\n    // 数值型坐标轴默认参数\\n    valueAxis: {\\n        axisLine: {            // 坐标轴线\\n            show: false\\n        },\\n        splitArea : {\\n            show: false\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#FFF'],\\n                type: 'dashed'\\n            }\\n        }\\n    },\\n\\n    polar : {\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#ddd'\\n            }\\n        },\\n        splitArea : {\\n            show : true,\\n            areaStyle : {\\n                color: ['rgba(250,250,250,0.2)','rgba(200,200,200,0.2)']\\n            }\\n        },\\n        splitLine : {\\n            lineStyle : {\\n                color : '#ddd'\\n            }\\n        }\\n    },\\n\\n    timeline : {\\n        lineStyle : {\\n            color : '#6B6455'\\n        },\\n        controlStyle : {\\n            normal : { color : '#6B6455'},\\n            emphasis : { color : '#6B6455'}\\n        },\\n        symbol : 'emptyCircle',\\n        symbolSize : 3\\n    },\\n\\n    // 柱形图默认参数\\n    bar: {\\n        itemStyle: {\\n            normal: {\\n                barBorderRadius: 0\\n            },\\n            emphasis: {\\n                barBorderRadius: 0\\n            }\\n        }\\n    },\\n\\n    // 折线图默认参数\\n    line: {\\n        smooth : true,\\n        symbol: 'emptyCircle',  // 拐点图形类型\\n        symbolSize: 3           // 拐点图形大小\\n    },\\n\\n\\n    // K线图默认参数\\n    k: {\\n        itemStyle: {\\n            normal: {\\n                color: '#E42B6D',       // 阳线填充颜色\\n                color0: '#44B7D3',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#E42B6D',   // 阳线边框颜色\\n                    color0: '#44B7D3'   // 阴线边框颜色\\n                }\\n            }\\n        }\\n    },\\n\\n    // 散点图默认参数\\n    scatter: {\\n        itemStyle: {\\n            normal: {\\n                borderWidth:1,\\n                borderColor:'rgba(200,200,200,0.5)'\\n            },\\n            emphasis: {\\n                borderWidth:0\\n            }\\n        },\\n        symbol: 'circle',    // 图形类型\\n        symbolSize: 4        // 图形大小，半宽（半径）参数，当图形为方向或菱形则总宽度为symbolSize * 2\\n    },\\n\\n    // 雷达图默认参数\\n    radar : {\\n        symbol: 'emptyCircle',    // 图形类型\\n        symbolSize:3\\n        //symbol: null,         // 拐点图形类型\\n        //symbolRotate : null,  // 图形旋转控制\\n    },\\n\\n    map: {\\n        itemStyle: {\\n            normal: {\\n                areaStyle: {\\n                    color: '#ddd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#E42B6D'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                areaStyle: {\\n                    color: '#fe994e'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: 'rgb(100,0,0)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n\\n    force : {\\n        itemStyle: {\\n            normal: {\\n                nodeStyle : {\\n                    borderColor : 'rgba(0,0,0,0)'\\n                },\\n                linkStyle : {\\n                    color : '#6B6455'\\n                }\\n            }\\n        }\\n    },\\n\\n    chord : {\\n        itemStyle : {\\n            normal : {\\n                chordStyle : {\\n                    lineStyle : {\\n                        width : 0,\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            },\\n            emphasis : {\\n                chordStyle : {\\n                    lineStyle : {\\n                        width : 1,\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n\\n    gauge : {                  // 仪表盘\\n        center:['50%','80%'],\\n        radius:'100%',\\n        startAngle: 180,\\n        endAngle : 0,\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#44B7D3'],[0.8, '#6B6455'],[1, '#E42B6D']],\\n                width: '40%'\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 2,   // 每份split细分多少段\\n            length: 5,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#fff'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#fff',\\n                fontWeight:'bolder'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length: '5%',         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: '#fff'\\n            }\\n        },\\n        pointer : {\\n            width : '40%',\\n            length: '80%',\\n            color: '#fff'\\n        },\\n        title : {\\n          offsetCenter: [0, -20],       // x, y，单位px\\n          textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n            color: 'auto',\\n            fontSize: 20\\n          }\\n        },\\n        detail : {\\n            offsetCenter: [0, 0],       // x, y，单位px\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto',\\n                fontSize: 40\\n            }\\n        }\\n    },\\n\\n    textStyle: {\\n        fontFamily: '微软雅黑, Arial, Verdana, sans-serif'\\n    }\\n};\\n\\nvar sakuraTheme = {\\n    // 全图默认背景\\n    // backgroundColor: 'rgba(0,0,0,0)',\\n    \\n    // 默认色板\\n    color: ['#e52c3c','#f7b1ab','#fa506c','#f59288','#f8c4d8',\\n            '#e54f5c','#f06d5c','#e54f80','#f29c9f','#eeb5b7'],\\n\\n    // 值域\\n    dataRange: {\\n        color:['#e52c3c','#f7b1ab']//颜色 \\n    },\\n\\n    \\n    // K线图默认参数\\n    k: {\\n        // barWidth : null          // 默认自适应\\n        // barMaxWidth : null       // 默认自适应 \\n        itemStyle: {\\n            normal: {\\n                color: '#e52c3c',          // 阳线填充颜色\\n                color0: '#f59288',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#e52c3c',   // 阳线边框颜色\\n                    color0: '#f59288'   // 阴线边框颜色\\n                }\\n            },\\n            emphasis: {\\n                // color: 各异,\\n                // color0: 各异\\n            }\\n        }\\n    },\\n    \\n    // 饼图默认参数\\n    pie: {\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                borderColor: '#fff',\\n                borderWidth: 1,\\n                label: {\\n                    show: true,\\n                    position: 'outer',\\n                  textStyle: {color: 'black'}\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                labelLine: {\\n                    show: true,\\n                    length: 20,\\n                    lineStyle: {\\n                        // color: 各异,\\n                        width: 1,\\n                        type: 'solid'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    map: {\\n        mapType: 'china',   // 各省的mapType暂时都用中文\\n        mapLocation: {\\n            x : 'center',\\n            y : 'center'\\n            // width    // 自适应\\n            // height   // 自适应\\n        },\\n        showLegendSymbol : true,       // 显示图例颜色标识（系列标识的小圆点），存在legend时生效\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                borderColor: '#fff',\\n                borderWidth: 1,\\n                areaStyle: {\\n                    color: '#ccc'//rgba(135,206,250,0.8)\\n                },\\n                label: {\\n                    show: false,\\n                    textStyle: {\\n                        color: 'rgba(139,69,19,1)'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                // color: 各异,\\n                borderColor: 'rgba(0,0,0,0)',\\n                borderWidth: 1,\\n                areaStyle: {\\n                    color: '#f3f39d'\\n                },\\n                label: {\\n                    show: false,\\n                    textStyle: {\\n                        color: 'rgba(139,69,19,1)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    force : {\\n        // 分类里如果有样式会覆盖节点默认样式\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                label: {\\n                    show: false\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                nodeStyle : {\\n                    brushType : 'both',\\n                    strokeColor : '#e54f5c'\\n                },\\n                linkStyle : {\\n                    strokeColor : '#e54f5c'\\n                }\\n            },\\n            emphasis: {\\n                // color: 各异,\\n                label: {\\n                    show: false\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                nodeStyle : {},\\n                linkStyle : {}\\n            }\\n        }\\n    },\\n    \\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#e52c3c'],[0.8, '#f7b1ab'],[1, '#fa506c']], \\n                width: 8\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 10,   // 每份split细分多少段\\n            length :12,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length : 18,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        pointer : {\\n            length : '90%',\\n            color : 'auto'\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#333'\\n            }\\n        },\\n        detail : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        }\\n    }\\n};\\n\\nvar romaTheme = {\\n    color: ['#E01F54','#b8d2c7','#f5e8c8','#001852','#c6b38e',\\n            '#a4d8c2','#f3d999','#d3758f','#dcc392','#2e4783',\\n            '#82b6e9','#ff6347','#a092f1','#0a915d','#eaf889',\\n            '#6699FF','#ff6666','#3cb371','#d5b158','#38b6b6'],\\n    dataRange: {\\n        color:['#e01f54','#e7dbc3'],\\n        textStyle: {\\n            color: '#333'\\n        }\\n    },\\n    k: {\\n        itemStyle: {\\n            normal: {\\n                color: '#e01f54',          \\n                color0: '#001852',      \\n                lineStyle: {\\n                    width: 1,\\n                    color: '#f5e8c8',\\n                    color0: '#b8d2c7'   \\n                }\\n            }\\n        }\\n    },\\n    pie: {\\n        itemStyle: {\\n            normal: {\\n                \\n                borderColor: '#fff',\\n                borderWidth: 1,\\n                label: {\\n                    show: true,\\n                    position: 'outer',\\n                  textStyle: {color: '#1b1b1b'},\\n                  lineStyle: {color: '#1b1b1b'}\\n                    \\n                },\\n                labelLine: {\\n                    show: true,\\n                    length: 20,\\n                    lineStyle: {\\n                        \\n                        width: 1,\\n                        type: 'solid'\\n                    }\\n                }\\n            },\\n            emphasis: {\\n                \\n                borderColor: 'rgba(0,0,0,0)',\\n                borderWidth: 1,\\n                label: {\\n                    show: false\\n                },\\n                labelLine: {\\n                    show: false,\\n                    length: 20,\\n                    lineStyle: {\\n                        width: 1,\\n                        type: 'solid'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    map: {\\n        itemStyle: {\\n            normal: {\\n                borderColor: '#fff',\\n                borderWidth: 1,\\n                areaStyle: {\\n                    color: '#ccc'\\n                },\\n                label: {\\n                    show: false,\\n                    textStyle: {\\n                        color: 'rgba(139,69,19,1)'\\n                    }\\n                }\\n            },\\n            emphasis: {                 \\n                \\n                borderColor: 'rgba(0,0,0,0)',\\n                borderWidth: 1,\\n                areaStyle: {\\n                    color: '#f3d999'\\n                },\\n                label: {\\n                    show: false,\\n                    textStyle: {\\n                        color: 'rgba(139,69,19,1)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    force : {\\n        itemStyle: {\\n            normal: {\\n                label: {\\n                    show: false\\n                },\\n                nodeStyle : {\\n                    brushType : 'both',\\n                    strokeColor : '#5182ab'\\n                },\\n                linkStyle : {\\n                    strokeColor : '#5182ab'\\n                }\\n            },\\n            emphasis: {\\n                label: {\\n                    show: false\\n                },\\n                nodeStyle : {},\\n                linkStyle : {}\\n            }\\n        }\\n    },\\n\\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#E01F54'],[0.8, '#b8d2c7'],[1, '#001852']], \\n                width: 8\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 10,   // 每份split细分多少段\\n            length :12,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length : 18,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        pointer : {\\n            length : '90%',\\n            color : 'auto'\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#333'\\n            }\\n        },\\n        detail : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        }\\n    }\\n};\\n\\nvar darkTheme = {\\n    // 全图默认背景\\n    backgroundColor: '#1b1b1b',\\n\\n    // 默认色板\\n    color: [\\n        '#FE8463','#9BCA63','#FAD860','#60C0DD','#0084C6',\\n        '#D7504B','#C6E579','#26C0C0','#F0805A','#F4E001',\\n        '#B5C334'\\n    ],\\n\\n    // 图表标题\\n    title: {\\n        textStyle: {\\n            fontWeight: 'normal',\\n            color: '#fff'          // 主标题文字颜色\\n        }\\n    },\\n\\n    // 图例\\n    legend: {\\n        textStyle: {\\n            color: '#ccc'          // 图例文字颜色\\n        }\\n    },\\n\\n    // 值域\\n    dataRange: {\\n        itemWidth: 15,\\n        color: ['#FFF808','#21BCF9'],\\n        textStyle: {\\n            color: '#ccc'          // 值域文字颜色\\n        }\\n    },\\n\\n    toolbox: {\\n        color : ['#fff', '#fff', '#fff', '#fff'],\\n        effectiveColor : '#FE8463',\\n        disableColor: '#666'\\n    },\\n\\n    // 提示框\\n    tooltip: {\\n        backgroundColor: 'rgba(250,250,250,0.8)',     // 提示背景颜色，默认为透明度为0.7的黑色\\n        axisPointer : {            // 坐标轴指示器，坐标轴触发有效\\n            type : 'line',         // 默认为直线，可选为：'line' | 'shadow'\\n            lineStyle : {          // 直线指示器样式设置\\n                color: '#aaa'\\n            },\\n            crossStyle: {\\n                color: '#aaa'\\n            },\\n            shadowStyle : {                     // 阴影指示器样式设置\\n                color: 'rgba(200,200,200,0.2)'\\n            }\\n        },\\n        textStyle: {\\n            color: '#333'\\n        }\\n    },\\n\\n    // 区域缩放控制器\\n    dataZoom: {\\n        dataBackgroundColor: '#555',            // 数据背景颜色\\n        fillerColor: 'rgba(200,200,200,0.2)',   // 填充颜色\\n        handleColor: '#eee'     // 手柄颜色\\n    },\\n\\n    // 网格\\n    grid: {\\n        borderWidth: 0\\n    },\\n\\n    // 类目轴\\n    categoryAxis: {\\n        axisLine: {            // 坐标轴线\\n            show: false\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            show: false\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#ccc'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            show: false\\n        }\\n    },\\n\\n    // 数值型坐标轴默认参数\\n    valueAxis: {\\n        axisLine: {            // 坐标轴线\\n            show: false\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            show: false\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#ccc'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: ['#aaa'],\\n                type: 'dashed'\\n            }\\n        },\\n        splitArea: {           // 分隔区域\\n            show: false\\n        }\\n    },\\n\\n    polar : {\\n        name : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#ccc'\\n            }\\n        },\\n        axisLine: {            // 坐标轴线\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: '#ddd'\\n            }\\n        },\\n        splitArea : {\\n            show : true,\\n            areaStyle : {\\n                color: ['rgba(250,250,250,0.2)','rgba(200,200,200,0.2)']\\n            }\\n        },\\n        splitLine : {\\n            lineStyle : {\\n                color : '#ddd'\\n            }\\n        }\\n    },\\n\\n    timeline : {\\n        label: {\\n            textStyle:{\\n                color: '#ccc'\\n            }\\n        },\\n        lineStyle : {\\n            color : '#aaa'\\n        },\\n        controlStyle : {\\n            normal : { color : '#fff'},\\n            emphasis : { color : '#FE8463'}\\n        },\\n        symbolSize : 3\\n    },\\n\\n    // 折线图默认参数\\n    line: {\\n        smooth : true\\n    },\\n\\n    // K线图默认参数\\n    k: {\\n        itemStyle: {\\n            normal: {\\n                color: '#FE8463',       // 阳线填充颜色\\n                color0: '#9BCA63',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#FE8463',   // 阳线边框颜色\\n                    color0: '#9BCA63'   // 阴线边框颜色\\n                }\\n            }\\n        }\\n    },\\n\\n    // 雷达图默认参数\\n    radar : {\\n        symbol: 'emptyCircle',    // 图形类型\\n        symbolSize:3\\n        //symbol: null,         // 拐点图形类型\\n        //symbolRotate : null,  // 图形旋转控制\\n    },\\n\\n    pie: {\\n        itemStyle: {\\n            normal: {\\n                borderWidth: 1,\\n                borderColor : 'rgba(255, 255, 255, 0.5)'\\n            },\\n            emphasis: {\\n                borderWidth: 1,\\n                borderColor : 'rgba(255, 255, 255, 1)'\\n            }\\n        }\\n    },\\n\\n    map: {\\n        itemStyle: {\\n            normal: {\\n                borderColor:'rgba(255, 255, 255, 0.5)',\\n                areaStyle: {\\n                    color: '#ddd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        // color: '#ccc'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                areaStyle: {\\n                    color: '#FE8463'\\n                },\\n                label: {\\n                    textStyle: {\\n                        // color: 'ccc'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n\\n    force : {\\n        itemStyle: {\\n            normal: {\\n                linkStyle : {\\n                    color : '#fff'\\n                }\\n            }\\n        }\\n    },\\n\\n    chord : {\\n        itemStyle : {\\n            normal : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(228, 228, 228, 0.2)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(228, 228, 228, 0.2)'\\n                    }\\n                }\\n            },\\n            emphasis : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(228, 228, 228, 0.9)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(228, 228, 228, 0.9)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n\\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#9BCA63'],[0.8, '#60C0DD'],[1, '#D7504B']],\\n                width: 3,\\n                shadowColor : '#fff', //默认透明\\n                shadowBlur: 10\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            length :15,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto',\\n                shadowColor : '#fff', //默认透明\\n                shadowBlur: 10\\n            }\\n        },\\n        axisLabel: {            // 坐标轴小标记\\n            textStyle: {       // 属性lineStyle控制线条样式\\n                fontWeight: 'bolder',\\n                color: '#fff',\\n                shadowColor : '#fff', //默认透明\\n                shadowBlur: 10\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length :25,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                width:3,\\n                color: '#fff',\\n                shadowColor : '#fff', //默认透明\\n                shadowBlur: 10\\n            }\\n        },\\n        pointer: {           // 分隔线\\n            shadowColor : '#fff', //默认透明\\n            shadowBlur: 5\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                fontWeight: 'bolder',\\n                fontSize: 20,\\n                fontStyle: 'italic',\\n                color: '#fff',\\n                shadowColor : '#fff', //默认透明\\n                shadowBlur: 10\\n            }\\n        },\\n        detail : {\\n            shadowColor : '#fff', //默认透明\\n            shadowBlur: 5,\\n            offsetCenter: [0, '50%'],       // x, y，单位px\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                fontWeight: 'bolder',\\n                color: '#fff'\\n            }\\n        }\\n    },\\n\\n    funnel : {\\n        itemStyle: {\\n            normal: {\\n                borderColor : 'rgba(255, 255, 255, 0.5)',\\n                borderWidth: 1\\n            },\\n            emphasis: {\\n                borderColor : 'rgba(255, 255, 255, 1)',\\n                borderWidth: 1\\n            }\\n        }\\n    },\\n\\n    textStyle: {\\n        fontFamily: '微软雅黑, Arial, Verdana, sans-serif'\\n    }\\n};\\n\\nvar shineTheme = {\\n    // 默认色板\\n    color: [\\n        '#c12e34','#e6b600','#0098d9','#2b821d',\\n        '#005eaa','#339ca8','#cda819','#32a487'\\n    ],\\n\\n    // 图表标题\\n    title: {\\n        textStyle: {\\n            fontWeight: 'normal'\\n        }\\n    },\\n    \\n    // 值域\\n    dataRange: {\\n        itemWidth: 15,             // 值域图形宽度，线性渐变水平布局宽度为该值 * 10\\n        color:['#1790cf','#a2d4e6']\\n    },\\n\\n    // 工具箱\\n    toolbox: {\\n        color : ['#06467c','#00613c','#872d2f','#c47630']\\n    },\\n\\n    // 提示框\\n    tooltip: {\\n        backgroundColor: 'rgba(0,0,0,0.6)'\\n    },\\n\\n    // 区域缩放控制器\\n    dataZoom: {\\n        dataBackgroundColor: '#dedede',            // 数据背景颜色\\n        fillerColor: 'rgba(154,217,247,0.2)',   // 填充颜色\\n        handleColor: '#005eaa'     // 手柄颜色\\n    },\\n    \\n    // 网格\\n    grid: {\\n        borderWidth: 0\\n    },\\n    \\n    // 类目轴\\n    categoryAxis: {\\n        axisLine: {            // 坐标轴线\\n            show: false\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            show: false\\n        }\\n    },\\n\\n    // 数值型坐标轴默认参数\\n    valueAxis: {\\n        axisLine: {            // 坐标轴线\\n            show: false\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            show: false\\n        },\\n        splitArea: {           // 分隔区域\\n            show: true,       // 默认不显示，属性show控制显示与否\\n            areaStyle: {       // 属性areaStyle（详见areaStyle）控制区域样式\\n                color: ['rgba(250,250,250,0.2)','rgba(200,200,200,0.2)']\\n            }\\n        }\\n    },\\n    \\n    timeline : {\\n        lineStyle : {\\n            color : '#005eaa'\\n        },\\n        controlStyle : {\\n            normal : { color : '#005eaa'},\\n            emphasis : { color : '#005eaa'}\\n        }\\n    },\\n\\n    // K线图默认参数\\n    k: {\\n        itemStyle: {\\n            normal: {\\n                color: '#c12e34',          // 阳线填充颜色\\n                color0: '#2b821d',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#c12e34',   // 阳线边框颜色\\n                    color0: '#2b821d'   // 阴线边框颜色\\n                }\\n            }\\n        }\\n    },\\n    \\n    map: {\\n        itemStyle: {\\n            normal: {\\n                areaStyle: {\\n                    color: '#ddd'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                areaStyle: {\\n                    color: '#e6b600'\\n                },\\n                label: {\\n                    textStyle: {\\n                        color: '#c12e34'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    force : {\\n        itemStyle: {\\n            normal: {\\n                linkStyle : {\\n                    color : '#005eaa'\\n                }\\n            }\\n        }\\n    },\\n    \\n    chord : {\\n        itemStyle : {\\n            normal : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            },\\n            emphasis : {\\n                borderWidth: 1,\\n                borderColor: 'rgba(128, 128, 128, 0.5)',\\n                chordStyle : {\\n                    lineStyle : {\\n                        color : 'rgba(128, 128, 128, 0.5)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#2b821d'],[0.8, '#005eaa'],[1, '#c12e34']], \\n                width: 5\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 10,   // 每份split细分多少段\\n            length :8,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length : 12,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        pointer : {\\n            length : '90%',\\n            width : 3,\\n            color : 'auto'\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#333'\\n            }\\n        },\\n        detail : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        }\\n    },\\n    \\n    textStyle: {\\n        fontFamily: '微软雅黑, Arial, Verdana, sans-serif'\\n    }\\n};\\n\\nvar mintTheme = {\\n    // 全图默认背景\\n    // backgroundColor: 'rgba(0,0,0,0)',\\n    \\n    // 默认色板\\n    color: ['#8aedd5','#93bc9e','#cef1db','#7fe579','#a6d7c2',\\n            '#bef0bb','#99e2vb','#94f8a8','#7de5b8','#4dfb70'],\\n\\n    \\n    \\n    // 值域\\n    dataRange: {\\n        color:['#93bc92','#bef0bb']\\n    },\\n\\n    // K线图默认参数\\n    k: {\\n        // barWidth : null          // 默认自适应\\n        // barMaxWidth : null       // 默认自适应 \\n        itemStyle: {\\n            normal: {\\n                color: '#8aedd5',          // 阳线填充颜色\\n                color0: '#7fe579',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#8aedd5',   // 阳线边框颜色\\n                    color0: '#7fe579'   // 阴线边框颜色\\n                }\\n            },\\n            emphasis: {\\n                // color: 各异,\\n                // color0: 各异\\n            }\\n        }\\n    },\\n    \\n    // 饼图默认参数\\n    pie: {\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                borderColor: '#fff',\\n                borderWidth: 1,\\n                label: {\\n                    show: true,\\n                    position: 'outer',\\n                  textStyle: {color: '#1b1b1b'},\\n                  lineStyle: {color: '#1b1b1b'}\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                labelLine: {\\n                    show: true,\\n                    length: 20,\\n                    lineStyle: {\\n                        // color: 各异,\\n                        width: 1,\\n                        type: 'solid'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    map: {\\n        mapType: 'china',   // 各省的mapType暂时都用中文\\n        mapLocation: {\\n            x : 'center',\\n            y : 'center'\\n            // width    // 自适应\\n            // height   // 自适应\\n        },\\n        showLegendSymbol : true,       // 显示图例颜色标识（系列标识的小圆点），存在legend时生效\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                borderColor: '#fff',\\n                borderWidth: 1,\\n                areaStyle: {\\n                    color: '#ccc'//rgba(135,206,250,0.8)\\n                },\\n                label: {\\n                    show: false,\\n                    textStyle: {\\n                        color: 'rgba(139,69,19,1)'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                // color: 各异,\\n                borderColor: 'rgba(0,0,0,0)',\\n                borderWidth: 1,\\n                areaStyle: {\\n                    color: '#f3f39d'\\n                },\\n                label: {\\n                    show: false,\\n                    textStyle: {\\n                        color: 'rgba(139,69,19,1)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    force : {\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                label: {\\n                    show: false\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                nodeStyle : {\\n                    brushType : 'both',\\n                    strokeColor : '#49b485'\\n                },\\n                linkStyle : {\\n                    strokeColor : '#49b485'\\n                }\\n            },\\n            emphasis: {\\n                // color: 各异,\\n                label: {\\n                    show: false\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                nodeStyle : {},\\n                linkStyle : {}\\n            }\\n        }\\n    },\\n\\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#93bc9e'],[0.8, '#8aedd5'],[1, '#a6d7c2']], \\n                width: 8\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 10,   // 每份split细分多少段\\n            length :12,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length : 18,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        pointer : {\\n            length : '90%',\\n            color : 'auto'\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#333'\\n            }\\n        },\\n        detail : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        }\\n    }\\n};\\n\\nvar macarons2Theme = {\\n    // 全图默认背景\\n    // backgroundColor: 'rgba(0,0,0,0)',\\n    \\n    // 默认色板\\n    color: ['#ed9678','#e7dac9','#cb8e85','#f3f39d','#c8e49c',\\n            '#f16d7a','#f3d999','#d3758f','#dcc392','#2e4783',\\n            '#82b6e9','#ff6347','#a092f1','#0a915d','#eaf889',\\n            '#6699FF','#ff6666','#3cb371','#d5b158','#38b6b6'],\\n    \\n    // 值域\\n    dataRange: {\\n        color:['#cb8e85','#e7dac9'],//颜色 \\n        //text:['高','低'],         // 文本，默认为数值文本\\n        textStyle: {\\n            color: '#333'          // 值域文字颜色\\n        }\\n    },\\n\\n\\n    // 柱形图默认参数\\n    bar: {\\n        barMinHeight: 0,          // 最小高度改为0\\n        // barWidth: null,        // 默认自适应\\n        barGap: '30%',            // 柱间距离，默认为柱形宽度的30%，可设固定值\\n        barCategoryGap : '20%',   // 类目间柱形距离，默认为类目间距的20%，可设固定值\\n        itemStyle: {\\n            normal: {\\n                // color: '各异',\\n                barBorderColor: '#fff',       // 柱条边线\\n                barBorderRadius: 0,           // 柱条边线圆角，单位px，默认为0\\n                barBorderWidth: 1,            // 柱条边线线宽，单位px，默认为1\\n                label: {\\n                    show: false\\n                    // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为\\n                    //           'inside'|'left'|'right'|'top'|'bottom'\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                }\\n            },\\n            emphasis: {\\n                // color: '各异',\\n                barBorderColor: 'rgba(0,0,0,0)',   // 柱条边线\\n                barBorderRadius: 0,                // 柱条边线圆角，单位px，默认为0\\n                barBorderWidth: 1,                 // 柱条边线线宽，单位px，默认为1\\n                label: {\\n                    show: false\\n                    // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为\\n                    //           'inside'|'left'|'right'|'top'|'bottom'\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                }\\n            }\\n        }\\n    },\\n\\n    // 折线图默认参数\\n    line: {\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                label: {\\n                    show: false\\n                    // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为\\n                    //           'inside'|'left'|'right'|'top'|'bottom'\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                lineStyle: {\\n                    width: 2,\\n                    type: 'solid',\\n                    shadowColor : 'rgba(0,0,0,0)', //默认透明\\n                    shadowBlur: 5,\\n                    shadowOffsetX: 3,\\n                    shadowOffsetY: 3\\n                }\\n            },\\n            emphasis: {\\n                // color: 各异,\\n                label: {\\n                    show: false\\n                    // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为\\n                    //           'inside'|'left'|'right'|'top'|'bottom'\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                }\\n            }\\n        },\\n        //smooth : false,\\n        //symbol: null,         // 拐点图形类型\\n        symbolSize: 2,          // 拐点图形大小\\n        //symbolRotate : null,  // 拐点图形旋转控制\\n        showAllSymbol: false    // 标志图形默认只有主轴显示（随主轴标签间隔隐藏策略）\\n    },\\n    \\n    // K线图默认参数\\n    k: {\\n        // barWidth : null          // 默认自适应\\n        // barMaxWidth : null       // 默认自适应 \\n        itemStyle: {\\n            normal: {\\n                color: '#fe9778',          // 阳线填充颜色\\n                color0: '#e7dac9',      // 阴线填充颜色\\n                lineStyle: {\\n                    width: 1,\\n                    color: '#f78766',   // 阳线边框颜色\\n                    color0: '#f1ccb8'   // 阴线边框颜色\\n                }\\n            },\\n            emphasis: {\\n                // color: 各异,\\n                // color0: 各异\\n            }\\n        }\\n    },\\n\\n    // 饼图默认参数\\n    pie: {\\n        center : ['50%', '50%'],    // 默认全局居中\\n        radius : [0, '75%'],\\n        clockWise : false,          // 默认逆时针\\n        startAngle: 90,\\n        minAngle: 0,                // 最小角度改为0\\n        selectedOffset: 10,         // 选中是扇区偏移量\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                borderColor: '#fff',\\n                borderWidth: 1,\\n                label: {\\n                    show: true,\\n                    position: 'outer',\\n                  textStyle: {color: '#1b1b1b'},\\n                  lineStyle: {color: '#1b1b1b'}\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                labelLine: {\\n                    show: true,\\n                    length: 20,\\n                    lineStyle: {\\n                        // color: 各异,\\n                        width: 1,\\n                        type: 'solid'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    map: {\\n        mapType: 'china',   // 各省的mapType暂时都用中文\\n        mapLocation: {\\n            x : 'center',\\n            y : 'center'\\n            // width    // 自适应\\n            // height   // 自适应\\n        },\\n        showLegendSymbol : true,       // 显示图例颜色标识（系列标识的小圆点），存在legend时生效\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                borderColor: '#fff',\\n                borderWidth: 1,\\n                areaStyle: {\\n                    color: '#ccc'//rgba(135,206,250,0.8)\\n                },\\n                label: {\\n                    show: false,\\n                    textStyle: {\\n                        color: 'rgba(139,69,19,1)'\\n                    }\\n                }\\n            },\\n            emphasis: {                 // 也是选中样式\\n                // color: 各异,\\n                borderColor: 'rgba(0,0,0,0)',\\n                borderWidth: 1,\\n                areaStyle: {\\n                    color: '#f3f39d'\\n                },\\n                label: {\\n                    show: false,\\n                    textStyle: {\\n                        color: 'rgba(139,69,19,1)'\\n                    }\\n                }\\n            }\\n        }\\n    },\\n    \\n    force : {\\n        itemStyle: {\\n            normal: {\\n                // color: 各异,\\n                label: {\\n                    show: false\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                nodeStyle : {\\n                    brushType : 'both',\\n                    strokeColor : '#a17e6e'\\n                },\\n                linkStyle : {\\n                    strokeColor : '#a17e6e'\\n                }\\n            },\\n            emphasis: {\\n                // color: 各异,\\n                label: {\\n                    show: false\\n                    // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE\\n                },\\n                nodeStyle : {},\\n                linkStyle : {}\\n            }\\n        }\\n    },\\n\\n    gauge : {\\n        axisLine: {            // 坐标轴线\\n            show: true,        // 默认显示，属性show控制显示与否\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: [[0.2, '#ed9678'],[0.8, '#e7dac9'],[1, '#cb8e85']], \\n                width: 8\\n            }\\n        },\\n        axisTick: {            // 坐标轴小标记\\n            splitNumber: 10,   // 每份split细分多少段\\n            length :12,        // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        axisLabel: {           // 坐标轴文本标签，详见axis.axisLabel\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        },\\n        splitLine: {           // 分隔线\\n            length : 18,         // 属性length控制线长\\n            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\\n                color: 'auto'\\n            }\\n        },\\n        pointer : {\\n            length : '90%',\\n            color : 'auto'\\n        },\\n        title : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: '#333'\\n            }\\n        },\\n        detail : {\\n            textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\\n                color: 'auto'\\n            }\\n        }\\n    }\\n};\\nvar globelChart;\\nfunction changeThema(val){\\n  var tmp;\\n  if(val !=='macarons' && val !=='infographic'){\\n    tmp = eval(val+'Theme');\\n    globelChart.setTheme(tmp);\\n  }else{\\n     globelChart.setTheme(val);\\n  }\\n  \\n}\\n var  timeTicket;\\n<\\/script>\\n\\n\"}","平台图表页面展示界面","video_icon",0,0,"admin","2015-07-20 09:30:40.0","admin","2015-07-29 15:07:42.0",1],["23XJBSONLAYE","23VRM7XF4LFL","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"navigatorCommonModal\",\"jsFiles\":\"[\\\"platform/util/platformUtil.js\\\"]\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript\",\"header\":\"<script>\\n\\n  Array.prototype._indexOf = function(n){   \\n    if(\\\"indexOf\\\" in this){   \\n      return this[\\\"indexOf\\\"](n);   \\n    }   \\n    for(var i=0;i<this.length;i++){   \\n      if(n===this[i]){   \\n        return i;   \\n      }   \\n    }   \\n    return -1;   \\n  };\\n  \\n  function hideMenus(){ \\n    try{\\n      //var tbar = Ext.getCmp('panel1').getTopToolbar();\\n      var tbar = personalToolBar;\\n      var items = tbar.items.items;\\n      for(var i=0;i<= items.length;i++){\\n        var item = items[i];\\n        if(item &&item.hideMenu){\\n          item.hideMenu();\\n        }\\n      }\\n    }catch(e){\\n    }\\n    \\n    try{\\n      //var tbar = Ext.getCmp('panel1').getTopToolbar();\\n      var tbar = Ext.getCmp('top_tbar');\\n      var items = tbar.items.items;\\n      for(var i=0;i<= items.length;i++){\\n        var item = items[i];\\n        if(item &&item.hideMenu){\\n          item.hideMenu();\\n        }\\n      }\\n    }catch(e){\\n    }\\n  };\\n  \\n  function mouseOverEvent(obj,e){\\n    if(!obj.menu.isVisible()){\\n      obj.showMenu();\\n  }};\\n\\n  function createNewUrl(node){\\n    var newUrl ;\\n    if(node.in_xip == 'Y'){\\n      newUrl = '{#contextPath#}'+ node.url;\\n    }else{\\n      newUrl = node.url;\\n    }\\n    if(node.url.indexOf('?')>0){\\n      newUrl = newUrl+'&';\\n    }else{\\n      newUrl = newUrl+'?';\\n    }\\n    newUrl = newUrl+'userId='+'{#XIP.userId#}'+'&roleId='+'{#XIP.roleId#}'+'&funId='+node.fun_id+'&appId='+node.app_id+\\n      '&userName='+'{#XIP.userName#}'+'&roleCode='+'{#XIP.roleCode#}'+'&funCode='+node.fun_code+'&appCode='+node.app_code;\\n    return newUrl;\\n  };\\n\\n  function getState(funId){\\n    var fun_id = funId;\\n    if(document.readyState!='complete'){\\n      Ext.Ajax.request({\\n        url : '{#contextPath#}' +'/frameAction.do?method=getButtonAuthorityList',\\n        params:{\\n          funId:e.fun_id\\n        },\\n        method: 'POST',\\n        success: function(response,options){\\n          var temp = response.responseText;\\n          var obj = Ext.JSON.decode(temp);\\n          if(obj.length==0)return;\\n          var win = document.getElementById(fun_id).contentWindow;\\n          for(var i=0;i<obj.length;i++){\\n            var btn_code = obj[i].btnCode;\\n            var btElement = win.document.getElementById(btn_code);\\n            if(btElement){\\n              btElement.disabled=true;\\n            }\\n          } \\n        },\\n        failure: function(response,options){\\n          Ext.Msg.alert('错误','失败，服务器没有响应');\\n        }\\n      });\\n    };\\n  }\\n  \\n  function insertFunUsedLog(funTreeId,appId,roleId){\\n    Ext.Ajax.request({\\n      url : '{#contextPath#}/main?xwl=23X03SSA2I85',\\n      params:{\\n        fun_tree_id:funTreeId,\\n        app_id:appId,\\n        role_id:roleId\\n      },\\n      method: 'POST',\\n      async : true,\\n      success: function(response,options){\\n      },\\n      failure: function(response,options){\\n      }\\n    });\\n  }\\n\\n  function funcMenuClick4Page(funcMenuObj, componentobj, dom){\\n    var showStyle = funcMenuObj.show_style;\\n    \\n    if(showStyle=='WIN'){\\n      showExtWindow({\\n        title:funcMenuObj.text,\\n        url:createNewUrl(funcMenuObj),\\n        isMax:true\\n      });\\n      return;\\n    }\\n    \\n    if(showStyle=='BRO'){\\n      var url = createNewUrl(funcMenuObj);\\n      window.open(url,funcMenuObj.text);\\n      return;\\n    }\\n    \\n    var id = \\\"tab$\\\" + funcMenuObj.fun_id; \\n    var keys = componentobj.items.keys ; \\n    \\n    var iframeId = 'iframe'+funcMenuObj.fun_id;\\n    \\n    if (keys._indexOf(id) == -1) {\\n      var tab = {};\\n      tab.id = id;\\n      tab.title = funcMenuObj.text;\\n      tab.closable=true;\\n      tab.tabUrl = createNewUrl(funcMenuObj);\\n      tab.html='<iframe id='+iframeId+' fun_id ='+funcMenuObj.fun_id+' onmouseover = hideMenus() scrolling=\\\"auto\\\" onload=\\\"getState(\\\\''+funcMenuObj.fun_id+'\\\\')\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" height=\\\"100%\\\" src=\\\"'+ createNewUrl(funcMenuObj)+'\\\"><\\/iframe>';\\n      componentobj.add(tab); \\n      \\n      insertFunUsedLog(funcMenuObj.fun_id, funcMenuObj.app_id, '{#XIP.roleCode#}');\\n    }\\n    componentobj.setActiveTab(id);\\n    \\n    var frame = dom.getElementById(iframeId);\\n    \\n    frame.height = dom.getElementById(id+\\\"-body\\\").style.height;\\n    \\n    /*var frame = window.frames[iframeId];\\n    \\n    if(!frame.height){\\n      frame = document.getElementById(iframeId);\\n    }\\n    \\n    frame.height = document.getElementById(id+\\\"-body\\\").style.height;*/\\n  }\\n\\n<\\/script>\"}]}","navigatorCommonModal",null,1,0,"admin","2015-07-21 16:59:19.0","23XQ4B4KHDBR","2015-10-26 14:48:02.0",10],["23XJBSONLEIE","23XF2T8HTFXK","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insertTemDataSource\",\"loginRequired\":\"false\",\"initScript\":\"var result=request.getParameter(\\\"newArr\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].DS_ID = java.util.UUID.randomUUID().toString();\\n}\\nWb.print(request,tmp);\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('newArr',r);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_pub_chart_tmp_ds(\\n  DS_ID,\\n  TMP_ID,\\n  TMP_DESC,\\n  DS_CODE,\\n  SQL_STRING,\\n  ATTRIBUTE1,\\n  CREATION_DATE,\\n  CREATED_BY,\\n  LAST_UPDATE_DATE,\\n  LAST_UPDATED_BY \\n  \\n)\\nvalues(\\n  {?DS_ID?},\\n  {?TMP_ID?},\\n  {?TMP_DESC?},\\n  {?TMP_CODE?},\\n  {?SQL_STRING?},\\n  {?ATTRIBUTE1?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?}  \\n  \\n)\",\"transaction\":\"start\",\"arrayName\":\"newArr\"}]}","insertTemDataSource",null,0,0,"admin","2015-07-22 09:25:16.0","23XQ4UO678F5","2015-08-24 10:33:09.0",3],["23XJBSONLEIK","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"insertTemAtrribute\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"insert into xip_pub_chart_tmp_dtl(\\n  TMP_DTL_ID,\\n  TMP_ID,\\n  PRO_ID,\\n  PRO_CODE,\\n  PRO_VAL,\\n  PRO_VAL_DISPLAY,\\n  CREATION_DATE,\\n  CREATED_BY,\\n  LAST_UPDATE_DATE,\\n  LAST_UPDATED_BY \\n)values(\\n  {?TMP_DTL_ID?},\\n  {?TMP_ID?},\\n  {?PRO_ID?},\\n  {?PRO_CODE?},\\n  {?PRO_VAL?},\\n  {?PRO_VAL_DISPLAY?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?}  \\n  \\n)\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"newArray\"}],\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].TMP_DTL_ID = java.util.UUID.randomUUID().toString();\\n  if(tmp[i].PRO_VAL==='' || tmp[i].PRO_VAL===null){\\n    tmp[i].PRO_VAL = tmp[i].PRO_VAL_DISPLAY;\\n  }\\n}\\nWb.print(request,tmp);\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('newArray',r);\",\"loginRequired\":\"false\"}","insertTemAttribute",null,0,0,"admin","2015-07-22 09:30:04.0","admin","2015-07-23 16:56:14.0",1],["23XJBSONLN7C","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"deleteTemplate\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_chart_tmp_dtl where TMP_ID={?TMP_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"templateGrid\"},{\"id\":\"query2\",\"sql\":\"delete from xip_pub_chart_tmp_ds where TMP_ID={?TMP_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"templateGrid\"},{\"id\":\"query3\",\"sql\":\"delete from xip_pub_chart_tmp where TMP_ID={?TMP_ID?}\",\"xwlMeta\":\"query\",\"arrayName\":\"templateGrid\"}],\"loginRequired\":\"false\"}","deleteTemplate",null,0,0,"admin","2015-07-22 20:11:50.0","admin","2015-07-22 20:43:46.0",18],["23XJBSONLPDZ","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"selectSqlDs\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select DS_ID,\\n       SQL_STRING \\nfrom xip_pub_chart_tmp_ds\\nwhere TMP_ID={?TMP_ID?}\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","selectSqlDs",null,0,0,"admin","2015-07-23 09:53:48.0","admin","2015-07-23 09:56:51.0",10],["23XJXR79UNWS","23XF2T8HTFXK","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"updateTemplate\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"isExist\",\"sql\":\"select count(1) as \\\"BT\\\" from xip_pub_chart_tmp x where x.TMP_CODE={?TMP_CODE?} and x.TMP_ID!={?TMP_ID?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"error\",\"message\":\"模板编码已存在\",\"name\":\"isExist.BT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update xip_pub_chart_tmp\\nset TMP_CODE={?TMP_CODE?},\\n    TMP_NAME={?TMP_NAME?},\\n    TMP_DESC={?TMP_DESC?},\\n    CHART_TYPE={?CHART_TYPE?},\\n    LEGEND={?LEGEND?},\\n    LEGEND_TYPE={?LEGEND_TYPE?},\\n    TMP_CHART_SRC_ID={?TMP_CHART_SRC_ID?},\\n    X_AXIS_TYPE={?X_AXIS_TYPE?},\\n    Y_AXIS_TYPE={?Y_AXIS_TYPE?},\\n    X_AXIS={?X_AXIS?},\\n    Y_AXIS={?Y_AXIS?},\\n    X_AXIS_DS={?X_AXIS_DS?},\\n    Y_AXIS_DS={?Y_AXIS_DS?},\\n    CREATION_DATE={?timestamp.sys.date?},\\n    CREATED_BY={?XIP.userId?},\\n    LAST_UPDATE_DATE={?timestamp.sys.date?},\\n    LAST_UPDATED_BY={?XIP.userId?}  \\nwhere TMP_ID={?TMP_ID?}\"}]}","updateTemplate",null,0,0,"admin","2015-07-23 14:25:19.0","23XQ4UO678F5","2015-08-17 15:50:05.0",12],["23XJXR79UPH7","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"updateTemDS\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query2\",\"sql\":\"update xip_pub_chart_tmp_ds\\nset DS_CODE={?DS_CODE?},\\n    TMP_DESC={?TMP_DESC?},\\n    SQL_STRING={?SQL_STRING?},\\n    CREATION_DATE={?timestamp.sys.date?},\\n    CREATED_BY={?XIP.userId?},\\n    LAST_UPDATE_DATE={?timestamp.sys.date?},\\n    LAST_UPDATED_BY={?XIP.userId?}  \\nwhere DS_ID='{DS_ID}'\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"newAr\"}],\"loginRequired\":\"false\"}","updateTemDS",null,0,0,"admin","2015-07-23 15:22:41.0","admin","2015-07-27 09:53:44.0",16],["23XJXR79UPHF","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"updateTemAttri\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query3\",\"sql\":\"update xip_pub_chart_tmp_dtl\\nset PRO_VAL={?PRO_VAL?},\\n    PRO_VAL_DISPLAY={?PRO_VAL_DISPLAY?},\\n    CREATION_DATE={?timestamp.sys.date?},\\n    CREATED_BY={?XIP.userId?},\\n    LAST_UPDATE_DATE={?timestamp.sys.date?},\\n    LAST_UPDATED_BY={?XIP.userId?}  \\nwhere TMP_DTL_ID={?TMP_DTL_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\",\"arrayName\":\"newA\"}],\"loginRequired\":\"false\"}","updateTemAttri",null,0,0,"admin","2015-07-23 15:22:55.0","admin","2015-07-24 15:48:08.0",14],["23XJXR79UQLU","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"delete_templateDS\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query2\",\"sql\":\"delete from xip_pub_chart_tmp_ds where TMP_ID={?TMP_ID?}\",\"transaction\":\"start\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","delete_templateDS",null,0,0,"admin","2015-07-23 16:08:08.0","admin","2015-07-23 16:30:16.0",19],["23XJXR79UWIC","23XF2T8HTFXK","{\"id\":\"module\",\"title\":\"delete_temAttri\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"query1\",\"sql\":\"delete from xip_pub_chart_tmp_dtl where TMP_DTL_ID={?TMP_DTL_ID?}\",\"xwlMeta\":\"query\"}],\"loginRequired\":\"false\"}","delete_temAttri",null,0,0,"admin","2015-07-24 14:03:06.0","admin","2015-07-24 14:05:05.0",17],["23XJXR79V2SP","23XI5TIL5BHK","{\"id\":\"module\",\"title\":\"平台图表数据展示页面\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"children\":[{\"id\":\"dataDisplayPanel\",\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"html\":\"<div id='dataDis'>\\n  <div align=\\\"center\\\">\\n    <font color=\\\"red\\\" size=\\\"3\\\">图表数据结构:<\\/font>\\n    <br>\\n    <br>\\n  <\\/div>\\n<div style=\\\"width:100%; height:550px; overflow:auto; border:1px solid #000000;\\\">\\n  option = {#chartOption#}\\n<\\/div>\\n  <div align=\\\"center\\\">\\n      &nbsp; &nbsp; &nbsp; &nbsp;\\n    更多例子请参考官网：\\n        <a href=\\\"http://echarts.baidu.com/doc/example.html\\\" target=\\\"_blank\\\">ECharts地址<\\/a>\\n  <\\/div>\\n<\\/div>\\n\",\"border\":\"false\"}]}],\"initScript\":\"var chartOption = request.getAttribute(\\\"chartOption\\\");\\nvar ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"chartOption\\\",chartOption);\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n\",\"loginRequired\":\"false\"}","平台图表数据展示页面",null,0,0,"admin","2015-07-27 09:25:31.0","admin","2015-07-27 15:50:31.0",2],["23XM4FWCCR40","23XM4FWCCR49","{\"id\":\"module\",\"title\":\"系统数据源配置\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"ajaxs\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"delAjax\",\"failure\":\"Wb.message('保存失败');\",\"xwlMeta\":\"ajax\",\"success\":\"Wb.message('删除成功');\\n\\nWb.load(sourceStore);\",\"url\":\"{#contextPath#}/platformAction.do?method=delDataSourceById\"},{\"id\":\"saveAjax\",\"failure\":\"Wb.message('保存失败');\",\"xwlMeta\":\"ajax\",\"success\":\"Wb.message('保存成功');\\nWb.load(sourceStore);\\ndataSourceWin.hide();\",\"url\":\"{#contextPath#}/platformAction.do?method=saveDataSource\"}]},{\"id\":\"stores\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"sourceStore\",\"xwlMeta\":\"store\",\"pageSize\":\"-1\",\"url\":\"{#contextPath#}/platformAction.do?method=getDataSources\",\"fields\":\"[{name:'name'},{name:'type'}]\"},{\"id\":\"dataSourceStore\",\"xwlMeta\":\"store\",\"pageSize\":\"-1\",\"autoLoad\":\"false\",\"url\":\"{#contextPath#}/platformAction.do?method=getDataSourceById\",\"fields\":\"[{name:'name'},{name:'value'}]\"}]},{\"id\":\"editors\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"PROPERTY_VALUE_COL_EDITOR\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"}]},{\"id\":\"gridColumns\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"sourcesGridColumns\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"ROW_NUM_COL\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"width\":\"40\",\"type\":\"rowNumber\"},{\"id\":\"SOURCE_ID_COL\",\"text\":\"数据源\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"name\"},{\"id\":\"SOURCE_TYPE_COL\",\"text\":\"类型\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"type\"}]},{\"id\":\"dataSourcesGridColumns\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"ROW_NUM_COL1\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"width\":\"40\",\"type\":\"rowNumber\"},{\"id\":\"PROPERTY_NAME_COL\",\"text\":\"名称\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"name\"},{\"id\":\"PROPERTY_VALUE_COL\",\"editor\":\"PROPERTY_VALUE_COL_EDITOR\",\"text\":\"值\",\"xwlMeta\":\"column\",\"width\":\"200\",\"dataIndex\":\"value\",\"flex\":\"1\"}]}]},{\"id\":\"toolbars\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"sourcesGridTbar\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"menuItem1\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_add\",\"text\":\"新增\",\"xwlMeta\":\"button\",\"click\":\"dataSourceStore.insert(0,{'name':'driverClassName','value':''});\\ndataSourceStore.insert(1,{'name':'url','value':''});\\ndataSourceStore.insert(2,{'name':'username','value':''});\\ndataSourceStore.insert(3,{'name':'password','value':''});\\ndataSourceStore.insert(4,{'name':'filters','value':'start'});\\ndataSourceStore.insert(5,{'name':'maxActive','value':'50'});\\ndataSourceStore.insert(6,{'name':'initialSize','value':'20'});\\ndataSourceStore.insert(7,{'name':'poolPreparedStatements','value':'false'});\\ndataSourceStore.insert(8,{'name':'maxOpenPreparedStatements','value':'200'});\\ndataSourceStore.insert(9,{'name':'validationQuery','value':'select 1 from wb_dual'});\\ndataSourceStore.insert(10,{'name':'testOnBorrow','value':'true'});\\ndataSourceStore.insert(11,{'name':'testOnReturn','value':'false'});\\ndataSourceStore.insert(12,{'name':'testWhileIdle','value':'true'});\\ndataSourceStore.insert(13,{'name':'timeBetweenEvictionRunsMillis','value':'60000'});\\ndataSourceStore.commitChanges();\\n\\nOP_TYPE.setValue('_added');\\n\\ndataSourceWin.setTitle('新增');\\ndataSourceWin.show();\"},{\"id\":\"menuItem2\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_edit\",\"text\":\"修改\",\"xwlMeta\":\"button\",\"click\":\"var sels = Wb.getSelRec(sourcesGrid);\\n\\nif(sels.length==0 || sels.length>1){\\n  Wb.message('请选择一条操作的记录');\\n  return;\\n}\\n\\nvar record = sels[0];\\nvar dataSourceId = record.get('name');\\n\\ndataSourceStore.getProxy().extraParams.dataSourceId = dataSourceId;\\nWb.load(dataSourceStore);\\n\\nOP_TYPE.setValue('_modified');\\nDATA_SOURCE_ID.setValue(dataSourceId);\\n\\nsetReadonly('DATA_SOURCE_ID',true);\\n\\ndataSourceWin.setTitle('修改');\\ndataSourceWin.show();\"},{\"id\":\"menuItem3\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_del\",\"text\":\"删除\",\"xwlMeta\":\"button\",\"click\":\"var recrods = Wb.getSelRec(sourcesGrid);\\n\\nif(recrods.length == 0 || recrods.length>1){\\n  Wb.message('请选择一条删除的记录!');\\n  return;\\n}\\n\\nExt.Msg.confirm('提示','确定删除所选记录？',function(btn){\\n  if(btn == 'yes'){\\n    var dataSourceId = recrods[0].get('name');\\n    \\n    delAjax.request({dataSourceId:dataSourceId});\\n  }\\n});\"},{\"id\":\"menuItem4\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"}]}]},{\"id\":\"wins\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"dataSourceWin\",\"clickOK\":\"var opType = OP_TYPE.getValue();\\nvar dataSourceId = DATA_SOURCE_ID.getValue();\\n\\nif(Ext.isEmpty(dataSourceId)){\\n  Wb.message('数据源ID不能为空');\\n  return;\\n}\\n\\nif(opType=='_added'){\\n  if(sourceStore.find('name',dataSourceId) > 0){\\n    Wb.message('数据源ID已经存在');\\n    return;\\n  }\\n}\\n\\n//校验数据源配置项是否全部填写\\nfor(var i=0; i<dataSourceStore.getCount(); i++){\\n  var record = dataSourceStore.getAt(i);\\n  \\n  if(Ext.isEmpty(record.get('value'))){\\n    Wb.message('配置项【'+record.get('name')+\\\"】不能为空\\\");\\n    return;\\n  }\\n}\\n\\nvar modifies = dataSourceStore.getModifiedRecords();\\n\\nif(modifies==='' || modifies.length===0){\\n  Ext.Msg.alert('提示','没有修改保存的记录!');\\n  return;\\n}\\n\\nvar json = \\\"{\\\";\\n\\nfor(var i=0; i<dataSourceStore.getCount(); i++){\\n  var record = dataSourceStore.getAt(i);\\n  json = json + \\\"'\\\" +record.get('name') + \\\"':'\\\" + record.get('value').replace(/\\\\'/g,\\\"\\\\\\\\'\\\") + \\\"',\\\";\\n}\\n\\njson = json.substring(0, json.length-1);\\n\\njson = json + \\\"}\\\";\\n\\nsaveAjax.request({\\\"dataSourceId\\\":dataSourceId,\\\"opType\\\":opType,\\\"modifyJson\\\":json});\\n\\n/*var msg = Ext.MessageBox.show({\\n  title \\t: \\t'请等待',\\n  msg \\t \\t: \\t'正在提交请求.......',\\n  width \\t: \\t240,\\n  wait\\t \\t: \\ttrue,\\n  progress : \\ttrue,\\n  closable : \\tfalse\\n});\\n\\nExt.Ajax.request({\\n  url : '{#contextPath#}/platformAction.do?method=saveDataSource',\\n  params:{\\\"dataSourceId\\\":dataSourceId,\\\"opType\\\":opType,\\\"modifyJson\\\":json},\\n  method: 'POST',\\n  success: function(response,options){\\n    msg.hide();\\n    Wb.message('保存成功');\\n    Wb.load(sourceStore);\\n    dataSourceWin.hide();\\n  },\\n  failure: function(response,options){\\n    msg.hide();\\n    Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应!\\\");\\n  }\\n});*/\",\"height\":\"450\",\"hide\":\"setReadonly('DATA_SOURCE_ID',false);\\nWb.load(sourceStore);\",\"xwlMeta\":\"window\",\"width\":\"600\",\"layout\":\"border\",\"children\":[{\"id\":\"mainPanel\",\"region\":\"north\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"columnWidth\":\".5\",\"children\":[{\"id\":\"OP_TYPE\",\"xwlMeta\":\"text\",\"hidden\":\"true\",\"fieldLabel\":\"操作标记\"},{\"id\":\"DATA_SOURCE_ID\",\"labelWidth\":\"60\",\"xwlMeta\":\"text\",\"width\":\"260\",\"labelAlign\":\"right\",\"fieldLabel\":\"数据源ID\"}],\"border\":\"false\"},{\"id\":\"dataSourceGrid\",\"region\":\"center\",\"store\":\"dataSourceStore\",\"xwlMeta\":\"grid\",\"exportExcel\":\"false\",\"columns\":\"dataSourcesGridColumns\",\"autoLoad\":\"false\",\"pluginType\":\"cellediting\",\"exportPrint\":\"false\"}],\"closeAction\":\"hide\"}]},{\"id\":\"viewport\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"tbar\":\"sourcesGridTbar\",\"id\":\"sourcesGrid\",\"itemclick\":\"if(record.get('type') == '系统内置'){\\n  btn_edit.disable();\\n  btn_del.disable();\\n}else{\\n  btn_edit.enable();\\n  btn_del.enable();\\n}\",\"multiSelect\":\"false\",\"itemdblclick\":\"btn_edit.fireEvent('click');\",\"store\":\"sourceStore\",\"xwlMeta\":\"grid\",\"exportExcel\":\"false\",\"columns\":\"sourcesGridColumns\",\"simpleSelect\":\"false\",\"exportPrint\":\"false\"}]}],\"initScript\":\"var contextPath = request.getContextPath();\\n\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\",\"loginRequired\":\"false\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\"}","系统数据源配置",null,1,0,"admin","2015-07-30 14:18:28.0","23XSWLY0BYLW","2015-08-25 10:48:36.0",1],["23XM4FWCCR49","23VL9CC5TPUO",null,"系统文件配置","close_icon",0,0,"admin","2015-07-30 14:24:41.0","admin","2015-07-31 16:11:11.0",70],["23XMES10ZDH0","23XM4FWCCR49","{\"id\":\"module\",\"title\":\"系统文件配置\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"stores\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"propertyStore\",\"xwlMeta\":\"store\",\"pageSize\":\"-1\",\"load\":\"propertyStore.sort('name', 'ASC');\",\"url\":\"{#contextPath#}/platformAction.do?method=getProperties\",\"fields\":\"[{name:'name'},{name:'value'},{name:'note'}]\"},{\"id\":\"dataSourceStore\",\"xwlMeta\":\"store\",\"pageSize\":\"-1\",\"load\":\"dataSourcesPanel.removeAll();\\nfor(var i=0; i<records.length; i++){\\n  var record = records[i];\\n  \\n  //dataSourcesPanel.add(createSpilitForm());\\n  dataSourcesPanel.add(createDataSourceForm(record));\\n}\",\"url\":\"{#contextPath#}/platformAction.do?method=getDataSources\",\"fields\":\"[\\n  {name:'dataSourceId'},\\n  {name:'driverClassName'},\\n  {name:'url'},\\n  {name:'username'},\\n  {name:'password'},\\n  {name:'filters'},\\n  {name:'maxActive'},\\n  {name:'initialSize'},\\n  {name:'poolPreparedStatements'},\\n  {name:'maxOpenPreparedStatements'},\\n  {name:'validationQuery'},\\n  {name:'testOnBorrow'},\\n  {name:'testOnReturn'},\\n  {name:'testWhileIdle'},\\n  {name:'timeBetweenEvictionRunsMillis'}\\n]\"}]},{\"id\":\"editors\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"value_property_Column_editor\",\"xwlMeta\":\"text\",\"autoCreate\":\"false\"}]},{\"id\":\"gridColumns\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"propertyGridColumns\",\"xwlMeta\":\"array\",\"children\":[{\"id\":\"rownumber\",\"text\":\"序号\",\"xwlMeta\":\"column\",\"width\":\"35\",\"type\":\"rowNumber\"},{\"id\":\"name_property_column\",\"text\":\"配置项\",\"xwlMeta\":\"column\",\"width\":\"220\",\"dataIndex\":\"name\"},{\"id\":\"value_property_Column\",\"editor\":\"value_property_Column_editor\",\"text\":\"值\",\"xwlMeta\":\"column\",\"width\":\"320\",\"dataIndex\":\"value\"},{\"id\":\"note_property_Column\",\"text\":\"说明\",\"xwlMeta\":\"column\",\"width\":\"400\",\"dataIndex\":\"note\"}]}]},{\"id\":\"toolbars\",\"xwlMeta\":\"folder\",\"children\":[{\"id\":\"propertyGridTbar\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"menuItem1\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_save\",\"text\":\"保存\",\"xwlMeta\":\"button\",\"click\":\"var modifies = propertyStore.getModifiedRecords();\\n\\nif(modifies==='' || modifies.length===0){\\n  Ext.Msg.alert('提示','没有修改保存的记录!');\\n  return;\\n}\\n\\nvar json = \\\"{\\\";\\n\\nfor(var i=0; i<modifies.length; i++){\\n  var record = modifies[i];\\n  json = json + \\\"'\\\" +record.get('name') + \\\"':'\\\" + encodeURI(record.get('value')).replace(/\\\\'/g,\\\"\\\\\\\\'\\\") + \\\"',\\\";\\n}\\n\\njson = json.substring(0, json.length-1);\\n\\njson = json + \\\"}\\\";\\n\\n//var json = Ext.JSON.encode(json);\\n\\nvar msg = Ext.MessageBox.show({\\n  title \\t: \\t'请等待',\\n  msg \\t \\t: \\t'正在提交请求.......',\\n  width \\t: \\t240,\\n  wait\\t \\t: \\ttrue,\\n  progress : \\ttrue,\\n  closable : \\tfalse\\n});\\n\\nExt.Ajax.request({\\n  url : '{#contextPath#}'+'/platformAction.do?method=saveProperties',\\n  params:{\\\"modifyJson\\\":json},\\n  method: 'POST',\\n  success: function(response,options){\\n    msg.hide();\\n    var temp = response.responseText;\\n    var resp = Ext.JSON.decode(temp);\\n    if(resp.flag=='0'){\\n      Ext.Msg.alert(\\\"提示\\\",'保存成功!');\\n      propertyStore.load();\\n    }else{\\n      Ext.Msg.alert(\\\"提示\\\",'保存失败:'+resp.msg);\\n    }\\n  },\\n  failure: function(response,options){\\n    msg.hide();\\n    Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应!\\\");\\n  }\\n});\",\"iconCls\":\"save_icon\"},{\"id\":\"menuItem2\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"}]},{\"id\":\"dataSourcesPanelTbar\",\"xwlMeta\":\"toolbar\",\"children\":[{\"id\":\"menuItem3\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"},{\"id\":\"btn_add\",\"text\":\"新增数据源\",\"xwlMeta\":\"button\",\"click\":\"//dataSourcesPanel.add(createSpilitForm());\\ndataSourcesPanel.add(createDataSourceForm(null));\",\"iconCls\":\"new_icon\"},{\"id\":\"menuItem4\",\"text\":\"-\",\"xwlMeta\":\"menuItem\"}]}]},{\"id\":\"viewport1\",\"xwlMeta\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"id\":\"tabPanel\",\"xwlMeta\":\"tabPanel\",\"children\":[{\"activate\":\"Wb.load(propertyStore);\",\"id\":\"basePanel\",\"title\":\"基础配置\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"fit\",\"children\":[{\"tbar\":\"propertyGridTbar\",\"id\":\"propertyGrid\",\"multiSelect\":\"false\",\"selType\":\"checkboxmodel\",\"store\":\"propertyStore\",\"xwlMeta\":\"grid\",\"sortableColumns\":\"true\",\"columns\":\"propertyGridColumns\",\"pluginType\":\"cellediting\"}],\"border\":\"false\"},{\"activate\":\"Wb.load(dataSourceStore);\",\"id\":\"dataSourcesPanel\",\"tbar\":\"dataSourcesPanelTbar\",\"title\":\"数据源配置\",\"frame\":\"true\",\"autoScroll\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"border\":\"false\"}]}]}],\"initScript\":\"var contextPath = request.getContextPath();\\n\\nrequest.setAttribute(\\\"contextPath\\\",contextPath);\",\"initialize\":\"var maxUid = 0;\\n\\nvar emptyUid = 0;\\n\\nfunction createSpilitForm(){\\n  var panel = new Ext.panel.Panel({\\n    id : \\\"emptyPanel_\\\" + emptyUid,\\n        frame : true,\\n        layout : \\\"column\\\",\\n        //columnWidth : .96,\\n        width : '20px',\\n        html : \\\"&nbsp;\\\",\\n        xtype : \\\"panel\\\",\\n        border : false,\\n        baseCls : 'my-panel-no-border'\\n  });\\n  \\n  emptyUid++;\\n  \\n  return panel;\\n}\\n\\nfunction createDataSourceForm(record){\\n  var uid = maxUid;\\n  \\n  var newForm = new Ext.form.Panel({\\n    id : \\\"dateSourceForm_\\\" + uid,\\n    //frame : true,\\n    layout : \\\"form\\\",\\n    bodyPadding : \\\"5 10 10 5\\\",\\n    width : 350,\\n    height : 500,\\n    //title : record==null?\\\"数据源:新增数据源\\\":\\\"数据源:\\\"+record.get('dataSourceId'),\\n    //collapsible : true,\\n    //style : 'border-width:0px',\\n    //x : 5,\\n    listeners:{\\n      'afterrender':function(){\\n        if(record!=null){\\n          setReadonly(\\\"dataSourceId_\\\" + uid, true);\\n        }\\n      }\\n    },\\n    items : [{\\n      id : \\\"panel1_\\\" + uid,\\n      frame : true,\\n      layout : \\\"column\\\",\\n      columnWidth : .5,\\n      xtype : \\\"panel\\\",\\n      border : false,\\n      baseCls : 'my-panel-no-border',\\n      items : [ {\\n        id : \\\"panel2_\\\" + uid,\\n        frame : true,\\n        layout : \\\"column\\\",\\n        columnWidth : .96,\\n        html : \\\"&nbsp;\\\",\\n        xtype : \\\"panel\\\",\\n        border : false,\\n        baseCls : 'my-panel-no-border'\\n      }, {\\n        id : \\\"btn_save_\\\" + uid,\\n        iconCls : \\\"ok_icon\\\",\\n        x : 5,\\n        xtype : \\\"button\\\",\\n        text : \\\"保存\\\",\\n          listeners:{\\n            'click':function(){\\n              var opType = Ext.getCmp(\\\"opType_\\\" + uid).getValue();\\n              var dataSourceId = Ext.getCmp(\\\"dataSourceId_\\\" + uid).getValue();\\n\\n              if(Ext.isEmpty(dataSourceId)){\\n                Wb.message('数据源ID不能为空');\\n                return;\\n              }\\n\\n              if(opType=='_added'){\\n                if(dataSourceStore.find('dataSourceId',dataSourceId) > 0){\\n                  Wb.message('数据源ID已经存在');\\n                  return;\\n                }\\n              }\\n\\n              //校验数据源配置项是否全部填写\\n              if(!Ext.getCmp(\\\"dateSourceForm_\\\" + uid).getForm().isValid()){\\n                Wb.message('数据源配置项不能为空');\\n                return;\\n              }\\n\\n              var json = \\\"{\\\" +\\n                  \\\"'driverClassName':'\\\" + Ext.getCmp(\\\"driverClassName_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'url':'\\\" + Ext.getCmp(\\\"jdbcUrl_\\\" + uid).getValue().replace(/\\\\'/g,\\\"\\\\\\\\'\\\") + \\\"',\\\" +\\n                  \\\"'username':'\\\" + Ext.getCmp(\\\"username_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'password':'\\\" + Ext.getCmp(\\\"password_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'filters':'\\\" + Ext.getCmp(\\\"filters_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'maxActive':'\\\" + Ext.getCmp(\\\"maxActive_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'initialSize':'\\\" + Ext.getCmp(\\\"initialSize_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'poolPreparedStatements':'\\\" + Ext.getCmp(\\\"poolPreparedStatements_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'maxOpenPreparedStatements':'\\\" + Ext.getCmp(\\\"maxOpenPreparedStatements_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'validationQuery':'\\\" + Ext.getCmp(\\\"validationQuery_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'testOnBorrow':'\\\" + Ext.getCmp(\\\"testOnBorrow_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'testOnReturn':'\\\" + Ext.getCmp(\\\"testOnReturn_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'testWhileIdle':'\\\" + Ext.getCmp(\\\"testWhileIdle_\\\" + uid).getValue() + \\\"',\\\" +\\n                  \\\"'timeBetweenEvictionRunsMillis':'\\\" + Ext.getCmp(\\\"timeBetweenEvictionRunsMillis_\\\" + uid).getValue() + \\\"'}\\\";\\n\\n              var msg = Ext.MessageBox.show({\\n                title \\t : \\t'请等待',\\n                msg \\t : \\t'正在提交请求.......',\\n                width \\t : \\t240,\\n                wait\\t : \\ttrue,\\n                progress : \\ttrue,\\n                closable : \\tfalse\\n              });\\n\\n              var dataSourceId = Ext.getCmp(\\\"dataSourceId_\\\" + uid).getValue();\\n\\n              Ext.Ajax.request({\\n                url : '{#contextPath#}/platformAction.do?method=saveDataSource',\\n                params:{\\\"dataSourceId\\\":dataSourceId,\\\"opType\\\":opType,\\\"modifyJson\\\":json},\\n                method: 'POST',\\n                success: function(response,options){\\n                  msg.hide();\\n                  dataSourceStore.insert(0,json);\\n                  dataSourceStore.commitChanges();\\n                  if(opType=='_added'){\\n                    Ext.getCmp(\\\"opType_\\\" + uid).setValue('_modified');\\n                    setReadonly(\\\"dataSourceId_\\\" + uid, true);\\n                  }\\n                  Wb.message('保存成功');\\n                },\\n                failure: function(response,options){\\n                  msg.hide();\\n                  Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应!\\\");\\n                }\\n              });\\n              \\n            }\\n          }\\n      }, {\\n        id : \\\"btn_del_\\\" + uid,\\n        iconCls : \\\"cancel_icon\\\",\\n        x : 10,\\n        xtype : \\\"button\\\",\\n        hidden : record==null ? false : record.get('dataSourceId') == 'xipDefaultDS' ? true : false,\\n        text : \\\"删除\\\",\\n          listeners:{\\n            'click':function(){\\n              Ext.Msg.confirm('提示','确定删除此数据源？',function(btn){\\n                if(btn=='yes'){\\n                  \\n                  if(Ext.getCmp(\\\"opType_\\\" + uid) == '_added'){\\n                    dataSourcesPanel.remove(Ext.getCmp(\\\"dateSourceForm_\\\" + uid), true);\\n                    Wb.message('删除成功!');\\n                    return;\\n                  }else{\\n                  \\tvar msg = Ext.MessageBox.show({\\n                      title \\t : \\t'请等待',\\n                      msg \\t : \\t'正在提交请求.......',\\n                      width \\t : \\t240,\\n                      wait\\t : \\ttrue,\\n                      progress : \\ttrue,\\n                      closable : \\tfalse\\n                    });\\n                    \\n                    var dataSourceId = Ext.getCmp(\\\"dataSourceId_\\\" + uid).getValue();\\n\\n                    Ext.Ajax.request({\\n                      url : '{#contextPath#}/platformAction.do?method=delDataSourceById',\\n                      params:{\\\"dataSourceId\\\":dataSourceId},\\n                      method: 'POST',\\n                      success: function(response,options){\\n                        msg.hide();\\n                        dataSourcesPanel.remove(Ext.getCmp(\\\"dateSourceForm_\\\" + uid), true);\\n                        dataSourceStore.remove(dataSourceStore.findRecord('dataSourceId',dataSourceId));\\n                        Wb.message('删除成功');\\n                      },\\n                      failure: function(response,options){\\n                        msg.hide();\\n                        Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应!\\\");\\n                      }\\n                    });\\n                  }\\n                }\\n              });\\n            }\\n          }\\n      } ]\\n    },\\n             {\\n               id : \\\"dateSourceFieldSet_\\\" + uid,\\n               title : \\\"数据源\\\",\\n               //collapsible : true,\\n               layout : \\\"fit\\\",\\n               xtype : \\\"fieldset\\\",\\n               title : record==null?\\\"数据源:新增数据源\\\":\\\"数据源:\\\"+record.get('dataSourceId'),\\n               items : [\\n                 {\\n                   id : \\\"panel3_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .98,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"dataSourceId_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"数据源ID\\\",\\n                     xtype : \\\"textfield\\\",\\n                     value : record==null?\\\"\\\":record.get('dataSourceId')\\n                   },{\\n                      id : \\\"opType_\\\" + uid,\\n                      labelWidth : 80,\\n                      width : 250,\\n                      labelAlign : \\\"right\\\",\\n                      fieldLabel : \\\"操作类型\\\",\\n                      xtype : \\\"textfield\\\",\\n                      hidden : true,\\n                      value : record==null?\\\"_added\\\":\\\"_modified\\\"\\n                    } ]\\n                 },\\n                 {\\n                   id : \\\"panel4_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"driverClassName_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"mysql\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"驱动类型\\\",\\n                     forceSelection : true,\\n                     xtype : \\\"combobox\\\",\\n                     minChars : 0,\\n                     store : [ [ 'com.mysql.jdbc.Driver', 'mysql' ],\\n                        [ 'oracle.jdbc.driver.OracleDriver', 'oracle' ] ],\\n                     forceList : false,\\n                     value : record==null?\\\"com.mysql.jdbc.Driver\\\":record.get('driverClassName')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel5_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .5,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"jdbcUrl_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"连接地址\\\",\\n                     xtype : \\\"textfield\\\",\\n                     value : record==null?\\\"\\\":record.get('url')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel6_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"username_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"用户名\\\",\\n                     xtype : \\\"textfield\\\",\\n                     value : record==null?\\\"\\\":record.get('username')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel7_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"password_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"密码\\\",\\n                     xtype : \\\"textfield\\\",\\n                     value : record==null?\\\"\\\":record.get('password')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel8_\\\" + uid,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"initialSize_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"20\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"默认连接数\\\",\\n                     xtype : \\\"textfield\\\",\\n                     value : record==null?\\\"20\\\":record.get('initialSize')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel9_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"maxActive_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"20\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"最大连接数\\\",\\n                     xtype : \\\"textfield\\\",\\n                     value : record==null?\\\"20\\\":record.get('maxActive')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel10_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"poolPreparedStatements_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"false\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"是否缓冲PS\\\",\\n                     forceSelection : true,\\n                     xtype : \\\"combobox\\\",\\n                     minChars : 0,\\n                     store : [ [ 'true', '是' ],\\n                              [ 'false', '否' ] ],\\n                     forceList : false,\\n                     value : record==null?\\\"false\\\":record.get('poolPreparedStatements')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel11_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"maxOpenPreparedStatements_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"200\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"最大PS数\\\",\\n                     xtype : \\\"textfield\\\",\\n                     value : record==null?\\\"200\\\":record.get('maxOpenPreparedStatements')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel12_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .5,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"validationQuery_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"select 1 from wb_dual\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"检测连接SQL\\\",\\n                     xtype : \\\"textfield\\\",\\n                     value : record==null?\\\"select 1 from wb_dual\\\":record.get('validationQuery')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel13_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"timeBetweenEvictionRunsMillis_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"60000\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"连接间隔时间\\\",\\n                     xtype : \\\"textfield\\\",\\n                     value : record==null?\\\"60000\\\":record.get('timeBetweenEvictionRunsMillis')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel14_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"testOnBorrow_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"true\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"取连接前检验\\\",\\n                     forceSelection : true,\\n                     xtype : \\\"combobox\\\",\\n                     minChars : 0,\\n                     store : [ [ 'true', '是' ],\\n                              [ 'false', '否' ] ],\\n                     forceList : false,\\n                     value : record==null?\\\"true\\\":record.get('testOnBorrow')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel15_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"testWhileIdle_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"true\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"申请连接检验\\\",\\n                     forceSelection : true,\\n                     xtype : \\\"combobox\\\",\\n                     minChars : 0,\\n                     store : [ [ 'true', '是' ],\\n                              [ 'false', '否' ] ],\\n                     forceList : false,\\n                     value : record==null?\\\"false\\\":record.get('testOnReturn')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel16_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"testOnReturn_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"false\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"归还连接检验\\\",\\n                     forceSelection : true,\\n                     xtype : \\\"combobox\\\",\\n                     minChars : 0,\\n                     store : [ [ 'true', '是' ],\\n                              [ 'false', '否' ] ],\\n                     forceList : false,\\n                     value : record==null?\\\"true\\\":record.get('testWhileIdle')\\n                   } ]\\n                 },\\n                 {\\n                   id : \\\"panel17_\\\" + uid,\\n                   frame : true,\\n                   layout : \\\"form\\\",\\n                   columnWidth : .25,\\n                   xtype : \\\"panel\\\",\\n                   border : false,\\n                   baseCls : 'my-panel-no-border',\\n                   items : [ {\\n                     id : \\\"filters_\\\" + uid,\\n                     labelWidth : 80,\\n                     allowBlank : false,\\n                     value : \\\"stat\\\",\\n                     labelAlign : \\\"right\\\",\\n                     fieldLabel : \\\"扩展插件\\\",\\n                     forceSelection : true,\\n                     xtype : \\\"combobox\\\",\\n                     minChars : 0,\\n                     store : [ [ 'stat', '监控统计' ],\\n                              [ 'log4j', '日志' ],\\n                              [ 'wall', '防注入' ] ],\\n                     forceList : false,\\n                     value : record==null?\\\"stat\\\":record.get('filters')\\n                   } ]\\n                 } ]\\n             }]\\n\\n  });\\n  maxUid = maxUid + 1;\\n  \\n  return newForm;\\n}\\n\\n// function createDataSourceForm(record){\\n//   var uid = maxUid;\\n  \\n//   var newForm = new Ext.form.Panel({\\n//     id : \\\"dateSourceForm_\\\" + uid,\\n//     frame : true,\\n//     layout : \\\"form\\\",\\n//     bodyPadding : \\\"5 10 10 5\\\",\\n//     title : record==null?\\\"数据源:新增数据源\\\":\\\"数据源:\\\"+record.get('dataSourceId'),\\n//     collapsible : true,\\n//     listeners:{\\n//       'afterrender':function(){\\n//         if(record!=null){\\n//           setReadonly(\\\"dataSourceId_\\\" + uid, true);\\n//         }\\n//       }\\n//     },\\n//     items : [\\n//       {\\n//         id : \\\"panel1_\\\" + uid,\\n//         frame : true,\\n//         layout : \\\"column\\\",\\n//         columnWidth : .5,\\n//         xtype : \\\"panel\\\",\\n//         border : false,\\n//         baseCls : 'my-panel-no-border',\\n//         items : [ {\\n//           id : \\\"panel2_\\\" + uid,\\n//           frame : true,\\n//           layout : \\\"column\\\",\\n//           columnWidth : .98,\\n//           xtype : \\\"panel\\\",\\n//           border : false,\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"dataSourceId_\\\" + uid,\\n//             labelWidth : 80,\\n//             width : 250,\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"数据源ID\\\",\\n//             xtype : \\\"textfield\\\",\\n//             value : record==null?\\\"\\\":record.get('dataSourceId')\\n//           },{\\n//             id : \\\"opType_\\\" + uid,\\n//             labelWidth : 80,\\n//             width : 250,\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"操作类型\\\",\\n//             xtype : \\\"textfield\\\",\\n//             hidden : true,\\n//             value : record==null?\\\"_added\\\":\\\"_modified\\\"\\n//           } ]\\n//         }, {\\n//           id : \\\"btn_save_\\\" + uid,\\n//           iconCls : \\\"ok_icon\\\",\\n//           x : 5,\\n//           xtype : \\\"button\\\",\\n//           text : \\\"保存\\\",\\n//           listeners:{\\n//             'click':function(){\\n//               var opType = Ext.getCmp(\\\"opType_\\\" + uid).getValue();\\n//               var dataSourceId = Ext.getCmp(\\\"dataSourceId_\\\" + uid).getValue();\\n\\n//               if(Ext.isEmpty(dataSourceId)){\\n//                 Wb.message('数据源ID不能为空');\\n//                 return;\\n//               }\\n\\n//               if(opType=='_added'){\\n//                 if(dataSourceStore.find('dataSourceId',dataSourceId) > 0){\\n//                   Wb.message('数据源ID已经存在');\\n//                   return;\\n//                 }\\n//               }\\n\\n//               //校验数据源配置项是否全部填写\\n//               if(!Ext.getCmp(\\\"dateSourceForm_\\\" + uid).getForm().isValid()){\\n//                 Wb.message('数据源配置项不能为空');\\n//                 return;\\n//               }\\n\\n//               var json = \\\"{\\\" +\\n//                   \\\"'driverClassName':'\\\" + Ext.getCmp(\\\"driverClassName_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'url':'\\\" + Ext.getCmp(\\\"jdbcUrl_\\\" + uid).getValue().replace(/\\\\'/g,\\\"\\\\\\\\'\\\") + \\\"',\\\" +\\n//                   \\\"'username':'\\\" + Ext.getCmp(\\\"username_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'password':'\\\" + Ext.getCmp(\\\"password_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'filters':'\\\" + Ext.getCmp(\\\"filters_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'maxActive':'\\\" + Ext.getCmp(\\\"maxActive_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'initialSize':'\\\" + Ext.getCmp(\\\"initialSize_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'poolPreparedStatements':'\\\" + Ext.getCmp(\\\"poolPreparedStatements_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'maxOpenPreparedStatements':'\\\" + Ext.getCmp(\\\"maxOpenPreparedStatements_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'validationQuery':'\\\" + Ext.getCmp(\\\"validationQuery_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'testOnBorrow':'\\\" + Ext.getCmp(\\\"testOnBorrow_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'testOnReturn':'\\\" + Ext.getCmp(\\\"testOnReturn_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'testWhileIdle':'\\\" + Ext.getCmp(\\\"testWhileIdle_\\\" + uid).getValue() + \\\"',\\\" +\\n//                   \\\"'timeBetweenEvictionRunsMillis':'\\\" + Ext.getCmp(\\\"timeBetweenEvictionRunsMillis_\\\" + uid).getValue() + \\\"'}\\\";\\n\\n//               var msg = Ext.MessageBox.show({\\n//                 title \\t : \\t'请等待',\\n//                 msg \\t : \\t'正在提交请求.......',\\n//                 width \\t : \\t240,\\n//                 wait\\t : \\ttrue,\\n//                 progress : \\ttrue,\\n//                 closable : \\tfalse\\n//               });\\n\\n//               var dataSourceId = Ext.getCmp(\\\"dataSourceId_\\\" + uid).getValue();\\n\\n//               Ext.Ajax.request({\\n//                 url : '{#contextPath#}/platformAction.do?method=saveDataSource',\\n//                 params:{\\\"dataSourceId\\\":dataSourceId,\\\"opType\\\":opType,\\\"modifyJson\\\":json},\\n//                 method: 'POST',\\n//                 success: function(response,options){\\n//                   msg.hide();\\n//                   dataSourceStore.insert(0,json);\\n//                   dataSourceStore.commitChanges();\\n//                   if(opType=='_added'){\\n//                     Ext.getCmp(\\\"opType_\\\" + uid).setValue('_modified');\\n//                     setReadonly(\\\"dataSourceId_\\\" + uid, true);\\n//                   }\\n//                   Wb.message('保存成功');\\n//                 },\\n//                 failure: function(response,options){\\n//                   msg.hide();\\n//                   Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应!\\\");\\n//                 }\\n//               });\\n              \\n//             }\\n//           }\\n//         }, {\\n//           id : \\\"btn_del_\\\" + uid,\\n//           iconCls : \\\"cancel_icon\\\",\\n//           x : 10,\\n//           xtype : \\\"button\\\",\\n//           text : \\\"删除\\\",\\n//           listeners:{\\n//             'click':function(){\\n//               Ext.Msg.confirm('提示','确定删除此数据源？',function(btn){\\n//                 if(btn=='yes'){\\n                  \\n//                   if(Ext.getCmp(\\\"opType_\\\" + uid) == '_added'){\\n//                     dataSourcesPanel.remove(Ext.getCmp(\\\"dateSourceForm_\\\" + uid), true);\\n//                     Wb.message('删除成功!');\\n//                     return;\\n//                   }else{\\n//                   \\tvar msg = Ext.MessageBox.show({\\n//                       title \\t : \\t'请等待',\\n//                       msg \\t : \\t'正在提交请求.......',\\n//                       width \\t : \\t240,\\n//                       wait\\t : \\ttrue,\\n//                       progress : \\ttrue,\\n//                       closable : \\tfalse\\n//                     });\\n                    \\n//                     var dataSourceId = Ext.getCmp(\\\"dataSourceId_\\\" + uid).getValue();\\n\\n//                     Ext.Ajax.request({\\n//                       url : '{#contextPath#}/platformAction.do?method=delDataSourceById',\\n//                       params:{\\\"dataSourceId\\\":dataSourceId},\\n//                       method: 'POST',\\n//                       success: function(response,options){\\n//                         msg.hide();\\n//                         dataSourcesPanel.remove(Ext.getCmp(\\\"dateSourceForm_\\\" + uid), true);\\n//                         dataSourceStore.remove(dataSourceStore.findRecord('dataSourceId',dataSourceId));\\n//                         Wb.message('删除成功');\\n//                       },\\n//                       failure: function(response,options){\\n//                         msg.hide();\\n//                         Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应!\\\");\\n//                       }\\n//                     });\\n//                   }\\n//                 }\\n//               });\\n//             }\\n//           }\\n//         } ]\\n//       },\\n//       {\\n//         id : \\\"panel3_\\\" + uid,\\n//         frame : true,\\n//         layout : \\\"column\\\",\\n//         columnWidth : .5,\\n//         xtype : \\\"panel\\\",\\n//         border : false,\\n//         baseCls : 'my-panel-no-border',\\n//         items : [\\n//           {\\n//             id : \\\"panel4_\\\" + uid,\\n//             layout : \\\"form\\\",\\n//             columnWidth : .25,\\n//             xtype : \\\"panel\\\",\\n//             baseCls : 'my-panel-no-border',\\n//             items : [ {\\n//               id : \\\"driverClassName_\\\" + uid,\\n//               labelWidth : 80,\\n//               value : record==null?\\\"mysql\\\":record.get('driverClassName'),\\n//               labelAlign : \\\"right\\\",\\n//               fieldLabel : \\\"驱动类型\\\",\\n//               allowBlank:false,\\n//               forceSelection : true,\\n//               editable : false,\\n//               xtype : \\\"combobox\\\",\\n//               minChars : 0,\\n//               store : [ [ 'com.mysql.jdbc.Driver', 'mysql' ],\\n//                        [ 'oracle.jdbc.driver.OracleDriver', 'oracle' ] ],\\n//               forceList : false\\n//             } ]\\n//           },\\n//           {\\n//             id : \\\"panel5_\\\" + uid,\\n//             layout : \\\"form\\\",\\n//             columnWidth : .25,\\n//             xtype : \\\"panel\\\",\\n//             baseCls : 'my-panel-no-border',\\n//             items : [ {\\n//               id : \\\"filters_\\\" + uid,\\n//               labelWidth : 80,\\n//               value : record==null?\\\"stat\\\":record.get('filters'),\\n//               labelAlign : \\\"right\\\",\\n//               fieldLabel : \\\"扩展插件\\\",\\n//               allowBlank:false,\\n//               forceSelection : true,\\n//               editable : false,\\n//               xtype : \\\"combobox\\\",\\n//               minChars : 0,\\n//               store : [ [ 'stat', '监控统计' ],\\n//                        [ 'log4j', '日志' ], [ 'wall', '防注入' ] ],\\n//               forceList : false\\n//             } ]\\n//           }, {\\n//             id : \\\"panel6_\\\" + uid,\\n//             layout : \\\"form\\\",\\n//             columnWidth : .5,\\n//             xtype : \\\"panel\\\",\\n//             baseCls : 'my-panel-no-border',\\n//             items : [ {\\n//               id : \\\"jdbcUrl_\\\" + uid,\\n//               labelWidth : 80,\\n//               labelAlign : \\\"right\\\",\\n//               fieldLabel : \\\"连接地址\\\",\\n//               allowBlank:false,\\n//               xtype : \\\"textfield\\\",\\n//               value : record==null?\\\"\\\":record.get('url')\\n//             } ]\\n//           } ]\\n//       }, {\\n//         id : \\\"panel7_\\\" + uid,\\n//         layout : \\\"column\\\",\\n//         columnWidth : .5,\\n//         xtype : \\\"panel\\\",\\n//         baseCls : 'my-panel-no-border',\\n//         items : [ {\\n//           id : \\\"panel8_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"username_\\\" + uid,\\n//             labelWidth : 80,\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"用户名\\\",\\n//             allowBlank:false,\\n//             xtype : \\\"textfield\\\",\\n//             value : record==null?\\\"\\\":record.get('username')\\n//           } ]\\n//         }, {\\n//           id : \\\"panel9_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"password_\\\" + uid,\\n//             labelWidth : 80,\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"密码\\\",\\n//             allowBlank:false,\\n//             xtype : \\\"textfield\\\",\\n//             value : record==null?\\\"\\\":record.get('password')\\n//           } ]\\n//         }, {\\n//           id : \\\"panel10_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"initialSize_\\\" + uid,\\n//             labelWidth : 80,\\n//             value : record==null?\\\"20\\\":record.get('initialSize'),\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"默认连接数\\\",\\n//             allowBlank:false,\\n//             xtype : \\\"textfield\\\"\\n//           } ]\\n//         }, {\\n//           id : \\\"panel11_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"maxActive_\\\" + uid,\\n//             labelWidth : 80,\\n//             value : record==null?\\\"20\\\":record.get('maxActive'),\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"最大连接数\\\",\\n//             allowBlank:false,\\n//             xtype : \\\"textfield\\\"\\n//           } ]\\n//         } ]\\n//       }, {\\n//         id : \\\"panel12_\\\" + uid,\\n//         layout : \\\"column\\\",\\n//         columnWidth : .5,\\n//         xtype : \\\"panel\\\",\\n//         baseCls : 'my-panel-no-border',\\n//         items : [ {\\n//           id : \\\"panel13_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"poolPreparedStatements_\\\" + uid,\\n//             labelWidth : 80,\\n//             value : record==null?\\\"false\\\":record.get('poolPreparedStatements'),\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"是否缓冲PS\\\",\\n//             allowBlank:false,\\n//             forceSelection : true,\\n//             editable : false,\\n//             xtype : \\\"combobox\\\",\\n//             minChars : 0,\\n//             store : [ [ 'true', '是' ], [ 'false', '否' ] ],\\n//             forceList : false\\n//           } ]\\n//         }, {\\n//           id : \\\"panel14_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"maxOpenPreparedStatements_\\\" + uid,\\n//             labelWidth : 80,\\n//             value : record==null?\\\"200\\\":record.get('maxOpenPreparedStatements'),\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"最大PS数\\\",\\n//             allowBlank:false,\\n//             xtype : \\\"textfield\\\"\\n//           } ]\\n//         }, {\\n//           id : \\\"panel15_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .5,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"validationQuery_\\\" + uid,\\n//             labelWidth : 80,\\n//             value : record==null?\\\"select 1 from wb_dual\\\":record.get('validationQuery'),\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"检测连接SQL\\\",\\n//             allowBlank:false,\\n//             xtype : \\\"textfield\\\"\\n//           } ]\\n//         } ]\\n//       }, {\\n//         id : \\\"panel16_\\\" + uid,\\n//         layout : \\\"column\\\",\\n//         columnWidth : .5,\\n//         xtype : \\\"panel\\\",\\n//         baseCls : 'my-panel-no-border',\\n//         items : [ {\\n//           id : \\\"panel17_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"timeBetweenEvictionRunsMillis_\\\" + uid,\\n//             labelWidth : 80,\\n//             value : record==null?\\\"60000\\\":record.get('timeBetweenEvictionRunsMillis'),\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"连接间隔时间\\\",\\n//             allowBlank:false,\\n//             xtype : \\\"textfield\\\"\\n//           } ]\\n//         }, {\\n//           id : \\\"panel18_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"testOnBorrow_\\\" + uid,\\n//             labelWidth : 80,\\n//             value : record==null?\\\"true\\\":record.get('testOnBorrow'),\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"取连接前检验\\\",\\n//             allowBlank:false,\\n//             forceSelection : true,\\n//             editable : false,\\n//             xtype : \\\"combobox\\\",\\n//             minChars : 0,\\n//             store : [ [ 'true', '是' ], [ 'false', '否' ] ],\\n//             forceList : false\\n//           } ]\\n//         }, {\\n//           id : \\\"panel19_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"testOnReturn_\\\" + uid,\\n//             labelWidth : 80,\\n//             value : record==null?\\\"false\\\":record.get('testOnReturn'),\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"归还前检验\\\",\\n//             allowBlank:false,\\n//             forceSelection : true,\\n//             editable : false,\\n//             xtype : \\\"combobox\\\",\\n//             minChars : 0,\\n//             store : [ [ 'true', '是' ], [ 'false', '否' ] ],\\n//             forceList : false\\n//           } ]\\n//         }, {\\n//           id : \\\"panel20_\\\" + uid,\\n//           layout : \\\"form\\\",\\n//           columnWidth : .25,\\n//           xtype : \\\"panel\\\",\\n//           baseCls : 'my-panel-no-border',\\n//           items : [ {\\n//             id : \\\"testWhileIdle_\\\" + uid,\\n//             labelWidth : 80,\\n//             value : record==null?\\\"true\\\":record.get('testWhileIdle'),\\n//             labelAlign : \\\"right\\\",\\n//             fieldLabel : \\\"申请时检验\\\",\\n//             allowBlank:false,\\n//             forceSelection : true,\\n//             editable : false,\\n//             xtype : \\\"combobox\\\",\\n//             minChars : 0,\\n//             store : [ [ 'true', '是' ], [ 'false', '否' ] ],\\n//             forceList : false\\n//           } ]\\n//         } ]\\n//       } ]\\n\\n//   });\\n//   maxUid = maxUid + 1;\\n  \\n//   return newForm;\\n// }\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\"}","系统文件配置",null,0,0,"admin","2015-07-31 16:11:26.0","admin","2015-08-04 16:36:39.0",2],["23XMES10ZDIA","23XM4FWCCR49","{\"id\":\"module\",\"title\":\"propertyView\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"window1\",\"autoShow\":\"true\",\"height\":\"550\",\"xwlMeta\":\"window\",\"width\":\"350\",\"layout\":\"fit\",\"children\":[{\"id\":\"dateSourceForm\",\"frame\":\"true\",\"xwlMeta\":\"form\",\"width\":\"350\",\"layout\":\"form\",\"children\":[{\"id\":\"panel5\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"columnWidth\":\".5\",\"children\":[{\"id\":\"panel71\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"column\",\"columnWidth\":\".96\",\"html\":\"&nbsp;\",\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"btn_save\",\"text\":\"保存\",\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"x\":\"5\"},{\"id\":\"btn_del\",\"text\":\"删除\",\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"x\":\"10\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"dateSourceFieldSet\",\"title\":\"数据源\",\"collapsible\":\"true\",\"xwlMeta\":\"fieldSet\",\"layout\":\"fit\",\"children\":[{\"id\":\"panel7\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".98\",\"children\":[{\"id\":\"dataSourceId\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"labelAlign\":\"right\",\"fieldLabel\":\"数据源ID\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel2\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"driverClassName\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"comboBox\",\"value\":\"mysql\",\"pickList\":\"[['mysql','mysql'],['oracle','oracle']]\",\"labelAlign\":\"right\",\"fieldLabel\":\"驱动类型\",\"forceSelection\":\"true\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel4\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"id\":\"jdbcUrl\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"labelAlign\":\"right\",\"fieldLabel\":\"连接地址\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel213\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"username\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"labelAlign\":\"right\",\"fieldLabel\":\"用户名\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel214\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"password\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"labelAlign\":\"right\",\"fieldLabel\":\"密码\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel216\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"initialSize\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"value\":\"20\",\"labelAlign\":\"right\",\"fieldLabel\":\"默认连接数\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\"},{\"id\":\"panel215\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"maxActive\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"value\":\"20\",\"labelAlign\":\"right\",\"fieldLabel\":\"最大连接数\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel2131\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"poolPreparedStatements\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"comboBox\",\"value\":\"false\",\"pickList\":\"[['true','是'],['false','否']]\",\"labelAlign\":\"right\",\"fieldLabel\":\"是否缓冲PS\",\"forceSelection\":\"true\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel2141\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"maxOpenPreparedStatements\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"value\":\"200\",\"labelAlign\":\"right\",\"fieldLabel\":\"最大PS数\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel2151\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".5\",\"children\":[{\"id\":\"validationQuery\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"value\":\"select 1 from wb_dual\",\"labelAlign\":\"right\",\"fieldLabel\":\"检测连接SQL\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel2161\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"timeBetweenEvictionRunsMillis\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"text\",\"value\":\"60000\",\"labelAlign\":\"right\",\"fieldLabel\":\"连接间隔时间\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel21311\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"testOnBorrow\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"comboBox\",\"value\":\"true\",\"pickList\":\"[['true','是'],['false','否']]\",\"labelAlign\":\"right\",\"fieldLabel\":\"取连接前检验\",\"forceSelection\":\"true\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel21511\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"testWhileIdle\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"comboBox\",\"value\":\"true\",\"pickList\":\"[['true','是'],['false','否']]\",\"labelAlign\":\"right\",\"fieldLabel\":\"申请连接检验\",\"forceSelection\":\"true\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel21411\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"testOnReturn\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"comboBox\",\"value\":\"false\",\"pickList\":\"[['true','是'],['false','否']]\",\"labelAlign\":\"right\",\"fieldLabel\":\"归还连接检验\",\"forceSelection\":\"true\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"},{\"id\":\"panel3\",\"frame\":\"true\",\"xwlMeta\":\"panel\",\"layout\":\"form\",\"columnWidth\":\".25\",\"children\":[{\"id\":\"filters\",\"labelWidth\":\"80\",\"allowBlank\":\"false\",\"xwlMeta\":\"comboBox\",\"value\":\"stat\",\"pickList\":\"[['stat','监控统计'],['log4j','日志'],['wall','防注入']]\",\"labelAlign\":\"right\",\"fieldLabel\":\"扩展插件\",\"forceSelection\":\"true\"}],\"tagProperties\":\"baseCls:'my-panel-no-border'\",\"border\":\"false\"}]}],\"tagProperties\":\"style:'border-width:0px'\",\"bodyPadding\":\"5 10 10 5\"}],\"resizable\":\"true\",\"closeAction\":\"hide\"}],\"loginRequired\":\"false\"}","propertyView",null,1,0,"admin","2015-07-31 16:33:46.0","23XSWLY0BYLW","2015-08-25 10:48:40.0",3],["23XNAZFYVW3S","23VVZ3QMOKQA",null,"密码重置",null,0,0,"admin","2015-08-04 14:03:24.0","admin","2015-08-05 10:19:03.0",47],["23XNAZFYVW4T","23XNAZFYVW3S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"密码重置\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"children\":[{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_center\",\"height\":\"'100%'\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"center\",\"bodyPadding\":\"60px,0px,0px,0px\",\"id\":\"form1\",\"style\":\"border-width:4px;\",\"border\":\"false\",\"bodyStyle\":\"text-align:center\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"align\":\"center\",\"id\":\"label1\",\"style\":\"font-size:22px;\",\"color\":\"#000000\",\"html\":\"<body>\\n  <font size='5px' align='center'> 请输入您要找回密码的帐号<\\/font>\\n<\\/body>\"},{\"xwlMeta\":\"label\",\"text\":\"____________________________________\",\"align\":\"center\",\"id\":\"label2\",\"style\":\"font-size:28px\"},{\"xwlMeta\":\"label\",\"text\":\"提示：请输入正确的用户名或邮箱\",\"align\":\"left\",\"id\":\"label3\",\"height\":\"50\",\"color\":\"#FF0000\",\"hidden\":\"true\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-paenl-no-border\",\"id\":\"panel5\",\"height\":\"30\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"false\"},{\"xwlMeta\":\"label\",\"align\":\"center\",\"id\":\"label11\",\"style\":\"font-size:15px;\",\"color\":\"#FF0000\",\"html\":\"<body>\\n  <font id='mes'align='center'><\\/font>\\n<\\/body>\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-paenl-no-border\",\"id\":\"panel52\",\"height\":\"20\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"false\"},{\"xwlMeta\":\"panel\",\"bodyCls\":\"text-align:center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr\",\"height\":\"30\",\"layout\":\"border\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td1\",\"columnWidth\":\".33\",\"border\":\"false\",\"width\":\"'10%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td2\",\"columnWidth\":\".34\",\"border\":\"false\",\"bodyStyle\":\"text-align:center\",\"width\":\"'80%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font  color='red'>*<\\/font><font size='4' >用户名/邮箱<\\/font>\",\"id\":\"userNa\",\"labelWidth\":\"200\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td3\",\"layout\":\"form\",\"columnWidth\":\".33\",\"border\":\"false\",\"width\":\"'10%'\",\"frame\":\"true\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-paenl-no-border\",\"id\":\"panel51\",\"height\":\"20\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"false\"},{\"xwlMeta\":\"button\",\"id\":\"nextBtn\",\"text\":\"<font color='blue' size='3'>下一步<\\/font>\",\"width\":\"100\",\"click\":\"if(userNa.getValue()===null||userNa.getValue()===''){\\n   document.getElementById('mes').innerHTML = \\\"请输入用户名或邮箱!\\\";\\n   return false;\\n}\\nvar userName=userNa.getValue();\\nExt.Msg.wait('正在处理,请稍后...');\\n//调用action中的方法\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=resetPassword',\\n  method:'post',\\n  params:{userName:userName},\\n  success: function(response,options){\\n      Ext.Msg.hide();\\n      var respText = Ext.JSON.decode(response.responseText);\\n      document.getElementById('mes').innerHTML = respText.msg;\\n      //Ext.Msg.alert('',respText.msg);\\n  },\\n  failure : function(response,options){\\n      Ext.Msg.alert('提示','服务器无响应。');\\n  }\\n});\\n\"}]},{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"height\":\"'20%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel2\",\"height\":\"'20%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel3\",\"height\":\"'60%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'25%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel4\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'25%'\",\"frame\":\"true\",\"hidden\":\"'60%'\"}]}]}]}","密码重置",null,0,0,"admin","2015-08-04 14:05:40.0","23XQ4UO678F5","2015-09-10 14:56:03.0",1],["23XNAZFYVW66","23VVZ3QMOKQA",null,"注册用户",null,0,0,"admin","2015-08-04 14:13:00.0","admin","2015-08-04 14:13:00.0",43],["23XNAZFYVW80","23XNAZFYVW66","{\"xwlMeta\":\"module\",\"finalScript\":\"\\n\\n\",\"id\":\"module\",\"title\":\"注册用户\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\n//var authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nvar authModel = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"AUTH_MODAL\\\");\\nrequest.setAttribute(\\\"authModel\\\",authModel);\\n\",\"finalize\":\"var checkType='0';\\nvar nameType=false;\\nvar emailType=false;\\nvar inEmpCodeType=false;\\nvar outEmpCodeType=false;\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"storeGrid\",\"pageSize\":\"-1\",\"url\":\"#23XUNJ48YC0B (selectGrid)\",\"output\":\"grid\"},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"center\",\"bodyPadding\":\"20\",\"id\":\"form\",\"style\":\"border-width:4px;\",\"border\":\"false\",\"bodyStyle\":\"text-align:center\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"align\":\"center\",\"id\":\"labeltop\",\"style\":\"font-size:22px;\",\"color\":\"#000000\",\"html\":\"<body>\\n  <font size='5px' align='center'> 请输入注册用户信息<\\/font>\\n<\\/body>\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-paenl-no-border\",\"id\":\"panel5\",\"height\":\"20\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"false\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_1\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"y\":\"1\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_1\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名<font color=\\\"red\\\">*<\\/font>\",\"id\":\"uName\",\"labelWidth\":\"120\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"blur\":\"var userName=uName.getValue().toUpperCase();\\nWb.get('uName').setValue(userName);\\n\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=userNameValidation',\\n  params :{userName:userName},\\n  method:'post',\\n  success: function(response,options){\\n    var respText = Ext.JSON.decode(response.responseText);\\n    var flag =respText.flag;\\n\\n    if(flag=='1'){\\n      Ext.getCmp('td_1_2').show();\\n      nameType=true;\\n    }\\n    if(flag=='0'){\\n      Ext.getCmp('td_1_2').hide();\\n      nameType=false;\\n    }\\n\\n  },\\n  failure : function(response,options){\\n    //var respText = Ext.JSON.decode(response.responseText);\\n    Ext.Msg.alert('提示', '服务器没有响应' );\\n  }\\n});\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1_2\",\"columnWidth\":\".4\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"用户名已存在\",\"align\":\"center\",\"id\":\"label1\",\"color\":\"#FF0000\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_2\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"y\":\"1\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_2_1\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"口令<font color=\\\"red\\\">*<\\/font>\",\"id\":\"passWord\",\"inputType\":\"password\",\"labelWidth\":\"120\",\"allowBlank\":\"false\",\"vtype\":\"alphanum\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_3\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"y\":\"1\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_3_1\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"确认口令<font color=\\\"red\\\">*<\\/font>\",\"id\":\"againPassWord\",\"inputType\":\"password\",\"labelWidth\":\"120\",\"allowBlank\":\"false\",\"vtype\":\"alphanum\",\"labelAlign\":\"right\",\"blur\":\"\\nvar passValue= passWord.getValue();\\nvar againValue= againPassWord.getValue();   \\nif(passValue!==againValue){\\n\\n   Ext.getCmp('td_3_2').show();\\n}else{\\n\\nExt.getCmp('td_3_2').hide();\\n}\\n\\n\\n\\n\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_3_2\",\"columnWidth\":\".4\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"两次输入的密码不一致\",\"align\":\"center\",\"id\":\"label\",\"color\":\"#FF0000\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_4\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"check\",\"labelWidth\":\"120\",\"fieldLabel\":\"内部员工\",\"id\":\"checkEmp\",\"labelAlign\":\"right\",\"change\":\"var checked = check.getValue();\\nif(checked===true){//选中\\n  checkType='1';\\n  Ext.getCmp('tr_5').hide();\\n  Ext.getCmp('tr_6').hide();\\n  Ext.getCmp('tr_7').hide();\\n  Ext.getCmp('tr_8').hide();\\n  Ext.getCmp('tr_9').show();\\n}else{\\n  checkType='0';\\n  Ext.getCmp('tr_5').show();\\n  Ext.getCmp('tr_6').show();\\n  Ext.getCmp('tr_7').show();\\n  Ext.getCmp('tr_8').show();\\n  Ext.getCmp('tr_9').hide();\\n\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_5\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_5_1\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"员工编号<font color=\\\"red\\\">*<\\/font>\",\"id\":\"WECM\",\"labelWidth\":\"120\",\"labelAlign\":\"right\",\"blur\":\"\\nvar outEmpCode=WECM.getValue();\\n\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=outEmpCodeValidation',\\n  params :{outEmpCode:outEmpCode},\\n  method:'post',\\n  success: function(response,options){\\n    var respText = Ext.JSON.decode(response.responseText);\\n    var flag =respText.flag;\\n    if(flag=='0'){\\n      Ext.getCmp('td_5_2').hide();\\n      outEmpCodeType=false;\\n    }\\n    if(flag=='1'){\\n      Ext.getCmp('td_5_2').show();\\n      outEmpCodeType=true;\\n    }\\n\\n  },\\n  failure : function(response,options){\\n    Ext.Msg.alert('提示', '服务器没有响应' );\\n  }\\n});\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_5_2\",\"columnWidth\":\".4\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"员工编号已存在\",\"align\":\"center\",\"id\":\"label91\",\"color\":\"#FF0000\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_6\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_6_1\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"姓名<font color=\\\"red\\\">*<\\/font>\",\"id\":\"myName\",\"labelWidth\":\"120\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_7\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_7_1\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"手机<font color=\\\"red\\\">*<\\/font>\",\"id\":\"TelPhone\",\"labelWidth\":\"120\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_8\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_8_1\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"邮箱<font color=\\\"red\\\">*<\\/font>\",\"id\":\"e_mail\",\"labelWidth\":\"120\",\"labelAlign\":\"right\",\"blur\":\"var email=e_mail.getValue();\\nif(email !==\\\"\\\" && email !== null){\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=emailValidation',\\n  params :{email:email},\\n  method:'post',\\n  success: function(response,options){\\n    var respText = Ext.JSON.decode(response.responseText);\\n    var flag =respText.flag;\\n\\n    if(flag=='1'){\\n\\n      Ext.getCmp('td_8_2').show();\\n      emailType=true;\\n    }\\n    if(flag=='0'){\\n      Ext.getCmp('td_8_2').hide();\\n      emailType=false;\\n    }\\n\\n  },\\n  failure : function(response,options){\\n    Ext.Msg.alert('提示', '服务器没有响应' );\\n  }\\n});\\n}else{\\nExt.getCmp('td_8_2').hide();\\n\\n}\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_8_2\",\"columnWidth\":\".4\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"邮箱已存在\",\"align\":\"center\",\"id\":\"label3\",\"color\":\"#FF0000\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_9\",\"height\":\"30\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_9_1\",\"columnWidth\":\".6\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"员工编号<font color=\\\"red\\\">*<\\/font>\",\"id\":\"ECM\",\"labelWidth\":\"120\",\"labelAlign\":\"right\",\"blur\":\"\\nvar empCode=ECM.getValue();\\n\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=empCodeValidation',\\n  params :{empCode:empCode},\\n  method:'post',\\n  success: function(response,options){\\n    var respText = Ext.JSON.decode(response.responseText);\\n    var  flag =respText.flag;\\n    if(a=='0'){\\n\\n      Ext.getCmp('td_9_2').show();\\n      inEmpCodeType=true;\\n    }\\n    if(flag=='1'){\\n      Ext.getCmp('td_9_2').hide();\\n      inEmpCodeType=false;\\n\\n    }\\n    if(flag=='2'){\\n      inEmpCodeType=true;\\n      Ext.Msg.alert('',respText.msg);\\n\\n    }\\n  },\\n  failure : function(response,options){\\n    Ext.Msg.alert('提示', '服务器没有响应' );\\n  }\\n});\\n\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_9_2\",\"columnWidth\":\".4\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"员工编号不存在\",\"align\":\"center\",\"id\":\"label9\",\"color\":\"#FF0000\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_10\",\"height\":\"30\",\"layout\":\"border\",\"columnWidth\":\"1\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel11113\",\"columnWidth\":\".2\",\"border\":\"false\",\"width\":\"'20%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_10_1\",\"layout\":\"column\",\"columnWidth\":\".6\",\"border\":\"false\",\"width\":\"'60%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"accept_icon\",\"id\":\"submitBtn\",\"text\":\"<font color='blue' size='3'>注册<\\/font>\",\"width\":\"100\",\"click\":\"var userName = Wb.get('uName').getValue().toUpperCase();\\nvar passWord = Wb.get('passWord').getValue();\\nvar againValue = Wb.get('againPassWord').getValue();\\nvar myName = Wb.get('myName').getValue();\\nvar TelPhone = Wb.get('TelPhone').getValue();\\nvar e_mail = Wb.get('e_mail').getValue();\\nvar inEmpCode = Wb.get('ECM').getValue();\\nvar outEmpCode = Wb.get('WECM').getValue();\\nvar auth ='{#authModel#}';\\nvar userid='';\\n\\n//非空验证\\nif(!form.getForm().isValid()){\\n  Ext.Msg.alert('提示','请将必填项填写完整！');\\n  return false;\\n}\\n\\n//验证密码\\nif(passWord!==againValue){\\n  Ext.Msg.alert('提示', '两次密码不一致' );\\n  return false;\\n}\\n//验证用户名\\nif(nameType===true){\\n  Ext.Msg.alert('提示', '用户已存在' );\\n  return false;\\n}\\n//验证内部员工\\nif(inEmpCodeType===true){\\n  Ext.Msg.alert('提示', '请重新添加员工编号' );\\n  return false;\\n}\\n//验证外部员工\\n\\nif(outEmpCodeType===true){\\n  Ext.Msg.alert('提示', '员工编号已存在' );\\n  return false;\\n}\\n\\n//验证邮箱\\n\\nif(emailType===true){\\n\\n  Ext.Msg.alert('提示', '邮箱已存在' );\\n  return false;\\n}\\n\\npassWord = hex_md5(passWord);\\n\\nExt.Ajax.request({ \\n  url: '{#contextPath#}'+'/platformAction.do?method=regist',\\n  params: {userName:userName,\\n           passWord:passWord,\\n           myName:myName,\\n           TelPhone:TelPhone,\\n           e_mail:e_mail,\\n           inEmpCode:inEmpCode,\\n           outEmpCode:outEmpCode,\\n           checkType:checkType\\n          },\\n  waitTitle: '提示',\\n  method: 'POST',\\n  async: false,\\n  waitMsg: '正在处理数据,请稍候...',\\n  success: function(response, options) { // 回调函数有2个参数\\n    var respText = Ext.JSON.decode(response.responseText);\\n    if(checkType=='1'){\\n      userid=respText.inUserId;\\n    }else if(checkType=='0'){\\n      userid=respText.userId;\\n    }\\n\\n    Ext.Msg.alert('提示',respText.msg);\\n  },\\n  failure: function(response, options) {\\n    Ext.Msg.alert('提示', '注册失败' );\\n  }\\n});\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"resetBtn\",\"text\":\"<font color='blue' size='3'>重置<\\/font>\",\"width\":\"100\",\"x\":\"30\",\"click\":\"\\nform.form.reset();\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-pane-no-border\",\"id\":\"panel111131\",\"columnWidth\":\".2\",\"border\":\"false\",\"width\":\"'20%'\",\"frame\":\"true\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"height\":\"'10%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel2\",\"height\":\"'10%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel3\",\"height\":\"'60%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'25%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel4\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'25%'\",\"frame\":\"true\",\"hidden\":\"'60%'\"}]}]}","注册用户",null,0,0,"admin","2015-08-04 14:20:05.0","23XQ4UO678F0","2015-09-14 10:31:59.0",1],["23XNWM94045J","23XNAZFYVW3S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"修改密码\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nvar user_id = request.getParameter('USER_ID');\\nrequest.setAttribute(\\\"user_id\\\",user_id);\\nvar pwdLenLimit= com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_LEN_LIMIT\\\");\\nrequest.setAttribute(\\\"PW_LEN_LIMIT\\\",pwdLenLimit);\\nvar pwdIncludeChar =  com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"PW_INCLUDE_CHAR\\\");\\nrequest.setAttribute(\\\"PW_INCLUDE_CHAR\\\",pwdIncludeChar);\",\"children\":[{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_center\",\"height\":\"'100%'\",\"layout\":\"border\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"center\",\"bodyPadding\":\"60px,0px,0px,0px\",\"id\":\"form1\",\"style\":\"border-width:4px;\",\"border\":\"false\",\"bodyStyle\":\"text-align:center\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"align\":\"center\",\"id\":\"label1\",\"style\":\"font-size:22px;\",\"color\":\"#000000\",\"html\":\"<body>\\n  <font size='5px' align='center'>请输入新密码<\\/font>\\n<\\/body>\"},{\"xwlMeta\":\"label\",\"text\":\"____________________________________\",\"align\":\"center\",\"id\":\"label2\",\"style\":\"font-size:28px;\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-paenl-no-border\",\"id\":\"panel5\",\"height\":\"30\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"false\"},{\"xwlMeta\":\"label\",\"align\":\"center\",\"id\":\"label11\",\"style\":\"font-size:15px;\",\"color\":\"#FF0000\",\"html\":\"<body>\\n  <font id='mes' align='center'><\\/font>\\n<\\/body>\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-paenl-no-border\",\"id\":\"panel52\",\"height\":\"20\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"false\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr\",\"height\":\"30\",\"layout\":\"border\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_1\",\"columnWidth\":\".33\",\"border\":\"false\",\"width\":\"'10%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_2\",\"layout\":\"column\",\"columnWidth\":\".34\",\"border\":\"false\",\"width\":\"'80%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font  color='red'>*<\\/font><font size='4'>新密码<\\/font>\",\"id\":\"newPssWord\",\"minLength\":\"('{#PW_LEN_LIMIT#}'==0 || '{#PW_LEN_LIMIT#}'==null) ? 6: '{#PW_LEN_LIMIT#}'\",\"inputType\":\"password\",\"labelWidth\":\"200\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_12\",\"columnWidth\":\".33\",\"border\":\"false\",\"width\":\"'10%'\",\"frame\":\"true\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr1\",\"height\":\"30\",\"layout\":\"border\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_11\",\"columnWidth\":\".33\",\"border\":\"false\",\"width\":\"'10%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_21\",\"layout\":\"column\",\"columnWidth\":\".34\",\"border\":\"false\",\"width\":\"'80%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font  color='red'>*<\\/font><font size='4'>再次输入密码<\\/font>\",\"id\":\"newPssWord1\",\"minLength\":\"('{#PW_LEN_LIMIT#}'==0 || '{#PW_LEN_LIMIT#}'==null) ? 6: '{#PW_LEN_LIMIT#}'\",\"inputType\":\"password\",\"labelWidth\":\"200\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td_13\",\"columnWidth\":\".33\",\"border\":\"false\",\"width\":\"'10%'\",\"frame\":\"true\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-paenl-no-border\",\"id\":\"panel51\",\"height\":\"20\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"hidden\":\"false\"},{\"xwlMeta\":\"button\",\"id\":\"nextBtn\",\"text\":\"<font color='blue' size='3'>确定<\\/font>\",\"width\":\"100\",\"click\":\"if(newPssWord.getValue() === null || newPssWord.getValue() === \\\"\\\" || newPssWord.getValue() === \\\"undefined\\\"){\\n  //Ext.Msg.alert(\\\"提示\\\",\\\"请输入新密码!\\\") ;\\n  document.getElementById('mes').innerHTML = \\\"请输入新密码!\\\";\\n  return false;\\n}\\t\\nif(newPssWord1.getValue() === null || newPssWord1.getValue() === \\\"\\\" || newPssWord1.getValue() === \\\"undefined\\\"){\\n  //Ext.Msg.alert(\\\"提示\\\",\\\"请输入再次输入密码!\\\") ;\\n  document.getElementById('mes').innerHTML = \\\"请输入再次输入密码!\\\";\\n  return false;\\n}\\nif('{#PW_INCLUDE_CHAR#}'=='Y'){\\n  var re = new RegExp(\\\"[A-Za-z\\\\x21-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\x7e]\\\");\\n  if(!re.test(newPssWord.getValue())){\\n    //Ext.Msg.alert(\\\"提示\\\",\\\"新密码必须要包含字母或者特殊字符!\\\");\\n    document.getElementById('mes').innerHTML = \\\"新密码必须要包含字母或者特殊字符!\\\";\\n    return;\\n  }\\n}\\nvar _tmpLen = '{#PW_LEN_LIMIT#}';\\nif(!form1.getForm().isValid()){\\n  if(Ext.isEmpty(_tmpLen) || _tmpLen===0){\\n    //Wb.warning('密码长度不能少于6位！');\\n    document.getElementById('mes').innerHTML = \\\"密码长度不能少于6位!\\\";\\n    return false;\\n  }else{\\n    //Wb.warning('密码长度不能少于'+_tmpLen+'位！');\\n    document.getElementById('mes').innerHTML = '密码长度不能少于'+_tmpLen+'位！';\\n    return false;\\n  }\\n}\\n\\nif(newPssWord.getValue()!= newPssWord1.getValue()){\\n  //Ext.Msg.alert('提示','两次输入的密码不一致。');\\n  document.getElementById('mes').innerHTML = \\\"两次输入的密码不一致!\\\";\\n  return false;\\n}\\nExt.Msg.wait('正在修改,请稍后...');\\nvar newPassWord = newPssWord.getValue();\\nvar user_id = '{#user_id#}';\\n//调用action中的方法\\nExt.Ajax.request({\\n  url  : '{#contextPath#}'+'/platformAction.do?method=updateUserPassword'+'&newPassWord='+hex_md5(newPassWord)+'&user_id='+user_id,\\n  method:'post',\\n  success: function(response,options){\\n      Ext.Msg.hide();\\n      var respText = Ext.JSON.decode(response.responseText);\\n      document.getElementById('mes').innerHTML = respText.msg;\\n      //Ext.Msg.alert('',respText.msg);\\n  },\\n  failure : function(response,options){\\n      Ext.Msg.hide();\\n      Ext.Msg.hide();\\n      Ext.Msg.alert('提示','服务器无响应。');\\n  }\\n});\\n\\n\\n\\n\"}]},{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel1\",\"height\":\"'20%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel2\",\"height\":\"'20%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel3\",\"height\":\"'60%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'25%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel4\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'25%'\",\"frame\":\"true\",\"hidden\":\"'60%'\"}]}]}]}","修改密码",null,0,0,"admin","2015-08-05 10:07:24.0","23XQ4UO678F5","2015-09-10 16:19:40.0",2],["23XOISGSKQE1","23WJJBG2TBZS","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getFileNamesBySrcid\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"jsonArray\",\"id\":\"dataProvider1\",\"sql\":\"select ATT_FILE_NAME,ATT_ID from xip_pub_atts where SRC_ID = {?src_id?}\"}]}","getFileNamesBySrcid",null,0,0,"admin","2015-08-07 10:19:21.0","23XQ4B4KHDBQ","2015-08-19 14:31:57.0",2],["23XOJ8S7DHCA","23WJH4A46NYJ","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"attachmentManage\",\"jsFiles\":\"[\\\"platform/attachment/attrUpload/swfupload/swfupload.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nvar srcId = request.getParameter('srcId');\\nvar attrCat = request.getParameter('attCat');\\nvar orgId = request.getParameter('orgId');\\nvar busNo = request.getParameter('busNo');\\nvar canUp = request.getParameter('canUp');\\nvar canDown = request.getParameter('canDown');\\nvar canDel = request.getParameter('canDel');\\nvar userId = request.getParameter('userId');\\nvar fileSizeLimit = request.getParameter('fileSizeLimit');\\n\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nrequest.setAttribute(\\\"srcId\\\",srcId);\\nrequest.setAttribute(\\\"attrCat\\\",attrCat);\\nrequest.setAttribute(\\\"orgId\\\",orgId);\\nrequest.setAttribute(\\\"busNo\\\",busNo);\\nrequest.setAttribute(\\\"canUp\\\",canUp);\\nrequest.setAttribute(\\\"canDown\\\",canDown);\\nrequest.setAttribute(\\\"canDel\\\",canDel);\\nrequest.setAttribute(\\\"userId\\\",userId);\\nrequest.setAttribute(\\\"fileSizeLimit\\\",fileSizeLimit);\",\"head\":\"<!--<script src=\\\"http://haiqiancun.com/file/demo/custom.modernizr.js\\\"><\\/script> -->\\n\\n<script type=\\\"text/javascript\\\">\\n\\n/*\\n HTML5 Shiv v3.7.0 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed\\n*/\\n(function(l,f){function m(){var a=e.elements;return\\\"string\\\"==typeof a?a.split(\\\" \\\"):a}function i(a){var b=n[a[o]];b||(b={},h++,a[o]=h,n[h]=b);return b}function p(a,b,c){b||(b=f);if(g)return b.createElement(a);c||(c=i(b));b=c.cache[a]?c.cache[a].cloneNode():r.test(a)?(c.cache[a]=c.createElem(a)).cloneNode():c.createElem(a);return b.canHaveChildren&&!s.test(a)?c.frag.appendChild(b):b}function t(a,b){if(!b.cache)b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag();\\na.createElement=function(c){return!e.shivMethods?b.createElem(c):p(c,a,b)};a.createDocumentFragment=Function(\\\"h,f\\\",\\\"return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(\\\"+m().join().replace(/[\\\\w\\\\-]+/g,function(a){b.createElem(a);b.frag.createElement(a);return'c(\\\"'+a+'\\\")'})+\\\");return n}\\\")(e,b.frag)}function q(a){a||(a=f);var b=i(a);if(e.shivCSS&&!j&&!b.hasCSS){var c,d=a;c=d.createElement(\\\"p\\\");d=d.getElementsByTagName(\\\"head\\\")[0]||d.documentElement;c.innerHTML=\\\"x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}<\\/style>\\\";\\nc=d.insertBefore(c.lastChild,d.firstChild);b.hasCSS=!!c}g||t(a,b);return a}var k=l.html5||{},s=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,r=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,j,o=\\\"_html5shiv\\\",h=0,n={},g;(function(){try{var a=f.createElement(\\\"a\\\");a.innerHTML=\\\"<xyz><\\/xyz>\\\";j=\\\"hidden\\\"in a;var b;if(!(b=1==a.childNodes.length)){f.createElement(\\\"a\\\");var c=f.createDocumentFragment();b=\\\"undefined\\\"==typeof c.cloneNode||\\n\\\"undefined\\\"==typeof c.createDocumentFragment||\\\"undefined\\\"==typeof c.createElement}g=b}catch(d){g=j=!0}})();var e={elements:k.elements||\\\"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video\\\",version:\\\"3.7.0\\\",shivCSS:!1!==k.shivCSS,supportsUnknownElements:g,shivMethods:!1!==k.shivMethods,type:\\\"default\\\",shivDocument:q,createElement:p,createDocumentFragment:function(a,b){a||(a=f);\\nif(g)return a.createDocumentFragment();for(var b=b||i(a),c=b.frag.cloneNode(),d=0,e=m(),h=e.length;d<h;d++)c.createElement(e[d]);return c}};l.html5=e;q(f)})(this,document);\\n\\n<\\/script>\\n\\n<style type=\\\"text/css\\\">\\n  article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}\\n<\\/style>\",\"cssFiles\":\"[\\\"common/css/default.css\\\"]\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"uploadPanelJs\",\"header\":\"<script>\\n  var fileSizeLimit = 0; \\n  if(!Ext.isEmpty('{#fileSizeLimit#}') && '{#fileSizeLimit#}'!='undefined'){\\n    fileSizeLimit = '{#fileSizeLimit#}';\\n  }else{\\n    Ext.Ajax.request({\\n      url : '{#contextPath#}' +'/main?xwl=23Y3K0MFHFS8',\\n      method: 'POST',\\n      params:{\\\"attCatCode\\\":'{#attrCat#}'},\\n      success: function(response,options){\\n        var temp = response.responseText;\\n        var response = Ext.JSON.decode(temp);\\n\\n        fileSizeLimit = response.FILE_SIZE_LIMIT==null?0:response.FILE_SIZE_LIMIT;\\n      },\\n      failure: function(response,options){\\n        \\n      }\\n    });\\n  }\\n  \\n  //上传路径\\n  var uploadUrl = '{#contextPath#}'+'/xipAttMrgAction.do?method=upload&src_id={#srcId#}&attCatCode={#attrCat#}&org_id={#orgId#}&bus_no={#busNo#}&userId={#userId#}';\\n  //html5版中为所上传的全部文件\\n  var files = [];\\n  var barList = null;\\n  var index = 0;\\n  \\n  var swfupload = null;\\n  \\n  //页面是否支持html5\\n  var isSupportHtml5 = null;\\n  \\n  //判断页面是否支持html5\\n  if(window.applicationCache){\\n    isSupportHtml5 = true;\\n  }else{\\n    isSupportHtml5 = false;\\n  }\\n  \\n  //添加时存在的重名的文件\\n  var duplNameFiles = new Array();\\n  //添加时超过设置大小的文件\\n  var tooLargeFiles = new Array();\\n  //添加时全部文件\\n  var selectedAllFiles = new Array();\\n  \\n  //swfupload加载前时触发\\n  var swfupload_preload_handler = function(){\\n    if (!this.support.loading) {\\n      Wb.message('浏览器Flash Player版本太低,不能使用该上传功能!');\\n      return false;\\n    }\\n  };\\n\\n  //swfupload加载完毕时触发\\n  var swfupload_loaded_function = function(){\\n    \\n  };\\n  \\n  //swfupload加载失败时触发\\n  var swfupload_load_failed_handler = function(){\\n    Wb.message('SWFUpload加载失败!');\\n  };\\n  \\n  var file_dialog_start_handler = function(){\\n    duplNameFiles = new Array();\\n    tooLargeFiles = new Array();\\n    selectedAllFiles = new Array();\\n  }\\n  \\n  //file添加到上传队列时触发\\n  var file_queued_handler = function(file){\\n    //判断是否有重名的文件，如果有则添加到files[]数组中\\n    if(attrStore.find('ATT_FILE_NAME',file.name) > -1){\\n      duplNameFiles.push(file);\\n    }\\n    //判断是否有过大的文件，如果有则田添加到tooLargeFiles数组中\\n    if(fileSizeLimit>0){\\n      if(file.size > fileSizeLimit * 1024 * 1024){\\n        tooLargeFiles.push(file);\\n      }\\n    }\\n    selectedAllFiles.push(file);\\n  };\\n\\n  //file添加到上传队列失败时触发\\n  var file_queue_error_handler = function(file, errorCode, message){\\n    \\n  };\\n  \\n  //file全部添加到队列时触发\\n  var file_dialog_complete_handler = function(selectedFilesNum, currentQueued, totalQueued){\\n    if(selectedFilesNum==0 || selectedAllFiles.length==0){\\n      return;\\n    }\\n    \\n    var flag = true;\\n    var msg = '';\\n    \\n    Ext.Msg.wait('正在连接附件服务器,请稍后...');\\n    Ext.Ajax.request({\\n      url : '{#contextPath#}'+'/xipAttMrgAction.do?method=serverTest',\\n      timeout: 60*60*3600,\\n      async:false,\\n      params: {attCatCode:'{#attrCat#}',orgId:'{#orgId#}'},\\n      method: 'POST',\\n      success: function(response,options){\\n        var resultJson = Ext.JSON.decode(response.responseText);\\n        if(resultJson.flag=='true'){\\n          flag = true;\\n        }else{\\n          flag = false;\\n        }\\n        msg = resultJson.msg;\\n        Ext.Msg.hide();\\n      },\\n      failure: function(response,options){\\n        Ext.Msg.hide();\\n        msg = \\\"服务器端没有响应!\\\";\\n        flag = false;\\n      }\\n    });\\n    \\n    if(!flag){\\n      for(var j=0; j<selectedAllFiles.length; j++){\\n        swfupload.cancelUpload(selectedAllFiles[j].id,false);\\n      }\\n\\n      swfupload.uploadStopped = false;\\n      \\n      Wb.message(msg);\\n      return;\\n    }\\n    \\n    //存在重名文件\\n    if(duplNameFiles.length!=0){\\n      var message = '';\\n      for(var i=0; i<duplNameFiles.length; i++){\\n        message = message + '文件【' + duplNameFiles[i].name + '】已存在,不能够重复上传!<br/>';\\n      }\\n\\n      for(var j=0; j<selectedAllFiles.length; j++){\\n        swfupload.cancelUpload(selectedAllFiles[j].id,false);\\n      }\\n\\n      swfupload.uploadStopped = false;\\n      \\n      Wb.message(message);\\n      return;\\n    }\\n    \\n    //存在过大文件\\n    if(tooLargeFiles.length!=0){\\n      var message = '';\\n      for(var i=0; i<tooLargeFiles.length; i++){\\n        message = message + '文件【' + tooLargeFiles[i].name + '】过大,不能上传!<br/>';\\n      }\\n      \\n      for(var j=0; j<selectedAllFiles.length; j++){\\n        swfupload.cancelUpload(selectedAllFiles[j].id,false);\\n      }\\n\\n      swfupload.uploadStopped = false;\\n      \\n      Wb.message(message);\\n      return;\\n    }\\n\\n    for(var j=0; j<selectedAllFiles.length; j++){\\n      var json = {ATT_FILE_NAME:selectedAllFiles[j].name, UPLOAD_INDEX:index, UPLOAD_MSG:'准备上传', id:selectedAllFiles[j].id};\\n      attrStore.insert(attrStore.getCount(), json);\\n    }\\n    \\n    attrStore.commitChanges();\\n\\n    if (swfupload.getStats().files_queued > 0) {\\n      swfupload.uploadStopped = false;\\t\\t\\n      swfupload.startUpload();\\n    }\\n\\n    Ext.Msg.wait('正在上传请稍后...');\\n  }\\n\\n  //开始上传\\n  var upload_start_handler = function(file){\\n    var rec = attrStore.getById(file.id);\\n    rec.set('UPLOAD_MSG', '开始上传');\\n    rec.commit();\\n  };\\n\\n  //上传过程中\\n  var upload_progress_handler = function(file, bytesLoaded, bytesTotal){\\n    var rec = attrStore.getById(file.id);\\n    rec.set('UPLOAD_MSG', '上传中');\\n    rec.commit();\\n  };\\n  \\n  //上传成功\\n  var upload_success_handler = function(file, serverData, responseReceived){\\n    var rec = attrStore.getById(file.id);\\n    rec.set('UPLOAD_MSG', '上传成功');\\n    rec.commit();\\n  };\\n\\n  //上传失败\\n  var upload_error_handler = function(file, errorCode, message){\\n    var rec = attrStore.getById(file.id);\\n    rec.set('UPLOAD_MSG', '上传失败');\\n    rec.commit();\\n  };\\n\\n  //全部上传完毕\\n  var upload_complete_handler = function(file){\\n    if (swfupload.getStats().files_queued > 0 && swfupload.uploadStopped == false) {\\n      swfupload.startUpload();\\n    }else{\\n      Wb.load(attrStore);\\n      Ext.Msg.hide();\\n    }\\n  };\\n  \\n  function getSWFConfig(btn){\\n    var placeHolderId = Ext.id();\\n    var em = btn.getEl().child('em');\\n    if(em==null){\\n      em = Ext.get(btn.getId()+'-btnWrap');\\n    }\\t\\t\\n    em.setStyle({\\n      position : 'relative',\\n      display : 'block'\\n    });\\n    em.createChild({\\n      tag : 'div',\\n      id : placeHolderId\\n    });\\n    \\n    return {\\n      debug : false,\\n      flash_url : '{#contextPath#}'+'/platform/attachment/attrUpload/swfupload/swfupload.swf', \\n      flash9_url : '{#contextPath#}'+'/platform/attachment/attrUpload/swfupload/swfupload_fp9.swf', \\n      upload_url : uploadUrl,\\n      post_params : {\\n        'src_id':'{#srcId#}',\\n        'attCatCode':'{#attrCat#}',\\n        'org_id':'{#orgId#}',\\n        'bus_no':'{#busNo#}',\\n        'userId':'{#userId#}'\\n      },\\n      file_size_limit : (100*1024),//MB\\n      file_types : '*.*',\\n      file_types_description : 'All Files',\\n      file_upload_limit : 50,\\n      file_queue_limit : 0,\\n\\n      button_width: em.getWidth(),\\n      button_height: em.getHeight(),\\n      button_window_mode: SWFUpload.WINDOW_MODE.TRANSPARENT,\\n      button_cursor: SWFUpload.CURSOR.HAND,\\n      button_placeholder_id: placeHolderId, \\n\\n      swfupload_preload_handler : swfupload_preload_handler, //swfupload加载前时触发\\n      swfupload_loaded_handler : swfupload_loaded_function,  //swfupload加载完毕时触发\\n      swfupload_load_failed_handler : swfupload_load_failed_handler,  //swfupload加载失败时触发\\n      \\n      file_dialog_start_handler :file_dialog_start_handler, //选择文件窗口打开是触发\\n      file_queued_handler : file_queued_handler,  //file添加到上传队列时触发\\n      file_queue_error_handler : file_queue_error_handler,  //file添加到上传队列失败时触发\\n      file_dialog_complete_handler : file_dialog_complete_handler,  //所选file全部添加到队列时触发\\n      \\n      upload_start_handler : upload_start_handler,  //开始上传\\n      upload_progress_handler : upload_progress_handler,  //上传过程中\\n      upload_success_handler : upload_success_handler,  //上传成功\\n      upload_error_handler : upload_error_handler,  //上传失败\\n      upload_complete_handler : upload_complete_handler  //全部上传完毕\\n    };\\n  }\\n  \\n  //以下部分为html5所用的方法\\n  \\n  function uploadProgress(evt) {\\n    if (evt.lengthComputable) {\\n      var record = attrStore.findRecord('UPLOAD_INDEX', index);\\n      if(record){\\n        record.set('UPLOAD_MSG','上传中');\\n        attrStore.commitChanges();\\n      }\\n      \\n      console.log(evt.loaded);\\n      console.log(evt.total);\\n      var percentComplete = Math.round(evt.loaded * 100 / evt.total) +'%';\\n      barList[index].innerHTML = '上传进度：' + percentComplete;\\n      barList[index].style.width = percentComplete;\\n    }\\n  }\\n  \\n  function uploadComplete(evt) {\\n    var record = attrStore.findRecord('UPLOAD_INDEX', index);\\n    if(record){\\n      record.set('UPLOAD_MSG','上传成功');\\n      attrStore.commitChanges();\\n    }\\n    \\n    if(index === files.length - 1) {\\n      console.log('all');\\n      \\n      Wb.load(attrStore);\\n      Ext.Msg.hide();\\n      \\n      //变量重置\\n      files = [];\\n  \\t  barList = null;\\n      index = 0;\\n      \\n      return;\\n    }\\n    index++;\\n    uploadFile();\\n  }\\n\\n  function uploadFailed(evt) {\\n    var record = attrStore.findRecord('UPLOAD_INDEX', index);\\n    if(record){\\n      record.set('UPLOAD_MSG','上传失败');\\n      attrStore.commitChanges();\\n    }\\n    Wb.message('上传文件时出错!');\\n    return;\\n  }\\n  \\n  function uploadCanceled(evt) {\\n    var record = attrStore.findRecord('UPLOAD_INDEX', index);\\n    if(record){\\n      record.set('UPLOAD_MSG','取消上传');\\n      attrStore.commitChanges();\\n    }\\n    Wb.message('上传文件取消!');\\n    return;\\n  }\\n  \\n  function uploadFile() {\\n    var xhr = new XMLHttpRequest();\\n    xhr.upload.addEventListener(\\\"progress\\\", uploadProgress, false);\\n    xhr.addEventListener(\\\"load\\\", uploadComplete, false);\\n    xhr.addEventListener(\\\"error\\\", uploadFailed, false);\\n    xhr.addEventListener(\\\"abort\\\", uploadCanceled, false);\\n    xhr.open(\\\"POST\\\", uploadUrl, true);\\n    var fd = new FormData();\\n    fd.append(\\\"fileToUpload\\\", files[index]);\\n    xhr.send(fd);\\n  }\\n  \\n  function startUpload(){\\n  \\tExt.Msg.wait('正在上传请稍后...');\\n    uploadFile();\\n  };\\n  \\n  function fireUpload(uploadFiles){\\n    var fs = uploadFiles;\\n    \\n    //判断是否选择了文件\\n    if(fs.length==0){\\n      Wb.message('请选择上传的文件!');\\n      return;\\n    }\\n    \\n    //判断文件名称是否有重复的\\n    var flag = true;\\n    var msg = '';\\n    if(fs!=null){\\n      for(var i=0; i<fs.length; i++){\\n        if(attrStore.find('ATT_FILE_NAME',fs[i].name) > -1){\\n          flag = false;\\n          msg = '文件【' + fs[i].name + '】已存在,不能够重复上传!';\\n          break;\\n        }\\n      }\\n    }\\n    \\n    if(!flag){\\n      Wb.message(msg);\\n      return;\\n    }\\n    \\n    Ext.Msg.wait('正在连接附件服务器,请稍后...');\\n    Ext.Ajax.request({\\n      url : '{#contextPath#}'+'/xipAttMrgAction.do?method=serverTest',\\n      timeout: 60*60*3600,\\n      async:false,\\n      params: {attCatCode:'{#attrCat#}',orgId:'{#orgId#}'},\\n      method: 'POST',\\n      success: function(response,options){\\n        var resultJson = Ext.JSON.decode(response.responseText);\\n        if(resultJson.flag=='true'){\\n          flag = true;\\n        }else{\\n          flag = false;\\n        }\\n        msg = resultJson.msg;\\n        Ext.Msg.hide();\\n      },\\n      failure: function(response,options){\\n        Ext.Msg.hide();\\n        msg = \\\"服务器端没有响应!\\\";\\n        flag = false;\\n      }\\n    });\\n    \\n    if(!flag){\\n      Wb.message(msg);\\n      return;\\n    }\\n    \\n    //判断文件大小是否超过限制\\n    if(fileSizeLimit>0){\\n      for(var i = 0; i < fs.length; i++) {\\n        var file = fs[i];\\n        var fileSize = 0;\\n\\n        if(file.size > fileSizeLimit * 1024 * 1024){\\n          Wb.message('文件【'+file.name+'】过大，无法上传');\\n          return;\\n        }\\n      }\\n    }\\n    \\n    var html = '';\\n    for(var i = 0; i < fs.length; i++) {\\n      var file = fs[i];\\n      files.push(file);\\n      var fileSize = 0;\\n      if (file.size > 1024 * 1024) {\\n        fileSize = (Math.round(file.size * 100 / (1024 * 1024)) / 100).toString() + 'MB';\\n      } else {\\n        fileSize = (Math.round(file.size * 100 / 1024) / 100).toString() + 'KB';\\n      }\\n      html += '<div class=\\\"file-item well\\\">'+\\n                  '<div class=\\\"progress\\\">'+\\n        \\t\\t      '<div class=\\\"bar\\\" name=\\\"bar\\\" style=\\\"text-align: left;\\\">上传进度：0%<\\/div><\\/div>' +\\n                      '<hr style=\\\"height:1px;border:none;border-top:1px dashed #0066CC;\\\" />' +\\n                      '<div><div class=\\\"span2\\\">文件名称：'+ file.name +'<\\/div>' +\\n        \\t\\t\\t  '<hr style=\\\"height:1px;border:none;border-top:1px dashed #0066CC;\\\" />' +              \\n                      '<div class=\\\"span2\\\">文件大小：'+ fileSize +'<\\/div>' +\\n                      '<hr style=\\\"height:1px;border:none;border-top:1px dashed #0066CC;\\\" />' +\\n                      '<div class=\\\"span2\\\">文件类型：'+ file.type +'<\\/div>'+\\n                  '<\\/div>'+\\n  \\t\\t\\t  '<\\/div>'+\\n              '<hr style=\\\"height:1px;border:none;border-top:1px solid #555555;\\\"/>';\\n    \\n      var json = {ATT_FILE_NAME:file.name, UPLOAD_INDEX:i, UPLOAD_MSG:'准备上传'};\\n      attrStore.insert(attrStore.getCount(), json);\\n      attrStore.commitChanges();\\n    }\\n    \\n    document.getElementById('fileList').innerHTML = html;\\n    \\n    barList = document.getElementsByName('bar');\\n    \\n    startUpload();\\n  }\\n  \\n  function fileSelected() {\\n    var fs = document.getElementById('fileToUpload').files;\\n    fireUpload(fs);\\n  }\\n  \\n  //文件拖动上传\\n  function handleDragOver(event) {\\n    event.stopPropagation();\\n    event.preventDefault();\\n  }\\n\\n  function handleDrop(event) {\\n    event.stopPropagation();\\n    event.preventDefault();\\n    fireUpload(event.dataTransfer.files);\\n  }\\n  \\n<\\/script>\"},{\"xwlMeta\":\"folder\",\"id\":\"ajaxs\"},{\"xwlMeta\":\"folder\",\"id\":\"stores\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"attrStore\",\"params\":\"{src_id:'{#srcId#}'}\",\"url\":\"#23WJJBG2TBZV (getAttrs)\"}]},{\"xwlMeta\":\"folder\",\"id\":\"tbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"attrGridTbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"upward_icon\",\"id\":\"btn_upload\",\"text\":\"上传\",\"disabled\":\"'{#canUp#}'=='N'?true:false\",\"afterrender\":\"if(!isSupportHtml5){\\n  var config = getSWFConfig(button);\\n  \\n  swfupload = new SWFUpload(config);\\n  \\n  Ext.get(swfupload.movieName).setStyle({\\n    position : 'absolute',\\n    top : 0,\\n    left : -2\\n  });\\n}\",\"click\":\"if(isSupportHtml5){\\n  document.getElementById('fileToUpload').click();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"open_icon\",\"id\":\"btn_batch_download\",\"text\":\"批量下载\",\"disabled\":\"'{#canDown#}'=='N'?true:false\",\"click\":\"var rows = attrGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var p = new Array();\\n  for(var i=0; i<rows.length; i++){\\n    var id = rows[i].data.ATT_ID;\\n    p.push(id);\\n  }\\n  window.location.href= '{#contextPath#}'+\\\"/xipAttMrgAction.do?method=down&selectedIds=\\\"+p.toString();\\t\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"icon-delete\",\"id\":\"btn_delete\",\"text\":\"删除\",\"disabled\":\"'{#canDel#}'=='N'?true:false\",\"click\":\"var rows = attrGrid.getSelectionModel().getSelection();\\nif(rows.length==0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}else{\\n  var p = new Array();\\n  for(var i=0; i<rows.length; i++){\\n    var id = rows[i].data.ATT_ID;\\n    p.push(id);\\n  }\\n  \\n  Ext.Msg.wait('正在删除，请稍后!');\\n  Ext.Ajax.request({\\n    url : '{#contextPath#}'+ '/xipAttMrgAction.do?method=del',\\n    method: 'POST',\\n    timeout: 6000000,\\n    params:{ids : p.toString()},\\n    success: function(response,options){\\n      Ext.Msg.hide();\\n      var json = Ext.JSON.decode(response.responseText);\\n      Ext.Msg.alert('提示',json.msg,function(){attrStore.load({params:{src_id:'{#srcId#}'}});});\\n    },\\n    failure: function(response,options){\\n      Ext.Msg.alert('提示','发送请求失败，服务器没有响应');\\n    }\\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"label\",\"id\":\"msgLabel\",\"hidden\":\"true\",\"html\":\"<font color='red' style=\\\"font-weight:bold;\\\">&nbsp;&nbsp;可以直接将文件拖拽到表格进行上传<\\/font>\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"attrGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"column_num\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATT_FILE_NAME\",\"id\":\"column_file_name\",\"text\":\"附件名称\",\"width\":\"200\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATION_DATE\",\"id\":\"column_upload_date\",\"text\":\"上传时间\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"UPLOAD_MSG\",\"id\":\"column_upload_msg\",\"text\":\"上传信息\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"id\":\"column_download\",\"renderer\":\"var returnValue = '';\\nvar imgUrl = '{#contextPath#}' + '/pub/uip/common/image/icon_down.gif';\\nreturnValue = \\\"<img src='\\\" + imgUrl + \\\"' style='width:10px;height:10px'/>\\\"; \\nreturn returnValue;\",\"text\":\"下载\",\"align\":\"center\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"id\":\"column_view\",\"renderer\":\"var returnValue = '';\\nvar imgUrl = '{#contextPath#}' + '/pub/uip/common/image/owc_view.bmp';\\nreturnValue = \\\"<img src='\\\"+imgUrl+\\\"' style='width:12px;height:12px'/>\\\"; \\nreturn returnValue;\",\"text\":\"预览\",\"align\":\"center\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATT_ID\",\"id\":\"column_att_id\",\"text\":\"ATTR_ID\",\"hidden\":\"true\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"attrStore\",\"columns\":\"attrGridColumns\",\"region\":\"center\",\"id\":\"attrGrid\",\"tbar\":\"attrGridTbar\",\"columnLines\":\"true\",\"multiSelect\":\"true\",\"simpleSelect\":\"true\",\"selType\":\"checkboxmodel\",\"afterrender\":\"var dropArea = document.getElementById('attrGrid');\\n\\ntry{\\n  dropArea.addEventListener('drop', handleDrop, false);\\n  dropArea.addEventListener('dragover', handleDragOver, false);\\n}catch(e){\\n\\n}\",\"cellclick\":\"if(cellIndex==5){\\n  var id = record.data.ATT_ID;\\n  window.location.href='{#contextPath#}'+\\\"/xipAttMrgAction.do?method=down&att_id=\\\"+id.toString();\\n}else if(cellIndex==6){\\n  var id = record.data.ATT_ID;\\n  //  window.location.href=contextPath+\\\"/platform/attachment/attachmentView.jsp?att_id=\\\"+id.toString();\\n  window.open ('{#contextPath#}'+\\\"/xipAttMrgAction.do?method=down&view=1&att_id=\\\"+id.toString(),'newwindow','height=768,width=1024,top=0,left=0,toolbar=no,menubar=no,scrollbars=yes, resizable=no,location=no, status=no');\\n}\"},{\"xwlMeta\":\"panel\",\"region\":\"east\",\"id\":\"viewUploadPanel\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"200\",\"frame\":\"true\",\"hidden\":\"true\",\"split\":\"true\",\"html\":\"<div class=\\\"container span7 offset3 well\\\">\\n    <form id=\\\"uploadForm\\\" class=\\\"form-horizontal\\\" enctype=\\\"multipart/form-data\\\" method=\\\"post\\\">\\n        <fieldset>\\n            <legend>最近文件上传信息<\\/legend>\\n            <div class=\\\"control-group\\\">\\n                <label class=\\\"control-label\\\" for=\\\"fileToUpload\\\" style=\\\"display: none;\\\">选择文件(支持多选):<\\/label>\\n                <div class=\\\"controls\\\">\\n                    <input type=\\\"file\\\" name=\\\"fileToUpload\\\" id=\\\"fileToUpload\\\" multiple=\\\"multiple\\\" onchange=\\\"fileSelected();\\\" style=\\\"display: none;\\\"/>\\n                <\\/div>\\n            <\\/div>\\n            <div class=\\\"form-actions text-left\\\" >\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" id=\\\"subBtn\\\" onClick=\\\"startUpload();\\\" style=\\\"display: none;\\\">立即上传<\\/button>\\n            <\\/div>\\n            <hr style=\\\"height:1px;border:none;border-top:1px solid #555555;\\\"/>\\n            <div class=\\\"file-list\\\" id=\\\"fileList\\\"><\\/div>\\n          <input  type=\\\"submit\\\" id=\\\"submit\\\" value=\\\"submit\\\"/>\\n        <\\/fieldset>\\n    <\\/form>\\n<\\/div>\"}]}]}","attachmentManage(html5)",null,0,0,"admin","2015-08-11 10:06:17.0","23XQ4B4KHDBR","2015-10-22 10:52:41.0",2],["23XOJ8S7DHML","23VL9CC5TPUO",null,"测试","wand_icon",0,0,"admin","2015-08-11 10:41:38.0","admin","2015-08-11 10:41:38.0",71],["23XQ5H45XKQJ","23XF2T8HTFXK","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"copyTmp\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"isExist\",\"sql\":\"select count(1) as \\\"B\\\" from xip_pub_chart_tmp x where x.TMP_CODE={?CODE?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"error\",\"message\":\"模板编码已存在\",\"name\":\"isExist.B\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_pub_chart_tmp(\\n   TMP_ID,\\n   TMP_CODE,\\n   TMP_NAME,\\n   TMP_DESC,\\n   CHART_TYPE,\\n   X_AXIS_TYPE,\\n   Y_AXIS_TYPE,\\n   X_AXIS,\\n   Y_AXIS,\\n   X_AXIS_DS,\\n   Y_AXIS_DS,\\n   LEGEND,\\n   LEGEND_TYPE,\\n   TMP_CHART_SRC_ID,\\n   CREATION_DATE, \\n   CREATED_BY,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY \\n)\\n   select {?TID?},\\n          {?CODE?},\\n          {?NAME?},\\n          {?DESC?},\\n          CHART_TYPE,\\n          X_AXIS_TYPE,\\n          Y_AXIS_TYPE,\\n          X_AXIS,\\n          Y_AXIS,\\n          X_AXIS_DS,\\n          Y_AXIS_DS,\\n          LEGEND,\\n          LEGEND_TYPE,\\n          TMP_CHART_SRC_ID,     \\n          {?timestamp.sys.date?},\\n          {?XIP.userId?},\\n          {?timestamp.sys.date?},\\n          {?XIP.userId?}  \\n       from xip_pub_chart_tmp x \\n       where x.TMP_ID = {?TMP_ID?}\"}]}","copyTmp",null,0,0,"23XQ4UO678F5","2015-08-12 17:54:14.0","23XQ4UO678F5","2015-08-19 09:04:34.0",22],["23XQ5H45XM6O","23XF2T8HTFXK","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"copyDataSource\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"insert into xip_pub_chart_tmp_ds(\\n       DS_ID,\\n       TMP_ID,\\n       DS_CODE,\\n       TMP_DESC,\\n       SQL_STRING,\\n       ATTRIBUTE1,\\n       CREATION_DATE, \\n       CREATED_BY,\\n       LAST_UPDATE_DATE,\\n       LAST_UPDATED_BY \\n) select sys_guid(),\\n         {?TID?},\\n         {?CODE?},\\n         {?DESC?},\\n         SQL_STRING,\\n         ATTRIBUTE1,\\n         {?timestamp.sys.date?},\\n         {?XIP.userId?},\\n         {?timestamp.sys.date?},\\n         {?XIP.userId?}  \\n  from  xip_pub_chart_tmp_ds x\\n  where x.TMP_ID = {?TMP_ID?}\",\"id\":\"sqlSwitcher1\",\"mysql\":\"insert into xip_pub_chart_tmp_ds(\\n       DS_ID,\\n       TMP_ID,\\n       DS_CODE,\\n       TMP_DESC,\\n       SQL_STRING,\\n       ATTRIBUTE1,\\n       CREATION_DATE, \\n       CREATED_BY,\\n       LAST_UPDATE_DATE,\\n       LAST_UPDATED_BY \\n) select uuid(),\\n         {?TID?},\\n         {?CODE?},\\n         {?DESC?},\\n         SQL_STRING,\\n         ATTRIBUTE1,\\n         {?timestamp.sys.date?},\\n         {?XIP.userId?},\\n         {?timestamp.sys.date?},\\n         {?XIP.userId?}  \\n  from  xip_pub_chart_tmp_ds x\\n  where x.TMP_ID = {?TMP_ID?}\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","copyDataSource",null,0,0,"23XQ4UO678F5","2015-08-13 10:13:49.0","23XQ4UO678F5","2015-08-25 16:05:17.0",21],["23XQ5H45XPR7","23XF2T8HTFXK","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"copyAttribute\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"insert into xip_pub_chart_tmp_dtl(\\n   TMP_DTL_ID,\\n   TMP_ID,\\n   PRO_ID,\\n   PRO_CODE,\\n   PRO_VAL,\\n   PRO_VAL_DISPLAY,\\n   CREATION_DATE, \\n   CREATED_BY,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY \\n) SELECT sys_guid(),\\n         {?TID?},\\n         PRO_ID,\\n         PRO_CODE,\\n         PRO_VAL,\\n         PRO_VAL_DISPLAY,\\n         {?timestamp.sys.date?},\\n         {?XIP.userId?},\\n         {?timestamp.sys.date?},\\n         {?XIP.userId?}  \\n   FROM xip_pub_chart_tmp_dtl x\\n   where x.TMP_ID = {?TMP_ID?}\\n\",\"id\":\"sqlSwitcher1\",\"mysql\":\"insert into xip_pub_chart_tmp_dtl(\\n   TMP_DTL_ID,\\n   TMP_ID,\\n   PRO_ID,\\n   PRO_CODE,\\n   PRO_VAL,\\n   PRO_VAL_DISPLAY,\\n   CREATION_DATE, \\n   CREATED_BY,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY \\n) SELECT uuid(),\\n         {?TID?},\\n         PRO_ID,\\n         PRO_CODE,\\n         PRO_VAL,\\n         PRO_VAL_DISPLAY,\\n         {?timestamp.sys.date?},\\n         {?XIP.userId?},\\n         {?timestamp.sys.date?},\\n         {?XIP.userId?}  \\n   FROM xip_pub_chart_tmp_dtl x\\n   where x.TMP_ID = {?TMP_ID?}\\n\"},{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","copyAttribute",null,0,0,"23XQ4UO678F5","2015-08-13 11:19:21.0","23XQ4UO678F5","2015-08-13 15:30:05.0",20],["23XQPMW6DXUL","23X03SSA2I7U","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"微信js-sdk接口\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"serverScript\",\"id\":\"weixinServerJs\",\"script\":\"var ctxPath = request.getContextPath() ;\\nvar currentUrl = request.getRequestURL().toString();\\nvar queryStr = request.getQueryString();\\nif (queryStr !== null) {\\n  currentUrl = currentUrl.concat(\\\"?\\\").concat(queryStr);\\n        }\\nvar wxCasUrl = com.xzsoft.xip.platform.util.PlatformUtil.getXipConfigVal(\\\"cas.casServerUrl\\\");\\nvar configMap = com.xzsoft.xip.weixin.PlatformWeixinUtil.getWxJsSdkParams(currentUrl);\\nvar configParams = configMap.split(\\\"#&\\\");\\nvar wxJsTicket = configParams[0];\\nvar wxNonceStr = configParams[1];\\nvar wxTimestamp = configParams[2];\\nvar wxSignature = configParams[3];\\nvar wxAppId = configParams[4];\\n\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nrequest.setAttribute(\\\"wxJsTicket\\\",wxJsTicket);\\nrequest.setAttribute(\\\"wxNonceStr\\\",wxNonceStr);\\nrequest.setAttribute(\\\"wxTimestamp\\\",wxTimestamp);\\nrequest.setAttribute(\\\"wxSignature\\\",wxSignature);\\nrequest.setAttribute(\\\"wxAppId\\\",wxAppId);\\nrequest.setAttribute(\\\"wxCasUrl\\\",wxCasUrl);\\n\\n\"},{\"xwlMeta\":\"clientScript\",\"id\":\"weixinJs\",\"header\":\"<script src=\\\"http://res.wx.qq.com/open/js/jweixin-1.0.0.js\\\"><\\/script>\",\"initialize\":\"wx.config({\\n  debug: false, //调试阶段建议开启\\n  appId: '{#wxAppId#}',\\n  timestamp: '{#wxTimestamp#}',\\n  nonceStr: '{#wxNonceStr#}',\\n  signature: '{#wxSignature#}',\\n  jsApiList: [\\n    /*\\n            * 所有要调用的 API 都要加到这个列表中\\n            * 这里以图像接口为例\\n            */\\n    'checkJsApi',\\n    'onMenuShareTimeline',\\n    'onMenuShareAppMessage',\\n    'onMenuShareQQ',\\n    'onMenuShareWeibo',\\n    'onMenuShareQZone',\\n    'hideMenuItems',\\n    'showMenuItems',\\n    'hideAllNonBaseMenuItem',\\n    'showAllNonBaseMenuItem',\\n    'translateVoice',\\n    'startRecord',\\n    'stopRecord',\\n    'onRecordEnd',\\n    'playVoice',\\n    'pauseVoice',\\n    'stopVoice',\\n    'uploadVoice',\\n    'downloadVoice',\\n    'chooseImage',\\n    'previewImage',\\n    'uploadImage',\\n    'downloadImage',\\n    'getNetworkType',\\n    'openLocation',\\n    'getLocation',\\n    'hideOptionMenu',\\n    'showOptionMenu',\\n    'closeWindow',\\n    'scanQRCode',\\n    'chooseWXPay',\\n    'openProductSpecificView',\\n    'addCard',\\n    'chooseCard',\\n    'openCard'\\n  ]\\n});\\n//定义images用来保存选择的本地图片ID，和上传后的服务器图片ID\\nvar images = {\\n  localId: [],\\n  serverId: []\\n};\\n/**\\n *微信图片上传接口js \\n *attCatCode:附件分类编码\\n *srcId:业务主键\\n *busNo：业务编码\\n *orgId：组织ID\\n *callback:回调函数\\n *return：成功 {'flag':'1','msg':'文件上传成功！'}\\n *       失败 {'flag':'0','msg':'没有找到授权的服务器信息！'}等\\n */\\nfunction wxChooseImage(attCatCode,srcId,busNo,orgId,callback){\\n  wx.chooseImage ({\\n    success : function(res){\\n      images.localId = res.localIds;  //保存到images\\n      wxUploadImage(attCatCode,srcId,busNo,orgId,callback);\\n    }\\n  });\\n}\\nfunction wxUploadImage(attCatCode,srcId,busNo,orgId,callback){\\n  var i = 0, len = images.localId.length;\\n  function wxUpload(){\\n    wx.uploadImage({\\n      localId: images.localId[i], \\n      isShowProgressTips: 1, // 默认为1，显示进度提示\\n      success: function (res) {\\n        i++;\\n        //保存serverId\\n        images.serverId.push(res.serverId);\\n        //若选择了多张图片，依次将这些图片上传到微信服务器，图片上传完毕后，再将图片下载到本地服务器\\n        if(i < len){\\n          wxUpload();\\n        }else{\\n          var tmp = images.serverId;\\n          if (images.serverId.length === 0) {\\n            Wb.message(\\\"你没有上传过文件，请先上传文件！\\\");\\n            return;\\n          }else{\\n            //发送ajax请求，从微信服务器上获取附件转存到本地服务器上\\n            Ext.Ajax.request({\\n              url:'{#contextPath#}/weixinStoreFile.do?method=weixinStoreFile',\\n              method: 'POST',\\n              timeout : 300000,\\n              params:{'mediaIds':tmp.toString(),'attCatCode':attCatCode,'srcId':srcId,'busNo':busNo,'orgId':orgId},\\n              success: function ( result, request) {\\n                if(callback)\\n                  callback(Ext.JSON.decode(result.responseText));\\n                Ext.Msg.alert('提示','图片上传成功！');\\n                //清空已经上传的图片\\n                images = {\\n                  localId: [],\\n                  serverId: []\\n                };\\n              },\\n              failure: function ( result, request) {\\n                Ext.Msg.alert('提示','图片上传失败！');\\n                //清空已经上传的图片\\n                images = {\\n                  localId: [],\\n                  serverId: []\\n                };\\n              }\\n            });                        \\n          }\\n        }\\n      }\\n    });\\n  }\\n  wxUpload();\\t\\n}\\n/**\\n *图片预览接口 \\n *attId:当前图片的id\\n *attIds:预览图片列表ids\\n *说明: attIds为数组(Array),并且attIds中必须包含attId;\\n *attIds传空([])或者不传(null)时,此时为预览单张图片\\n */\\nfunction wxImagePreview(businessId){\\n  var attIds = '';\\n  Ext.Ajax.request({\\n    url :'{#contextPath#}/main?xwl=23XRWETM8LUV&src_id='+businessId,\\n    async:false,\\n    method: 'POST',\\n    success: function(response,options){\\n      var temp = response.responseText;\\n      var resp = Ext.JSON.decode(temp);\\n      attIds = resp.rows;   \\n      var  imageArray = [];\\n      var  tmpUrl='{#wxCasUrl#}/xipAttMrgAction.do?method=down&view=1&att_id=';\\n      var  firstUrl = '';\\n      if(!Ext.isEmpty(attIds) && attIds.length>0){ \\n        var i = 0;\\n        Ext.each(attIds,function(item){\\n          if(i === 0){\\n            firstUrl = tmpUrl+item.ATT_ID;\\n          }\\n           imageArray.push(tmpUrl+item.ATT_ID);\\n          i++;\\n        });\\n       wx.previewImage({\\n          current: firstUrl,\\n          urls: imageArray\\n      });\\n      }else{\\n        Wb.message(\\\"你没有上传过文件，请先上传文件！\\\");\\n        return;\\n      }\\n\\n    },\\n    failure: function(response,options){\\n      Ext.Msg.alert(\\\"提示\\\",\\\"服务器端没有响应!\\\");\\n    }\\n  });\\n}\\n/**\\n *微信扫码接口\\n *scanQRDesc 扫码框描述信息\\n */\\nfunction wxScanQRCode(scanQRDesc,callback){\\n  if(Ext.isEmpty(scanQRDesc)){\\n    scanQRDesc = \\\"微信扫一扫\\\";\\n  }\\n  wx.scanQRCode({\\n    desc: scanQRDesc,\\n    needResult: 1,                  // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，\\n    scanType: [\\\"qrCode\\\",\\\"barCode\\\"], // 可以指定扫二维码还是一维码，默认二者都有\\n    success: function (res) {\\n    var result = res.resultStr;     // 当needResult 为 1 时，扫码返回的结果\\n      if(callback){\\n          callback(result);\\n      }\\n}\\n});\\n}\\n\"}]}","平台微信js接口",null,0,0,"23XQ4B4KHDBQ","2015-08-14 14:30:48.0","23XQ4B4KHDBQ","2015-08-31 14:17:47.0",3],["23XQPMW6DXUV","23XOJ8S7DHML","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23XQPMW6DXUL (平台微信js接口)\\\"]\",\"id\":\"module\",\"title\":\"微信图片测试界面\",\"loginRequired\":\"false\",\"touchMode\":\"true\",\"children\":[{\"xwlMeta\":\"tviewport\",\"id\":\"tviewport1\",\"children\":[{\"xwlMeta\":\"tpanel\",\"id\":\"tpanel1\",\"children\":[{\"xwlMeta\":\"tbutton\",\"text\":\"上传图片\",\"id\":\"tbutton1\",\"tap\":\"wxChooseImage('Demo','1234567890','hxcode',null,null);\"},{\"xwlMeta\":\"tbutton\",\"text\":\"预览图片\",\"id\":\"tbutton2\",\"tap\":\"wxImagePreview('1234567890');\"},{\"xwlMeta\":\"tbutton\",\"text\":\"微信扫码\",\"id\":\"tbutton3\",\"tap\":\" wxScanQRCode(\\\"扫一扫,领红包啦！\\\",function test(obj){\\n   window.location.href = \\\"http://xzsoft.cc/QR/servlet/getQrCode?encryptedQrCode=\\\"+obj;\\n});\\n\"}]}]}]}","微信图片测试",null,0,0,"23XQ4B4KHDBQ","2015-08-14 14:39:32.0","23XQ4B4KHDBQ","2015-08-31 15:44:14.0",2],["23XRWETM8LUV","23X03SSA2I83","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getFileNamesBySrcid\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"jsonArray\",\"id\":\"dataProvider1\",\"sql\":\"select ATT_ID from xip_pub_atts where SRC_ID = {?src_id?} and upper(ATT_FILE_TYPE) in('JPG','JPEG','PNG','GIF','TIFF','BMP')\"}]}","平台微信查询图片",null,0,0,"23XQ4B4KHDBQ","2015-08-19 16:14:59.0","23XQ4B4KHDBQ","2015-08-19 16:19:25.0",2],["23XRWETM8OYV","23VRM7XF4LFL","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getFriendLinks\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"jsonArray\",\"id\":\"dataProvider1\",\"sql\":\"SELECT \\n  l.VAL_CODE AS \\\"CODE\\\",\\n  l.DESCRIPTION AS \\\"NAME\\\",\\n  l.VAL_NAME AS \\\"URL\\\" \\nFROM\\n  xip_pub_val_set_dtl l \\nWHERE l.VAL_SET_CODE = 'FRIEND_LINK' \\n  AND l.ENABLE_FLAG = 'Y' \\n  AND EXISTS \\n  (SELECT \\n    * \\n  FROM\\n    xip_pub_val_sets s \\n  WHERE s.VAL_SET_CODE = l.VAL_SET_CODE \\n    AND s.ENABLE_FLAG = 'Y') \\nORDER BY l.VAL_CODE ASC \"}]}","getFriendLinks",null,1,0,"admin","2015-08-20 11:14:51.0","23XSWLY0BYLW","2015-08-25 10:35:35.0",11],["23XSVUS9VH4U","23XNAZFYVW3S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"链接失效\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"panel2\",\"height\":\"'50%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'50%'\",\"children\":[{\"xwlMeta\":\"image\",\"id\":\"image1\",\"height\":\"50\",\"hidden\":\"true\",\"width\":\"50\",\"src\":\"webbuilder/images/excl.gif\",\"x\":\"600\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"height\":\"'50%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"bodyStyle\":\"text-align:center\",\"width\":\"'50%'\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"label1\",\"style\":\"font-size:60px\",\"html\":\"<font><img src='webbuilder/images/excl.gif' style='width:60px;height:45px'/>对不起，链接已失效!<\\/font>\\n\"}]}]}]}","链接失效",null,0,0,"23XQ4UO678F5","2015-08-21 16:12:45.0","23XQ4UO678F5","2015-10-22 14:41:33.0",3],["23XSWLY0BX4G","23WY5BHMORNR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectPlantform\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VSC,null,VT.VAL,VT.VAL) VAL,\\n       DECODE(VT.VSC,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T \\n      ) VT\\nWHERE VT.VAL_LEVEL='P' AND VT.PARAM_ID={?PARAM_ID?}\\n\\n\\n\\n\\n\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VSC is null,VT.VAL,VT.VAL) VAL,\\n       IF(VT.VSC is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T \\n      ) VT\\nWHERE VT.VAL_LEVEL='P' AND VT.PARAM_ID={?PARAM_ID?}\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","selectPlantform_U",null,0,0,"23XQ4UO678F5","2015-08-21 18:16:37.0","23XQ4UO678F5","2015-08-21 18:20:29.0",7],["23XSWLY0BXDP","23WY5BHMORNR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"select_rolestore\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VSC,null,VT.VAL,VT.VAL) VAL,\\n       DECODE(VT.VSC,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.ROLE_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.ROLE_NAME FROM XIP_PUB_ROLE XPA WHERE XPA.ROLE_ID=X1.TARGET_ID) ROLE_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T \\n      ) VT\\nWHERE VT.VAL_LEVEL='R' AND VT.PARAM_ID={?PARAM_ID?}\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VSC is null,VT.VAL,VT.VAL) VAL,\\n       IF(VT.VSC is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.ROLE_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.ROLE_NAME FROM XIP_PUB_ROLE XPA WHERE XPA.ROLE_ID=X1.TARGET_ID) ROLE_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T \\n      ) VT\\nWHERE VT.VAL_LEVEL='R' AND VT.PARAM_ID={?PARAM_ID?}\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","select_rolestore_u",null,0,0,"23XQ4UO678F5","2015-08-21 18:21:47.0","23XQ4UO678F5","2015-08-21 18:22:59.0",9],["23XSWLY0BXF4","23WY5BHMORNR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"select_userStore\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VSC,null,VT.VAL,VT.VAL) VAL,\\n       DECODE(VT.VSC,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.USER_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.USER_NAME FROM XIP_PUB_USERS XPA WHERE XPA.USER_ID=X1.TARGET_ID) USER_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T \\n      ) VT\\nWHERE VT.VAL_LEVEL='U' AND VT.PARAM_ID={?PARAM_ID?}\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VSC is null,VT.VAL,VT.VAL) VAL,\\n       IF(VT.VSC is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.USER_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.USER_NAME FROM XIP_PUB_USERS XPA WHERE XPA.USER_ID=X1.TARGET_ID) USER_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T \\n      ) VT\\nWHERE VT.VAL_LEVEL='U' AND VT.PARAM_ID={?PARAM_ID?}\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","select_userStore_u",null,0,0,"23XQ4UO678F5","2015-08-21 18:23:13.0","23XQ4UO678F5","2015-08-21 18:24:15.0",11],["23XSWLY0BXGM","23WY5BHMORNR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"select_appStore\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       DECODE(VT.VSC,null,VT.VAL,VT.VAL) VAL,\\n       DECODE(VT.VSC,null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.APP_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.APP_NAME FROM XIP_PUB_APPS XPA WHERE XPA.APP_ID=X1.TARGET_ID) APP_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T \\n      ) VT\\nWHERE VT.VAL_LEVEL='A' AND VT.PARAM_ID={?PARAM_ID?}\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT VT.PARAM_ID,\\n       VT.EF ENABLE_FLAG,\\n       IF(VT.VSC is null,VT.VAL,VT.VAL) VAL,\\n       IF(VT.VSC is null,null,VT.VAL) VAL_CODE,\\n       VT.PARAM_NAME,\\n       VT.VSC VAL_SET_CODE,\\n       VT.VAL_SQL,\\n       VT.APP_NAME,\\n       VT.TARGET_ID,\\n       VT.PARAM_VAL_ID\\n FROM (SELECT * FROM (SELECT X1.PARAM_VAL_ID,\\n                            X1.PARAM_ID,\\n                            X1.TARGET_ID,\\n                            (SELECT XPA.APP_NAME FROM XIP_PUB_APPS XPA WHERE XPA.APP_ID=X1.TARGET_ID) APP_NAME,\\n                            X1.VAL,\\n                            X1.VAL_LEVEL,\\n                            X1.ENABLE_FLAG EF,\\n                            X2.VAL_SET_CODE VSC,\\n                            X2.VAL_SQL,\\n                            X2.PARAM_NAME\\n                       FROM XIP_PUB_PARAM_VALS X1 left join XIP_PUB_PARAMS X2 on X1.PARAM_ID=X2.PARAM_ID) T \\n      ) VT\\nWHERE VT.VAL_LEVEL='A' AND VT.PARAM_ID={?PARAM_ID?}\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","select_appStore_u",null,0,0,"23XQ4UO678F5","2015-08-21 18:24:27.0","23XQ4UO678F5","2015-08-21 18:25:13.0",15],["23XSWLY0C0OE","23VVZ3QMOKQA",null,"用户注册默认权限",null,0,0,"23XQ4UO678F0","2015-08-24 10:44:39.0","23XQ4UO678F0","2015-08-24 10:44:39.0",49],["23XTQL2Z9PGX","23XSWLY0C0OE","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"用户注册默认权限\",\"loginRequired\":\"false\",\"initScript\":\"//var authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nvar authModel = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(\\\"AUTH_MODAL\\\");\\nrequest.setAttribute(\\\"authModel\\\",authModel);\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23XU0SUM710M (insertrole)\",\"id\":\"roleAddAjax\",\"success\":\"Wb.message('授权成功！');\\nWb.load(storeGrid);\\nWb.load(storeRoleAll);\\n\\nmenuFunctionAllStore.load();\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XU4DQX21VC (deleteGrid)\",\"id\":\"deleteGridAjax\",\"output\":\"grid\",\"success\":\"Wb.message('删除成功！');\\nWb.load(storeGrid);\"},{\"xwlMeta\":\"store\",\"id\":\"storeGrid\",\"url\":\"#23XU0SUM711X (selectGrid)\",\"output\":\"grid\"},{\"xwlMeta\":\"store\",\"id\":\"storeRoleAll\",\"url\":\"#23XTQL2Z9TNY (selectRoleAll)\",\"output\":\"Roleform\"},{\"xwlMeta\":\"treeStore\",\"url\":\"{#contextPath#}/userAuthoriseTreeCreateAction.do?method=getFunTreeForNone\",\"id\":\"menuFunctionAllStore\",\"autoLoad\":\"false\",\"fields\":\"[{name:'text'},{name:'id'},{name:'parent_id'},{name:'node_type'},{name:'node_order'}]\",\"load\":\"menuFunctionTreeAll.expandAll();\",\"beforeload\":\"operation.params.parentID=operation.node.get('ID');\\n\\n\\t\\n\\n\\n\\n\"},{\"xwlMeta\":\"array\",\"id\":\"columnArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rownum\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEFAULT_FUNS_ID\",\"id\":\"DEFAULT_FUNS_ID\",\"text\":\"主键id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"AUTH_MODAL\",\"id\":\"AUTH_MODAL\",\"renderer\":\"if(value === \\\"ROLE\\\"){\\n  return \\\"角色授权\\\";\\n}else if(value === \\\"USER\\\"){\\n  return \\\"功能授权\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"授权模式\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TARGET_ID\",\"id\":\"TARGET_ID\",\"text\":\"功能id和角色id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FUN_NAME\",\"id\":\"fun_name\",\"text\":\"功能名称\",\"width\":\"300\"}]},{\"xwlMeta\":\"array\",\"id\":\"Rolegridcolumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"column121\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_ID\",\"id\":\"column221\",\"text\":\"ROLE_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ROLE_NAME\",\"id\":\"roleNA11\",\"text\":\"角色名\",\"width\":\"100\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DESCRIPTION\",\"id\":\"roleDesctiption1\",\"text\":\"角色说明\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"winrolebtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"confirmbtn\",\"text\":\"确定\",\"click\":\"//==============添加角色授权==================\\n\\nvar authmodal ='{#authModel#}';\\nvar rows = Wb.getSelRec(RolegridAll);\\nif(rows.length === 0){\\n  Wb.warning('请选择要授权的角色！');\\n  return false;\\n}\\n\\nvar _tmpJson;\\nvar _addArray = [];\\nExt.each(rows,function(a){\\n  _tmpJson = {AUTH_MODAL:authmodal,TARGET_ID:a.data.ROLE_ID};\\n  _addArray.push(_tmpJson); \\n});\\n\\nroleAddAjax.params.newArray = Ext.JSON.encode(_addArray);\\nroleAddAjax.request();\\n \\n      \\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closebtn\",\"text\":\"关闭\",\"click\":\"winrole.hide();\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"winfunbtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"saveFunBtn\",\"text\":\"确定\",\"click\":\"var selectLength = menuFunctionTreeAll.getChecked().length;\\n\\nif(selectLength===0){\\n  Wb.warning('请选择添加的授权功能！');\\n  return;\\n}  \\nvar authmodal ='{#authModel#}';\\n//========为用户添加授权功能================\\nvar _addSelectRecord = menuFunctionTreeAll.getChecked();\\n\\nvar _addArray = [];\\nvar _addUnit;\\n\\nfor(var i = 0;i<selectLength;i++){\\n  var item = _addSelectRecord[i];\\n\\n  if(item.data.node_type === 'F'){ \\n    \\n    _addUnit = {AUTH_MODAL:authmodal,TARGET_ID:item.data.id};\\n \\n    _addArray.push(_addUnit);\\n  } \\n}\\n//==============执行请求操作=================\\n\\nroleAddAjax.params.newArray = Ext.JSON.encode(_addArray);\\nroleAddAjax.request();\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"closeFunWin\",\"text\":\"关闭\",\"click\":\"winfun.close();\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"new_icon\",\"id\":\"addBtn\",\"click\":\"var a ='{#authModel#}';\\n\\n if(a== 'USER'){\\n winfun.show();\\n\\n }\\nif(a=='ROLE'){\\nwinrole.show();\\n  \\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"cancel_icon\",\"id\":\"cancelBtn\",\"click\":\"var rows=Wb.getSelRec(grid);\\nif(Ext.isEmpty(rows)){\\n  Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n}\\nelse{\\n   Ext.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n    deleteGridAjax.request();\\n    }\\n   });\\n}\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line3\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"roletoolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line11\"},{\"xwlMeta\":\"menuItem\",\"text\":\"新增\",\"iconCls\":\"plus_icon\",\"id\":\"roleAddBtn\",\"click\":\"var _userId = hidenuserid.getValue();\\nWb.load(storeRoleAll,{USER_ID:_userId});\\nwinrole.show();\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line12\"},{\"xwlMeta\":\"menuItem\",\"text\":\"删除\",\"iconCls\":\"minus_icon\",\"id\":\"deletebtn\",\"click\":\"var rows=Wb.getSelRec(Rolegrid);\\nif(Ext.isEmpty(rows)){\\n  Ext.MessageBox.alert('提示','您没有选中任何数据！');\\n}\\nelse{\\n   Ext.Msg.confirm('提示','您确定要删除？',function(a){\\n    if(a=='yes'){\\n     ajax_role_del.request();\\n  \\n    }else{\\n      return false ;\\n    }\\n   \\n   });\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line13\"},{\"xwlMeta\":\"button\",\"iconCls\":\"copy_icon\",\"id\":\"copyRoleBtn\",\"text\":\"复制权限\",\"click\":\"var rows=Wb.getSelRec(Rolegrid);\\nif(Ext.isEmpty(rows)){\\n  Wb.warning('请选择要授权的角色！'); \\n  return false;\\n}\\nwinTypeHidden.setValue('ROLE');\\nWb.load(storeUser);\\nwinuser.show();\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line24\"},{\"xwlMeta\":\"text\",\"id\":\"hidenuserid\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"addFunGrantBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line20\"},{\"xwlMeta\":\"text\",\"id\":\"funName\",\"specialkey\":\"if(event.getKey() === event.ENTER){\\n   grantQueryBtn.fireEvent('click');\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"grantQueryBtn\",\"text\":\"查询\",\"click\":\"treeNodeQuery(funName.getValue(),'text','menuFunctionTreeAll');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"line21\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"winfun\",\"title\":\"添加功能\",\"height\":\"400\",\"layout\":\"fit\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"500\",\"buttons\":\"winfunbtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"center\",\"animate\":\"false\",\"store\":\"menuFunctionAllStore\",\"root\":\"{id:'rootNode',text:'功能菜单',expanded:true}\\n\",\"id\":\"menuFunctionTreeAll\",\"tbar\":\"addFunGrantBar\",\"border\":\"false\",\"rootVisible\":\"true\",\"viewConfig\":\"{\\n  plugins : {\\n    pluginId: 'ddPlug',\\n    ptype: 'treeviewdragdrop'\\n  },\\n  listeners : {\\n    beforedrop: function(node,data,overModel,dropPosition,dropFunction,options){\\n      return false;\\n    },\\n    drop: function(node,data,overModel,dropPosition,options){\\n      return false;\\n    }\\n  }\\n}\",\"checkchange\":\"node.cascadeBy(function(n){\\n    n.set('checked', checked); \\n});\\n    checkParent(node);\\nfunction checkParent(node){\\n  node = node.parentNode;\\n  if(!node) return;\\n  var checkP=false;\\n  node.cascadeBy(function (n)\\n  {\\n  if (n != node) {\\n  if (n.get('checked') === true) {\\n  checkP = true;\\n  }\\n  }\\n  });\\n  node.set('checked', checkP);\\n  checkParent(node);\\n}\\n\\n\\n\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"winrole\",\"title\":\"添加角色\",\"height\":\"400\",\"layout\":\"border\",\"autoReset\":\"false\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"580\",\"buttons\":\"winrolebtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"Roleform\",\"height\":\"40\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr113\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"td113\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"角色\",\"id\":\"roleN\",\"height\":\"20\",\"labelWidth\":\"40\",\"width\":\"200\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n\\tWb.load(storeRole);\\n}\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"padding\":\"1px 0px 0px 5px\",\"id\":\"td213\",\"layout\":\"form\",\"columnWidth\":\".18\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"roleQueryBtn\",\"text\":\"查询\",\"click\":\"Wb.load(storeRoleAll);\"}]}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storeRoleAll\",\"columns\":\"Rolegridcolumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"RolegridAll\",\"simpleSelect\":\"true\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"storeGrid\",\"columns\":\"columnArray\",\"border\":\"true\",\"region\":\"center\",\"id\":\"grid\",\"tbar\":\"toolbar1\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}","用户注册默认权限",null,0,0,"23XQ4UO678F0","2015-08-24 10:58:12.0","23XQ4UO678F0","2015-09-24 15:34:09.0",1],["23XTQL2Z9T5M","23XSWLY0C0OE",null,"DATA",null,1,0,"23XQ4UO678F0","2015-08-24 15:40:12.0","23XQ4UO678F0","2015-08-24 15:40:12.0",2],["23XTQL2Z9TNY","23XTQL2Z9T5M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectRoleAll\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#roleN#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT a.ROLE_ID,a.ROLE_NAME,a.DESCRIPTION FROM  xip_pub_role a \\n  WHERE a.enable_flag='Y' \\n  AND NOT EXISTS (SELECT * FROM xip_pub_user_default_funs t\\n                 WHERE  t.AUTH_MODAL='ROLE' AND  t.TARGET_ID = a.ROLE_ID )\\n  AND a.ROLE_NAME LIKE {?attribute1?}\"}]}","selectRoleAll","",0,0,"23XQ4UO678F0","2015-08-24 16:24:30.0","23XQ4UO678F0","2015-08-26 10:01:56.0",2],["23XTQL2Z9TVD","23VKVPUL8420","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Select Notices\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select xn.NOTICE_ID MSG_ID,\\n       xn.NOTICE_TITLE MSG_TITLE,\\n       xn.NOTICE_CONTENT MSG_CONTENT,\\n       xn.FORM_URL MSG_URL,\\n       xn.SRC_ID,\\n       xn.SRC_CAT,\\n       xun.USER_NOTICE_ID,\\n       xun.USER_ID,\\n       xun.STATUS MSG_STATUS,\\n       xu.USER_NAME,\\n       xe.EMP_CODE,\\n       xe.EMP_NAME,\\n       xn.created_by CREATED_BY,\\n       xn.creation_date CREATION_DATE\\n  from xip_pub_notices      xn,\\n       xip_pub_user_notices xun,\\n       xip_pub_users        xu,\\n       xip_pub_emps         xe\\n where xn.NOTICE_ID = xun.NOTICE_ID\\n   and xun.USER_ID = xu.USER_ID\\n   and xu.EMP_ID = xe.EMP_ID\\n   and xun.STATUS = 'open'\\n   and xu.USER_ID = {?XIP.userId?}\\n   and xn.NOTICE_TITLE like '%{#txtMsgTitle#}%'\\norder by xn.creation_date desc\"}]}","Select Notices",null,0,0,"23XQ4UO678F8","2015-08-24 16:57:34.0","23XQ4UO678F8","2015-08-28 15:10:19.0",2],["23XU0SUM710M","23XTQL2Z9T5M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insertrole\",\"loginRequired\":\"false\",\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].DEFAULT_FUNS_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\nrequest.setAttribute('batchArray',r);\\n\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_pub_user_default_funs\\n            (DEFAULT_FUNS_ID,\\n             AUTH_MODAL,\\n             TARGET_ID,\\n             CREATION_DATE,\\n             CREATED_BY,\\n             LAST_UPDATE_DATE,\\n             LAST_UPDATED_BY\\n              )\\n    values(\\n      {?DEFAULT_FUNS_ID?},\\n      {?AUTH_MODAL?},\\n      {?TARGET_ID?},\\n    \\n      {?timestamp.sys.date?},\\n      {?XIP.userId?},\\n      {?timestamp.sys.date?},\\n      {?XIP.userId?}\\n    )\",\"transaction\":\"start\",\"arrayName\":\"batchArray\"}]}","insertrole","",0,0,"23XQ4UO678F0","2015-08-25 09:42:27.0","23XQ4UO678F0","2015-08-25 09:46:54.0",5],["23XU0SUM711X","23XTQL2Z9T5M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"查询默认权限\",\"loginRequired\":\"false\",\"initScript\":\"var authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nrequest.setAttribute(\\\"authModel\\\",authModel);\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT a.DEFAULT_FUNS_ID,a.AUTH_MODAL,a.TARGET_ID ,\\ncase \\n  when b.ROLE_ID = '' then null \\n   else   \\n   b.ROLE_NAME \\n      end as FUN_NAME\\n\\nFROM  xip_pub_user_default_funs a  , xip_pub_role b\\n where  a.AUTH_MODAL = '{#authModel#}' and a.TARGET_ID =b.ROLE_ID\\n\\nunion\\n\\nSELECT a.DEFAULT_FUNS_ID,a.AUTH_MODAL,a.TARGET_ID ,\\n\\ncase \\n  when b.FUN_TREE_ID = '' then null \\n   else   b.FUN_TREE_NAME\\n      end as FUN_NAME\\nFROM  xip_pub_user_default_funs a  ,xip_pub_fun_tree b\\n\\nwhere a.AUTH_MODAL = '{#authModel#}' and b.FUN_TREE_ID=a.TARGET_ID \\n\\n\"}]}","selectGrid",null,0,0,"23XQ4UO678F0","2015-08-25 09:56:30.0","23XQ4UO678F0","2015-08-25 15:40:18.0",4],["23XU0SUM71H9","23XTQL2Z9T5M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insertFun\",\"loginRequired\":\"false\",\"initScript\":\"var result=request.getParameter(\\\"newArray\\\");\\nvar tmp = Wb.decode(result);\\nfor(var i=0;i<tmp.length;i++){\\n  tmp[i].DEFAULT_FUNS_ID = java.util.UUID.randomUUID();\\n}\\nvar r=Wb.encode(tmp);\\n\\nrequest.setAttribute('batchArray',r);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"batchAddFunSec\",\"sql\":\"insert into xip_pub_user_default_funs\\n            (USER_FUN_ID,\\n             TARGET_ID,\\n             FUN_TREE_ID,\\n           \\n             CREATED_BY,\\n             CREATION_DATE,\\n             LAST_UPDATE_DATE,\\n             LAST_UPDATED_BY\\n              )\\nvalues(\\n      {?USER_FUN_ID?},\\n      {?TARGET_ID?},\\n      {?FUN_TREE_ID?},\\n  \\n      {?XIP.userId?},\\n      {?timestamp.sys.date?},\\n      {?timestamp.sys.date?},\\n      {?XIP.userId?}\\n    )\",\"transaction\":\"start\",\"arrayName\":\"batchArray\"}]}","insertFun","",0,0,"23XQ4UO678F0","2015-08-25 10:32:36.0","23XQ4UO678F0","2015-08-26 18:00:36.0",6],["23XU4DQX21VC","23XTQL2Z9T5M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"删除授权\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"delete from xip_pub_user_default_funs where DEFAULT_FUNS_ID={?DEFAULT_FUNS_ID?}\",\"arrayName\":\"grid\"}]}","deleteGrid",null,0,0,"23XQ4UO678F0","2015-08-25 17:15:28.0","23XQ4UO678F0","2015-08-25 17:25:39.0",7],["23XU4DQX24CD","23VVZ3QMOKQA",null,"公告",null,0,0,"23XQ4UO678F5","2015-08-26 11:01:40.0","23XQ4UO678F5","2015-08-26 11:01:40.0",53],["23XU4DQX24CF","23XU4DQX24CD","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"公告\",\"jsFiles\":\"[\\\"workflow/util/workflowUtil4.0.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"finalize\":\"var userId = '{#userId#}';\",\"children\":[{\"xwlMeta\":\"serverScript\",\"id\":\"ServerScript\",\"script\":\"//获取微信服务配置\\nvar wxCasUrl = com.xzsoft.xip.platform.util.PlatformUtil.getXipConfigVal(\\\"cas.casServerUrl\\\");\\nvar agentId = com.xzsoft.xip.platform.util.PlatformUtil.getXipConfigVal(\\\"wx.agentId\\\");\\nvar token = com.xzsoft.xip.platform.util.PlatformUtil.getXipConfigVal(\\\"wx.token\\\");\\nvar corpId = com.xzsoft.xip.platform.util.PlatformUtil.getXipConfigVal(\\\"wx.corpId\\\");\\nvar corpSecret = com.xzsoft.xip.platform.util.PlatformUtil.getXipConfigVal(\\\"wx.corpSecret\\\");\\nvar aesKey = com.xzsoft.xip.platform.util.PlatformUtil.getXipConfigVal(\\\"wx.aesKey\\\");\\nrequest.setAttribute(\\\"agentId\\\",agentId);\\nrequest.setAttribute(\\\"token\\\",token);\\nrequest.setAttribute(\\\"corpId\\\",corpId);\\nrequest.setAttribute(\\\"corpSecret\\\",corpSecret);\\nrequest.setAttribute(\\\"aesKey\\\",aesKey);\\n//获取邮件服务配置\\nvar mailHost = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(com.xzsoft.xip.platform.util.PlatformConstants.MAIL_SERVER_HOST);\\nvar mailPort = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(com.xzsoft.xip.platform.util.PlatformConstants.MAIL_SERVER_PORT);\\nvar mailUser = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(com.xzsoft.xip.platform.util.PlatformConstants.MAIL_USER);\\nvar mailPassword = com.xzsoft.xip.platform.util.PlatformUtil.getSystemParamVal(com.xzsoft.xip.platform.util.PlatformConstants.MAIL_PASSWORD);\\nrequest.setAttribute(\\\"mailHost\\\",mailHost);\\nrequest.setAttribute(\\\"mailPort\\\",mailPort);\\nrequest.setAttribute(\\\"mailUser\\\",mailUser);\\nrequest.setAttribute(\\\"mailPassword\\\",mailPassword);\\n\\n\"},{\"xwlMeta\":\"folder\",\"id\":\"js\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"userCount\",\"footer\":\"<script>\\nfunction userCount()\\n{ \\n  var row = Wb.getSelRec(orgGrid);\\n  var count = row.length;\\n  var c = selectUserGridStore.getModifiedRecords().length;\\n if(count===0){\\n   if(orgGrid.getStore().isLoading()===false){\\n    \\n     if(c===0){\\n       document.getElementById(\\\"user\\\").innerHTML = \\\"已选\\\"; \\n     }\\n     else{\\n       document.getElementById(\\\"user\\\").innerHTML = \\\"已选(\\\"+c+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n     document.getElementById(\\\"user\\\").innerHTML =  \\\"已选(\\\"+c+\\\")\\\";\\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"user\\\").innerHTML = \\\"已选(\\\"+c+\\\")\\\"; \\n  }\\n \\n\\n}\\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"deleteUser\",\"footer\":\"<script>\\n  function deleteUser(){\\n    var record = selectUserGrid.getSelectionModel().getSelection();\\n    selectUserGridStore.remove(record);\\n    var type = record[0].data.TYPE;\\n    if(type === 'O'){\\n      //点击删除 去掉勾选的对号\\n      var uid=record[0].data.ID;\\n      var bl;\\n      for(var j=0;j<orgStore.getCount();j++){\\n        var u_id = orgStore.getAt(j).get('ORG_ID');\\n        if(uid===u_id){\\n          orgGrid.getSelectionModel().deselect(orgStore.getAt(j));\\n          bl=1;\\n          break;\\n        }\\n      }\\n      //执行JS中的方法\\n      allcount2();\\n    }\\n    if(type === 'D'){\\n      //点击删除 去掉勾选的对号\\n      var uid=record[0].data.ID;\\n      var bl;\\n      for(var j=0;j<deptStore.getCount();j++){\\n        var u_id = deptStore.getAt(j).get('DEPT_ID');\\n        if(uid===u_id){\\n          deptGrid.getSelectionModel().deselect(deptStore.getAt(j));\\n          bl=1;\\n          break;\\n        }\\n      }\\n      //执行JS中的方法\\n      allcount2();\\n    }\\n    if(type === 'P'){\\n      //点击删除 去掉勾选的对号\\n      var uid=record[0].data.ID;\\n      var bl;\\n      for(var j=0;j<postStore.getCount();j++){\\n        var u_id = postStore.getAt(j).get('POST_ID');\\n        if(uid===u_id){\\n          postGrid.getSelectionModel().deselect(postStore.getAt(j));\\n          bl=1;\\n          break;\\n        }\\n      }\\n      //执行JS中的方法\\n      allcount2();\\n    }\\n     if(type === 'U'){\\n      //点击删除 去掉勾选的对号\\n      var uid=record[0].data.ID;\\n      var bl;\\n      for(var j=0;j<userStore.getCount();j++){\\n        var u_id = userStore.getAt(j).get('USER_ID');\\n        if(uid===u_id){\\n          userGrid.getSelectionModel().deselect(userStore.getAt(j));\\n          bl=1;\\n          break;\\n        }\\n      }\\n      //执行JS中的方法\\n      allcount2();\\n    }\\n }\\n  \\n  //删除全部已选的用户\\n  function deleteAllUsers(){\\n    Ext.Msg.confirm('提示','确定删除全部已选的用户?',function(btn){\\n      if(btn == 'yes'){\\n        userStore.removeAll();\\n        UserGrid.getSelectionModel().deselectAll();\\n        allcount2();\\n      }\\n    });\\n  }\\n  \\n<\\/script>\"},{\"xwlMeta\":\"clientScript\",\"id\":\"allcount2\",\"footer\":\"<script>\\nfunction allcount2()\\n{ \\n  var row = Wb.getSelRec(orgGrid);\\n  var count = row.length;\\n  var c = selectUserGridStore.getModifiedRecords().length;\\n if(count===0){\\n   if(orgGrid.getStore().isLoading()===false){\\n    \\n     if(c===0){\\n       document.getElementById(\\\"user\\\").innerHTML = \\\"已选\\\"; \\n     }\\n     else{\\n       document.getElementById(\\\"user\\\").innerHTML = \\\"已选(\\\"+c+\\\")\\\"; \\n     }\\n     \\n    }\\n   else{\\n\\n     document.getElementById(\\\"user\\\").innerHTML =  \\\"已选(\\\"+c+\\\")\\\";\\n   }\\n    \\n    \\n }else{\\n\\n    document.getElementById(\\\"user\\\").innerHTML = \\\"已选(\\\"+c+\\\")\\\"; \\n  }\\n \\n\\n}\\n\\n \\n<\\/script>\"}]},{\"xwlMeta\":\"folder\",\"id\":\"ajax\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23XW9KXVZZIL (updatetNotice_send)\",\"id\":\"sendNoticeRequest_update_ajax\",\"success\":\"//保存子表\\nvar notice_id = noticeID.getValue();\\n//获取selectUserGridStore\\nvar dd = '';\\nfor(var i=0;i<selectUserGridStore.getCount();i++){\\n  var user_id = selectUserGridStore.getAt(i).get('ID');\\n  var type = selectUserGridStore.getAt(i).get('TYPE');\\n  if(type==='D'){\\n     user_id = selectUserGridStore.getAt(i).get('ID')+'ORGID'+ orgComboBox1.getValue();\\n  }\\n  if(type==='P'){\\n     user_id = selectUserGridStore.getAt(i).get('ID')+'ORGID'+ orgComboBox11.getValue()+'DEPTID'+deptComboBox1.getValue();\\n  }\\n  dd = dd +','+\\\"ID\\\"+':'+\\\"\\\\\\\"\\\"+user_id+\\\"\\\\\\\"\\\"+','+\\\"TYPE\\\"+':'+\\\"\\\\\\\"\\\"+type+\\\"\\\\\\\"\\\";\\n}\\nvar Params= '{'+dd.substring(1,dd.length)+'}';\\nvar alertType = \\\"\\\";\\nif(wxCheck.checked){\\n    alertType = '&'+'WX';\\n}\\nif(EmailCheck.checked){\\n    alertType = alertType+'&'+'EMAIL';\\n}\\nif(noteCheck.checked){\\n    alertType = alertType+'&'+'NOTE';\\n}\\nExt.Msg.wait(\\\"正在发送，请稍候....\\\");\\n//调用action中的方法\\nExt.Ajax.request({\\n  url    : '{#contextPath#}'+'/platformAction.do?method=sendNotice',\\n  method :'post',\\n  params : {\\n              notice_id : notice_id,\\n              arr       : Params,\\n              alertType : alertType\\n            },\\n  success: function(response,options){\\n      //Ext.Msg.hide();\\n      var respText = Ext.JSON.decode(response.responseText);\\n      Ext.Msg.alert('',respText.msg);\\n      Wb.load(noticeGridStore);\\n      sendWindow.close();\\n      noticeWindow.close();\\n  },\\n  failure : function(response,options){\\n      Ext.Msg.alert('提示','服务器无响应,发送失败。');\\n  }\\n});\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XW9KXVZVOZ (insertNoticeUser)\",\"id\":\"insertNoticeUser_ajax\",\"success\":\"Wb.message('发送成功。');\\nWb.load(noticeGridStore);\\nsendWindow.close();\\nnoticeWindow.close();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XW9KXVZVEJ (insertNotice_send)\",\"id\":\"sendNoticeRequest_ajax\",\"success\":\"//保存子表\\nvar notice = response.responseText;\\nvar resultJson = Ext.JSON.decode(notice);\\nvar notice_id = resultJson.k;\\n//获取selectUserGridStore\\nvar dd = '';\\nfor(var i=0;i<selectUserGridStore.getCount();i++){\\n  var user_id = selectUserGridStore.getAt(i).get('ID');\\n  var type = selectUserGridStore.getAt(i).get('TYPE');\\n  if(type==='D'){\\n     user_id = selectUserGridStore.getAt(i).get('ID')+'ORGID'+ orgComboBox1.getValue();\\n  }\\n  if(type==='P'){\\n     user_id = selectUserGridStore.getAt(i).get('ID')+'ORGID'+ orgComboBox11.getValue()+'DEPTID'+deptComboBox1.getValue();\\n  }\\n  dd = dd +','+\\\"ID\\\"+':'+\\\"\\\\\\\"\\\"+user_id+\\\"\\\\\\\"\\\"+','+\\\"TYPE\\\"+':'+\\\"\\\\\\\"\\\"+type+\\\"\\\\\\\"\\\";\\n}\\nvar Params= '{'+dd.substring(1,dd.length)+'}';\\n//通知提示类型\\nvar alertType = \\\"\\\";\\nif(wxCheck.checked){\\n    alertType = '&'+'WX';\\n}\\nif(EmailCheck.checked){\\n    alertType = alertType+'&'+'EMAIL';\\n}\\nif(noteCheck.checked){\\n    alertType = alertType+'&'+'NOTE';\\n}\\nExt.Msg.wait(\\\"正在发送，请稍候....\\\");\\n//调用action中的方法\\nExt.Ajax.request({\\n  url    : '{#contextPath#}'+'/platformAction.do?method=sendNotice',\\n  method :'post',\\n  params : {\\n              notice_id : notice_id,\\n              arr       : Params,\\n              alertType : alertType\\n            },\\n  success: function(response,options){\\n      //Ext.Msg.hide();\\n      var respText = Ext.JSON.decode(response.responseText);\\n      Ext.Msg.alert('',respText.msg);\\n      Wb.load(noticeGridStore);\\n      sendWindow.close();\\n      noticeWindow.close();\\n  },\\n  failure : function(response,options){\\n      Ext.Msg.alert('提示','服务器无响应,发送失败。');\\n  }\\n});\\n\\n\\n\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XW9KXVZTQY (updateNotice_save)\",\"id\":\"updateNoticeRequest_ajax\",\"success\":\"Wb.message('修改成功');\\nnoticeGridStore.load();\\nnoticeWindow.close();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XW95NAM25S (insertNotice_save)\",\"id\":\"saveNoticeRequest_ajax\",\"success\":\"Wb.message('保存成功!');\\nnoticeGridStore.load();\\nvar notice = response.responseText;\\nvar resultJson = Ext.JSON.decode(notice);\\nvar notice_id = resultJson.k;\\nnoticeID.setValue(notice_id);\\n//noticeWindow.close();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23XW9KXVZZS0 (updateNoticeUser)\",\"id\":\"deleteNoticeRequest_ajax\",\"success\":\"Wb.message('撤销成功。');\\nWb.load(noticeGridStore);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"sotres\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"noticeGridStore\",\"url\":\"#23XUEO9MKWV6 (SelectNoticeGrid)\",\"output\":\"noticeForm\"},{\"xwlMeta\":\"store\",\"id\":\"orgGridStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23XUNJ48YDWZ (SelectOrgGridUser)\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore\",\"url\":\"#23XUNJ48YC2K (SelectOrg)\",\"output\":\"orgForm\",\"showMask\":\"false\",\"load\":\"var arr = [];\\nfor(var i=0;i< selectUserGridStore.getCount();i++){\\n  var uid = selectUserGridStore.getAt(i).get('ID');\\n  for(var j=0;j< orgStore.getCount();j++){\\n    if(uid === orgStore.getAt(j).get('ORG_ID')){\\n       arr.push(orgStore.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\norgGrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore1\",\"pageSize\":\"-1\",\"url\":\"#23XUNJ48YDPG (SelectOrgCombox)\",\"output\":\"orgForm\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore2\",\"pageSize\":\"-1\",\"url\":\"#23XUNJ48YDPG (SelectOrgCombox)\",\"output\":\"postForm\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"orgStore3\",\"pageSize\":\"-1\",\"url\":\"#23XUNJ48YDPG (SelectOrgCombox)\",\"output\":\"postForm\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore\",\"url\":\"#23XUYE2ZOFR8 (SelectdeptCombox)\",\"output\":\"deptForm\",\"load\":\"var arr = [];\\nfor(var i=0;i< selectUserGridStore.getCount();i++){\\n  var uid = selectUserGridStore.getAt(i).get('ID');\\n  for(var j=0;j< deptStore.getCount();j++){\\n    if(uid === deptStore.getAt(j).get('DEPT_ID')){\\n       arr.push(deptStore.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\ndeptGrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore2\",\"pageSize\":\"-1\",\"url\":\"#23XUYE2ZOFR8 (SelectdeptCombox)\"},{\"xwlMeta\":\"store\",\"id\":\"deptStore3\",\"pageSize\":\"-1\",\"url\":\"#23XYEMHAE7AE (SelectdeptCombox_user)\"},{\"xwlMeta\":\"store\",\"id\":\"deptGridStore\",\"url\":\"#23XUYE2ZOPBU (SelectOrgGridUser_DEPT)\",\"beforeload\":\"// var whereSql= ' AND 1=1';\\n// if(Ext.isEmpty(orgcomboBox.getValue()) && Ext.isEmpty(depcomboBox.getValue())){\\n//   store.getProxy().url='main?xwl=23X6U35T97J2';  //noOrgDeptGridUser\\n// }else{\\n//   store.getProxy().url='main?xwl=23X6U35T97KL';  //orgDeptGridUser\\n// }\\n// if(!Ext.isEmpty(orgcomboBox.getValue())){ \\n//   whereSql +=' AND b.ORG_ID =\\\\''+orgcomboBox.getValue()+'\\\\'';\\n// }\\n// if(!Ext.isEmpty(depcomboBox.getValue())){\\n//   whereSql +=' AND b.DEPT_ID =\\\\''+depcomboBox.getValue()+'\\\\'';\\n// }\\n// store.getProxy().extraParams.WHERESQL = whereSql;\\n\"},{\"xwlMeta\":\"store\",\"id\":\"postStore\",\"autoLoad\":\"false\",\"url\":\"#23XUYE2ZOL1B (SelectPostComboBox)\",\"output\":\"postForm\",\"load\":\"var arr = [];\\nfor(var i=0;i< selectUserGridStore.getCount();i++){\\n  var uid = selectUserGridStore.getAt(i).get('ID');\\n  for(var j=0;j< postStore.getCount();j++){\\n    if(uid === postStore.getAt(j).get('POST_ID')){\\n       arr.push(postStore.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\npostGrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"store\",\"id\":\"postStore2\",\"url\":\"#23Y9PDX5UMBI (SelectPostCombox_user)\",\"output\":\"postForm\",\"load\":\"var arr = [];\\nfor(var i=0;i< selectUserGridStore.getCount();i++){\\n  var uid = selectUserGridStore.getAt(i).get('ID');\\n  for(var j=0;j< postStore.getCount();j++){\\n    if(uid === postStore.getAt(j).get('POST_ID')){\\n       arr.push(postStore.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\npostGrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"store\",\"id\":\"postGridStore\",\"url\":\"#23XUYE2ZOQ6O (SelectOrgGridUser_post)\"},{\"xwlMeta\":\"store\",\"id\":\"userStore\",\"autoLoad\":\"false\",\"url\":\"#23XUYE2ZOUVQ (SelectGridUser)\",\"output\":\"userForm\",\"load\":\"var arr = [];\\nfor(var i=0;i< selectUserGridStore.getCount();i++){\\n  var uid = selectUserGridStore.getAt(i).get('ID');\\n  for(var j=0;j< userStore.getCount();j++){\\n    if(uid === userStore.getAt(j).get('USER_ID')){\\n       arr.push(userStore.getAt(j));\\n       break;\\n    }  \\n  }\\n}\\nuserGrid.getSelectionModel().select(arr);\"},{\"xwlMeta\":\"store\",\"id\":\"selectUserGridStore\",\"pageSize\":\"-1\",\"url\":\"#23XUYE2ZP2HJ (SelectUserGridStore)\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"noticeGridTbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"new_icon\",\"id\":\"addBtn\",\"text\":\"新增\",\"click\":\"userStore.load();\\nWb.load(noticeGridStore);\\nnoticeWindow.show();\\nsendBtn.show();\\nsaveBtn.show();\\nnoticeWindow.setTitle('新增通知');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"revokeBtn\",\"text\":\"撤销\",\"click\":\"var rows = Wb.getSelRec(noticeGrid);\\nvar record = noticeGrid.getSelectionModel().getSelection();\\nif(rows.length!==1){\\n  Wb.warning('请选择一条记录。');\\n  return;\\n}\\nvar notice_id = record[0].get('NOTICE_ID'); \\nvar status = record[0].get('ATTRIBUTE1'); \\nif(status==='Y'){\\n  Ext.Msg.confirm('提示','您确定要撤销该条通知吗？',function(a){\\n    if(a=='yes'){\\n       var json ={ NOTICE_ID:notice_id };\\n       deleteNoticeRequest_ajax.request(json);\\n    }\\n  });\\n}else{\\n   Wb.warning('通知尚未发送，不能撤销。');\\n    return;\\n}\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"editorBtn\",\"text\":\"编辑\",\"click\":\"var rows = Wb.getSelRec(noticeGrid);\\nvar record = noticeGrid.getSelectionModel().getSelection();\\nif(rows.length!==1){\\n  Wb.warning('请选择一条记录。');\\n  return;\\n}\\nvar status = record[0].get('ATTRIBUTE1');\\nif(status=='N'){\\n  //可以编辑发送公告\\n  noticeWindow.show();\\n  noticeWindow.setTitle('编辑通知');\\n  noticeID.setValue(record[0].get('NOTICE_ID'));\\n  noticeTitle.setValue(record[0].get('NOTICE_TITLE'));\\n  htmlEditor1.setValue(record[0].get('NOTICE_CONTENT'));\\n  sendBtn.show();\\n  saveBtn.show();\\n  \\n}else{\\n    //可以查看\\n   noticeWindow.show();\\n   noticeWindow.setTitle('查看通知');\\n   noticeID.setValue(record[0].get('NOTICE_ID'));\\n   noticeTitle.setValue(record[0].get('NOTICE_TITLE'));\\n   htmlEditor1.setValue(record[0].get('NOTICE_CONTENT'));\\n   sendBtn.hide();\\n   saveBtn.hide();\\n   \\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"noticeGridColumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"XUHAO\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NOTICE_ID\",\"id\":\"NOTICE_ID_COL\",\"text\":\"通知ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NOTICE_TITLE\",\"id\":\"NOTICE_TITLE_COL\",\"text\":\"通知标题\",\"width\":\"350\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NOTICE_CONTENT\",\"id\":\"NOTICE_CONTENT_COL\",\"text\":\"通知正文\",\"flex\":\"1\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"FORM_URL\",\"id\":\"FORM_URL_COL\",\"text\":\"URL\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SRC_ID\",\"id\":\"SRC_ID_COL\",\"text\":\"来源ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"SRC_CAT\",\"id\":\"SRC_CAT_COL\",\"text\":\"来源分类\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ATTRIBUTE1\",\"id\":\"ATTRIBUTE1_COL\",\"renderer\":\"if(value === \\\"Y\\\"){\\n  return \\\"已发送\\\";\\n}else{\\n  return \\\"未发送\\\";\\n}\",\"text\":\"发送状态\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"orgGridColumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xh\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_ID\",\"id\":\"ORG_ID_COL\",\"text\":\"ORG_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ORG_NAME\",\"id\":\"ORG_NAME_COL\",\"text\":\"组织名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"deptGridColumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xh1\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_ID\",\"id\":\"DEPT_ID_COL\",\"text\":\"DEPT_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEPT_NAME\",\"id\":\"DEPT_NAME_COL\",\"text\":\"部门名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"postGridColumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xh2\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_ID\",\"id\":\"POST_ID_COL\",\"text\":\"POST_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_NAME\",\"id\":\"POST_NAME_COL\",\"text\":\"岗位名称\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"userGridColumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xh21\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"USER_ID_COL21\",\"text\":\"USER_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"USER_NAME_COL21\",\"text\":\"用户名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"EMP_NAME_COL21\",\"text\":\"员工姓名\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"selectUserGridColumn\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"xh211\",\"text\":\"序号\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"ID\",\"id\":\"ID_COL\",\"text\":\"ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"NAME\",\"id\":\"NAME_COL\",\"text\":\"名称\",\"width\":\"250\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TYPE\",\"id\":\"TYPE_COL\",\"text\":\"类型\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"id\":\"Rdelete\",\"renderer\":\"var str = \\\"<a href=\\\\\\\"javascript:deleteUser();\\\\\\\"> 删除 <\\/a>\\\";\\nreturn str;\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windowBtn\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"noticeWindowBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"saveBtn\",\"text\":\"保存\",\"click\":\"var title = noticeTitle.getValue();\\nif(title===null||title===''){\\n  Ext.Msg.alert('提示','通知标题不能为空!');\\n  return;\\n}\\nvar content = htmlEditor1.getValue();\\nvar notice_id = noticeID.getValue();\\nif(notice_id=== null||notice_id===''){\\n   //保存\\n   var json = { \\n               title: title,\\n               content: content\\n              };\\n   saveNoticeRequest_ajax.request(json);\\n  \\n}else{\\n  //更新\\n  var json={\\n            NOTICE_TITLE: title,\\n            NOTICE_CONTENT: content,\\n            NOTICE_ID: notice_id\\n           };\\n  updateNoticeRequest_ajax.request(json);\\n}\\n\"},{\"xwlMeta\":\"button\",\"id\":\"sendBtn\",\"text\":\"发送\",\"click\":\"var title = noticeTitle.getValue();\\nvar content = htmlEditor1.getValue();\\nif(title===null||title===''){\\n  Wb.warning('请填写通知标题');\\n  return;\\n}\\nif(content===null||content===''){\\n  Wb.warning('请填写通知正文');\\n  return;\\n}\\norgStore.load();\\nuserStore.load();\\nsendWindow.show();\\nchangeSql = ' and 1=0';\\nWb.load(postStore,{whereSql:changeSql});\\n\\n//判断微信服务信息是否配置  是否显示微信提醒\\nvar agentId = '{#agentId#}';\\nvar token = '{#token#}';\\nvar corpId = '{#corpId#}';\\nvar corpSecret = '{#corpSecret#}';\\nvar aesKey = '{#aesKey#}';\\nif(agentId!==null && agentId!==''&& token!==null && token!==''&& corpId!==null && corpId!==''&& corpSecret!==null && corpSecret!==''&&  aesKey!==null && aesKey!==''){\\n  wxCheck.show();\\n}else{\\n  wxCheck.hide();\\n}\\n//判断邮件服务信息是否配置  是否显示邮件提醒\\nvar mailHost = '{#mailHost#}';\\nvar mailPort = '{#mailPort#}';\\nvar mailUser = '{#mailUser#}';\\nvar mailPassword = '{#mailPassword#}';\\nif(mailHost!==null && mailHost!=='' && mailPort!==null && mailPort!=='' && mailUser!==null && mailUser!=='' && mailPassword!==null && mailPassword!==''){\\n    EmailCheck.show();\\n}else{\\n    EmailCheck.hide();\\n}\\n//判断短信方法是否实现  显示短信提醒\\nExt.Ajax.request({\\n  url    : '{#contextPath#}'+'/platformAction.do?method=noteTest',\\n  method :'post',\\n  success: function(response,options){\\n      var respText = Ext.JSON.decode(response.responseText);\\n      if(respText.msg==\\\"true\\\"){\\n        //显示短信提醒\\n        noteCheck.show();\\n      }else{\\n        noteCheck.hide();\\n      }\\n  },\\n  failure : function(response,options){\\n  }\\n});\\n\\n\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"cancleBtn\",\"text\":\"关闭\",\"click\":\"noticeWindow.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"alertWindowBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"AlertAcceptBtn\",\"text\":\"确定\",\"click\":\"if(selectUserGridStore.getCount()===0){\\n  Wb.warning(\\\"请选择发送的对象。\\\");\\n  return;\\n}\\nvar notice_id = noticeID.getValue();\\nvar title = noticeTitle.getValue();\\nvar content = htmlEditor1.getValue();\\nif(notice_id===null||notice_id===''){\\n    var json2 = { \\n                 title: title,\\n                 content: content\\n                };\\n   sendNoticeRequest_ajax.request(json2);\\n\\n}else{\\n    var json = { \\n                 notice_id : notice_id,\\n                 title: title,\\n                 content: content\\n                };\\n   sendNoticeRequest_update_ajax.request(json);\\n\\n}\\n\\n\\n\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"sendWindowBtn\",\"children\":[{\"xwlMeta\":\"button\",\"id\":\"sendAcceptBtn\",\"text\":\"确定\",\"click\":\"if(selectUserGridStore.getCount()===0){\\n  Wb.warning(\\\"请选择发送的对象。\\\");\\n  return;\\n}\\nvar notice_id = noticeID.getValue();\\nvar title = noticeTitle.getValue();\\nvar content = htmlEditor1.getValue();\\nif(notice_id===null||notice_id===''){\\n    var json2 = { \\n                 title: title,\\n                 content: content\\n                };\\n   sendNoticeRequest_ajax.request(json2);\\n\\n}else{\\n    var json = { \\n                 notice_id : notice_id,\\n                 title: title,\\n                 content: content\\n                };\\n   sendNoticeRequest_update_ajax.request(json);\\n\\n}\\n\\n\\n\"},{\"xwlMeta\":\"button\",\"id\":\"sendCancelBtn\",\"text\":\"关闭\",\"click\":\"selectUserGridStore.removeAll();\\norgStore.load();\\nuserStore.load();\\nsendWindow.close();\\n\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"window\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"SelectUserWin\",\"height\":\"380\",\"layout\":\"border\",\"autoReset\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"460\",\"close\":\"SelectUserWin.hide();\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"selectUserGridStore\",\"columns\":\"selectUserGridColumn\",\"height\":\"340\",\"width\":\"480\",\"region\":\"center\",\"id\":\"selectUserGrid\",\"selType\":\"checkboxmodel\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"sendWindow\",\"height\":\"510\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"500\",\"buttons\":\"sendWindowBtn\",\"buttonAlign\":\"center\",\"close\":\"selectUserGridStore.removeAll();\\norgStore.load();\\nuserStore.load();\\n\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"baseCls\":\"my-panel-no-border\",\"id\":\"northPanel\",\"height\":\"'7%'\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet2\",\"hidden\":\"true\",\"layout\":\"column\"},{\"xwlMeta\":\"check\",\"fieldLabel\":\"微信提醒\",\"id\":\"wxCheck\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"fieldLabel\":\"邮件提醒\",\"id\":\"EmailCheck\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"check\",\"fieldLabel\":\"短信提醒\",\"id\":\"noteCheck\",\"labelAlign\":\"right\"}]},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"tabPanel\",\"height\":\"'85%'\",\"width\":\"'100%'\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"orgPanel\",\"title\":\"组织\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"orgForm\",\"height\":\"'9%'\",\"style\":\"border-width:0px\",\"layout\":\"form\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"组织\",\"id\":\"orgName\",\"labelWidth\":\"30\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   Wb.load(orgStore);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryOrgBtn\",\"text\":\"查询\",\"click\":\"orgStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"resetOrgBtn\",\"text\":\"重置\",\"click\":\"orgName.setValue('');\\norgStore.load();\\n\"}]},{\"xwlMeta\":\"text\",\"id\":\"FLAG\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"USER_ID_\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"grid\",\"store\":\"orgStore\",\"columns\":\"orgGridColumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"orgGrid\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row = Wb.getSelRec(orgGrid);\\nvar sm = orgGrid.getSelectionModel();\\nvar records = sm.getSelection();\\nvar len = selectUserGridStore.getModifiedRecords().length;\\nvar record = selectUserGridStore.getModifiedRecords();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid = '';\\nfor(var v= 0;v< row.length;v++){\\n  var idNu = records[v].get('ORG_ID');\\n  arrid = arrid+','+idNu;\\n}\\nUSER_ID_.setValue(arrid.substring(1,arrid.length));\\n//给SelectedUserWin中的STORE添加数据\\nif(row.length === 1){\\n  var bl;\\n  for(var i=0;i<len;i++){\\n  var user_id = record[i].data.ID;\\n  if(records[0].get('ORG_ID')=== user_id){\\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n      var json = {\\n                  ID: records[0].get('ORG_ID'),\\n                  NAME: records[0].get('ORG_NAME'),\\n                  TYPE: 'O'\\n                 };\\n      selectUserGridStore.add(json);\\n\\n  }\\n  \\n}else{\\n  \\n  var bl;\\n  for(var i=0;i<len;i++){\\n    var user_id = selectUserGridStore.getAt(i).get('ID');\\n    if(records[row.length-1].get('ORG_ID')=== user_id){\\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n     var json={\\n               ID: records[row.length-1].get('ORG_ID'),\\n               NAME: records[row.length-1].get('ORG_NAME'),\\n               TYPE: 'O'\\n              };\\n     selectUserGridStore.add(json);\\n  }\\n}\\nFLAG.setValue(row.length);\\nuserCount();\\n\",\"selectionchange\":\"var flag = FLAG.getValue();\\nvar row = Wb.getSelRec(orgGrid);\\nvar sm = orgGrid.getSelectionModel();\\nvar records = sm.getSelection();\\nvar row = Wb.getSelRec(orgGrid);\\nif(flag=== null||flag=== ''){\\n  \\n}\\nelse{\\n  if(row.length < flag && orgGrid.getStore().isLoading()===false){\\n    //获取当前页中已勾选的ID(取消勾选时)\\n    var abl;\\n    var arrayid = USER_ID_.getValue().split(',');\\n    for(var i=0;i< arrayid.length;i++){\\n        var aid=arrayid[i];\\n        for(var v=0;v< row.length;v++){\\n          var idN = records[v].get('ORG_ID');\\n          if(aid=== idN){\\n            abl=1;\\n            break;\\n          }else{\\n            abl=0;\\n          }\\n        }\\n        if(abl!==1){\\n          //在弹出的WIN中删掉ID为该ID的数据\\n               for(var k=0;k< selectUserGridStore.getCount();k++){\\n                  var  user_id3 = selectUserGridStore.getAt(k).get('ID');\\n                  if(aid === user_id3){\\n                    \\n                    selectUserGridStore.removeAt(k);\\n                  }\\n              }\\n        }\\n    }\\n   \\n   }\\n  \\n}\\nuserCount();\"}]},{\"xwlMeta\":\"panel\",\"id\":\"deptPanel\",\"title\":\"部门\",\"layout\":\"border\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"deptForm\",\"height\":\"'16%'\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore1\",\"valueField\":\"CODE\",\"width\":\"292\",\"labelAlign\":\"left\",\"emptyText\":\"---- 选择组织 ----\",\"fieldLabel\":\"组织\",\"id\":\"orgComboBox1\",\"displayField\":\"NAME\",\"labelWidth\":\"30\",\"select\":\"var whereSql = orgComboBox1.getValue();\\nWb.load(deptStore,{ORG_ID:whereSql});\\n\\n\"},{\"xwlMeta\":\"text\",\"id\":\"USER_ID_1\",\"hidden\":\"true\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr1\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"部门\",\"id\":\"deptName\",\"labelWidth\":\"30\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   var whereSql = orgComboBox1.getValue();\\n   Wb.load(deptStore,{ORG_ID:whereSql});\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryDeptBtn\",\"text\":\"查询\",\"click\":\"var whereSql = orgComboBox1.getValue();\\nWb.load(deptStore,{ORG_ID:whereSql});\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"resetDeptBtn\",\"text\":\"重置\",\"click\":\"deptName.setValue('');\\nvar whereSql = orgComboBox1.getValue();\\nWb.load(deptStore,{ORG_ID:whereSql});\\n\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"deptStore\",\"columns\":\"deptGridColumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"deptGrid\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row = Wb.getSelRec(deptGrid);\\nvar sm = deptGrid.getSelectionModel();\\nvar records = sm.getSelection();\\nvar len = selectUserGridStore.getModifiedRecords().length;\\nvar record = selectUserGridStore.getModifiedRecords();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid = '';\\nfor(var v= 0;v< row.length;v++){\\n  var idNu = records[v].get('DEPT_ID');\\n  arrid = arrid+','+idNu;\\n}\\nUSER_ID_1.setValue(arrid.substring(1,arrid.length));\\n//给SelectedUserWin中的STORE添加数据\\nif(row.length === 1){\\n  var bl;\\n  for(var i=0;i<len;i++){\\n  var user_id = record[i].data.ID;\\n  if(records[0].get('DEPT_ID')=== user_id){\\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n      var json = {\\n                  ID: records[0].get('DEPT_ID'),\\n                  NAME: records[0].get('DEPT_NAME'),\\n                  TYPE: 'D'\\n                 };\\n      selectUserGridStore.add(json);\\n\\n  }\\n  \\n}else{\\n  \\n  var bl;\\n  for(var i=0;i<len;i++){\\n    var user_id = selectUserGridStore.getAt(i).get('ID');\\n    if(records[row.length-1].get('DEPT_ID')=== user_id){\\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n     var json={\\n               ID: records[row.length-1].get('DEPT_ID'),\\n               NAME: records[row.length-1].get('DEPT_NAME'),\\n               TYPE: 'D'\\n              };\\n     selectUserGridStore.add(json);\\n  }\\n}\\nFLAG.setValue(row.length);\\nuserCount();\",\"selectionchange\":\"var flag = FLAG.getValue();\\nvar row = Wb.getSelRec(deptGrid);\\nvar sm = deptGrid.getSelectionModel();\\nvar records = sm.getSelection();\\nvar row = Wb.getSelRec(deptGrid);\\nif(flag=== null||flag=== ''){\\n  \\n}\\nelse{\\n  if(row.length < flag && deptGrid.getStore().isLoading()===false){\\n    //获取当前页中已勾选的ID(取消勾选时)\\n    var abl;\\n    var arrayid = USER_ID_1.getValue().split(',');\\n    for(var i=0;i< arrayid.length;i++){\\n        var aid=arrayid[i];\\n        for(var v=0;v< row.length;v++){\\n          var idN = records[v].get('DEPT_ID');\\n          if(aid=== idN){\\n            abl=1;\\n            break;\\n          }else{\\n            abl=0;\\n          }\\n        }\\n        if(abl!==1){\\n          //在弹出的WIN中删掉ID为该ID的数据\\n               for(var k=0;k< selectUserGridStore.getCount();k++){\\n                  var  user_id3 = selectUserGridStore.getAt(k).get('ID');\\n                  if(aid === user_id3){\\n                    \\n                    selectUserGridStore.removeAt(k);\\n                  }\\n              }\\n        }\\n    }\\n   \\n   }\\n  \\n}\\nuserCount();\"}]},{\"xwlMeta\":\"panel\",\"id\":\"postPanel\",\"title\":\"岗位\",\"layout\":\"border\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"postForm\",\"height\":\"'22%'\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore2\",\"valueField\":\"CODE\",\"width\":\"292\",\"labelAlign\":\"left\",\"emptyText\":\"---- 选择组织 ----\",\"fieldLabel\":\"组织\",\"id\":\"orgComboBox11\",\"displayField\":\"NAME\",\"labelWidth\":\"30\",\"select\":\"var dept_id=deptComboBox1.getValue();\\nif(dept_id===null||dept_id===''){\\n  var whereSql = orgComboBox11.getValue();\\n  //changeSql = ' and t.ORG_ID = \\\\''+whereSql+'\\\\'';\\n  changeSql = ' and 1=0';\\n  Wb.load(postStore,{whereSql:changeSql});\\n  Wb.load(deptStore2,{ORG_ID:whereSql});\\n}else{\\n  var ORG_ID=orgComboBox11.getValue();\\n  //changeSql = ' and t.ORG_ID = \\\\''+ORG_ID+'\\\\'';\\n  changeSql = ' and 1=0';\\n  Wb.load(postStore,{whereSql:changeSql});\\n  Wb.load(deptStore2,{ORG_ID:ORG_ID});\\n  deptComboBox1.clearValue();\\n  postComboBox.clearValue();\\n}\\n\\n\"},{\"xwlMeta\":\"comboBox\",\"store\":\"deptStore2\",\"valueField\":\"DEPT_ID\",\"width\":\"292\",\"editable\":\"true\",\"labelAlign\":\"left\",\"queryMode\":\"local\",\"emptyText\":\"---- 选择部门 ----\",\"fieldLabel\":\"部门\",\"id\":\"deptComboBox1\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"30\",\"select\":\"  var ORG_ID = orgComboBox11.getValue();\\n  var whereSql = deptComboBox1.getValue();\\n  changeSql = ' and t.ORG_ID = \\\\''+ORG_ID+'\\\\''+' and t.DEPT_ID =  \\\\''+whereSql+'\\\\'';\\n  Wb.load(postStore,{whereSql:changeSql});\\n\\n\\n\\n\"},{\"xwlMeta\":\"comboBox\",\"store\":\"postStore\",\"valueField\":\"POST_ID\",\"width\":\"292\",\"labelAlign\":\"left\",\"queryMode\":\"local\",\"emptyText\":\"---- 选择岗位 ----\",\"fieldLabel\":\"岗位\",\"id\":\"postComboBox\",\"displayField\":\"POST_NAME\",\"labelWidth\":\"30\",\"hidden\":\"true\",\"select\":\"Wb.load(postGridStore,{WHERESQL:orgComboBox11.getValue(),DEPT_ID:deptComboBox1.getValue(),POST_ID:postComboBox.getValue()});\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr11\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"岗位\",\"id\":\"postName\",\"labelWidth\":\"30\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n    var ORG_ID = orgComboBox11.getValue();\\n  var whereSql = deptComboBox1.getValue();\\n  Wb.load(postStore,{ORG_ID:ORG_ID,WHERESQL:whereSql});\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryPostBtn\",\"text\":\"查询\",\"click\":\"  var ORG_ID = orgComboBox11.getValue();\\n  var whereSql = deptComboBox1.getValue();\\n  Wb.load(postStore,{ORG_ID:ORG_ID,WHERESQL:whereSql});\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"resetPostBtn\",\"text\":\"重置\",\"click\":\"postName.setValue('');\\nvar ORG_ID = orgComboBox11.getValue();\\nvar whereSql = deptComboBox1.getValue();\\nWb.load(postStore,{ORG_ID:ORG_ID,WHERESQL:whereSql});\"}]},{\"xwlMeta\":\"text\",\"id\":\"USER_ID_11\",\"hidden\":\"true\"},{\"xwlMeta\":\"text\",\"id\":\"USER_ID_111\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"grid\",\"store\":\"postStore\",\"columns\":\"postGridColumn\",\"exportExcel\":\"false\",\"region\":\"center\",\"id\":\"postGrid\",\"exportPrint\":\"false\",\"selType\":\"checkboxmodel\",\"select\":\"var row = Wb.getSelRec(postGrid);\\nvar sm = postGrid.getSelectionModel();\\nvar records = sm.getSelection();\\nvar len = selectUserGridStore.getModifiedRecords().length;\\nvar record = selectUserGridStore.getModifiedRecords();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid = '';\\nfor(var v= 0;v< row.length;v++){\\n  var idNu = records[v].get('POST_ID');\\n  arrid = arrid+','+idNu;\\n}\\nUSER_ID_11.setValue(arrid.substring(1,arrid.length));\\n//给SelectedUserWin中的STORE添加数据\\nif(row.length === 1){\\n  var bl;\\n  for(var i=0;i<len;i++){\\n  var user_id = record[i].data.ID;\\n  if(records[0].get('POST_ID')=== user_id){\\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n      var json = {\\n                  ID: records[0].get('POST_ID'),\\n                  NAME: records[0].get('POST_NAME'),\\n                  TYPE: 'P'\\n                 };\\n      selectUserGridStore.add(json);\\n\\n  }\\n  \\n}else{\\n  \\n  var bl;\\n  for(var i=0;i<len;i++){\\n    var user_id = selectUserGridStore.getAt(i).get('ID');\\n    if(records[row.length-1].get('POST_ID')=== user_id){\\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n     var json={\\n               ID: records[row.length-1].get('POST_ID'),\\n               NAME: records[row.length-1].get('POST_NAME'),\\n               TYPE: 'P'\\n              };\\n     selectUserGridStore.add(json);\\n  }\\n}\\nFLAG.setValue(row.length);\\nuserCount();\",\"selectionchange\":\"var flag = FLAG.getValue();\\nvar row = Wb.getSelRec(postGrid);\\nvar sm = postGrid.getSelectionModel();\\nvar records = sm.getSelection();\\nvar row = Wb.getSelRec(postGrid);\\nif(flag=== null||flag=== ''){\\n  \\n}\\nelse{\\n  if(row.length < flag && postGrid.getStore().isLoading()===false){\\n    //获取当前页中已勾选的ID(取消勾选时)\\n    var abl;\\n    var arrayid = USER_ID_11.getValue().split(',');\\n    for(var i=0;i< arrayid.length;i++){\\n        var aid=arrayid[i];\\n        for(var v=0;v< row.length;v++){\\n          var idN = records[v].get('POST_ID');\\n          if(aid=== idN){\\n            abl=1;\\n            break;\\n          }else{\\n            abl=0;\\n          }\\n        }\\n        if(abl!==1){\\n          //在弹出的WIN中删掉ID为该ID的数据\\n               for(var k=0;k< selectUserGridStore.getCount();k++){\\n                  var  user_id3 = selectUserGridStore.getAt(k).get('ID');\\n                  if(aid === user_id3){\\n                    \\n                    selectUserGridStore.removeAt(k);\\n                  }\\n              }\\n        }\\n    }\\n   \\n   }\\n  \\n}\\nuserCount();\"}]},{\"xwlMeta\":\"panel\",\"id\":\"userPanel\",\"title\":\"用户\",\"layout\":\"border\",\"columnWidth\":\".5\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"userForm\",\"height\":\"'30%'\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"orgStore3\",\"valueField\":\"CODE\",\"width\":\"292\",\"labelAlign\":\"left\",\"emptyText\":\"---- 选择组织 ----\",\"fieldLabel\":\"组织\",\"id\":\"orgComboBox111\",\"displayField\":\"NAME\",\"labelWidth\":\"30\",\"select\":\"var dept_id=deptComboBox11.getValue();\\nif(dept_id===null||dept_id===''){\\n  var whereSql = orgComboBox111.getValue();\\n  changeSql = ' and b.ORG_ID = \\\\''+whereSql+'\\\\'';\\n  //Wb.load(postGridStore,{WHERESQL:whereSql});\\n  Wb.load(deptStore3,{ORG_ID:whereSql});\\n  //userStore.getProxy().url='main?xwl=23XYEMHAE901';\\n  Wb.load(userStore,{whereSql:changeSql});\\n}else{\\n  deptComboBox11.clearValue();\\n  changeSql = ' and b.ORG_ID = \\\\''+orgComboBox111.getValue()+'\\\\'';\\n  Wb.load(userStore,{whereSql:changeSql});\\n  var ORG_ID=orgComboBox111.getValue();\\n  Wb.load(deptStore3,{ORG_ID:ORG_ID});\\n  //deptComboBox11.clearValue();\\n  postComboBox1.clearValue();\\n}\\n\\n\"},{\"xwlMeta\":\"comboBox\",\"store\":\"deptStore3\",\"valueField\":\"DEPT_ID\",\"width\":\"292\",\"labelAlign\":\"left\",\"queryMode\":\"local\",\"emptyText\":\"---- 选择部门 ----\",\"fieldLabel\":\"部门\",\"id\":\"deptComboBox11\",\"displayField\":\"DEPT_NAME\",\"labelWidth\":\"30\",\"select\":\"  var ORG_ID = orgComboBox111.getValue();\\n  var whereSql = deptComboBox11.getValue();\\n  var postChangeSql = ' and t.ORG_ID = \\\\''+ORG_ID+'\\\\''+' and t.DEPT_ID =  \\\\''+whereSql+'\\\\'';\\n  Wb.load(postStore2,{whereSql:postChangeSql});\\n  postComboBox1.clearValue();\\n  var changeSql = ' and b.ORG_ID = \\\\''+ORG_ID+'\\\\''+' and b.DEPT_ID =  \\\\''+whereSql+'\\\\'';\\n  Wb.load(userStore,{whereSql:changeSql});\\n\\n\\n\\n\"},{\"xwlMeta\":\"comboBox\",\"store\":\"postStore2\",\"valueField\":\"POST_ID\",\"width\":\"292\",\"labelAlign\":\"left\",\"queryMode\":\"local\",\"emptyText\":\"---- 选择岗位 ----\",\"fieldLabel\":\"岗位\",\"id\":\"postComboBox1\",\"displayField\":\"POST_NAME\",\"labelWidth\":\"30\",\"select\":\"  var ORG_ID = orgComboBox111.getValue();\\n  var whereSql = deptComboBox11.getValue();\\n  changeSql = ' and b.ORG_ID = \\\\''+ORG_ID+'\\\\''+' and b.DEPT_ID =  \\\\''+whereSql+'\\\\''+' and b.POST_ID =  \\\\''+postComboBox1.getValue()+'\\\\'';\\n  Wb.load(userStore,{whereSql:changeSql});\\n\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr12\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户\",\"id\":\"userName\",\"labelWidth\":\"30\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   userNameUpper.setValue(userName.getValue().toUpperCase());\\n   Wb.load(userStore);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryUserBtn1\",\"text\":\"查询\",\"click\":\"userNameUpper.setValue(userName.getValue().toUpperCase());\\nuserStore.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"resetUserBtn1\",\"text\":\"重置\",\"click\":\"userName.setValue('');\\nuserStore.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户\",\"id\":\"userNameUpper\",\"labelWidth\":\"30\",\"hidden\":\"true\",\"labelAlign\":\"left\",\"specialkey\":\"if (event.getKey() == Ext.EventObject.ENTER) {\\n   userName.setValue(userName.getValue().toUpperCase());\\n   Wb.load(userStore);\\n}\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"userStore\",\"columns\":\"userGridColumn\",\"region\":\"center\",\"id\":\"userGrid\",\"selType\":\"checkboxmodel\",\"select\":\"var row = Wb.getSelRec(userGrid);\\nvar sm = userGrid.getSelectionModel();\\nvar records = sm.getSelection();\\nvar len = selectUserGridStore.getModifiedRecords().length;\\nvar record = selectUserGridStore.getModifiedRecords();\\n//获取当前页中已勾选的ID，拼接成字符串放到一个隐藏的文本框中\\nvar arrid = '';\\nfor(var v= 0;v< row.length;v++){\\n  var idNu = records[v].get('USER_ID');\\n  arrid = arrid+','+idNu;\\n}\\nUSER_ID_111.setValue(arrid.substring(1,arrid.length));\\n//给SelectedUserWin中的STORE添加数据\\nif(row.length === 1){\\n  var bl;\\n  for(var i=0;i<len;i++){\\n  var user_id = record[i].data.ID;\\n  if(records[0].get('USER_ID')=== user_id){\\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n      var json = {\\n                  ID: records[0].get('USER_ID'),\\n                  NAME: records[0].get('USER_NAME'),\\n                  TYPE: 'U'\\n                 };\\n      selectUserGridStore.add(json);\\n\\n  }\\n  \\n}else{\\n  \\n  var bl;\\n  for(var i=0;i<len;i++){\\n    var user_id = selectUserGridStore.getAt(i).get('ID');\\n    if(records[row.length-1].get('USER_ID')=== user_id){\\n      bl=1;\\n      break;\\n    }\\n    else{\\n      bl=0;\\n    }\\n  }\\n  if(bl!==1){\\n     var json={\\n               ID: records[row.length-1].get('USER_ID'),\\n               NAME: records[row.length-1].get('USER_NAME'),\\n               TYPE: 'U'\\n              };\\n     selectUserGridStore.add(json);\\n  }\\n}\\nFLAG.setValue(row.length);\\nuserCount();\",\"selectionchange\":\"var flag = FLAG.getValue();\\nvar row = Wb.getSelRec(userGrid);\\nvar sm = postGrid.getSelectionModel();\\nvar records = sm.getSelection();\\nvar row = Wb.getSelRec(userGrid);\\nif(flag=== null||flag=== ''){\\n  \\n}\\nelse{\\n  if(row.length < flag && userGrid.getStore().isLoading()===false){\\n    //获取当前页中已勾选的ID(取消勾选时)\\n    var abl;\\n    var arrayid = USER_ID_111.getValue().split(',');\\n    for(var i=0;i< arrayid.length;i++){\\n        var aid=arrayid[i];\\n        for(var v=0;v< row.length;v++){\\n          var idN = records[v].get('USER_ID');\\n          if(aid=== idN){\\n            abl=1;\\n            break;\\n          }else{\\n            abl=0;\\n          }\\n        }\\n        if(abl!==1){\\n          //在弹出的WIN中删掉ID为该ID的数据\\n               for(var k=0;k< selectUserGridStore.getCount();k++){\\n                  var  user_id3 = selectUserGridStore.getAt(k).get('ID');\\n                  if(aid === user_id3){\\n                    \\n                    selectUserGridStore.removeAt(k);\\n                  }\\n              }\\n        }\\n    }\\n   \\n   }\\n  \\n}\\nuserCount();\"}]}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"baseCls\":\"my-panel-no-border\",\"id\":\"southPanel\",\"height\":\"'5%'\",\"layout\":\"border\",\"columnWidth\":\".5\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"westPanel_\",\"height\":\"'100%'\",\"columnWidth\":\".5\",\"border\":\"false\",\"width\":\"'40%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"centerPanel\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"label1\",\"html\":\"\\n<!DOCTYPE html>\\n<html>\\n<head>\\n<\\/head>\\n<body>\\n<a href=\\\"javascript:void(0)\\\"  onclick = \\\"SelectUserWin.show()\\\"  style=\\\"text-decoration:none;color:black;font-weight:bold;\\\" id=\\\"user\\\" >已选<\\/a>\\n  <\\/body>\\n<\\/html>\\n\\t\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"noticeWindow\",\"title\":\"新增通知\",\"height\":\"500\",\"layout\":\"border\",\"resizable\":\"false\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"700\",\"buttons\":\"noticeWindowBtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"id\":\"noticePanel\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"'49%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_blank\",\"height\":\"10\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"tr_notice\",\"height\":\"35\",\"layout\":\"column\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"通知标题\",\"id\":\"noticeTitle\",\"labelWidth\":\"60\",\"width\":\"600\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"id\":\"attBtn\",\"text\":\"添加附件\",\"width\":\"60\",\"x\":\"12\",\"click\":\"var notice_id = noticeID.getValue();\\nif(notice_id===''||notice_id===null){\\n  Wb.warning('请先保存该条通知。');\\n}else{\\n  try{\\n     var record = noticeGrid.getSelectionModel().getSelection();\\n     if(record[0].get('ATTRIBUTE1')==='Y'){\\n        showAttachmentManager('{#XIP.userId#}',notice_id,'','NOTICE','','N','N','N');\\n     }else{\\n        showAttachmentManager('{#XIP.userId#}',notice_id,'','NOTICE','','Y','Y','Y');\\n  \\n     }\\n  }catch(e){\\n    showAttachmentManager('{#XIP.userId#}',notice_id,'','NOTICE','','Y','Y','Y');\\n  }\\n}\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"NOTICEid\",\"id\":\"noticeID\",\"hidden\":\"true\"}]},{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet3\",\"title\":\"通知正文\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"htmlEditor\",\"id\":\"htmlEditor1\",\"height\":\"350\",\"style\":\"border-width:0px\"}]}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"alertWindow\",\"title\":\"提醒方式\",\"height\":\"220\",\"layout\":\"border\",\"dialog\":\"false\",\"width\":\"380\",\"buttons\":\"alertWindowBtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"west\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel4\",\"height\":\"'100%'\",\"border\":\"false\",\"width\":\"'20%'\",\"frame\":\"true\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"baseCls\":\"my-panel-no-border\",\"padding\":\"20px,10px,0px,40px\",\"id\":\"northPanel1\",\"height\":\"'100%'\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"'80%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_wx\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel2\",\"layout\":\"form\",\"columnWidth\":\".03\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"image\",\"id\":\"wxImage\",\"height\":\"25\",\"width\":\"25\",\"src\":\"pub/uip/common/icon/wx02.png\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel3\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"check\",\"fieldLabel\":\"微信提醒\",\"id\":\"wxCheck1\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_email\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel21\",\"layout\":\"form\",\"columnWidth\":\".03\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"image\",\"id\":\"emailImage\",\"height\":\"25\",\"width\":\"25\",\"src\":\"pub/uip/common/image/message.gif\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel31\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"check\",\"fieldLabel\":\"邮件提醒\",\"id\":\"EmailCheck1\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel_note\",\"layout\":\"column\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel22\",\"layout\":\"form\",\"columnWidth\":\".03\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"image\",\"id\":\"noteImage\",\"height\":\"25\",\"width\":\"25\",\"src\":\"pub/uip/common/icon/large_talk.png\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"panel32\",\"layout\":\"form\",\"columnWidth\":\".5\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"check\",\"fieldLabel\":\"短信提醒\",\"id\":\"noteCheck1\",\"labelAlign\":\"right\"}]}]}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"noticeForm\",\"layout\":\"fit\",\"border\":\"false\",\"width\":\"'100%'\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"通知标题\",\"id\":\"noticeTitle1\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tWb.load(noticeGridStore);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"x\":\"15\",\"click\":\"Wb.load(noticeGridStore);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"prior_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"x\":\"30\",\"click\":\"noticeForm.form.reset();\\nWb.load(noticeGridStore);\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"noticeGridStore\",\"columns\":\"noticeGridColumn\",\"region\":\"center\",\"id\":\"noticeGrid\",\"tbar\":\"noticeGridTbar\",\"selType\":\"checkboxmodel\",\"itemdblclick\":\"editorBtn.fireEvent('click');\"}]}]}","公告",null,0,0,"23XQ4UO678F5","2015-08-26 11:01:57.0","23XQ4UO678F5","2015-10-21 14:07:12.0",3],["23XU4DQX24N4","23XTQL2Z9T5M","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getMenuFunctionsTree\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id ID, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type NODE_TYPE,\\n\\t   t.node_order IDX,\\n\\t   t.FUN_TREE_CODE,\\n\\t   t.DESCRIPTION,\\n\\t\\t'__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or (({?parentID?} is null) and nvl(t.up_id,'-1') = '-1')  \\nand  t.ENABLE_FLAG = 'Y'  \\n order by t.node_order asc\",\"id\":\"sqlSwitcher1\",\"mysql\":\"\\t\\tselect t.up_id \\\"parent_id\\\", \\n       t.fun_tree_id ID, \\n       t.fun_tree_name \\\"text\\\", \\n       t.node_type NODE_TYPE,\\n\\t   t.node_order IDX,\\n\\t   t.FUN_TREE_CODE,\\n\\t   t.DESCRIPTION,\\n\\t\\t'__false' as \\\"checked\\\",\\n       case\\n         when (select count(*)\\n                 from xip_pub_fun_tree t1\\n                where t1.up_id = t.fun_tree_id) > 0 or t.node_type = 'M' then\\n          '__false'\\n         else\\n          '__true'\\n       end as \\\"leaf\\\"\\n  from xip_pub_fun_tree t\\n where t.up_id = {?parentID?} or (({?parentID?} is null or {?parentID?}='') and ifnull(t.up_id,'-1') = '-1')  \\nand  t.ENABLE_FLAG = 'Y'  \\nand  t.fun_tree_id  NOT in  (SELECT d.TARGET_ID  FROM xip_pub_user_default_funs d,xip_pub_fun_tree xpft\\n\\t\\t         WHERE d.TARGET_ID =xpft.fun_tree_id)\\n\\n\\n order by t.node_order asc \"},{\"xwlMeta\":\"dataProvider\",\"type\":\"tree\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","selectFunTreeAll","",0,0,"23XQ4UO678F0","2015-08-26 14:37:26.0","23XQ4UO678F0","2015-08-26 16:10:07.0",8],["23XUEO9MKWV6","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"SelectNoticeGrid\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT NOTICE_ID,\\n       NOTICE_TITLE,\\n       NOTICE_CONTENT,\\n       FORM_URL,\\n       SRC_ID,\\n       SRC_CAT,\\n       ATTRIBUTE1\\nFROM XIP_PUB_NOTICES X\\nWHERE X.NOTICE_TITLE LIKE '%{#noticeTitle1#}%' AND SRC_CAT='NOTICE_U'\\n\"}]}","SelectNoticeGrid",null,0,0,"23XQ4UO678F5","2015-08-27 09:43:30.0","23XQ4UO678F5","2015-09-01 17:06:23.0",1],["23XUEO9MKWW8","23XU4DQX24CD",null,"DATA",null,0,0,"23XQ4UO678F5","2015-08-27 09:43:44.0","23XQ4UO678F5","2015-08-27 09:43:44.0",8],["23XUNJ48YC08","23XNAZFYVW66",null,"DATA",null,1,0,"23XQ4UO678F0","2015-08-27 14:36:01.0","23XQ4UO678F0","2015-08-27 14:36:01.0",2],["23XUNJ48YC0B","23XUNJ48YC08","{\"id\":\"module\",\"title\":\"查询默认权限\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"initScript\":\"var authModel = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('AUTH_MODAL');\\nrequest.setAttribute(\\\"authModel\\\",authModel);\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"SELECT a.DEFAULT_FUNS_ID,a.AUTH_MODAL,a.TARGET_ID ,\\ncase \\n  when b.ROLE_ID = '' then null \\n   else   \\n   b.ROLE_NAME \\n      end as FUN_NAME\\n\\nFROM  xip_pub_user_default_funs a  , xip_pub_role b\\n where  a.AUTH_MODAL = '{#authModel#}' and a.TARGET_ID =b.ROLE_ID\\n\\nunion\\n\\nSELECT a.DEFAULT_FUNS_ID,a.AUTH_MODAL,a.TARGET_ID ,\\n\\ncase \\n  when b.FUN_TREE_ID = '' then null \\n   else   b.FUN_TREE_NAME\\n      end as FUN_NAME\\nFROM  xip_pub_user_default_funs a  ,xip_pub_fun_tree b\\n\\nwhere a.AUTH_MODAL = '{#authModel#}' and b.FUN_TREE_ID=a.TARGET_ID \\n\\n\",\"xwlMeta\":\"dataProvider\"}]}","selectGrid","",0,0,"23XQ4UO678F0","2015-08-27 14:36:11.0","23XQ4UO678F0","2015-08-27 14:36:11.0",1],["23XUNJ48YC2K","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"SelectOrg\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"SELECT ORG_ID, ORG_NAME  FROM XIP_PUB_ORGS WHERE ENABLE_FLAG = 'Y' and ORG_NAME like '%{#orgName#}%'\"}]}","SelectOrg",null,0,0,"23XQ4UO678F5","2015-08-27 14:54:21.0","23XQ4UO678F5","2015-09-08 17:24:46.0",5],["23XUNJ48YC2N","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"SelectDept\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select t.* from XIP_PUB_DEPTS t where t.ORG_ID = {?ORG_ID?}\"}]}","SelectDept",null,0,0,"23XQ4UO678F5","2015-08-27 14:54:37.0","23XQ4UO678F5","2015-08-27 14:59:00.0",4],["23XUNJ48YDPG","23XUEO9MKWW8","{\"id\":\"module\",\"title\":\"select_orgCombox\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"attribute1\",\"xwlMeta\":\"attribute\",\"value\":\"%{#query#}%\"},{\"id\":\"dataProvider1\",\"sql\":\"SELECT ORG_ID CODE, ORG_NAME NAME FROM XIP_PUB_ORGS WHERE \\tENABLE_FLAG = 'Y'\\t AND ORG_NAME LIKE {?attribute1?}\\n\",\"xwlMeta\":\"dataProvider\"}]}","SelectOrgCombox",null,0,0,"23XQ4UO678F5","2015-08-28 09:19:43.0","23XQ4UO678F5","2015-08-28 09:20:20.0",6],["23XUNJ48YDWZ","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectUrlgrid\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#userN#}%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\nAND b.ORG_ID ={?WHERESQL?} \",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\nAND b.ORG_ID ={?WHERESQL?} \"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","SelectOrgGridUser",null,0,0,"23XQ4UO678F5","2015-08-28 09:26:23.0","23XQ4UO678F5","2015-08-28 16:45:22.0",7],["23XUNJ48YELA","23VVZ3QMOKQA",null,"用户通知",null,0,0,"23XQ4UO678F0","2015-08-28 09:39:55.0","23XQ4UO678F0","2015-08-28 09:39:55.0",56],["23XUYE2ZOFCS","23VVZ3QMOKQA",null,"外部员工注册审批",null,0,0,"23XQ4UO678F0","2015-08-28 10:33:40.0","23XQ4UO678F0","2015-08-28 10:34:03.0",50],["23XUYE2ZOFDM","23XUYE2ZOFCS","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"外部员工注册审批\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath();\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23XUYE2ZOOVS (updateStatus)\",\"id\":\"updateStatusAjax\",\"output\":\"Grid\",\"success\":\"storeGrid.load();\"},{\"xwlMeta\":\"store\",\"id\":\"storeGrid\",\"url\":\"#23XUYE2ZOGOZ (SelectGrid)\",\"output\":\"queryForm\"},{\"xwlMeta\":\"array\",\"id\":\"GridColums\",\"children\":[{\"xwlMeta\":\"column\",\"headerAlign\":\"center\",\"type\":\"rowNumber\",\"id\":\"Row_num\",\"text\":\"序号\",\"align\":\"center\",\"width\":\"50\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_ID\",\"id\":\"COLUMN_USER_ID\",\"text\":\"用户id\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"USER_NAME\",\"id\":\"COLUMN_USER_NAME\",\"text\":\"登陆账号\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_ID\",\"id\":\"COLUMN_EMP_ID\",\"text\":\"员工id\",\"width\":\"200\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"START_DATE\",\"id\":\"COLUMN_START_DATE\",\"text\":\"开始时间\",\"width\":\"220\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"END_DATE\",\"id\":\"COLUMN_END_DATE\",\"text\":\"结束时间\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMP_NAME\",\"id\":\"COLUMN_EMP_NAME\",\"text\":\"姓名\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"EMAIL\",\"id\":\"COLUMN_EMAIL\",\"text\":\"邮箱\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"STATUS\",\"id\":\"COLUMN_STATUS\",\"renderer\":\"if(value === \\\"A\\\"){\\n  return \\\"起草\\\";\\n}else if(value === \\\"B\\\"){\\n  return \\\"已审批\\\";\\n}else{\\n  return value;\\n}\",\"text\":\"审批状态\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"gridToolBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"last_icon\",\"id\":\"spBtn\",\"text\":\"审批\",\"click\":\"var rows = Grid.getSelectionModel().getSelection();\\nif(rows.length===0){\\n  Ext.Msg.alert('提示','请选择操作的记录!');\\n}\\n  var userId = rows[0].data.USER_ID;\\nvar userName = rows[0].data.USER_NAME;\\nvar email = rows[0].data.EMAIL;\\nvar status = rows[0].data.STATUS;\\nif(status=='B'){\\n   Ext.Msg.alert('提示','用户已审批!');\\n}\\n\\nvar json = { USER_ID :userId};\\n//==============执行发送邮件请求操作=================\\nExt.Ajax.request({ \\n\\t\\t\\turl:'{#contextPath#}'+'/platformAction.do?method=sendUserMail',\\n           params: {userName:userName,\\n           userId:userId,\\n           email:email   },\\n\\t\\t\\t\\n\\t\\t\\tmethod: 'POST',\\n           \\n\\t\\t\\t\\n\\t\\t\\tsuccess: function(response, options) { // 回调函数有2个参数\\n              \\n              Ext.Msg.alert('提示', '审批成功' );\\n              updateStatusAjax.request(json);\\n              \\n\\t\\t\\t},\\n\\t\\t\\tfailure: function(response, options) {\\n\\t\\t\\tExt.Msg.alert('提示', '注册失败' );\\n\\t\\t\\t}\\n});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem11\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"queryForm\",\"height\":\"80\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"fieldSet1\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名称\",\"id\":\"userName\",\"labelWidth\":\"100\",\"width\":\"250\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n    userNameUpper.setValue(userName.getValue().toUpperCase());\\n\\tstoreGrid.load();\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"quertBtn\",\"text\":\"查询\",\"click\":\"userNameUpper.setValue(userName.getValue().toUpperCase());\\nstoreGrid.load();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"click\":\"queryForm.getForm().reset();\\nstoreGrid.load();\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"用户名称\",\"id\":\"userNameUpper\",\"labelWidth\":\"100\",\"width\":\"250\",\"hidden\":\"true\",\"labelAlign\":\"right\",\"specialkey\":\"if(event.getKey() == 13){\\n\\tstoreGrid.load();\\n}\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"storeGrid\",\"columns\":\"GridColums\",\"region\":\"center\",\"id\":\"Grid\",\"tbar\":\"gridToolBar\",\"multiSelect\":\"false\",\"selType\":\"checkboxmodel\"}]}]}","外部员工注册审批",null,0,0,"23XQ4UO678F0","2015-08-28 10:34:20.0","23XQ4UO678F5","2015-10-21 14:34:54.0",1],["23XUYE2ZOFR8","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"select_depCombox\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select t.* from XIP_PUB_DEPTS t where t.ORG_ID = {?ORG_ID?} and t.DEPT_NAME like '%{#deptName#}%'\"}]}","SelectdeptCombox",null,0,0,"23XQ4UO678F5","2015-08-28 10:46:15.0","23XQ4UO678F5","2015-09-08 17:47:31.0",10],["23XUYE2ZOGM2","23XUYE2ZOFCS",null,"DATA",null,0,0,"23XQ4UO678F0","2015-08-28 11:14:11.0","23XQ4UO678F0","2015-08-28 11:14:11.0",2],["23XUYE2ZOGOZ","23XUYE2ZOGM2","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"SelectGrid\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select t.*,s.EMAIL,s.EMP_NAME\\n  from xip_pub_users t,xip_pub_emps s\\n  where  t.EMP_ID =s.EMP_ID   and t.STATUS= 'A' \\nand t.USER_NAME like '%{#userNameUpper#}%'\\nunion \\nselect t.*,s.EMAIL,s.EMP_NAME\\n  from xip_pub_users t,xip_pub_emps s\\n  where  t.EMP_ID =s.EMP_ID   and   t.STATUS= 'B'\\nand t.USER_NAME like '%{#userNameUpper#}%'\\n\"}]}","SelectGrid",null,0,0,"23XQ4UO678F0","2015-08-28 11:17:35.0","23XQ4UO678F5","2015-10-19 13:44:52.0",1],["23XUYE2ZOL1B","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectgridpost\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#userN2#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select t.POST_ID ,\\n\\tt.POST_CODE, \\n\\tt.POST_NAME,\\n\\t(select s.DEPT_NAME from XIP_PUB_DEPTS s  where s.DEPT_ID = t.DEPT_ID)  DEPT_NAME  \\n\\tfrom XIP_PUB_POSTS  t\\n\\twhere t.ENABLE_FLAG = 'Y'  and t.POST_NAME like '%{#postName#}%'   \\n         {#whereSql#}\"}]}","SelectPostComboBox",null,0,0,"23XQ4UO678F5","2015-08-28 14:15:53.0","23XQ4UO678F5","2015-09-11 09:57:59.0",12],["23XUYE2ZOLU5","23VKVPUL8420","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Delete Notice\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"delete from xip_pub_user_notices where USER_NOTICE_ID = {?userNoticeId?}\"}]}","Delete Notice",null,0,0,"23XQ4UO678F8","2015-08-28 14:36:36.0","23XQ4UO678F8","2015-08-28 14:57:35.0",11],["23XUYE2ZOLUA","23VKVPUL8420","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Close Notice\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update xip_pub_user_notices t\\n   set t.status = 'closed'\\n where t.user_notice_id = {?userNoticeId?}\"}]}","Close Notice",null,0,0,"23XQ4UO678F8","2015-08-28 14:36:42.0","23XQ4UO678F8","2015-08-28 14:58:53.0",12],["23XUYE2ZOOVS","23XUYE2ZOGM2","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"updateStatus\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update xip_pub_users\\n   set STATUS = 'B'\\n\\n where USER_ID = {?USER_ID?}\"}]}","updateStatus",null,0,0,"23XQ4UO678F0","2015-08-28 16:33:52.0","23XQ4UO678F0","2015-09-01 10:41:09.0",2],["23XUYE2ZOPBU","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectUrlgrid\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#userN#}%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\nAND b.ORG_ID ={?WHERESQL?} AND b.DEPT_ID={?DEPT_ID?}\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\nAND b.ORG_ID ={?WHERESQL?} AND b.DEPT_ID={?DEPT_ID?}\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","SelectOrgGridUser_DEPT",null,0,0,"23XQ4UO678F5","2015-08-28 16:44:40.0","23XQ4UO678F5","2015-09-14 11:23:39.0",8],["23XUYE2ZOQ6O","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectUrlgrid\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#userN#}%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\nAND b.ORG_ID ={?WHERESQL?} AND b.DEPT_ID={?DEPT_ID?} and b.POST_ID={?POST_ID?}\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE {?attribute1?} OR c.EMP_NAME LIKE {?attribute1?})\\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\nAND b.ORG_ID ={?WHERESQL?} AND b.DEPT_ID={?DEPT_ID?} and b.POST_ID={?POST_ID?}\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","SelectOrgGridUser_post",null,0,0,"23XQ4UO678F5","2015-08-28 17:10:24.0","23XQ4UO678F5","2015-09-14 11:23:19.0",9],["23XUYE2ZOQBU","23XUNJ48YELA","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"通知信息 \",\"jsFiles\":\"[\\\"platform/util/platformUtil.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var noticeId = request.getParameter('noticeId') ;\\n\\nvar sql = \\\"select t.NOTICE_TITLE,t.NOTICE_CONTENT,t.FORM_URL from xip_pub_notices t where t.NOTICE_ID = '\\\"+ noticeId + \\\"'\\\" ;\\nvar rr = DbUtil.query(request, sql);\\nwhile(rr.next()){\\n  var _title = rr.getString(\\\"NOTICE_TITLE\\\") ;\\n  var _content = rr.getString(\\\"NOTICE_CONTENT\\\") ;\\n  var _formUrl = rr.getString(\\\"FORM_URL\\\") ;\\n  \\n//   var out=java.lang.System.out;\\n//   out.println(_title) ;\\n//   out.println(_content) ;\\n//   out.println(_formUrl) ;\\n}\\n\\nrequest.setAttribute(\\\"title\\\",_title);\\nrequest.setAttribute(\\\"content\\\",_content);\\nrequest.setAttribute(\\\"formUrl\\\",_formUrl);\\nrequest.setAttribute(\\\"id\\\",noticeId) ;\\n\",\"finalize\":\"allcount();\\n\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"footer\":\"<script type=\\\"text/javascript\\\">\\n  // 监测当前页面的关闭事件 \\n  window.onbeforeunload = function() {\\n     window.opener.msgStore.load();\\n  }\\n<\\/script>\"},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"标题：{#title#}\",\"id\":\"label1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"sep\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"关闭\",\"iconCls\":\"error_icon\",\"id\":\"btnClose\",\"click\":\"var json = {\\\"id\\\":'{#id#}'} ;\\n\\najaxClose.request(json) ;\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"查看附件 \",\"iconCls\":\"view_icon\",\"id\":\"btnViewAttch\",\"click\":\"\\nshowAttachmentManager('{#XIP.userId#}','{#id#}','','Demo','','N','Y','N',function(){});\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sep3\"}]},{\"xwlMeta\":\"ajax\",\"url\":\"#23XXSNP9MLAM (Close User Notice)\",\"id\":\"ajaxClose\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"通知关闭失败!\\\") ;\",\"success\":\"window.close();\"},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"region\":\"north\",\"collapsible\":\"true\",\"id\":\"fieldSet1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"bodyPadding\":\"10\",\"tbar\":\"toolbar1\",\"id\":\"panel2\",\"html\":\"{#content#}\"}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel3\",\"html\":\"<iframe src='{#formUrl#}' width=100% height=100% frameborder=0><\\/iframe>\"}]}]}","查看通知",null,0,0,"23XQ4UO678F8","2015-08-28 17:14:09.0","23XQ4UO678F8","2015-10-26 16:48:46.0",1],["23XUYE2ZOUVQ","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectUrlgrid\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#userName#}.toUpperCase()%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE '%{#userNameUpper#}%' OR c.EMP_NAME LIKE '%{#userNameUpper#}%')\\nAND (a.END_DATE >sysdate OR a.END_DATE IS NULL)\\n{#whereSql#}\\n\",\"id\":\"sqlSwitcher1\",\"mysql\":\"SELECT DISTINCT\\n  a.USER_ID,\\n  a.USER_NAME,\\n  c.EMP_NAME \\nFROM\\n  xip_pub_users a,\\n  xip_pub_emp_asg b,\\n  xip_pub_emps c \\nWHERE a.EMP_ID = b.EMP_ID \\nAND a.EMP_ID = c.EMP_ID \\nAND c.ATTRIBUTE2 = 'Y'\\nAND b.ENABLED = 'Y'\\nAND (a.USER_NAME LIKE '%{#userNameUpper#}%' OR c.EMP_NAME LIKE '%{#userNameUpper#}%')\\nAND (a.END_DATE >NOW() OR a.END_DATE IS NULL)\\n{#whereSql#}\\n\\n\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","SelectGridUser",null,0,0,"23XQ4UO678F5","2015-08-31 09:23:26.0","23XQ4UO678F5","2015-10-22 16:27:11.0",14],["23XUYE2ZP2HJ","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"select_userStore\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select USER_ID ID,\\n       USER_NAME NAME,\\n       EMP_NAME TYPE\\nfrom xip_pub_users x1,\\n    xip_pub_emps x2 \\nwhere x1.EMP_ID=x2.EMP_ID and 1=0\"}]}","SelectUserGridStore",null,0,0,"23XQ4UO678F5","2015-08-31 14:28:55.0","23XQ4UO678F5","2015-09-01 11:18:47.0",16],["23XUYE2ZP572","23W0CDJH1JO3",null,"待办处理",null,0,0,"23XQ4UO678F8","2015-08-31 15:37:04.0","23XQ4UO678F8","2015-08-31 15:40:05.0",19],["23XUYE2ZP5BD","23XUYE2ZP572","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\",\\\"#23W4UO78MN1S (pub)\\\"]\",\"id\":\"module\",\"title\":\"个人待办\",\"loginRequired\":\"false\",\"initScript\":\"var taskId = request.getParameter(\\\"taskId\\\");\\nvar recUserId = request.getParameter(\\\"recUserId\\\");\\nrequest.setAttribute(\\\"taskId\\\",taskId);\\nrequest.setAttribute(\\\"taskUserId\\\",recUserId);\\n\",\"head\":\"<style type=\\\"text/css\\\">    \\n.menuItem {\\n\\tdisplay: inline-block;\\n\\twidth: 33% !important;\\n    max-height:87px !important;\\n    min-height:87px !important;\\n}\\n.xzMenuTitle{ text-align:center; font-size:14px; min-height:15px; max-height:15px; overflow:hidden;}\\n<\\/style>\\n\",\"touchMode\":\"true\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"request\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23XXPTBA8PQF (createComment)\",\"id\":\"createComment\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"快速意见添加失败!\\\") ;\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"快速意见添加成功!\\\") ;\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23Y2ZZW5IGFM (queryHistory)\",\"id\":\"queryAuditHistory\",\"success\":\"var tmp = Ext.decode(response.responseText);\\nvar instanceCode = tmp.INSTANCE_CODE;\\nqueryHistoryRecord(tnav_task,instanceCode);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store_task\",\"autoLoad\":\"false\",\"url\":\"#23XUYE2ZPBYD (queryPersonalTask)\",\"load\":\"if(records.length !== 0){\\n  var selRecord =records[0];\\n  tt_tasktitle.setValue(selRecord.data.TASKTITLE);\\n  tt_fromuser.setValue(selRecord.data.FROMUSERNAME);\\n  var ret = selRecord.data.ATTRIBUTE1;\\n  if(ret!==null&&ret!==''&&ret!==undefined){\\n      tt_attribute1.setValue(selRecord.data.ATTRIBUTE1);\\n      tt_attribute1.show();\\n   }else{\\n     tt_attribute1.hide();\\n   }\\n     create_approve_btns(tnav_task,tc_buttons,selRecord.data.TASKID,tta_comment); \\n} \\n\\n \\n\"},{\"xwlMeta\":\"store\",\"id\":\"store_suggest\",\"autoLoad\":\"false\",\"url\":\"#23XXPDESPQTG (queryComment)\",\"load\":\"tnav_task.push(_fastSuggest); \\n\\n \\n\"}]},{\"xwlMeta\":\"tcontainer\",\"autoCreate\":\"false\",\"id\":\"fastSuggest\",\"title\":\"快速意见\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tlist\",\"store\":\"store_suggest\",\"id\":\"tlist_task\",\"title\":\"待办任务\",\"itemTpl\":\"<div><img class=\\\"wb_icon\\\" src=\\\"webbuilder/images/item.gif\\\">{NAME}<\\/div>\",\"itemtap\":\"tta_comment.setValue(record.data.NAME);\\ntnav_task.pop();\"}]},{\"xwlMeta\":\"tviewport\",\"id\":\"tv_home\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tnaviview\",\"id\":\"tnav_task\",\"title\":\"待办\",\"children\":[{\"xwlMeta\":\"tcontainer\",\"autoCreate\":\"false\",\"id\":\"tc_task_approve\",\"title\":\"审批\",\"layout\":\"fit\",\"activate\":\"var _taskId = '{#taskId#}';\\nstore_task.load({params:{taskId:_taskId}});\\n\\n\\n\\n\",\"children\":[{\"xwlMeta\":\"tform\",\"id\":\"tf_task\",\"children\":[{\"xwlMeta\":\"tfieldSet\",\"id\":\"tfs_task_dtl\",\"children\":[{\"xwlMeta\":\"ttext\",\"label\":\"发起人\",\"type\":\"text\",\"id\":\"tt_fromuser\",\"readOnly\":\"true\"},{\"xwlMeta\":\"ttextArea\",\"id\":\"tt_tasktitle\",\"name\":\"tt_tasktitle\",\"label\":\"标题\",\"readOnly\":\"true\"},{\"xwlMeta\":\"ttext\",\"label\":\"征询反馈\",\"id\":\"tt_attribute1\",\"readOnly\":\"true\",\"hidden\":\"true\"},{\"xwlMeta\":\"ttextArea\",\"id\":\"tta_comment\",\"label\":\"审批意见\"},{\"xwlMeta\":\"tcontainer\",\"id\":\"comment_container\",\"layout\":\"hbox\",\"children\":[{\"xwlMeta\":\"tbutton\",\"text\":\"添加意见\",\"flex\":\"1\",\"id\":\"addComment\",\"tap\":\"if(Ext.isEmpty(tta_comment.getValue())){\\n  Wb.warning('请先填写审批意见！');\\n}else{\\n  var _fastUserId  = '{#taskUserId#}';\\n  var json = {'taskUserId':_fastUserId,'fastComment':tta_comment.getValue()} ;\\n  createComment.request(json) ;\\n}\"},{\"xwlMeta\":\"tbutton\",\"text\":\"选择意见\",\"flex\":\"1\",\"id\":\"selComment\",\"tap\":\"store_suggest.load({params:{userId:'{#taskUserId#}'}});\"},{\"xwlMeta\":\"tbutton\",\"text\":\"审批历史\",\"flex\":\"1\",\"id\":\"auditHistory\",\"tap\":\"queryAuditHistory.request({task_id:'{#taskId#}'});\"}]},{\"xwlMeta\":\"tcontainer\",\"id\":\"tc_buttons\",\"defaults\":\"{\\nstyle:'margin: .5em',\\nflex:1\\n}\"}]}]}]}]}]}]}","个人待办任务",null,0,0,"23XQ4UO678F8","2015-08-31 15:41:17.0","23XQ4B4KHDBQ","2015-09-24 10:51:11.0",1],["23XUYE2ZPBYB","23XUYE2ZP572",null,"data",null,0,0,"23XQ4B4KHDBQ","2015-09-01 08:54:35.0","23XQ4B4KHDBQ","2015-09-01 08:54:35.0",2],["23XUYE2ZPBYD","23XUYE2ZPBYB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"taskQuery\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dp_task\",\"sql\":\"select tsk.task_id TASKID,\\n       tsk.task_title TASKTITLE,\\n       tsk.task_state TASKSTATE,\\n       tsk.act_name ACTNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.from_user) FROMUSERNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.assign_user) ASSIGNUSERNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.execute_user) EXECUTEUSERNAME,\\n       pi.business_id BUSINESSID,\\n       pi.business_code BUSINESSCODE,\\n       pi.business_name BUSINESSNAME,\\n       e.entity_name ENTITYNAME,\\n       tsk.begin_date BEGINDATE,\\n       pi.instance_id INSTANCEID,\\n       pi.instance_code INSTANCECODE,\\n       tsk.ATTRIBUTE1 \\n  from xip_wf_ins_task tsk, xip_wf_process_instance pi, xip_wf_entities e\\n where  tsk.task_id = {?taskId?}\\n   and tsk.instance_id = pi.instance_id\\n   and pi.entity_id = e.entity_id\\n   and tsk.task_state in ('open', 'hung-up')\\n order by tsk.begin_date desc\"}]}","queryPersonalTask",null,0,0,"23XQ4B4KHDBQ","2015-09-01 08:54:38.0","23XQ4B4KHDBQ","2015-09-24 10:46:24.0",1],["23XV17WF5S9S","23XOJ8S7DHML","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"chartTest\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"clock_icon\",\"id\":\"chartTest\",\"text\":\"测试\",\"click\":\"    Ext.Ajax.request({\\n      url :  '/xip/platformChartAction.do?method=generateChartData',\\n\\n      method: 'POST',      params:{sqlParams:\\\"{IDX_ID:1003001020172}\\\",chartMoudleCode:\\\"test3\\\",chartSourceId:\\\"chinaData\\\"},\\n      success: function(response,options){\\n        \\n       \\n      },\\n      failure: function(response,options){\\n       \\n      }\\n    });\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"tbar\":\"toolbar1\",\"frame\":\"true\"}]}]}","chartTest",null,0,0,"23XQ4B4KHDBQ","2015-08-28 16:29:26.0","23XQ4B4KHDBQ","2015-08-28 16:44:45.0",3],["23XW95NAM25S","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insertNotice_save\",\"loginRequired\":\"false\",\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"NOTICE_ID\\\",NEW_UUID);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_pub_notices(\\n    NOTICE_ID,\\n    NOTICE_TITLE,\\n    NOTICE_CONTENT,\\n    SRC_CAT,\\n    ATTRIBUTE1,\\n    CREATION_DATE,\\n    CREATED_BY,\\n    LAST_UPDATE_DATE,\\n    LAST_UPDATED_BY \\n  \\n)values(\\n   '{#NOTICE_ID#}',\\n    {?title?},\\n    {?content?},\\n    'NOTICE_U',\\n    'N',\\n    {?timestamp.sys.date?},\\n    {?XIP.userId?},\\n    {?timestamp.sys.date?},\\n    {?XIP.userId?}  \\n)\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{k:'{#NOTICE_ID#}'}\"}]}","insertNotice_save",null,0,0,"23XQ4UO678F5","2015-09-01 16:41:17.0","23XQ4UO678F5","2015-09-09 14:49:51.0",21],["23XW9KXVZTQY","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"updateNotice_save\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update xip_pub_notices\\n set\\n    NOTICE_TITLE = {?NOTICE_TITLE?},\\n    NOTICE_CONTENT = {?NOTICE_CONTENT?},\\n    CREATION_DATE = {?timestamp.sys.date?},\\n    CREATED_BY = {?XIP.userId?},\\n    LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n    LAST_UPDATED_BY = {?XIP.userId?} \\n where NOTICE_ID = {?NOTICE_ID?}\\n  \\n\"}]}","updateNotice_save",null,0,0,"23XQ4UO678F5","2015-09-01 17:40:40.0","23XQ4UO678F5","2015-09-01 17:43:56.0",17],["23XW9KXVZVEJ","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insertNotice_save\",\"loginRequired\":\"false\",\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"NOTICE_ID\\\",NEW_UUID);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_pub_notices(\\n    NOTICE_ID,\\n    NOTICE_TITLE,\\n    NOTICE_CONTENT,\\n    SRC_CAT,\\n    ATTRIBUTE1,\\n    CREATION_DATE,\\n    CREATED_BY,\\n    LAST_UPDATE_DATE,\\n    LAST_UPDATED_BY \\n  \\n)values(\\n   '{#NOTICE_ID#}',\\n    {?title?},\\n    {?content?},\\n    'NOTICE_U',\\n    'Y',\\n    {?timestamp.sys.date?},\\n    {?XIP.userId?},\\n    {?timestamp.sys.date?},\\n    {?XIP.userId?}  \\n)\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"text\":\"{k:'{#NOTICE_ID#}'}\"}]}","insertNotice_send",null,0,0,"23XQ4UO678F5","2015-09-01 18:13:03.0","23XQ4UO678F5","2015-09-01 18:17:36.0",18],["23XW9KXVZVOZ","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insertNoticeUser\",\"loginRequired\":\"false\",\"initScript\":\"var result=request.getParameter(\\\"newArr\\\");\\nvar notice_ = Wb.decode(result);\\nfor(var i=0;i<notice_.length;i++){\\n  notice_[i].USER_NOTICE_ID = java.util.UUID.randomUUID().toString();\\n}\\nvar r=Wb.encode(notice_);\\nrequest.setAttribute('newArr',r);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"insert into xip_pub_user_notices(\\n   USER_NOTICE_ID,\\n   USER_ID,\\n   NOTICE_ID,\\n   STATUS,\\n   CREATION_DATE,\\n   CREATED_BY,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY \\n)VALUES(\\n  {?USER_NOTICE_ID?},\\n  {?USER_ID?},\\n  {?NOTICE_ID?},\\n  'open',\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?}  \\n)\",\"transaction\":\"start\",\"arrayName\":\"newArr\"}]}","insertNoticeUser",null,0,0,"23XQ4UO678F5","2015-09-01 18:24:48.0","23XQ4UO678F5","2015-09-01 18:32:21.0",22],["23XW9KXVZZIL","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"insertNotice_save\",\"loginRequired\":\"false\",\"initScript\":\"var NEW_UUID = java.util.UUID.randomUUID();\\nrequest.setAttribute(\\\"NOTICE_ID\\\",NEW_UUID);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update xip_pub_notices set\\n    NOTICE_TITLE =  {?title?},\\n    NOTICE_CONTENT = {?content?},\\n    ATTRIBUTE1 = 'Y',\\n    CREATION_DATE = {?timestamp.sys.date?},\\n    CREATED_BY = {?XIP.userId?},\\n    LAST_UPDATE_DATE = {?timestamp.sys.date?},\\n    LAST_UPDATED_BY = {?XIP.userId?}\\nwhere NOTICE_ID = {?notice_id?}  \\n\"}]}","updatetNotice_send",null,0,0,"23XQ4UO678F5","2015-09-02 10:11:05.0","23XQ4UO678F5","2015-09-02 10:13:50.0",24],["23XW9KXVZZS0","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"updateNoticeUser\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"delete from  xip_pub_user_notices \\nwhere NOTICE_ID = {?NOTICE_ID?}\",\"transaction\":\"start\"},{\"xwlMeta\":\"query\",\"id\":\"query2\",\"sql\":\"delete from xip_pub_notices \\nwhere NOTICE_ID = {?NOTICE_ID?}\"}]}","deleteNotice",null,0,0,"23XQ4UO678F5","2015-09-02 10:36:06.0","23XQ4UO678F5","2015-09-09 16:07:10.0",23],["23XWICDQ0SFX","23W0CDJH1JO3",null,"用户通知",null,0,0,"23XQ4UO678F0","2015-09-02 14:01:23.0","23XQ4UO678F0","2015-09-02 14:01:23.0",21],["23XWICDQ0SGC","23XWICDQ0SFX","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\",\\\"#23W4UO78MN1S (pub)\\\"]\",\"id\":\"module\",\"title\":\"查看通知\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"head\":\"<style type=\\\"text/css\\\">    \\n.menuItem {\\n\\tdisplay: inline-block;\\n\\twidth: 33% !important;\\n    max-height:87px !important;\\n    min-height:87px !important;\\n}\\n.xzMenuTitle{ text-align:center; font-size:14px; min-height:15px; max-height:15px; overflow:hidden;}\\n<\\/style>\\n\",\"touchMode\":\"true\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"req\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23XYEMHAEAWQ (Close Notice)\",\"id\":\"closeNotice\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"通知关闭失败!\\\") ;\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"通知关闭成功!\\\",function(){\\n   store_notice.load();\\n  tnav_notice.pop();\\n}) ;\\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store_notice\",\"autoLoad\":\"true\",\"url\":\"#23XWJNOTYW2V (queryNotices)\"}]},{\"xwlMeta\":\"array\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"ttext\",\"type\":\"text\",\"id\":\"searchText\",\"placeHolder\":\"查询通知\"},{\"xwlMeta\":\"tbutton\",\"text\":\"关闭\",\"align\":\"right\",\"id\":\"tb_close\",\"hidden\":\"true\",\"tap\":\"var _userNoticeId=selRecord.data.USERNOTICEID;\\n\\nvar json = {'userNoticeId':_userNoticeId};\\ncloseNotice.request(json);\"},{\"xwlMeta\":\"tbutton\",\"iconCls\":\"seek_icon\",\"id\":\"tb_search\",\"tap\":\"store_notice.load({params:{searchText:searchText.getValue()}});\"}]},{\"xwlMeta\":\"tcontainer\",\"autoCreate\":\"false\",\"id\":\"tc_notices_approve\",\"layout\":\"fit\",\"activate\":\"tb_search.hide();\\nsearchText.hide();\\ntb_close.show();\\nMSG_TITLE.setValue(selRecord.data.MSG_TITLE);\\nMSG_CONTENT.setHtml(selRecord.data.MSG_CONTENT);\\nCREATION_DATE.setValue(selRecord.data.CREATION_DATE);\\ncreate_approve_btns(tnav_notice,tc_buttons,selRecord.data.MSG_ID);\",\"children\":[{\"xwlMeta\":\"tform\",\"id\":\"tf_notices\",\"children\":[{\"xwlMeta\":\"tfieldSet\",\"id\":\"tfs_notices_dtl\",\"children\":[{\"xwlMeta\":\"tlabel\",\"id\":\"tlabel1\",\"html\":\"<br>\"},{\"xwlMeta\":\"tcontainer\",\"id\":\"MSG_CONTENT\",\"title\":\"正文\",\"children\":[{\"xwlMeta\":\"ttextArea\",\"id\":\"MSG_TITLE\",\"label\":\"标题\",\"readOnly\":\"true\"}]},{\"xwlMeta\":\"tlabel\",\"id\":\"tlabel2\",\"html\":\"<br>\"},{\"xwlMeta\":\"tdate\",\"id\":\"CREATION_DATE\",\"label\":\"创建时间\",\"readOnly\":\"true\"},{\"xwlMeta\":\"tcontainer\",\"id\":\"tc_buttons\",\"defaults\":\"{\\nstyle:'margin: .5em',\\nflex:1\\n}\"}]}]}]},{\"xwlMeta\":\"tviewport\",\"id\":\"tvi_home\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tnaviview\",\"navigationBar\":\"{items:buttons}\",\"id\":\"tnav_notice\",\"title\":\"用户通知\",\"pop\":\"if(\\\"tc_notices_approve\\\"===view.getId()){\\n  store_notice.load();\\n tb_search.show();\\n  searchText.show();\\n   tb_close.hide();\\n}\",\"push\":\"//  tb_search.show();\\n//   searchText.show();\\n//    tb_close.hide();\",\"children\":[{\"xwlMeta\":\"tlist\",\"store\":\"store_notice\",\"id\":\"tlist_notice\",\"itemTpl\":\"<div><img class=\\\"wb_icon\\\" src=\\\"webbuilder/images/item.gif\\\">{MSG_TITLE}<\\/div>\",\"itemtap\":\"Wd.selRecord=record;\\n\\ntnav_notice.push(_tc_notices_approve);\"}]}]}]}","查看通知",null,0,0,"23XQ4UO678F0","2015-09-02 14:01:49.0","23XQ4UO678F0","2015-09-25 15:30:30.0",1],["23XWJNOTYW2U","23XWICDQ0SFX",null,"find notices Subs",null,0,0,"23XQ4UO678F0","2015-09-02 16:34:16.0","23XQ4UO678F0","2015-09-02 16:34:16.0",2],["23XWJNOTYW2V","23XWJNOTYW2U","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"queryNotices\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select xn.NOTICE_ID MSG_ID,\\n       xn.NOTICE_TITLE MSG_TITLE,\\n       xn.NOTICE_CONTENT MSG_CONTENT,\\n       xn.FORM_URL MSG_URL,\\n       xn.SRC_ID,\\n       xn.SRC_CAT,\\n       xun.USER_NOTICE_ID USERNOTICEID,\\n       xun.USER_ID,\\n       xun.STATUS MSG_STATUS,\\n       xu.USER_NAME,\\n       xe.EMP_CODE,\\n       xe.EMP_NAME,\\n       xn.created_by CREATED_BY,\\n       xn.creation_date CREATION_DATE\\n  from xip_pub_notices      xn,\\n       xip_pub_user_notices xun,\\n       xip_pub_users        xu,\\n       xip_pub_emps         xe\\n where xn.NOTICE_ID = xun.NOTICE_ID\\n   and xun.USER_ID = xu.USER_ID\\n   and xu.EMP_ID = xe.EMP_ID\\n   and xun.STATUS = 'open'\\n   and xu.USER_ID = {?XIP.userId?}\\n   and xn.NOTICE_TITLE like '%{#searchText#}%'\\norder by xn.creation_date desc\"}]}","queryNotices",null,0,0,"23XQ4UO678F0","2015-09-02 16:35:15.0","23XQ4UO678F0","2015-09-09 14:30:57.0",1],["23XXPDESPQTG","23XUYE2ZPBYB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"taskQuery\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dp_comment\",\"sql\":\"SELECT t.USER_COMMENT AS \\\"NAME\\\" FROM xip_wf_user_comment t  WHERE t.USER_ID={?userId?}\"}]}","queryComment",null,0,0,"23XQ4B4KHDBQ","2015-09-06 10:37:39.0","23XQ4B4KHDBQ","2015-09-06 10:45:36.0",2],["23XXPTBA8OX9","23XWJNOTYW2U","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"queryList\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select xn.NOTICE_ID MSG_ID,\\n       xn.NOTICE_TITLE MSG_TITLE,\\n       xn.NOTICE_CONTENT MSG_CONTENT,\\n       xn.FORM_URL MSG_URL,\\n       xn.SRC_ID,\\n       xn.SRC_CAT,\\n       xun.USER_NOTICE_ID,\\n       xun.USER_ID,\\n       xun.STATUS MSG_STATUS,\\n       xu.USER_NAME,\\n       xe.EMP_CODE,\\n       xe.EMP_NAME,\\n       xn.created_by CREATED_BY,\\n       xn.creation_date CREATION_DATE\\n  from xip_pub_notices      xn,\\n       xip_pub_user_notices xun,\\n       xip_pub_users        xu,\\n       xip_pub_emps         xe\\n where xn.NOTICE_ID = xun.NOTICE_ID\\n   and xun.USER_ID = xu.USER_ID\\n   and xu.EMP_ID = xe.EMP_ID\\n   and xun.STATUS = 'open'\\n   and xu.USER_ID = {?XIP.userId?}\\n   and xn.NOTICE_ID={?MSG_ID?} \\norder by xn.creation_date desc\"}]}","queryList",null,0,0,"23XQ4UO678F0","2015-09-06 13:58:36.0","23XQ4UO678F0","2015-09-06 14:00:55.0",2],["23XXPTBA8PQF","23XUYE2ZPBYB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"taskQuery\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"createComment\",\"sql\":\"insert into xip_wf_user_comment(\\n  USER_ID,\\n  USER_COMMENT,\\n  CREATION_DATE,\\n  CREATED_BY,\\n  LAST_UPDATE_DATE,\\n  LAST_UPDATED_BY) values(\\n  {?taskUserId?},\\n  {?fastComment?},\\n  {?timestamp.sys.date?},  \\n  {?taskUserId?},\\n  {?timestamp.sys.date?},\\n  {?taskUserId?}\\n  )\"}]}","createComment",null,0,0,"23XQ4B4KHDBQ","2015-09-06 14:44:16.0","23XQ4B4KHDBQ","2015-09-06 14:49:00.0",3],["23XXSNP9MLAL","23XUNJ48YELA",null,"DATA",null,0,0,"23XQ4UO678F8","2015-09-07 16:30:08.0","23XQ4UO678F8","2015-09-07 16:30:08.0",2],["23XXSNP9MLAM","23XXSNP9MLAL","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Close User Notice\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"update xip_pub_user_notices t \\nset t.status = 'closed'\\nwhere t.USER_ID = {?XIP.userId?} \\n  and t.NOTICE_ID = {?id?} \"}]}","Close User Notice",null,0,0,"23XQ4UO678F8","2015-09-07 16:30:22.0","23XQ4UO678F8","2015-09-07 16:48:33.0",1],["23XYEMHAE7AE","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"select_depCombox\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#query#}%\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select t.* from XIP_PUB_DEPTS t where t.ORG_ID = {?ORG_ID?} \"}]}","SelectdeptCombox_user",null,0,0,"23XQ4UO678F5","2015-09-09 11:23:57.0","23XQ4UO678F5","2015-09-09 11:24:32.0",11],["23XYEMHAE7KB","23W4UO78MN1O",null,"data",null,0,0,"23XQ4B4KHDBQ","2015-09-09 12:09:19.0","23XQ4B4KHDBQ","2015-09-09 12:09:19.0",2],["23XYEMHAE9ZA","23XYEMHAE7KB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"taskQuery\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dp_comment\",\"sql\":\"  SELECT tsk.act_name PERIOD_NAME,\\n         (SELECT b.emp_name FROM xip_pub_users a, xip_pub_emps b WHERE a.emp_id = b.emp_id AND a.user_id = tsk.execute_user) EXECUTOR_NAME,\\n         tsk.begin_date BEGIN_DATE,\\n         tsk.end_date END_DATE,\\n         CASE  WHEN tsk.result IS  NULL THEN '提交' ELSE  tsk.result END AS \\\"RESULT\\\",\\n         CASE  WHEN tsk.approve_comment IS NULL THEN '提交' ELSE tsk.approve_comment END AS \\\"APPROVE_COMMNET\\\"\\n     FROM xip_wf_ins_task tsk\\n     WHERE tsk.instance_code = {?insCode?}\\n     ORDER BY tsk.begin_date DESC,tsk.end_date DESC\"}]}","queryHistory",null,0,0,"23XQ4B4KHDBQ","2015-09-09 13:40:26.0","23XQ4B4KHDBQ","2015-09-09 16:23:29.0",1],["23XYEMHAEAWQ","23XWJNOTYW2U","{\"id\":\"module\",\"title\":\"Close Notice\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_pub_user_notices t\\n   set t.status = 'closed'\\n where t.user_notice_id = {?userNoticeId?}\",\"xwlMeta\":\"query\"}]}","Close Notice","",0,0,"23XQ4UO678F0","2015-09-09 14:07:14.0","23XQ4UO678F0","2015-09-09 14:07:14.0",3],["23XYEMHAEEOX","23XOJ8S7DHML","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"test\",\"loginRequired\":\"false\",\"finalize\":\"function rendererZhMoney(v) {  \\n    if(isNaN(v)){  \\n        return v;  \\n    }  \\n    v = (Math.round((v - 0) * 100)) / 100;  \\n    v = (v == Math.floor(v)) ? v + \\\".00\\\" : ((v * 10 == Math.floor(v * 10)) ? v  \\n            + \\\"0\\\" : v);  \\n    v = String(v);  \\n    var ps = v.split('.');  \\n    var whole = ps[0];  \\n    var sub = ps[1] ? '.' + ps[1] : '.00';  \\n    var r = /(\\\\d+)(\\\\d{3})/;  \\n    while (r.test(whole)) {  \\n        whole = whole.replace(r, '$1' + ',' + '$2');  \\n    }  \\n    v = whole + sub;  \\n      \\n    return v;  \\n}\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"autoShow\":\"true\",\"height\":\"500\",\"width\":\"500\",\"children\":[{\"xwlMeta\":\"window\",\"constrain\":\"false\",\"closeAction\":\"hide\",\"id\":\"window2\",\"height\":\"260\",\"width\":\"380\"},{\"xwlMeta\":\"number\",\"id\":\"number1\",\"tagProperties\":\"validateOnChange:false,\\nsetValue: function(v){  \\n        v = typeof v == 'number' ? v : String(v).replace(this.decimalSeparator, \\\".\\\").replace(/,/g, \\\"\\\");  \\n         v = isNaN(v) ? '' : rendererZhMoney(v);  \\n          \\n        //Ext.util.Format.number(this.fixPrecision(String(v)), \\\"0,000,000.00\\\");此为ext 4.0   \\n            this.setRawValue(v);  \\n        return Ext.form.NumberField.superclass.setValue.call(this, v);  \\n    }, \\n    validateValue: function(value){  \\n        if (!Ext.form.NumberField.superclass.validateValue.call(this, value)) {  \\n            return false;  \\n        }  \\n        if (value.length < 1) { // if it's blank and textfield didn't flag it then it's valid  \\n            return true;  \\n        }  \\n        value = String(value).replace(this.decimalSeparator, \\\".\\\").replace(/,/g, \\\"\\\");  \\n        if (isNaN(value)) {  \\n            this.markInvalid(String.format(this.nanText, value));  \\n            return false;  \\n        }  \\n        var num = this.parseValue(value);  \\n        if (num < this.minValue) {  \\n            this.markInvalid(String.format(this.minText, this.minValue));  \\n            return false;  \\n        }  \\n        if (num > this.maxValue) {  \\n            this.markInvalid(String.format(this.maxText, this.maxValue));  \\n            return false;  \\n        }  \\n        return true;  \\n    },  \\n    parseValue: function(value){  \\n        value = parseFloat(String(value).replace(this.decimalSeparator, \\\".\\\").replace(/,/g, \\\"\\\"));  \\n        return isNaN(value) ? '' : value;  \\n    }\",\"decimalPrecision\":\"3\",\"blur\":\"//alert(Ext.util.Format.number(this.getValue(), '0,000.00'));\\nthis.setRawValue(Ext.util.Format.number(this.getValue(), '0,000.00'));\"},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"text\":\"button1\",\"click\":\"alert(number1.getValue());\"},{\"xwlMeta\":\"datetime\",\"id\":\"datetime1\"},{\"xwlMeta\":\"time\",\"id\":\"time1\"},{\"xwlMeta\":\"button\",\"id\":\"button2\",\"text\":\"button2\",\"click\":\"var taskUrl = \\\"http://www.baidu.com?tid=1\\\";\\n\\nwindow3.html = '<iframe name=\\\"taskListIframe\\\",style=\\\"border-top-width: 0px; border-left-width: 0px; border-bottom-width: 0px; width: 100%; height: 100%; border-right-width: 0px\\\" src=\\\"'+taskUrl+'\\\" frameborder=\\\"0\\\" width=\\\"100%\\\" scrolling=\\\"no\\\" height=\\\"100%\\\"><\\/iframe>';\\n\\nwindow3.show();\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window3\",\"height\":\"260\",\"width\":\"380\"}]}","test",null,0,0,"23XQ4B4KHDBR","2015-09-09 17:06:38.0","23XQ4B4KHDBR","2015-10-22 14:03:54.0",4],["23XYEMHAEGYN","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getOrgs_query\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select t.ORG_ID, t.ORG_NAME \\n  from XIP_PUB_ORGS t \\n where t.ENABLE_FLAG = 'Y'\"}]}","getOrgs_query",null,0,0,"23XQ4B4KHDBR","2015-09-10 10:46:17.0","23XQ4B4KHDBR","2015-09-11 09:24:46.0",20],["23XYEMHAEHAR","23X7D36B72F9","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getDepts_query\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select DEPT_ID, DEPT_NAME \\n  from xip_pub_depts \\n where ORG_ID = {?org_id?}\"}]}","getDepts_query",null,0,0,"23XQ4B4KHDBR","2015-09-10 11:13:26.0","23XQ4B4KHDBR","2015-09-11 09:24:52.0",21],["23XZBINAR0CL","23W21HIY5GQF","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getAttrCatById\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select t.ATT_CAT_ID,\\n       t.CAT_CODE,\\n       t.CAT_NAME,\\n       t.DESCRIPTION,\\n       s.ORG_ID\\n  from xip_pub_att_cat t,\\n       xip_pub_att_cat_sec s\\n where t.ATT_CAT_ID = s.ATT_CAT_ID  \\n   and s.ATT_SERVER_ID = {?ATT_SERVER_ID?}\"}]}","getAttrCatById",null,0,0,"23XQ4B4KHDBR","2015-09-15 15:22:31.0","23XQ4B4KHDBR","2015-09-16 10:37:51.0",8],["23XZBINAVBD6","23VKVPUL8420","{\"id\":\"db_select_task\",\"title\":\"db_select_task\",\"xwlMeta\":\"module\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select tsk.task_id TASKID,\\n       tsk.task_title TASKTITLE,\\n       tsk.attribute1 ATTRIBUTE1,\\n       tsk.task_state TASKSTATE,\\n       tsk.act_name ACTNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.from_user) FROMUSERNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.assign_user) ASSIGNUSERNAME,\\n       (select b.emp_name\\n          from xip_pub_users a, xip_pub_emps b\\n         where a.emp_id = b.emp_id\\n           and a.user_id = tsk.execute_user) EXECUTEUSERNAME,\\n       pi.business_id BUSINESSID,\\n       pi.business_code BUSINESSCODE,\\n       pi.business_name BUSINESSNAME,\\n       e.entity_name ENTITYNAME,\\n       tsk.begin_date BEGINDATE,\\n       pi.instance_id INSTANCEID,\\n       pi.instance_code INSTANCECODE\\n  from xip_wf_ins_task tsk, xip_wf_process_instance pi, xip_wf_entities e\\n where tsk.instance_id = pi.instance_id\\n   and pi.entity_id = e.entity_id\\n   and (tsk.assign_user = {?XIP.userId?} or tsk.execute_user = {?XIP.userId?} )\\n   and tsk.task_state in ('open', 'hung-up')\\n   and e.entity_name like '%{#bizName#}%'\\n   and tsk.act_name like '%{#activityName#}%'  \\n   and tsk.task_title like '%{#title#}%'\\n order by tsk.begin_date desc\",\"xwlMeta\":\"dataProvider\"}],\"loginRequired\":\"false\"}","Select TaskList noPage",null,0,0,"23XQ4UO678F5","2015-09-15 22:37:33.0","23XQ4UO678F5","2015-09-15 22:37:54.0",14],["23XZBINAVBS3","23VKVPUL8420","{\"id\":\"module\",\"title\":\"Select Notices\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"dataProvider1\",\"sql\":\"select xn.NOTICE_ID MSG_ID,\\n       xn.NOTICE_TITLE MSG_TITLE,\\n       xn.NOTICE_CONTENT MSG_CONTENT,\\n       xn.FORM_URL MSG_URL,\\n       xn.SRC_ID,\\n       xn.SRC_CAT,\\n       xun.USER_NOTICE_ID,\\n       xun.USER_ID,\\n       xun.STATUS MSG_STATUS,\\n       xu.USER_NAME,\\n       xe.EMP_CODE,\\n       xe.EMP_NAME,\\n       xn.created_by CREATED_BY,\\n       xn.creation_date CREATION_DATE\\n  from xip_pub_notices      xn,\\n       xip_pub_user_notices xun,\\n       xip_pub_users        xu,\\n       xip_pub_emps         xe\\n where xn.NOTICE_ID = xun.NOTICE_ID\\n   and xun.USER_ID = xu.USER_ID\\n   and xu.EMP_ID = xe.EMP_ID\\n   and xun.STATUS = 'open'\\n   and xu.USER_ID = {?XIP.userId?}\\n   and xn.NOTICE_TITLE like '%{#txtMsgTitle#}%'\\norder by xn.creation_date desc\",\"xwlMeta\":\"dataProvider\"}]}","Select Notices noPage",null,0,0,"23XQ4UO678F5","2015-09-15 22:38:03.0","23XQ4UO678F5","2015-09-15 22:38:12.0",13],["23Y154KT8INV","23W0CDJH1JO3",null,"通知详细页面",null,0,0,"23XQ4UO678F0","2015-09-18 15:23:23.0","23XQ4UO678F0","2015-09-18 15:23:23.0",22],["23Y154KT8INY","23Y154KT8INV","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\",\\\"#23W4UO78MN1S (pub)\\\"]\",\"id\":\"module\",\"title\":\"通知详细页面\",\"jsFiles\":\"[\\\"pub/uip/common/scripts/md5.js\\\"]\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\\nvar noticeId = request.getParameter(\\\"NOTICE_ID\\\");\\nrequest.setAttribute(\\\"noticeId\\\",noticeId);\",\"head\":\"<style type=\\\"text/css\\\">    \\n.menuItem {\\n\\tdisplay: inline-block;\\n\\twidth: 33% !important;\\n    max-height:87px !important;\\n    min-height:87px !important;\\n}\\n.xzMenuTitle{ text-align:center; font-size:14px; min-height:15px; max-height:15px; overflow:hidden;}\\n<\\/style>\\n\",\"touchMode\":\"true\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store_notice\",\"url\":\"#23Y154KT8JNY (querySingleNotices)\",\"load\":\"\\n  var selRecord =records[0];\\nMSG_TITLE.setValue(selRecord.data.MSG_TITLE);\\nMSG_CONTENT.setHtml(selRecord.data.MSG_CONTENT);\\nCREATION_DATE.setValue(selRecord.data.CREATION_DATE);\\nUSERNOTICEID.setValue(selRecord.data.USERNOTICEID);\\ncreate_approve_btns(tnav_notice,tc_buttons,selRecord.data.USERNOTICEID);\\n\"}]},{\"xwlMeta\":\"folder\",\"id\":\"req\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#23Y3K0MFH8BA (Close Notice)\",\"id\":\"closeNotice\",\"failure\":\"Ext.Msg.alert(\\\"提示\\\",\\\"通知关闭失败!\\\") ;\",\"success\":\"Ext.Msg.alert(\\\"提示\\\",\\\"通知关闭成功!\\\") ;\\n\"}]},{\"xwlMeta\":\"array\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"tbutton\",\"text\":\"关闭\",\"align\":\"right\",\"id\":\"tb_close\",\"tap\":\"\\nvar _userNoticeId=USERNOTICEID.getValue();\\n\\nvar json = {'userNoticeId':_userNoticeId};\\ncloseNotice.request(json);\"}]},{\"xwlMeta\":\"tviewport\",\"id\":\"tvi_home\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tnaviview\",\"navigationBar\":\"{items:buttons}\",\"id\":\"tnav_notice\",\"title\":\"用户通知详情\",\"children\":[{\"xwlMeta\":\"tcontainer\",\"autoCreate\":\"false\",\"id\":\"tc_notices_approve\",\"layout\":\"fit\",\"activate\":\"var _noticeId = '{#noticeId#}';\\nstore_notice.load({params:{noticeId:_noticeId}});\",\"children\":[{\"xwlMeta\":\"tform\",\"id\":\"tf_notices\",\"children\":[{\"xwlMeta\":\"tfieldSet\",\"id\":\"tfs_notices_dtl\",\"children\":[{\"xwlMeta\":\"ttext\",\"label\":\"关闭id\",\"id\":\"USERNOTICEID\",\"hidden\":\"true\"},{\"xwlMeta\":\"tlabel\",\"id\":\"tlabel1\",\"html\":\"<br>\"},{\"xwlMeta\":\"tcontainer\",\"id\":\"MSG_CONTENT\",\"title\":\"正文\",\"children\":[{\"xwlMeta\":\"ttextArea\",\"id\":\"MSG_TITLE\",\"label\":\"标题\",\"readOnly\":\"true\"}]},{\"xwlMeta\":\"tlabel\",\"id\":\"tlabel2\",\"html\":\"<br>\"},{\"xwlMeta\":\"tdate\",\"id\":\"CREATION_DATE\",\"label\":\"创建时间\",\"readOnly\":\"true\"},{\"xwlMeta\":\"tcontainer\",\"id\":\"tc_buttons\",\"defaults\":\"{\\nstyle:'margin: .5em',\\nflex:1\\n}\"}]}]}]}]}]}]}","通知详细页面",null,0,0,"23XQ4UO678F0","2015-09-18 15:23:40.0","23XQ4UO678F0","2015-10-15 16:25:35.0",1],["23Y154KT8JNW","23Y154KT8INV",null,"find notices Subs","",0,0,"23XQ4UO678F0","2015-09-21 09:45:06.0","23XQ4UO678F0","2015-09-21 09:45:06.0",2],["23Y154KT8JNY","23Y154KT8JNW","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"querySingleNotices\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select xn.NOTICE_ID MSG_ID,\\n       xn.NOTICE_TITLE MSG_TITLE,\\n       xn.NOTICE_CONTENT MSG_CONTENT,\\n       xn.FORM_URL MSG_URL,\\n       xn.SRC_ID,\\n       xn.SRC_CAT,\\n       xun.USER_NOTICE_ID USERNOTICEID,\\n       xun.USER_ID,\\n       xun.STATUS MSG_STATUS,\\n       xu.USER_NAME,\\n       xe.EMP_CODE,\\n       xe.EMP_NAME,\\n       xn.created_by CREATED_BY,\\n       xn.creation_date CREATION_DATE\\n  from xip_pub_notices      xn,\\n       xip_pub_user_notices xun,\\n       xip_pub_users        xu,\\n       xip_pub_emps         xe\\n where xn.NOTICE_ID = xun.NOTICE_ID\\n   and  xun.NOTICE_ID ={?noticeId?}\\n   and xun.USER_ID = xu.USER_ID\\n   and xu.EMP_ID = xe.EMP_ID\\n   and xun.STATUS = 'open'\\n   and xu.USER_ID = {?XIP.userId?}\\n   \\n\\n    \"}]}","querySingleNotices",null,0,0,"23XQ4UO678F0","2015-09-21 09:45:06.0","23XQ4UO678F0","2015-09-25 16:09:31.0",1],["23Y2ZZW5IGFM","23XUYE2ZPBYB","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"taskQuery\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"jsonObject\",\"id\":\"queryHistory\",\"sql\":\"SELECT INSTANCE_CODE FROM xip_wf_ins_task  WHERE  TASK_ID={?task_id?}\"}]}","queryHistory",null,0,0,"23XQ4B4KHDBQ","2015-09-24 10:15:28.0","23XQ4B4KHDBQ","2015-09-24 10:25:35.0",4],["23Y3K0MFH8BA","23Y154KT8JNW","{\"id\":\"module\",\"title\":\"Close Notice\",\"xwlMeta\":\"module\",\"loginRequired\":\"false\",\"children\":[{\"id\":\"query1\",\"sql\":\"update xip_pub_user_notices t\\n   set t.status = 'closed'\\n where t.user_notice_id = {?userNoticeId?}\",\"xwlMeta\":\"query\"}]}","Close Notice","",0,0,"23XQ4UO678F0","2015-09-25 16:55:18.0","23XQ4UO678F0","2015-09-25 16:55:18.0",2],["23Y3K0MFHF0Y","23VVZ3QMOKQA",null,"平台数据建模",null,0,0,"admin","2015-10-14 14:11:19.0","admin","2015-10-14 14:11:19.0",55],["23Y3K0MFHF17","23Y3K0MFHF0Y","{\"xwlMeta\":\"module\",\"initModules\":\"[\\\"#23X03SSA2KSV (平台公用JS)\\\"]\",\"id\":\"module\",\"title\":\"平台数据建模\",\"loginRequired\":\"false\",\"initScript\":\"var ctxPath = request.getContextPath() ;\\nrequest.setAttribute(\\\"contextPath\\\",ctxPath);\",\"finalize\":\"var editColIndex = 0;\\nvar editInIndex = 0;\\nvar editConIndex = 0;\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"request\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"{#contextPath#}/xipDataBaseManageAction.do?method=InStoreDbObejctsToXip\",\"id\":\"convertAjax\",\"failure\":\"Wb.error('逆向生成表失败！');\\ndbConvertWin.close();\",\"success\":\"var tmpText = Ext.decode(response.responseText);\\nWb.message(tmpText.msg);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23YBHGWTCN5E (saveTableObj)\",\"id\":\"saveTableAjax\",\"failure\":\"Wb.warning('保存失败!');\",\"success\":\"operateFlag.setValue('edit');\\nsetReadonly('belongApp',true);\\nsetReadonly('tableName',true);\\nobjectWindow.setTitle('编辑对象');\\n/**----------------columnGrid synchronize-----------------**/\\ncolumnGrid.plugins[0].completeEdit();\\ncolumnGridStore.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n  });\\n/**----------------indexGrid synchronize-----------------**/\\nindexGrid.plugins[0].completeEdit();\\nindexGridStore.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n  });\\n/**----------------indexGrid synchronize-----------------**/\\nrefrenceGrid.plugins[0].completeEdit();\\nrefGridStore.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n  });\\nWb.message('保存表信息成功！');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23YD12B6A5M0 (updateTableObj)\",\"id\":\"updateTableAjax\",\"failure\":\"Wb.warning('保存失败!');\",\"success\":\"/**----------------columnGrid synchronize-----------------**/\\ncolumnGrid.plugins[0].completeEdit();\\ncolumnGridStore.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n  });\\n/**----------------indexGrid synchronize-----------------**/\\nindexGrid.plugins[0].completeEdit();\\nindexGridStore.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n  });\\n/**----------------indexGrid synchronize-----------------**/\\nrefrenceGrid.plugins[0].completeEdit();\\nrefGridStore.sync(\\n  {\\n    callback :function(){\\n      Wb.unmask();\\n    }\\n  });\\nWb.message('保存表信息成功！');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#23YD12B6A5U3 (delTableObj)\",\"id\":\"delTableAjax\",\"failure\":\"Wb.error('删除失败！');\\n\",\"success\":\"Wb.message('删除成功！');\\nWb.load(DbTableStore);\"}]},{\"xwlMeta\":\"folder\",\"id\":\"store\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"appStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23Y9PDX5UNT4 (getApps)\"},{\"xwlMeta\":\"store\",\"id\":\"appWinStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23Y9PDX5UNT4 (getApps)\"},{\"xwlMeta\":\"store\",\"id\":\"DbTableStore\",\"autoLoad\":\"false\",\"url\":\"#23YAVVQEJMPE (getDbTables)\",\"beforeload\":\"var whereSql = \\\" and a.APP_ID='\\\"+appComboBox.getValue()+\\\"'\\\";\\nif(!Ext.isEmpty(objectName.getValue())){\\n  whereSql +=\\\"  and a.TAB_NAME like '%\\\"+objectName.getValue()+\\\"%'\\\";\\n}\\nif(!Ext.isEmpty(objDesc.getValue())){\\n  whereSql +=\\\"  and a.TAB_COMMENT like '%\\\"+objectName.getValue()+\\\"%'\\\";\\n}\\nDbTableStore.getProxy().extraParams.WHERESQL = whereSql;\"},{\"xwlMeta\":\"store\",\"id\":\"dbConvertStore\",\"autoLoad\":\"false\",\"url\":\"{#contextPath#}/xipDataBaseManageAction.do?method=getAppDBObj\"},{\"xwlMeta\":\"store\",\"id\":\"columnGridStore\",\"proxy\":\"{\\ntype:\\\"ajax\\\",\\napi: {\\nread: 'main?xwl=23YBHGWTCMV3',\\nupdate: 'main?xwl=23YBHGWTCN3Y',\\ncreate: 'main?xwl=23YBHGWTCN3U',\\ndestroy: 'main?xwl=23YBHGWTCN42'\\n},\\nreader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\nlisteners:{\\nexception:function(proxy,response,operation,options){\\nWb.except(response.responseText);\\n}\\n}\\n}\",\"pageSize\":\"-1\",\"url\":\"#23YBHGWTCMV3 (getColumns)\",\"tagEvents\":\"beforesync:function(){Wb.mask();}\",\"beforeload\":\"columnGridStore.getProxy().extraParams.tableId=tableId.getValue();\"},{\"xwlMeta\":\"store\",\"id\":\"indexGridStore\",\"proxy\":\"{\\ntype:\\\"ajax\\\",\\napi: {\\nread: 'main?xwl=23YBHGWTCN7A',\\nupdate: 'main?xwl=23YBHGWTCN70',\\ncreate: 'main?xwl=23YBHGWTCN6U',\\ndestroy: 'main?xwl=23YBHGWTCN73'\\n},\\nreader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\nlisteners:{\\nexception:function(proxy,response,operation,options){\\nWb.except(response.responseText);\\n}\\n}\\n}\",\"pageSize\":\"-1\",\"url\":\"#23YBHGWTCMV3 (getColumns)\",\"tagEvents\":\"beforesync:function(){Wb.mask();}\",\"beforeload\":\"store.getProxy().extraParams.tableId=tableId.getValue();\"},{\"xwlMeta\":\"store\",\"id\":\"refGridStore\",\"proxy\":\"{\\ntype:\\\"ajax\\\",\\napi: {\\nread: 'main?xwl=23YBSMA046TC',\\nupdate: 'main?xwl=23YBSMA046T5',\\ncreate: 'main?xwl=23YBSMA046SX',\\ndestroy: 'main?xwl=23YBSMA046TM'\\n},\\nreader:{type:\\\"json\\\",root:\\\"rows\\\",totalProperty:\\\"total\\\"},\\nlisteners:{\\nexception:function(proxy,response,operation,options){\\nWb.except(response.responseText);\\n}\\n}\\n}\",\"pageSize\":\"-1\",\"url\":\"#23YBSMA046TC (fkRead)\",\"tagEvents\":\"beforesync:function(){Wb.mask();}\",\"beforeload\":\"store.getProxy().extraParams.tableId=tableId.getValue();\"},{\"xwlMeta\":\"folder\",\"id\":\"columnStore\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"isNullStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23YBHGWTCMXB (getIsNull)\"},{\"xwlMeta\":\"store\",\"id\":\"consTypeStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23YBSMA046LM (getIndexType)\",\"beforeload\":\"store.getProxy().extraParams.WHERESQL=' AND VAL_CODE LIKE  \\\\'%KEY%\\\\'';\"},{\"xwlMeta\":\"store\",\"id\":\"colTypeStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23YBHGWTCMXG (getColType)\"},{\"xwlMeta\":\"store\",\"id\":\"indexColStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23YBHGWTCMV3 (getColumns)\",\"load\":\"/**---将列页签上所添加的记录动态地append到列选择store中，供索引页签列选取使用-----**/\\nstore.add(columnGridStore.getModifiedRecords());\",\"beforeload\":\"indexColStore.getProxy().extraParams.tableId=tableId.getValue();\"},{\"xwlMeta\":\"store\",\"id\":\"indexTypeStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23YBSMA046LM (getIndexType)\",\"beforeload\":\"store.getProxy().extraParams.WHERESQL=' AND VAL_CODE LIKE \\\\'%INDEX%\\\\'';\"},{\"xwlMeta\":\"store\",\"id\":\"fkRefTableStore\",\"autoLoad\":\"true\",\"pageSize\":\"-1\",\"url\":\"#23YBSMA046SB (getFkRefTable)\",\"beforeload\":\"store.getProxy().extraParams.WHERESQL=' WHERE APP_ID=\\\\''+appComboBox.getValue()+'\\\\' AND TAB_ID !=\\\\''+tableId.getValue()+'\\\\'';\"},{\"xwlMeta\":\"store\",\"id\":\"fkRefColumnStore\",\"autoLoad\":\"false\",\"pageSize\":\"-1\",\"url\":\"#23YBSMA046SK (getFkRefColumn)\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"columnEditor\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"colEditor\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"COL_NAME_EDITOR\"},{\"xwlMeta\":\"comboBox\",\"store\":\"colTypeStore\",\"autoCreate\":\"false\",\"valueField\":\"VAL_CODE\",\"id\":\"COL_TYPE_EDITOR\",\"displayField\":\"VAL_NAME\",\"select\":\"var e=columnGrid.plugins[0];\\ne.completeEdit();\\ncolumnGridStore.getAt(editColIndex).set('COL_TYPE',comboBox.getValue());\\ncolumnGridStore.getAt(editColIndex).set('COL_TYPE_NAME',comboBox.getRawValue());\"},{\"xwlMeta\":\"number\",\"minValue\":\"0\",\"autoCreate\":\"false\",\"id\":\"COL_LENGTH_EDITOR\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"COL_COMMENT_EDITOR\"},{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"DEFAULT_VAL_EDITOR\"},{\"xwlMeta\":\"comboBox\",\"store\":\"isNullStore\",\"autoCreate\":\"false\",\"valueField\":\"VAL_CODE\",\"id\":\"IS_NULL_EDITOR\",\"displayField\":\"VAL_NAME\",\"select\":\"var e=columnGrid.plugins[0];\\ne.completeEdit();\\ncolumnGridStore.getAt(editColIndex).set('IS_NULL',comboBox.getValue());\\ncolumnGridStore.getAt(editColIndex).set('IS_NULL_NAME',comboBox.getRawValue());\"}]},{\"xwlMeta\":\"folder\",\"id\":\"indexEditor\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"INDEX_NAME_EDITOR\"},{\"xwlMeta\":\"comboBox\",\"store\":\"indexTypeStore\",\"autoCreate\":\"false\",\"valueField\":\"VAL_CODE\",\"id\":\"INDEX_TYPE_EDITOR\",\"displayField\":\"VAL_NAME\",\"select\":\"var e=indexGrid.plugins[0];\\ne.completeEdit();\\nindexGridStore.getAt(editInIndex).set('INDEX_TYPE',comboBox.getValue());\\nindexGridStore.getAt(editInIndex).set('INDEX_TYPE_NAME',comboBox.getRawValue());\"},{\"xwlMeta\":\"comboBox\",\"store\":\"indexColStore\",\"autoCreate\":\"false\",\"valueField\":\"COL_ID\",\"id\":\"INDEX_COL_EDITOR\",\"displayField\":\"COL_NAME\",\"select\":\"var e=indexGrid.plugins[0];\\ne.completeEdit();\\nindexGridStore.getAt(editInIndex).set('INDEX_COL_ID',comboBox.getValue());\\nindexGridStore.getAt(editInIndex).set('INDEX_COL_NAME',comboBox.getRawValue());\"}]},{\"xwlMeta\":\"folder\",\"id\":\"fkEditor\",\"children\":[{\"xwlMeta\":\"text\",\"autoCreate\":\"false\",\"id\":\"FK_NAME_EDITOR\"},{\"xwlMeta\":\"comboBox\",\"store\":\"fkRefTableStore\",\"autoCreate\":\"false\",\"valueField\":\"TAB_ID\",\"id\":\"FK_REF_TAB_EDITOR\",\"displayField\":\"TAB_NAME\",\"select\":\"var e=refrenceGrid.plugins[0];\\ne.completeEdit();\\nrefGridStore.getAt(editConIndex).set('REF_TAB_ID',comboBox.getValue());\\nrefGridStore.getAt(editConIndex).set('REF_TAB_NAME',comboBox.getRawValue());\\n/**----------------------------------加载关联列可编辑框------------------------------*/\\nWb.load(fkRefColumnStore,{tabId:comboBox.getValue()});\",\"change\":\"/**-----------------------------清空table列所在的编辑框-----------------------------**/\\nvar e=refrenceGrid.plugins[0];\\ne.completeEdit();\\nrefGridStore.getAt(editConIndex).set('REF_TAB_ID','');\\nrefGridStore.getAt(editConIndex).set('REF_TAB_NAME','');\\nFK_REF_COL_EDITOR.clearValue();\"},{\"xwlMeta\":\"comboBox\",\"store\":\"fkRefColumnStore\",\"autoCreate\":\"false\",\"valueField\":\"COL_NAME\",\"id\":\"FK_REF_COL_EDITOR\",\"displayField\":\"COL_NAME\",\"select\":\"var e=refrenceGrid.plugins[0];\\ne.completeEdit();\\nrefGridStore.getAt(editConIndex).set('REF_TAB_COL',comboBox.getValue());\\n\"},{\"xwlMeta\":\"comboBox\",\"store\":\"consTypeStore\",\"autoCreate\":\"false\",\"valueField\":\"VAL_CODE\",\"id\":\"CON_TYPE_EDITOR\",\"displayField\":\"VAL_NAME\",\"select\":\"var e=columnGrid.plugins[0];\\ne.completeEdit();\\ncolumnGridStore.getAt(editColIndex).set('IS_PK',comboBox.getValue());\\ncolumnGridStore.getAt(editColIndex).set('IS_PK_NAME',comboBox.getRawValue());\\n\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"objectGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"rouNumber\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"APP_NAME\",\"id\":\"APP_NAME\",\"text\":\"应用名称\",\"width\":\"240\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TABLE_NAME\",\"id\":\"TABLE_NAME\",\"text\":\"表名称\",\"width\":\"220\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TABLE_COMMENT\",\"id\":\"TABLE_COMMENT\",\"text\":\"表描述\",\"width\":\"320\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATION_DATE\",\"id\":\"CREATION_DATE\",\"text\":\"创建时间\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATED_BY_NAME\",\"id\":\"CREATED_BY_NAME\",\"text\":\"创建人\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"convertGridColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"convertRow\",\"text\":\"序号\",\"width\":\"35\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TABLE_NAME\",\"id\":\"DB_TABLE_NAME\",\"text\":\"表名称\",\"width\":\"220\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TABLE_COMMENT\",\"id\":\"DB_TABLE_COMMENT\",\"text\":\"表描述\",\"width\":\"320\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATE_TIME\",\"id\":\"DB_CREATION_DATE\",\"text\":\"创建时间\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATED_BY\",\"id\":\"DB_CREATED_BY\",\"text\":\"创建人\",\"flex\":\"1\"}]},{\"xwlMeta\":\"array\",\"id\":\"tabColColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"colRowIndex\",\"text\":\"序号\",\"width\":\"40\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TAB_ID\",\"id\":\"TAB_ID\",\"text\":\"TAB_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COL_ID\",\"id\":\"COL_ID\",\"text\":\"COL_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COL_NAME\",\"id\":\"COL_NAME\",\"text\":\"<font color='red'>*<\\/font>列名\",\"width\":\"130\",\"editor\":\"COL_NAME_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COL_TYPE\",\"id\":\"COL_TYPE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COL_TYPE_NAME\",\"id\":\"COL_TYPE_NAME\",\"text\":\"<font color='red'>*<\\/font>列类型\",\"width\":\"130\",\"editor\":\"COL_TYPE_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COL_LENGTH\",\"id\":\"COL_LENGTH\",\"text\":\"<font color='red'>*<\\/font>列长度\",\"width\":\"100\",\"editor\":\"COL_LENGTH_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"COL_COMMENT\",\"id\":\"COL_COMMENT\",\"text\":\"<font color='red'>*<\\/font>列描述\",\"width\":\"220\",\"editor\":\"COL_COMMENT_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"DEFAULT_VAL\",\"id\":\"DEFAULT_VAL\",\"text\":\"默认值\",\"width\":\"150\",\"editor\":\"DEFAULT_VAL_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"IS_NULL\",\"id\":\"IS_NULL\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"IS_NULL_NAME\",\"id\":\"IS_NULL_NAME\",\"text\":\"是否可空\",\"width\":\"150\",\"editor\":\"IS_NULL_EDITOR\"}]},{\"xwlMeta\":\"array\",\"id\":\"tabIndexColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"indexRowIndex\",\"text\":\"序号\",\"width\":\"40\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INDEX_TYPE\",\"id\":\"INDEX_TYPE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INDEX_NAME\",\"id\":\"INDEX_NAME\",\"text\":\"<font color='red'>*<\\/font>索引名称\",\"width\":\"220\",\"editor\":\"INDEX_NAME_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INDEX_TYPE_NAME\",\"id\":\"INDEX_TYPE_NAME\",\"text\":\"<font color='red'>*<\\/font>索引类型\",\"width\":\"160\",\"editor\":\"INDEX_TYPE_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CONS_ID\",\"id\":\"INDEX_COL_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"INDEX_COL_NAME\",\"id\":\"INDEX_COL_NAME\",\"text\":\"<font color='red'>*<\\/font>索引列\",\"width\":\"120\",\"flex\":\"1\",\"editor\":\"INDEX_COL_EDITOR\"}]},{\"xwlMeta\":\"array\",\"id\":\"tabConstrainColumns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"conRowIndex\",\"text\":\"序号\",\"width\":\"40\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CONS_ID\",\"id\":\"CONS_ID\",\"text\":\"主键\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CONS_NAME\",\"id\":\"CONS_NAME\",\"text\":\"<font color='red'>*<\\/font>约束名称\",\"width\":\"220\",\"editor\":\"FK_NAME_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"REF_TAB_ID\",\"id\":\"REF_TAB_ID\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"REF_TAB_NAME\",\"id\":\"REF_TAB_NAME\",\"text\":\"<font color='red'>*<\\/font>关联表名\",\"width\":\"220\",\"editor\":\"FK_REF_TAB_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"REF_TAB_COL\",\"id\":\"REF_TAB_COL\",\"text\":\"<font color='red'>*<\\/font>关联列名\",\"flex\":\"1\",\"editor\":\"FK_REF_COL_EDITOR\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CONS_TYPE\",\"id\":\"CONS_TYPE\",\"hidden\":\"true\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CONS_TYPE_NAME\",\"id\":\"CONS_TYPE_NAME\",\"text\":\"是否可空\",\"width\":\"150\",\"editor\":\"CONS_TYPE_EDITOR\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"array\",\"id\":\"convertWinBtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"convertBtn\",\"text\":\"确定\",\"click\":\"//将选中的表存储到平台对象管理中\\nvar sm = convertGrid.getSelectionModel();\\nif(!sm.hasSelection()){\\n  Wb.warning('请选择要操作的记录！');\\n}else{\\n  var rows = sm.getSelection();\\n  var tableArry = [];\\n  Ext.each(rows,function(obj){\\n    tableArry.push(obj.get('TABLE_NAME'));\\n  });\\n  if(tableArry.length>0){\\n    convertAjax.params.dbObjects = tableArry;\\n    var appId = appComboBox.getValue();\\n    convertAjax.params.appId = appId;\\n    convertAjax.request(); \\n  }\\n}\\n\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"convertCancelBtn\",\"text\":\"取消\",\"click\":\"dbConvertWin.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"objWindBtn\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"objSaveBtn\",\"text\":\"保存\",\"click\":\"if(!objectForm.getForm().isValid()){\\n  Wb.warning('请填写所有的必填项！');\\n}else{\\n  var _tableId = tableId.getValue();\\n  var _appId = belongApp.getValue();\\n  var _tableName = tableName.getValue();\\n  var _tableDesc = tableDesc.getValue();\\n  var json = {\\n    'TAB_ID':_tableId,\\n    'APP_ID':_appId,\\n    'TAB_NAME':_tableName,\\n    'TAB_COMMENT':_tableDesc\\n  };\\n  /**------------------------ column index and constrain duplicate check---------------------**/\\n  /**-------------------------------necessary options check----------------------------------**/\\n  var _columnArray = [];\\n  var _indexArray = [];\\n  var _constrainArray = [];\\n  var _columnMust = true;\\n  var _indexMust = true;\\n  var _constrainMust = true;\\n  columnGridStore.each(function(colItem){\\n    if(Ext.isEmpty(colItem.get('COL_ID')) || Ext.isEmpty(colItem.get('COL_NAME')) || Ext.isEmpty(colItem.get('COL_TYPE')) || Ext.isEmpty(colItem.get('COL_LENGTH')) || Ext.isEmpty(colItem.get('COL_COMMENT'))){\\n        _columnMust = false;\\n        return ;\\n    }\\n    _columnArray.push(colItem.get('COL_NAME'));\\n  });\\n  if(!_columnMust){\\n      Wb.warning('请填写列页签中所有的必填项！');\\n      return ;\\n  }\\n  indexGridStore.each(function(indexItem){\\n    if(Ext.isEmpty(indexItem.get(INDEX_TYPE)) || Ext.isEmpty(indexItem.get(INDEX_NAME))|| Ext.isEmpty(indexItem.get(INDEX_COL_ID))){\\n      _indexMust = false;\\n      return ;\\n    }\\n    _indexArray.push(indexItem.data.INDEX_NAME);\\n  });  \\n  if(!_indexMust){\\n     Wb.warning('请填写索引页签中所有的必填项！');\\n      return ;\\n  }\\n  refGridStore.each(function(refItem){\\n    if(Ext.isEmpty(refItem.get(CONS_NAME)) || Ext.isEmpty(refItem.get(REF_TAB_ID))|| Ext.isEmpty(refItem.get(REF_TAB_COL))){\\n      _constrainMust = false;\\n      return ;\\n    }\\n    _constrainArray.push(refItem.data.CONS_NAME);\\n  });  \\n  if(!_constrainMust){\\n     Wb.warning('请填写外键页签中所有的必填项！');\\n      return ;\\n  }  \\n  var _unColumnArray = Ext.Array.unique(_columnArray);\\n  var _unIndexArray = Ext.Array.unique(_indexArray);\\n  var _unConstrainArray = Ext.Array.unique(_constrainArray);\\n  if(_unColumnArray.length !== _columnArray.length){\\n    Wb.warning('存在重复列名，请重新输入列名！');\\n    return ;\\n  }\\n  if(_unIndexArray.length !== _indexArray.length){\\n    Wb.warning('存在重复索引名，请重新输入索引名！');\\n    return ;\\n  }\\n  if(_unConstrainArray.length !== _constrainArray.length){\\n    Wb.warning('存在重复外键名，请重新输入外键名！');\\n    return ;\\n  }\\n  /**----------------------save operation------------------**/\\n  if('add' == operateFlag.getValue()){\\n    saveTableAjax.request(json);\\n  }else{\\n    updateTableAjax.request({'TAB_ID':_tableId,'TAB_COMMENT':_tableDesc});\\n  }\\n}\\n\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"objCancelBtn\",\"text\":\"取消\",\"click\":\"objectWindow.close();\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"toolbars\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"objectGridBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addObject\",\"text\":\"新增表\",\"click\":\"var _tableId = Wb.getUuid();\\ntableId.setValue(_tableId);\\noperateFlag.setValue('add');\\nWb.load(columnGridStore);\\nobjectWindow.setTitle('新增对象');\\nobjectWindow.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"button\",\"iconCls\":\"edit_icon\",\"id\":\"editObject\",\"text\":\"修改表\",\"click\":\"var _dbSm = objectGrid.getSelectionModel();\\nvar _dbRows = _dbSm.getSelection();\\nif(_dbRows.length != 1){\\n  Wb.warning('请选择一条记录!');\\n}else{\\n  var _dbRecord = _dbRows[0];\\n  tableId.setValue(_dbRecord.get('TAB_ID'));\\n  tableName.setValue(_dbRecord.get('TABLE_NAME'));\\n  tableDesc.setValue(_dbRecord.get('TABLE_COMMENT'));\\n  belongApp.setValue(_dbRecord.get('APP_ID'));\\n  setReadonly('belongApp',true);\\n  setReadonly('tableName',true);\\n  operateFlag.setValue('edit');\\n  Wb.load(columnGridStore);\\n  Wb.load(indexGridStore);\\n  Wb.load(refGridStore);\\n  objectWindow.setTitle('编辑对象');\\n  objectWindow.show();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"deleteObject\",\"text\":\"删除表\",\"click\":\"var sm = objectGrid.getSelectionModel();\\nif(!sm.hasSelection()){\\n   Wb.warning('请选择要删除的记录!');\\n}else{\\n  Wb.confirm('确认要删除所选择的表？',function(btn){\\n        var rows = sm.getSelection();\\n        var _delTabIds = '';\\n        Ext.each(rows,function(a){\\n          _delTabIds +='\\\\''+a.get('TAB_ID')+'\\\\',';\\n        });\\n        _delTabIds = _delTabIds.substring(0,_delTabIds.length-1);\\n        delTableAjax.request({'ids':_delTabIds});\\n    \\n  });\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"button\",\"iconCls\":\"export_icon\",\"id\":\"exportObject\",\"text\":\"导出表脚本\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem7\"},{\"xwlMeta\":\"button\",\"iconCls\":\"db_icon\",\"id\":\"convertObject\",\"text\":\"逆向生成表\",\"click\":\"if(Ext.isEmpty(appComboBox.getValue())){\\n  Wb.warning('请选择要生成逆向工程的应用！');\\n  return false;\\n}\\nvar selRecord = appComboBox.findRecord('APP_ID',appComboBox.getValue());\\nif(!Ext.isEmpty(selRecord)){\\n  var appJsonObj ={\\n    'appId'  :selRecord.data.APP_ID,\\n    'appName':selRecord.data.APP_NAME,\\n    'dbUrl'  :selRecord.data.DB_URL,\\n    'isInner':selRecord.data.IN_XIP,\\n    'dbType' :selRecord.data.DB_TYPE,\\n    'dbUserName' :selRecord.data.DB_USER,\\n    'dbPassword' :selRecord.data.DB_PASSWORD\\n  };\\n  Wb.load(dbConvertStore,{'appInfo':Ext.encode(appJsonObj)});\\n  dbConvertWin.show();\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\"},{\"xwlMeta\":\"button\",\"iconCls\":\"chart_icon\",\"id\":\"differeCompare\",\"text\":\"差异化对比\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem6\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"colGridToolBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem8\"},{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addColumn\",\"text\":\"新增列\",\"click\":\"var e=columnGrid.plugins[0],index=0;\\ne.completeEdit();\\nindex = columnGridStore.getCount();\\neditColIndex = index;\\nvar _colId = Wb.getUuid();\\ncolumnGridStore.insert(index,{});\\nvar _tableIdVar = tableId.getValue();\\ncolumnGridStore.getAt(index).set('COL_ID',_colId);\\ncolumnGridStore.getAt(index).set('TAB_ID',_tableIdVar);\\ne.startEditByPosition({row:index,column:3});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem9\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"delColumn\",\"text\":\"删除列\",\"click\":\"var m=columnGrid.getSelectionModel(),s=m.getSelection(),i,j;\\nif(s.length===0)return;\\ncolumnGrid.plugins[0].completeEdit();\\ni=columnGridStore.indexOf(s[0]);\\ncolumnGridStore.remove(s);\\nj = columnGridStore.getCount() - 1;\\nif (i > j)\\n  i = j;\\nif (i > -1)\\n  m.select(i);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem10\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"indexGridToolBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem12\"},{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addIndex\",\"text\":\"新增索引\",\"click\":\"var e=indexGrid.plugins[0],iIndex=0;\\ne.completeEdit();\\niIndex = indexGridStore.getCount();\\neditInIndex = iIndex;\\nvar _iIndex = Wb.getUuid();\\nindexGridStore.insert(iIndex,{});\\nindexGridStore.getAt(iIndex).set('CONS_ID',_iIndex);\\ne.startEditByPosition({row:iIndex,column:2});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem13\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"delIndex\",\"text\":\"删除索引\",\"click\":\"var m=indexGrid.getSelectionModel(),s=m.getSelection(),i,j;\\nif(s.length===0)return;\\nindexGrid.plugins[0].completeEdit();\\ni=indexGridStore.indexOf(s[0]);\\nindexGridStore.remove(s);\\nj = indexGridStore.getCount() - 1;\\nif (i > j)\\n  i = j;\\nif (i > -1)\\n  m.select(i);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem14\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"consGridToolBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem16\"},{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"addCons\",\"text\":\"新增外键\",\"click\":\"var e=refrenceGrid.plugins[0],index=0;\\ne.completeEdit();\\nindex = refGridStore.getCount();\\neditConIndex = index;\\nvar _indexId = Wb.getUuid();\\nrefGridStore.insert(index,{});\\nvar _tableIdVar = tableId.getValue();\\nrefGridStore.getAt(index).set('CONS_ID',_indexId);\\ne.startEditByPosition({row:index,column:2});\\n\\n\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem17\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"delCons\",\"text\":\"删除外键\",\"click\":\"var m=refrenceGrid.getSelectionModel(),s=m.getSelection(),i,j;\\nif(s.length===0)return;\\nrefrenceGrid.plugins[0].completeEdit();\\ni=refGridStore.indexOf(s[0]);\\nrefGridStore.remove(s);\\nj = refGridStore.getCount() - 1;\\nif (i > j)\\n  i = j;\\nif (i > -1)\\n  m.select(i);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem18\"}]}]},{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"dbConvertWin\",\"height\":\"500\",\"layout\":\"border\",\"dialog\":\"false\",\"border\":\"false\",\"modal\":\"true\",\"width\":\"800\",\"buttons\":\"convertWinBtn\",\"buttonAlign\":\"center\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"dbConvertStore\",\"columns\":\"convertGridColumns\",\"border\":\"false\",\"pagingToolbar\":\"false\",\"region\":\"center\",\"id\":\"convertGrid\",\"multiSelect\":\"true\",\"autoLoad\":\"false\",\"selType\":\"checkboxmodel\",\"viewConfig\":\"{\\n  enableTextSelected:true\\n}\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"objectWindow\",\"title\":\"新增\",\"height\":\"600\",\"layout\":\"border\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"850\",\"buttons\":\"objWindBtn\",\"buttonAlign\":\"center\",\"beforeclose\":\"objectForm.getForm().reset();\\nsetReadonly('belongApp',false);\\nsetReadonly('tableName',false);\",\"close\":\"Wb.load(DbTableStore);\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"objectForm\",\"style\":\"border-width:0px\",\"border\":\"false\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"tableInfoSet\",\"title\":\"基本信息\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"hiddenField\",\"id\":\"operateFlag\"},{\"xwlMeta\":\"hiddenField\",\"id\":\"tableId\"},{\"xwlMeta\":\"comboBox\",\"store\":\"appWinStore\",\"valueField\":\"APP_ID\",\"allowBlank\":\"false\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"<font color='red'>*<\\/font>所属应用\",\"id\":\"belongApp\",\"displayField\":\"APP_NAME\",\"labelWidth\":\"70\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>表名称\",\"id\":\"tableName\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>表描述\",\"id\":\"tableDesc\",\"labelWidth\":\"70\",\"allowBlank\":\"false\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"fieldSet\",\"region\":\"center\",\"id\":\"tableDetailSet\",\"title\":\"明细信息\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tabPanel\",\"id\":\"detailInfoTab\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"columnInfo\",\"title\":\"列信息\",\"layout\":\"fit\",\"columnWidth\":\"1\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"columnGridStore\",\"columns\":\"tabColColumns\",\"pagingToolbar\":\"false\",\"pluginType\":\"cellediting\",\"id\":\"columnGrid\",\"tbar\":\"colGridToolBar\",\"multiSelect\":\"true\",\"selType\":\"checkboxmodel\",\"itemclick\":\"editColIndex = index;\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"indexInfo\",\"title\":\"索引信息\",\"layout\":\"fit\",\"columnWidth\":\"1\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"indexGridStore\",\"columns\":\"tabIndexColumns\",\"pagingToolbar\":\"false\",\"pluginType\":\"cellediting\",\"id\":\"indexGrid\",\"tbar\":\"indexGridToolBar\",\"multiSelect\":\"true\",\"selType\":\"checkboxmodel\",\"itemclick\":\"editInIndex = index;\"}]},{\"xwlMeta\":\"panel\",\"baseCls\":\"my-panel-no-border\",\"id\":\"refrenceInfo\",\"title\":\"约束信息\",\"layout\":\"fit\",\"columnWidth\":\"1\",\"border\":\"false\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"refGridStore\",\"columns\":\"tabConstrainColumns\",\"pagingToolbar\":\"false\",\"pluginType\":\"cellediting\",\"id\":\"refrenceGrid\",\"tbar\":\"consGridToolBar\",\"multiSelect\":\"true\",\"selType\":\"checkboxmodel\",\"itemclick\":\"editConIndex = index;\"}]}]}]}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"form\",\"region\":\"north\",\"id\":\"conditionForm\",\"height\":\"'13%'\",\"style\":\"border-width:0px\",\"layout\":\"fit\",\"border\":\"false\",\"frame\":\"true\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"fieldSet\",\"id\":\"querySet\",\"title\":\"查询条件\",\"layout\":\"column\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"appStore\",\"forceSelection\":\"true\",\"valueField\":\"APP_ID\",\"labelAlign\":\"right\",\"queryMode\":\"local\",\"fieldLabel\":\"应用\",\"id\":\"appComboBox\",\"queryLike\":\"true\",\"displayField\":\"APP_NAME\",\"labelWidth\":\"70\",\"select\":\"Wb.load(DbTableStore);\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"表名称\",\"id\":\"objectName\",\"labelWidth\":\"70\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"表描述\",\"id\":\"objDesc\",\"labelWidth\":\"70\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"button\",\"iconCls\":\"seek_icon\",\"id\":\"queryBtn\",\"text\":\"查询\",\"width\":\"70\",\"click\":\"if(Ext.isEmpty(appComboBox.getValue())){\\n  Wb.warning('请先选择应用！');\\n}else{\\n  Wb.load(DbTableStore);\\n}\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"重置\",\"width\":\"70\",\"click\":\"objectName.setValue('');\\nobjDesc.setValue('');\\nWb.load(DbTableStore);\"}]}]},{\"xwlMeta\":\"grid\",\"store\":\"DbTableStore\",\"columns\":\"objectGridColumns\",\"region\":\"center\",\"id\":\"objectGrid\",\"tbar\":\"objectGridBar\",\"autoLoad\":\"false\",\"selType\":\"checkboxmodel\"}]}]}","平台数据建模",null,0,0,"23XQ4B4KHDBQ","2015-10-14 14:12:07.0","23XQ4B4KHDBQ","2015-10-27 15:49:17.0",1],["23Y3K0MFHF1C","23Y3K0MFHF0Y",null,"DATA",null,1,0,"23XQ4B4KHDBQ","2015-10-14 14:12:27.0","23XQ4B4KHDBQ","2015-10-14 14:12:54.0",2],["23Y3K0MFHFS8","23WJJBG2TBZS","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getAttrCatByCatCode\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"type\":\"jsonObject\",\"id\":\"dataProvider1\",\"sql\":\"select FILE_SIZE_LIMIT\\n  from xip_pub_att_cat\\n where CAT_CODE = {?attCatCode?}\"}]}","getAttrCatByCatCode",null,0,0,"admin","2015-10-14 15:18:48.0","23XQ4B4KHDBR","2015-10-15 15:01:01.0",3],["23Y9PDX5UMBI","23XUEO9MKWW8","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"SelectPostCombox_user\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sql\":\"select t.POST_ID ,\\n\\tt.POST_CODE, \\n\\tt.POST_NAME,\\n\\t(select s.DEPT_NAME from XIP_PUB_DEPTS s  where s.DEPT_ID = t.DEPT_ID)  DEPT_NAME  \\n\\tfrom XIP_PUB_POSTS  t\\n\\twhere t.ENABLE_FLAG = 'Y'  \\n    {#whereSql#}\"}]}","SelectPostCombox_user",null,0,0,"23XQ4UO678F5","2015-10-16 14:12:46.0","23XQ4UO678F5","2015-10-16 14:27:11.0",13],["23Y9PDX5UNT4","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getApps\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"getApps\",\"sql\":\"select * from  xip_pub_apps \"}]}","getApps",null,0,0,"23XQ4B4KHDBQ","2015-10-16 16:52:53.0","23XQ4B4KHDBQ","2015-10-16 16:54:07.0",1],["23YAVVQEJMPE","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getDbTables\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"getDbTables\",\"sql\":\"SELECT \\n  a.APP_ID,\\n  a.TAB_ID,\\n  (SELECT \\n    APP_NAME \\n  FROM\\n    xip_pub_apps \\n  WHERE APP_ID = a.APP_ID) AS \\\"APP_NAME\\\",\\n  a.TAB_COMMENT AS \\\"TABLE_COMMENT\\\",\\n  a.TAB_NAME AS \\\"TABLE_NAME\\\",\\n  a.TAB_CREATE_DATE AS \\\"CREATION_DATE\\\",\\n  a.CREATED_BY,\\n (SELECT t.emp_name FROM  xip_pub_emps t WHERE t.emp_id = (SELECT emp_id FROM  xip_pub_users WHERE user_id = a.created_by)) as \\\"CREATED_BY_NAME\\\"\\nFROM\\n  xip_db_all_tabs a \\nWHERE 1=1 \\n  {#WHERESQL#}\"}]}","getDbTables",null,0,0,"23XQ4B4KHDBQ","2015-10-19 11:02:04.0","23XQ4B4KHDBQ","2015-10-26 14:39:32.0",2],["23YAVVQEJWK9","23WHNATTV6WH","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"selectListAll\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"attribute1\",\"value\":\"%{#form2dlyhUpper#}%\"},{\"xwlMeta\":\"sqlSwitcher\",\"oracle\":\"select * from (select x.PRIVILEGE_ID,\\n                    (select xp.USER_NAME from xip_pub_users xp where x.MASTER_USER_ID=xp.USER_ID)|| '/' ||(select X1.EMP_NAME FROM XIP_PUB_EMPS X1 WHERE X1.EMP_ID=(select X2.EMP_ID FROM XIP_PUB_USERS X2 WHERE X2.USER_ID=x.MASTER_USER_ID)) AS USER_NAME1,\\n                     (select xp.USER_NAME from xip_pub_users xp where x.PROXY_USER_ID=xp.USER_ID)|| '/' ||(select X1.EMP_NAME FROM XIP_PUB_EMPS X1 WHERE X1.EMP_ID=(select X2.EMP_ID FROM XIP_PUB_USERS X2 WHERE X2.USER_ID=x.PROXY_USER_ID)) AS USER_NAME2,\\n                      x.BEGIN_DATE,\\n                      x.END_DATE,\\n                      x.ATTRIBUTE1,\\n                      x.MASTER_USER_ID,\\n                      x.PROXY_USER_ID\\n                 from xip_wf_user_holiday x) p \\nwhere  p.USER_NAME2 like {?attribute1?} and p.MASTER_USER_ID={?XIP.userId?}\\n \",\"id\":\"sqlSwitcher1\",\"mysql\":\"select * from (select x.PRIVILEGE_ID,\\n                     concat((select xp.USER_NAME from xip_pub_users xp where x.MASTER_USER_ID=xp.USER_ID),'/',(select X1.EMP_NAME FROM XIP_PUB_EMPS X1 WHERE X1.EMP_ID=(select X2.EMP_ID FROM XIP_PUB_USERS X2 WHERE X2.USER_ID=x.MASTER_USER_ID))) USER_NAME1,\\n                     concat((select xp.USER_NAME from xip_pub_users xp where x.PROXY_USER_ID=xp.USER_ID),'/',(select X1.EMP_NAME FROM XIP_PUB_EMPS X1 WHERE X1.EMP_ID=(select X2.EMP_ID FROM XIP_PUB_USERS X2 WHERE X2.USER_ID=x.PROXY_USER_ID))) USER_NAME2,\\n                      x.BEGIN_DATE,\\n                      x.END_DATE,\\n                      x.ATTRIBUTE1,\\n                      x.MASTER_USER_ID,\\n                      x.PROXY_USER_ID\\n                 from xip_wf_user_holiday x) p \\nwhere  p.USER_NAME2 like {?attribute1?}\\n   and p.MASTER_USER_ID = {?XIP.userId?}\"},{\"xwlMeta\":\"dataProvider\",\"id\":\"dataProvider1\",\"sqlSwitcher\":\"sqlSwitcher1\"}]}","selectListAll",null,0,0,"23XQ4UO678F5","2015-10-19 17:09:55.0","23XQ4UO678F5","2015-10-23 12:57:55.0",9],["23YAVVQEJXUS","23VVZ3QMOKSV","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"InsertUser\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"addUser\",\"sql\":\"insert into xip_pub_users\\n(user_id,         \\nuser_name, \\npassword,\\nemp_id,           \\nuser_type,        \\nhave_rest_pw,     \\nstart_date,       \\nend_date,         \\nattribute1,       \\nattribute2,       \\nattribute3,       \\nattribute4,       \\nattribute5,       \\nattribute6,       \\nattribute7,       \\nattribute8,       \\nattribute9,       \\nattribute10,      \\ncreation_date,    \\ncreated_by,       \\nlast_update_date, \\nlast_updated_by,  \\nlast_update_login)\\nvalues\\n(\\n{?primaryKey?},\\nupper({?userName?}),\\n{?password?},\\n{?empId?},\\n'U',\\n'Y',\\n{?timestamp.sys.date?},\\n{?timestamp.endDate?},\\n'',\\n'',\\n'',\\n'',\\n'',\\n'',\\n'',\\n'',\\n'',\\n'',\\n{?timestamp.sys.date?},\\n{?XIP.userId?},\\n{?timestamp.sys.date?} ,\\n{?XIP.userId?},\\n{?XIP.userId?}\\n)\"}]}","InsertUser",null,0,0,"23XQ4UO678F0","2015-10-20 09:50:54.0","23XQ4UO678F0","2015-10-26 18:04:08.0",15],["23YB767SFISN","23VVZ3QMOKSV","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"updateUser\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"update xip_pub_users\\n   set \\n\\n      \\n       end_date={?timestamp.end_date?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\n where emp_id = {?empId?}\"}]}","updateUser",null,0,0,"23XQ4UO678F0","2015-10-20 14:24:17.0","23XQ4UO678F0","2015-10-23 10:01:36.0",16],["23YBHGWTCMV3","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getColumns\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"getColumns\",\"sql\":\"SELECT \\n   a.TAB_ID,\\n   a.COL_ID,\\n   a.COL_NAME,\\n   a.COL_TYPE,\\n    (SELECT VAL_NAME FROM  xip_pub_val_set_dtl WHERE VAL_SET_CODE ='DB_COLUMN_TYPE' AND VAL_CODE= a.COL_TYPE) AS \\\"COL_TYPE_NAME\\\",\\n   a.COL_LENGTH,\\n   a.COL_COMMENT,\\n   a.DEFAULT_VAL,\\n   a.IS_NULL,\\n    (SELECT VAL_NAME FROM  xip_pub_val_set_dtl WHERE VAL_SET_CODE ='YN' AND VAL_CODE= a.IS_NULL) AS \\\"IS_NULL_NAME\\\",\\n   a.IS_PK,\\n   (SELECT VAL_NAME FROM  xip_pub_val_set_dtl WHERE VAL_SET_CODE ='YN' AND VAL_CODE= a.IS_PK) AS \\\"IS_PK_NAME\\\"\\nFROM  xip_db_all_tab_cols a   \\nWHERE a.TAB_ID ={?tableId?}\"}]}","getColumns",null,0,0,"23XQ4B4KHDBQ","2015-10-21 11:35:51.0","23XQ4B4KHDBQ","2015-10-21 14:33:53.0",3],["23YBHGWTCMXB","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getIsNull\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"getIsNull\",\"sql\":\"SELECT VAL_NAME,VAL_CODE FROM  xip_pub_val_set_dtl WHERE VAL_SET_CODE ='YN'\"}]}","getIsNull",null,0,0,"23XQ4B4KHDBQ","2015-10-21 14:41:24.0","23XQ4B4KHDBQ","2015-10-21 14:42:28.0",4],["23YBHGWTCMXG","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getColType\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"getColType\",\"sql\":\"SELECT VAL_NAME,VAL_CODE \\n     FROM   xip_pub_val_set_dtl \\n     WHERE  VAL_SET_CODE ='DB_COLUMN_TYPE'  \"}]}","getColType",null,0,0,"23XQ4B4KHDBQ","2015-10-21 14:52:24.0","23XQ4B4KHDBQ","2015-10-27 15:45:04.0",5],["23YBHGWTCN3U","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"create\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\\nrequest.setAttribute('returns',result);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"columnCreate\",\"sql\":\"insert into xip_db_all_tab_cols\\n  (COL_ID,\\n   TAB_ID,\\n   COL_NAME,\\n   COL_TYPE, \\n   COL_LENGTH,\\n   COL_COMMENT,\\n   DEFAULT_VAL,\\n   IS_NULL,\\n   IS_PK,\\n   CREATION_DATE,\\n   CREATED_BY,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY,\\n   LAST_UPDATE_LOGIN\\n  )\\nvalues(\\n   {?COL_ID?},\\n   {?TAB_ID?},\\n   {?COL_NAME?},\\n   {?COL_TYPE?},\\n   {?COL_LENGTH?},\\n   {?COL_COMMENT?},\\n   {?DEFAULT_VAL?},\\n   {?IS_NULL?},\\n   {?IS_PK?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\",\"arrayName\":\"rows\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"object\":\"returns\"}]}","columnCreate",null,0,0,"23XQ4B4KHDBQ","2015-10-21 15:48:33.0","23XQ4B4KHDBQ","2015-10-21 15:55:45.0",6],["23YBHGWTCN3Y","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"columnUpdate\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"columnUpdate\",\"sql\":\"update xip_db_all_tab_cols \\nset \\n       COL_LENGTH        = {?COL_LENGTH?},\\n       COL_COMMENT       = {?COL_COMMENT?}, \\n       DEFAULT_VAL       = {?DEFAULT_VAL?},\\n       IS_NULL           ={?IS_NULL?},\\n       IS_PK             ={?IS_PK?},\\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\nwhere COL_ID = {?COL_ID?}\",\"transaction\":\"start\",\"arrayName\":\"rows\"}]}","columnUpdate",null,0,0,"23XQ4B4KHDBQ","2015-10-21 15:49:37.0","23XQ4B4KHDBQ","2015-10-21 16:00:00.0",7],["23YBHGWTCN42","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"columnDestroy\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\",\"initialize\":\"delete from WB_CUST where CUST_ID={?id?}\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"columnDestroy\",\"sql\":\"delete from xip_db_all_tab_cols where COL_ID={?COL_ID?}\",\"transaction\":\"start\",\"arrayName\":\"rows\"}]}","columnDestroy",null,0,0,"23XQ4B4KHDBQ","2015-10-21 15:49:59.0","23XQ4B4KHDBQ","2015-10-21 16:04:20.0",8],["23YBHGWTCN5E","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"saveTableObj\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkExists\",\"sql\":\"select count(*) AS \\\"CT\\\" from xip_db_all_tabs where tab_name={?TAB_NAME?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"tabNameCheck\",\"message\":\"表名已存在！\",\"name\":\"checkExists.CT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"save\",\"sql\":\"insert into xip_db_all_tabs(\\n  APP_ID,\\n  TAB_ID,\\n  TAB_NAME,\\n  TAB_CREATE_DATE,\\n  TAB_COMMENT,\\n  CREATION_DATE,\\n  CREATED_BY,\\n  LAST_UPDATE_DATE,\\n  LAST_UPDATED_BY \\n)values(\\n  {?APP_ID?},\\n  {?TAB_ID?},\\n  {?TAB_NAME?},\\n  {?timestamp.sys.date?},\\n  {?TAB_COMMENT?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?},\\n  {?timestamp.sys.date?},\\n  {?XIP.userId?}\\n)\"}]}","saveTableObj",null,0,0,"23XQ4B4KHDBQ","2015-10-21 16:26:19.0","23XQ4B4KHDBQ","2015-10-21 17:23:54.0",9],["23YBHGWTCN6U","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"indexCreate\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\\nrequest.setAttribute('returns',result);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"indexCreate\",\"sql\":\"insert into xip_db_all_tab_constraints\\n  (CONS_ID,\\n   COL_ID,\\n   CONS_TYPE,\\n   CONS_NAME,\\n   CREATION_DATE,\\n   CREATED_BY,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY,\\n   LAST_UPDATE_LOGIN\\n  )\\nvalues(\\n   {?CONS_ID?},\\n   {?COL_ID?},\\n   {?INDEX_TYPE?},\\n   {?INDEX_NAME?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\",\"arrayName\":\"rows\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"object\":\"returns\"}]}","indexCreate",null,0,0,"23XQ4B4KHDBQ","2015-10-21 17:15:29.0","23XQ4B4KHDBQ","2015-10-21 17:43:38.0",12],["23YBHGWTCN70","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"columnUpdate\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"columnUpdate\",\"sql\":\"update xip_db_all_tab_constraints \\nset \\n       CONS_TYPE        = {?INDEX_TYPE?},\\n       CONS_NAME        = {?INDEX_NAME?}, \\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\nwhere CONS_ID = {?CONS_ID?}\",\"transaction\":\"start\",\"arrayName\":\"rows\"}]}","indexUpdate",null,0,0,"23XQ4B4KHDBQ","2015-10-21 17:17:18.0","23XQ4B4KHDBQ","2015-10-21 17:44:57.0",13],["23YBHGWTCN73","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"indexDestory\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\",\"initialize\":\"delete from WB_CUST where CUST_ID={?id?}\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"indexDestory\",\"sql\":\"delete from xip_db_all_tab_constraints where CONS_ID={?CONS_ID?}\",\"transaction\":\"start\",\"arrayName\":\"rows\"}]}","indexDestroy",null,0,0,"23XQ4B4KHDBQ","2015-10-21 17:22:54.0","23XQ4B4KHDBQ","2015-10-21 17:45:22.0",14],["23YBHGWTCN7A","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"indexRead\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"indexRead\",\"sql\":\"SELECT \\n   a.CONS_ID,\\n   a.COL_ID,\\n   (SELECT COL_NAME FROM xip_db_all_tab_cols WHERE COL_ID = a.COL_ID) AS \\\"INDEX_COL_NAME\\\",\\n   a.CONS_NAME AS \\\"INDEX_NAME\\\",\\n   a.CONS_TYPE AS \\\"INDEX_TYPE\\\",\\n   (SELECT VAL_NAME FROM  xip_pub_val_set_dtl WHERE VAL_SET_CODE ='DB_CONS_TYPE' AND VAL_CODE= a.CONS_TYPE) AS \\\"INDEX_TYPE_NAME\\\"\\nFROM xip_db_all_tab_constraints a \\nWHERE  \\na.COL_ID in (\\n  select COL_ID FROM xip_db_all_tab_cols WHERE TAB_ID={?tableId?}\\n)\\n\"}]}","indexRead",null,0,0,"23XQ4B4KHDBQ","2015-10-21 17:24:23.0","23XQ4B4KHDBQ","2015-10-21 17:37:27.0",15],["23YBSM1Y582U","23XOJ8S7DHML","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"测试附件大小限制\",\"loginRequired\":\"false\",\"initScript\":\"request.setAttribute(\\\"contextPath\\\",request.getContextPath());\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"autoShow\":\"true\",\"height\":\"260\",\"width\":\"380\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"children\":[{\"xwlMeta\":\"text\",\"id\":\"text1\",\"inputType\":\"file\"}]},{\"xwlMeta\":\"button\",\"id\":\"button1\",\"text\":\"button1\",\"click\":\"form1.getForm().submit({\\n  url : \\\"{#contextPath#}\\\"+\\\"/xipAttMrgAction.do?method=upload&src_id=123&attCatCode=ALIYUN&org_id=&bus_no=123&userId=000&fileSizeLimit=\\\",\\n  method : 'POST',\\t\\t\\t\\t\\t\\t\\t\\n  success : function(from, action) {\\n    Ext.Msg.hide(null, function(){\\n      Wb.message('上传成功');\\n      impWin.hide();\\n    });\\n  },\\t\\t\\t\\t\\t\\t\\t\\n  failure : function(from, action) {\\n      Wb.message(action.result.msg);\\n  }\\t\\t\\t\\t\\t\\t\\n});\"}]}]}","测试附件大小限制",null,0,0,"23XQ4B4KHDBR","2015-10-22 09:58:20.0","23XQ4B4KHDBR","2015-10-22 10:40:06.0",5],["23YBSMA046LM","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getIndexType\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"getIndexType\",\"sql\":\"SELECT VAL_NAME,VAL_CODE FROM  xip_pub_val_set_dtl WHERE VAL_SET_CODE ='DB_CONS_TYPE'  {#WHERESQL#}\"}]}","getIndexType",null,0,0,"23XQ4B4KHDBQ","2015-10-22 09:58:42.0","23XQ4B4KHDBQ","2015-10-27 15:45:19.0",16],["23YBSMA046SB","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getFkRefTable\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"getFkRefTable\",\"sql\":\"SELECT TAB_ID,TAB_NAME  FROM  xip_db_all_tabs  {#WHERESQL#}\"}]}","getFkRefTable",null,0,0,"23XQ4B4KHDBQ","2015-10-22 10:30:57.0","23XQ4B4KHDBQ","2015-10-22 10:32:13.0",17],["23YBSMA046SK","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"getFkRefColumn\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"getFkRefColumn\",\"sql\":\"SELECT COL_ID,COL_NAME  FROM  xip_db_all_tab_cols  WHERE TAB_ID={?tabId?}\"}]}","getFkRefColumn",null,0,0,"23XQ4B4KHDBQ","2015-10-22 10:40:36.0","23XQ4B4KHDBQ","2015-10-22 10:42:48.0",18],["23YBSMA046SX","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"fkCreate\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\\nrequest.setAttribute('returns',result);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"fkCreate\",\"sql\":\"insert into xip_db_all_tab_constraints\\n  (CONS_ID,\\n   CONS_TYPE,\\n   CONS_NAME,\\n   REF_TAB_ID,\\n   REF_TAB_COL,\\n   CREATION_DATE,\\n   CREATED_BY,\\n   LAST_UPDATE_DATE,\\n   LAST_UPDATED_BY,\\n   LAST_UPDATE_LOGIN\\n  )\\nvalues(\\n   {?CONS_ID?},\\n   {?CONS_TYPE?},\\n   {?CONS_NAME?},\\n   {?REF_TAB_ID?},\\n   {?REF_TAB_COL?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?timestamp.sys.date?},\\n   {?XIP.userId?},\\n   {?XIP.userId?}\\n  )\",\"transaction\":\"start\",\"arrayName\":\"rows\"},{\"xwlMeta\":\"response\",\"id\":\"response1\",\"object\":\"returns\"}]}","fkCreate",null,0,0,"23XQ4B4KHDBQ","2015-10-22 10:58:05.0","23XQ4B4KHDBQ","2015-10-27 15:59:28.0",20],["23YBSMA046T5","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"fkUpdate\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"fkUpdate\",\"sql\":\"update xip_db_all_tab_constraints \\nset \\n       CONS_NAME        = {?CONS_NAME?}, \\n       REF_TAB_ID       = {?REF_TAB_ID?},\\n       REF_TAB_COL      = {?REF_TAB_COL?}, \\n       last_update_date  = {?timestamp.sys.date?},\\n       last_updated_by   = {?XIP.userId?},\\n       last_update_login = {?XIP.userId?}\\nwhere CONS_ID = {?CONS_ID?}\",\"transaction\":\"start\",\"arrayName\":\"rows\"}]}","fkUpdate",null,0,0,"23XQ4B4KHDBQ","2015-10-22 11:13:26.0","23XQ4B4KHDBQ","2015-10-22 11:15:48.0",21],["23YBSMA046TC","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"fkRead\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"dataProvider\",\"id\":\"fkRead\",\"sql\":\"SELECT \\n   a.CONS_ID,\\n   a.COL_ID,\\n   a.CONS_TYPE,\\n   (SELECT VAL_NAME FROM  xip_pub_val_set_dtl WHERE VAL_SET_CODE ='DB_CONS_TYPE' AND VAL_CODE= a.CONS_TYPE) AS \\\"CONS_TYPE_NAME\\\"\\n   a.CONS_NAME, \\n   a.REF_TAB_ID,\\n    (SELECT TAB_NAME FROM  xip_db_all_tabs WHERE TAB_ID = a.REF_TAB_ID) AS \\\"REF_TAB_NAME\\\",\\n   a.REF_TAB_COL\\nFROM xip_db_all_tab_constraints a \\nWHERE  \\na.COL_ID in (\\n  select COL_ID FROM xip_db_all_tab_cols WHERE TAB_ID={?tableId?}\\n)\\n\"}]}","fkRead",null,0,0,"23XQ4B4KHDBQ","2015-10-22 11:16:02.0","23XQ4B4KHDBQ","2015-10-27 15:58:26.0",19],["23YBSMA046TM","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"fkDestory\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"initScript\":\"var result=StringUtil.getUtfString(request.getInputStream());\\nif(result.startsWith('{'))\\n  result='['+result+']';\\nrequest.setAttribute('rows', result);\",\"initialize\":\"delete from WB_CUST where CUST_ID={?id?}\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"fkDestory\",\"sql\":\"delete from xip_db_all_tab_constraints where CONS_ID={?CONS_ID?}\",\"transaction\":\"start\",\"arrayName\":\"rows\"}]}","fkDestroy",null,0,0,"23XQ4B4KHDBQ","2015-10-22 11:20:16.0","23XQ4B4KHDBQ","2015-10-22 11:21:00.0",22],["23YD12B6A5M0","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"saveTableObj\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"save\",\"sql\":\"update xip_db_all_tabs \\n   set  TAB_COMMENT ={?TAB_COMMENT?},\\n        LAST_UPDATE_DATE ={?timestamp.sys.date?},  \\n        LAST_UPDATED_BY = {?XIP.userId?}\\n  where TAB_ID={?TAB_ID?}\"}]}","updateTableObj",null,0,0,"23XQ4B4KHDBQ","2015-10-26 14:15:54.0","23XQ4B4KHDBQ","2015-10-26 14:18:31.0",10],["23YD12B6A5U3","23Y3K0MFHF1C","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"delTableObj\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"checkConstrain\",\"sql\":\"select count(*) as \\\"CONS_COUNT\\\" from xip_db_all_tab_constraints where REF_TAB_ID in ({#ids#})\",\"loadData\":\"true\"},{\"xwlMeta\":\"except\",\"id\":\"except1\",\"message\":\"所要删除的表中包含外键关联，请重新选择！\",\"name\":\"checkConstrain.CONS_COUNT\",\"value\":\"0\",\"comparator\":\">\"},{\"xwlMeta\":\"query\",\"id\":\"del\",\"sql\":\"delete from  xip_db_all_tabs where TAB_ID in ({#ids#})\"}]}","delTableObj",null,0,0,"23XQ4B4KHDBQ","2015-10-26 15:03:09.0","23XQ4B4KHDBQ","2015-10-26 15:07:40.0",11],["about","13MGK6CEF9EG","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.productInfo#}\",\"initMethod\":\"com.webbuilder.interact.SysModule.checkRegister\",\"initialize\":\"window.showRegWin=function(){\\nWb.open('main?xwl=13MGVKBXHYCM',Str.productRegister,'key_icon');\\n}\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"window1\",\"autoShow\":\"true\",\"title\":\"{#Str.productInfo#}\",\"height\":\"215\",\"closable\":\"false\",\"layout\":\"border\",\"resizable\":\"false\",\"dialog\":\"false\",\"width\":\"440\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"height\":137,\"layout\":\"absolute\",\"width\":450,\"children\":[{\"xwlMeta\":\"image\",\"id\":\"wbImg\",\"height\":49,\"width\":144,\"src\":\"webbuilder/images/site/wb.gif\",\"y\":80,\"x\":280},{\"xwlMeta\":\"label\",\"text\":\"{#Var.webbuilder.title#}\",\"width\":416,\"id\":\"titleLbl\",\"height\":66,\"style\":\"text-shadow:0 -1px 1px #FFFFFF;font-size: 25px;\",\"y\":12,\"x\":8},{\"xwlMeta\":\"label\",\"text\":\"@Str.serialNo+' '+({#registered#}?'{#Var.server.serialNumber#}':Str.trialVer)\",\"width\":259,\"id\":\"serialNoLbl\",\"height\":22,\"y\":80,\"x\":8},{\"xwlMeta\":\"button\",\"id\":\"regBtn\",\"height\":22,\"text\":\"@Str.register\",\"width\":128,\"y\":107,\"x\":8,\"click\":\"Wb.open('main?xwl=register',Str.productRegister,'key_icon');\"},{\"xwlMeta\":\"button\",\"id\":\"checkBtn\",\"height\":22,\"text\":\"@Str.checkLegality\",\"width\":128,\"y\":107,\"x\":140,\"click\":\"Wb.submit('http://www.putdb.com/main?xwl=check',{sn:'{#Var.server.serialNumber#}'});\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"id\":\"panel2\",\"height\":41,\"layout\":\"absolute\",\"width\":437,\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"width\":352,\"id\":\"copyrightLbl\",\"height\":22,\"style\":\"text-shadow:0 -1px 1px #FFFFFF;\",\"html\":\"Copyright (c) By <a href='http://www.putdb.com' target='_blank'>putdb.com<\\/a>, All Rights Reserved.\",\"y\":3,\"x\":8},{\"xwlMeta\":\"label\",\"text\":\"XV: {#Var.webbuilder.version#}\",\"width\":64,\"id\":\"verLabel\",\"height\":22,\"y\":3,\"x\":368}]}]}]}","{#Str.productInfo#}","property_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2014-06-30 08:36:12.0",4],["account","13MGK6CEF9EG","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.myAccount#}\",\"initMethod\":\"com.webbuilder.interact.MngTool.getLangList\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"user\",\"sql\":\"select USER_NAME,DISPLAY_NAME,LOGIN_TIMES,EMAIL,USE_LANG,LAST_LOGIN from WB_USER where USER_ID={?sys.user?}\",\"loadData\":\"true\"},{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"headerScript\":\"Wd.loginTimesValue=Wb.formatNum({#user.LOGIN_TIMES#},'0,000');\\nWd.lastLoginDate=Wb.dateToStr(Wb.strToDate('{#user.LAST_LOGIN#}'));\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NR7OWZ0DCC (Save)\",\"id\":\"saveAjax\",\"output\":\"accountWin\"},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"user_icon\",\"id\":\"accountWin\",\"title\":\"@Str.myAccount\",\"autoShow\":\"true\",\"height\":346,\"closable\":\"false\",\"layout\":\"absolute\",\"resizable\":\"false\",\"dialog\":\"false\",\"defaultFocus\":\"dispName\",\"width\":443,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"*{#Str.username#}:\",\"width\":120,\"align\":\"right\",\"id\":\"userNameLbl\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"userName\",\"bgColor\":\"#C0C0C0\",\"height\":22,\"value\":\"{#user.USER_NAME#}\",\"allowBlank\":\"false\",\"width\":248,\"readOnly\":\"true\",\"y\":16,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.dispName#}:\",\"width\":120,\"align\":\"right\",\"id\":\"dispNameLbl\",\"height\":22,\"y\":48,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"dispName\",\"height\":22,\"value\":\"{#user.DISPLAY_NAME#}\",\"allowBlank\":\"false\",\"width\":248,\"y\":48,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.password#}:\",\"width\":120,\"align\":\"right\",\"id\":\"pwdLbl\",\"height\":22,\"y\":80,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"pwd\",\"height\":22,\"minLength\":\"6\",\"inputType\":\"password\",\"value\":\"^%%rd%%^\",\"minLengthText\":\"@Str.invalidPwdLen\",\"allowBlank\":\"false\",\"width\":248,\"y\":80,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.pwdConfirm#}:\",\"width\":120,\"align\":\"right\",\"id\":\"repwdLbl\",\"height\":22,\"y\":112,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"rePwd\",\"height\":22,\"minLength\":\"6\",\"inputType\":\"password\",\"value\":\"^%%rd%%^\",\"minLengthText\":\"@Str.invalidPwdLen\",\"allowBlank\":\"false\",\"width\":248,\"y\":112,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"{#Str.email#}:\",\"width\":120,\"align\":\"right\",\"id\":\"emailLbl\",\"height\":22,\"y\":144,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"email\",\"height\":22,\"value\":\"{#user.EMAIL#}\",\"width\":248,\"vtype\":\"email\",\"y\":144,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"{#Str.language#}:\",\"width\":120,\"align\":\"right\",\"id\":\"langLbl\",\"height\":22,\"y\":176,\"x\":0},{\"xwlMeta\":\"comboBox\",\"height\":22,\"forceList\":\"true\",\"value\":\"{#user.USE_LANG#}\",\"width\":248,\"pickList\":\"{#langList#}\",\"id\":\"language\",\"disabled\":\"{#Var.webbuilder.app.user.disableSetLanguage#}\",\"y\":176,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"{#Str.loginTimes#}:\",\"width\":120,\"align\":\"right\",\"id\":\"loginTimesLbl\",\"height\":22,\"y\":208,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"loginTimes\",\"bgColor\":\"#C0C0C0\",\"height\":22,\"value\":\"@loginTimesValue\",\"width\":248,\"readOnly\":\"true\",\"y\":208,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"{#Str.lastLogin#}:\",\"width\":120,\"align\":\"right\",\"id\":\"lastLoginLbl\",\"height\":22,\"y\":240,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"lastLogin\",\"bgColor\":\"#C0C0C0\",\"height\":22,\"value\":\"@lastLoginDate\",\"width\":248,\"readOnly\":\"true\",\"y\":240,\"x\":128},{\"xwlMeta\":\"button\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"height\":22,\"text\":\"@Str.save\",\"width\":96,\"y\":280,\"x\":122,\"click\":\"if(!Wb.verify(accountWin))return;\\nif(pwd.getValue()==rePwd.getValue())saveAjax.request();\\nelse Wb.warning(Str.inconsistentPwd);\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"height\":22,\"text\":\"@Str.reset\",\"width\":96,\"y\":280,\"x\":226,\"click\":\"Wb.reset(accountWin);\\ndispName.focus(false,true);\"}]}]}","{#Str.myAccount#}","user_icon",0,0,"admin","2012-05-27 17:58:00.0","admin","2012-07-27 12:29:13.0",1],["bbs","13LRIOHKYMUT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.devCommunity#}\",\"jsFiles\":\"[\\\"webbuilder/controls/codemirror/mixed.js\\\"]\",\"head\":\"<style type=\\\"text/css\\\">\\n.top-row .x-grid-cell{background-color:#F0F0F0}\\n.bg{background-color:#F5F5F5;border:solid;border-color:#F3F3F3;white-space:nowrap;}\\n.lv1{width:12px;height:9px;background-image:url(webbuilder/images/app/angle.gif)}\\n.lv2{width:24px;height:9px;background-image:url(webbuilder/images/app/angle.gif)}\\n.lv3{width:36px;height:9px;background-image:url(webbuilder/images/app/angle.gif)}\\n.lv4{width:48px;height:9px;background-image:url(webbuilder/images/app/angle.gif)}\\n.lv5{width:60px;height:9px;background-image:url(webbuilder/images/app/angle.gif)}\\n.lv6{width:12px;height:9px;background-image:url(webbuilder/images/app/star.gif)}\\n.lv7{width:24px;height:9px;background-image:url(webbuilder/images/app/star.gif)}\\n.lv8{width:36px;height:9px;background-image:url(webbuilder/images/app/star.gif)}\\n.lv9{width:48px;height:9px;background-image:url(webbuilder/images/app/star.gif)}\\n.lv10{width:60px;height:9px;background-image:url(webbuilder/images/app/star.gif)}\\n.CodeMirror{height:100%;font-size:13px;font-weight:400;line-height:1.4;font-family:Courier New;border: 1px solid #eee;}\\n.CodeMirror-scroll{overflow-x:auto;overflow-y:hidden;height:100%;max-height:400px;}\\n<\\/style>\",\"cssFiles\":\"[\\\"webbuilder/controls/codemirror/mixed.css\\\",\\\"webbuilder/css/designer.css\\\"]\",\"initialize\":\"Wd.sn=0;\\n\\nWd.getStyle=function(){\\nreturn 'white-space:normal;line-height:18px;';\\n};\\n\\nWd.post=function(obj,title){\\nvar id,text,r,u,t,p;\\nif(Ext.isNumber(obj)){\\nr=store1.getAt(obj);\\nid=r.get('BBS_ID');\\ntext=r.get('TITLE');\\n}\\nelse{\\nid=obj;\\ntext=title;\\n}\\nt=false;\\ntab.items.each(function(c){\\nif(c.postId==id){\\ntab.setActiveTab(c);\\nc.refreshMode=false;\\nc.refreshHandle();\\nt=true;\\nreturn false;\\n}\\n});\\nif(t)return;\\nt=tab.add({iconCls:'list_icon',title:Wb.ellipsis(text,true),closable:true,\\nlisteners:{\\nafterrender:function(t) {\\nvar x=Ext.String.htmlEncode(text);\\nif(t.title!==x){\\nt.ellipsisTip=new Ext.tip.ToolTip({\\ntarget:t.tab.btnWrap,\\nhtml:x\\n});\\n}\\n},\\ndestroy:function(t){\\nif(t.ellipsisTip){\\nExt.destroy(t.ellipsisTip);\\nt.ellipsisTip=null;\\n}\\n}},\\ntbar:{\\nitems:[\\n{iconCls:\\\"start_icon\\\",text:Str.reply,handler:function(){\\nreplyWin.show();\\n}},\\n{iconCls:\\\"refresh_icon\\\",text:Str.refresh,handler:function(){\\nt.refreshMode=true;\\nt.refreshHandle();\\n}},\\n{iconCls:\\\"grid_icon\\\",text:Str.back,handler:function(){\\ntab.setActiveTab(grid1);\\n}},'-',\\n{xtype:'textfield',selectOnFocus:true,readOnly:true,flex:1,fieldStyle:\\\"background-color:#C0C0C0;background-image:none\\\"}\\n]}\\n,layout:'fit',items:[{xtype:'panel',autoScroll:true,border:0}]});\\nu=window.location.href;\\nt.postId=id;\\nt.postSn=sn++;\\nt.panel=t.down('panel');\\nt.down('textfield').setValue(u.substring(0,u.length-3)+'browse&id='+id);\\ntab.setActiveTab(t);\\nt.refreshHandle=function(){\\nWb.request({url:'main?xwl=browse',mask:t,\\nfailure:function(){\\nif(!t.refreshMode)t.close();\\n},\\nsuccess:function(r){\\nt.panel.update(r.responseText);\\ntoLocal(t);\\nif(t.refreshMode)setTimeout(function(){Wb.toBottom(t.panel);},200);\\n}\\n},{type:1,id:id,sn:t.postSn});\\n};\\nt.refreshMode=false;\\nt.refreshHandle();\\n}\\n\\nWd.setToolButtons=function(editor){\\neditor.toolbar.insert(17,{tooltip:Str.insertImage,iconCls:'image_icon',handler:function(){\\nimgWin.imageMode=1;\\nimgWin.setIconCls('image_icon');\\nimgWin.setTitle(Str.insertImage);\\nimgWin.destEditor=editor;\\nimgWin.show();\\n}});\\neditor.toolbar.insert(18,{tooltip:Str.insertFile,iconCls:'file_icon',handler:function(){\\nimgWin.imageMode=0;\\nimgWin.setIconCls('file_icon');\\nimgWin.setTitle(Str.insertFile);\\nimgWin.destEditor=editor;\\nimgWin.show();\\n}});\\neditor.toolbar.insert(19,{tooltip:Str.insert,iconCls:'list_icon',menu:{xtype:\\\"menu\\\",items:[\\n{iconCls:'ss_icon',text:'Java',listeners:{click:function(){\\ncodeWin.codeType='java';\\ncodeWin.destEditor=editor;\\nWb.setTitle(codeWin,'Java');\\ncodeWin.show();\\n}}\\n}\\n,{iconCls:'js_icon',text:'JS/SS',listeners:{click:function(){\\ncodeWin.codeType='js';\\ncodeWin.destEditor=editor;\\nWb.setTitle(codeWin,'JS/SS');\\ncodeWin.show();\\n}}\\n}\\n,{iconCls:'sql_icon',text:'SQL',listeners:{click:function(){\\ncodeWin.codeType='sql';\\ncodeWin.destEditor=editor;\\nWb.setTitle(codeWin,'SQL');\\ncodeWin.show();\\n}}\\n}\\n,{iconCls:'web_icon',text:'HTML',listeners:{click:function(){\\ncodeWin.codeType='html';\\ncodeWin.destEditor=editor;\\nWb.setTitle(codeWin,'HTML');\\ncodeWin.show();\\n}}\\n}\\n]\\n}});\\n}\\n\\nWd.handleCode=function(){\\nvar w=codeWin,e=w.destEditor,o,s=codeText.getValue();\\nw.hide();\\nif(Ext.isIE){\\no=e.getDoc().body.createTextRange();\\no.moveStart('character',Wb.maxInt);\\no.collapse(true);\\no.select();\\n}\\nWb.focus(e,function(){e.insertAtCursor('<textarea style=\\\"width:100%\\\" rows=\\\"10\\\" class=\\\"'+w.codeType+'_class\\\" readonly=\\\"readonly\\\">'+Ext.htmlEncode(s)+'<\\/textarea><br>');});\\n}\\n\\nWd.checkEmpty=function(editor){\\nvar v=editor.getValue();\\nif(v==''||v=='<br>'){Wb.warning(Str.contentEmpty,function(){Wb.focus(editor);});return false;}\\nreturn true;\\n}\\n\\nWd.toLocal=function(panel){\\nvar i,ls=['java','js','sql','html'],md=['text/x-java','text/javascript','text/x-sql','text/html'];\\nfor(i=0;i<4;i++){\\npanel.el.select('textarea.'+ls[i]+'_class').each(function(o){\\nif(!Ext.isIE||!o.up('p')){\\n  CodeMirror.fromTextArea(o.dom,{\\n  lineNumbers:true,\\n  readOnly:true,\\n  mode:md[i]\\n  });\\n}\\n});\\n}  \\nvar i=0,o,p=\\\"tl__\\\"+panel.postSn+\\\"_\\\";\\nwhile((o=Wb.dom(p+i++))!=null){\\no.innerHTML=Wb.dateToStr(Wb.toLocal(Wb.strToDate(o.innerHTML)));\\n}\\n}\\n\\nWd.delPost=function(divId,id){\\nWb.confirm(Wb.format(Str.delSelConfirm,1),function(){\\nWb.request({url:'main?xwl=13NLZG0BNO6G',params:{id:id},mask:tab.getActiveTab().panel,success:function(){\\nExt.fly(divId).remove();\\n}\\n});\\n});\\n}\\n\\nWd.loadType=function(type,pressed){\\nif(pressed)Wb.load(store1,{type:type});\\n}\\n\\nfunction doSearch(){\\nWb.load(store1);\\n}\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"sorters\":\"[{property:'POST_DATE',direction:'DESC'}]\",\"pageSize\":\"50\",\"params\":\"{type:'all'}\",\"remoteSort\":\"true\",\"url\":\"#bbslist (Get Titles)\",\"output\":\"toolbar1\"},{\"xwlMeta\":\"store\",\"id\":\"searchStore\",\"url\":\"#13NNI7G1ZYH6 (Search Title)\",\"showMask\":\"false\"},{\"xwlMeta\":\"toolbar\",\"enableOverflow\":\"true\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.newStr\",\"iconCls\":\"new_icon\",\"id\":\"newBtn\",\"click\":\"postWin.setIconCls('new_icon');\\nWb.edit(grid1,postWin);\"},{\"xwlMeta\":\"menuItem\",\"module\":\"#13NNFPSRADLY (Update Title)\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"var r=Wb.getSelRec(grid1);\\nif(r.length!=1){\\nWb.warning(Str.selRec);\\nreturn;\\n}\\ngetContentAjax.request({id:r[0].get('BBS_ID')});\"},{\"xwlMeta\":\"menuItem\",\"module\":\"#13NNFPSRADLZ (Delete Title)\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"delete_icon\",\"id\":\"deleteBtn\",\"click\":\"Wb.confirm(grid1,deleteAjax.request);\"},{\"xwlMeta\":\"menuItem\",\"module\":\"#13NNQI4NYR98 (Set Top)\",\"text\":\"@Str.top\",\"type\":\"split\",\"iconCls\":\"accept_icon\",\"id\":\"topBtn\",\"click\":\"setTopAjax.params.top=1;\\nsetTopAjax.request();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.cancelTop\",\"iconCls\":\"minus_icon\",\"id\":\"cancelTopBtn\",\"click\":\"setTopAjax.params.top=0;\\nsetTopAjax.request();\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"comboBox\",\"store\":\"searchStore\",\"autoSelect\":\"false\",\"listWidth\":\"300\",\"queryDelay\":\"160\",\"width\":\"200\",\"pageSize\":\"Wb.pageSize\",\"emptyText\":\"@Str.title\",\"id\":\"searchCombo\",\"displayField\":\"TITLE\",\"select\":\"doSearch();\",\"specialkey\":\"Wb.checkEnter(doSearch,comboBox);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.search\",\"type\":\"split\",\"iconCls\":\"seek_icon\",\"id\":\"searchBtn\",\"click\":\"doSearch();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.reset\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"click\":\"Wb.reset(toolbar1);\\ndoSearch();\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.all\",\"pressed\":\"true\",\"toggleGroup\":\"range\",\"iconCls\":\"list_icon\",\"id\":\"allBtn\",\"toggle\":\"loadType('all',pressed);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.created\",\"toggleGroup\":\"range\",\"iconCls\":\"property_icon\",\"id\":\"createdBtn\",\"toggle\":\"loadType('created',pressed);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.replied\",\"toggleGroup\":\"range\",\"iconCls\":\"view_icon\",\"id\":\"repliedBtn\",\"toggle\":\"loadType('replied',pressed);\"}]},{\"xwlMeta\":\"ajax\",\"url\":\"#13NJI2Y4P24N (Insert Title)\",\"id\":\"insertAjax\",\"output\":\"postWin\",\"timeout\":\"-1\",\"success\":\"var o=Ext.decode(response.responseText),i=0;\\nstore1.each(function(r){\\nif(r.get('SET_TOP')==0)return false;\\ni++;\\n});\\nWb.updateRecord(Wb.insert(grid1,postWin,i),o);\\npostWin.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NNFPSRADLY (Update Title)\",\"id\":\"updateAjax\",\"output\":\"postWin\",\"success\":\"Wb.update(grid1,postWin);\\npostWin.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NNFPSRADLZ (Delete Title)\",\"id\":\"deleteAjax\",\"output\":\"grid1\",\"success\":\"Wb.remove(grid1);\"},{\"xwlMeta\":\"ajax\",\"mask\":\"grid1\",\"url\":\"#13NNQI4NYR98 (Set Top)\",\"id\":\"setTopAjax\",\"output\":\"grid1\",\"success\":\"var i=setTopAjax.params.top;\\nExt.Array.each(Wb.getSelRec(grid1),function(r){\\nr.set('SET_TOP',i);\\nr.commit();\\n});\"},{\"xwlMeta\":\"ajax\",\"mask\":\"grid1\",\"url\":\"#13NNFPSRADNM (Get Content)\",\"id\":\"getContentAjax\",\"success\":\"postWin.setIconCls('edit_icon');\\nWb.edit(grid1,postWin,Str.edit,1);\\nCONTENT.setValue(Ext.decode(response.responseText).CONTENT);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NLARMGZ398 (Reply)\",\"id\":\"replyAjax\",\"output\":\"replyWin\",\"success\":\"var t=tab.getActiveTab();\\nt.panel.update(response.responseText);\\ntoLocal(t);\\nreplyWin.hide();\\nsetTimeout(function(){Wb.toBottom(t.panel);},200);\"},{\"xwlMeta\":\"array\",\"id\":\"grid1Cols\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"TITLE\",\"id\":\"titleCol\",\"renderer\":\"metaData.style=getStyle();\\nreturn '<a href=\\\"javascript:post('+rowIndex+')\\\" class=\\\"wb_link\\\">'+Ext.htmlEncode(value)+'<\\/a>';\",\"text\":\"@Str.title\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"CREATE_DATE\",\"id\":\"createUserCol\",\"renderer\":\"metaData.style=getStyle();\\nreturn record.get('CREATE_USER')+'<br>'+Wb.dateToStr(Wb.toLocal(value));\",\"text\":\"@Str.createBy\",\"align\":\"center\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"REPLY_COUNT\",\"id\":\"replyCol\",\"renderer\":\"metaData.style=getStyle();\\nreturn Wb.formatNum(value,'0,000')+' / '+Wb.formatNum(record.get('VIEW_COUNT'),'0,000');\",\"text\":\"@Str.replies\",\"align\":\"center\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"POST_DATE\",\"id\":\"lastPostCol\",\"renderer\":\"metaData.style=getStyle();\\nreturn record.get('POST_USER')+'<br>'+Wb.dateToStr(Wb.toLocal(value));\",\"text\":\"@Str.lastPostBy\",\"align\":\"center\",\"width\":\"150\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"edit_icon\",\"id\":\"postWin\",\"title\":\"-\",\"height\":\"430\",\"layout\":\"anchor\",\"resizable\":\"true\",\"width\":\"680\",\"maximizable\":\"true\",\"clickOK\":\"if(win.isNew)insertAjax.request();\\nelse updateAjax.request();\",\"show\":\"TITLE.focus(false,true);\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"height\":\"28\",\"layout\":\"form\",\"margin\":\"8\",\"transparent\":\"true\",\"children\":[{\"xwlMeta\":\"text\",\"emptyText\":\"{#Str.title#}\",\"id\":\"TITLE\",\"tagProperties\":\"flex:1\",\"allowBlank\":\"false\"}]},{\"xwlMeta\":\"panel\",\"id\":\"panel2\",\"layout\":\"anchor\",\"margin\":\"0 8 0 8\",\"tagProperties\":\"anchor:'100% -50'\",\"transparent\":\"true\",\"children\":[{\"xwlMeta\":\"htmlEditor\",\"id\":\"CONTENT\",\"tagProperties\":\"anchor:'0 -5'\",\"afterrender\":\"setToolButtons(htmlEditor);\"}]},{\"xwlMeta\":\"hiddenField\",\"id\":\"BBS_ID\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"start_icon\",\"id\":\"replyWin\",\"title\":\"@Str.reply\",\"height\":\"430\",\"layout\":\"fit\",\"resizable\":\"true\",\"width\":\"680\",\"maximizable\":\"true\",\"clickOK\":\"if(!checkEmpty(replyContent))return;\\nvar t=tab.getActiveTab();\\nreplyAjax.request({type:1,id:t.postId,sn:t.postSn});\",\"show\":\"Wb.focus(replyContent);\",\"children\":[{\"xwlMeta\":\"htmlEditor\",\"id\":\"replyContent\",\"afterrender\":\"setToolButtons(htmlEditor);\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"list_icon\",\"id\":\"codeWin\",\"title\":\"@Str.insert\",\"height\":\"430\",\"layout\":\"fit\",\"resizable\":\"true\",\"defaultFocus\":\"codeText\",\"width\":\"680\",\"maximizable\":\"true\",\"clickOK\":\"handleCode();\",\"children\":[{\"xwlMeta\":\"textArea\",\"id\":\"codeText\",\"tagProperties\":\"style:'margin:5px'\",\"allowBlank\":\"false\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"image_icon\",\"id\":\"imgWin\",\"title\":\"@Str.insertImage\",\"height\":125,\"layout\":\"fit\",\"defaultFocus\":\"uploadImage\",\"width\":\"375\",\"clickOK\":\"Wb.upload(form1);\",\"children\":[{\"xwlMeta\":\"form\",\"showProgress\":\"true\",\"id\":\"form1\",\"height\":66,\"layout\":\"absolute\",\"width\":369,\"url\":\"#13NJGHREQZPW (Upload File)\",\"frame\":\"true\",\"y\":0,\"x\":0,\"success\":\"imgWin.hide();\\nvar r=Ext.decode(value),s,e,o;\\nif(imgWin.imageMode) s='<img src=\\\"main?xwl=13NJGHREQZPO&id='+r.id+'\\\">';\\nelse s='<a href=\\\"main?xwl=13NJGHREQZQ0&id='+r.id+'\\\">'+r.name+'<\\/a>';\\ne=imgWin.destEditor;\\nif(Ext.isIE){\\no=e.getDoc().body.createTextRange();\\no.moveStart('character',Wb.maxInt);\\no.collapse(true);\\no.select();\\n}\\nWb.focus(e,function(){e.insertAtCursor(s);});\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"{#Str.file#}:\",\"width\":88,\"align\":\"right\",\"id\":\"label3\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"uploadImage\",\"height\":22,\"inputType\":\"file\",\"allowBlank\":\"false\",\"width\":\"220\",\"y\":\"16\",\"x\":\"96\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tabPanel\",\"id\":\"tab\",\"tabchange\":\"if(newCard&&newCard.panel&&newCard.saveSt!==undefined){\\nnewCard.panel.body.dom.scrollTop=0;\\nnewCard.panel.body.dom.scrollTop=newCard.saveSt;\\n}\",\"beforetabchange\":\"if(oldCard&&oldCard.panel)\\noldCard.saveSt=oldCard.panel.body.dom.scrollTop;\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"grid1Cols\",\"iconCls\":\"table_icon\",\"exportTitle\":\"-\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"title\":\"@Str.browse\",\"viewConfig\":\"{\\ngetRowClass:function(r){\\nif(r.get('SET_TOP'))return 'top-row';\\nelse return '';\\n}\\n}\\n\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}]}","{#Str.devCommunity#}","web_icon",0,0,"admin","2012-04-28 15:58:49.0","admin","2014-07-07 08:53:38.0",60],["bbslist","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Titles\",\"children\":[{\"xwlMeta\":\"attribute\",\"id\":\"keyName\",\"value\":\"%{#searchCombo#}%\"},{\"xwlMeta\":\"dataProvider\",\"orderFields\":\"{default:'a'}\",\"id\":\"dataProvider1\",\"sql\":\"select a.BBS_ID,a.TITLE,a.SET_TOP,a.CREATE_DATE,b.DISPLAY_NAME as \\\"CREATE_USER\\\",a.REPLY_COUNT,a.VIEW_COUNT,a.POST_DATE,c.DISPLAY_NAME as \\\"POST_USER\\\"\\n from WB_BBS_TITLE a, WB_USER b, WB_USER c\\n where a.CREATE_USER=b.USER_ID and a.POST_USER=c.USER_ID\\n\\n and ({?type?}='all' or {?type?}='created' and a.CREATE_USER={?sys.user?} or {?type?}='replied' and exists\\n(select 1 from WB_BBS_POST d where d.BBS_ID=a.BBS_ID and d.POST_USER={?sys.user?}))\\n\\n and ({?keyName?} is null or TITLE like {?keyName?})\\n\\n\\n order by a.SET_TOP desc{#sql.orderFields#}\"}]}","Get Titles","get_icon",0,0,"admin","2012-05-02 16:30:39.0","admin","2012-05-31 11:51:15.0",2],["browse","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Get Page\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"updateCount\",\"sql\":\"update WB_BBS_TITLE set VIEW_COUNT=VIEW_COUNT+1 where BBS_ID={?id?}\"},{\"xwlMeta\":\"query\",\"id\":\"titleQuery\",\"sql\":\"select a.TITLE,a.CREATE_USER,b.USER_NAME,b.DISPLAY_NAME,b.CREATE_DATE as \\\"USER_DATE\\\",a.CREATE_DATE,a.CONTENT from WB_BBS_TITLE a, WB_USER b\\n where a.BBS_ID={?id?} and a.CREATE_USER=b.USER_ID\",\"loadData\":\"true\"},{\"xwlMeta\":\"query\",\"id\":\"scoreQuery\",\"sql\":\"select sum(T_SCORE) as \\\"T_SCORE\\\" from (\\nselect sum(5) as \\\"T_SCORE\\\" from WB_BBS_TITLE where CREATE_USER={?titleQuery.CREATE_USER?} union all\\nselect count(*) as \\\"T_SCORE\\\" from WB_BBS_POST where POST_USER={?titleQuery.CREATE_USER?}\\n) x \"},{\"xwlMeta\":\"query\",\"id\":\"postQuery\",\"sql\":\"select x.USER_NAME,x.CREATE_DATE,x.DISPLAY_NAME,y.T_SCORE,x.POST_DATE,x.POST_ID,x.CONTENT from \\n\\n(select a.POST_USER,b.USER_NAME,b.DISPLAY_NAME,b.CREATE_DATE,a.POST_DATE,a.POST_ID,a.CONTENT from WB_BBS_POST a, WB_USER b\\nwhere a.BBS_ID={?id?} and a.POST_USER=b.USER_ID) x\\n\\nleft join\\n\\n(select c.T_USER,sum(c.T_SCORE) as \\\"T_SCORE\\\" from (\\nselect CREATE_USER as \\\"T_USER\\\",sum(5) as \\\"T_SCORE\\\" from WB_BBS_TITLE group by CREATE_USER union all\\nselect POST_USER as \\\"T_USER\\\",count(*) as \\\"T_SCORE\\\" from WB_BBS_POST group by POST_USER\\n) c group by c.T_USER) y\\n\\non x.POST_USER=y.T_USER order by x.POST_DATE\"},{\"xwlMeta\":\"method\",\"id\":\"getPage\",\"methodName\":\"com.webbuilder.interact.BBS.getPage\"}]}","Get Page","get_icon",0,0,"admin","2012-05-04 10:40:11.0","admin","2012-08-05 10:31:32.0",12],["cm","13LRIOHKYMUT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Control Manager\",\"jsFiles\":\"webbuilder/script/cm.js\",\"cssFiles\":\"webbuilder/css/designer.css\",\"finalize\":\"Cm.finalize();\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"main?xwl=13L88K98GZO5\",\"id\":\"controlStore\",\"fields\":\"Cm.objectTreeFields\"},{\"xwlMeta\":\"toolbar\",\"id\":\"mainToolBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"New\",\"iconCls\":\"new_icon\",\"id\":\"newBtn\",\"tooltip\":\"New (Ctrl+N)\",\"click\":\"Cm.insertControl(Wb.get('controlTree'));\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Delete\",\"iconCls\":\"delete_icon\",\"id\":\"delItem\",\"tooltip\":\"Delete\",\"click\":\"Cm.deleteControl();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Save\",\"minWidth\":\"250\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"tooltip\":\"Save (Ctrl+S)\",\"click\":\"Cm.saveModule(false);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Save All\",\"iconCls\":\"saveAll_icon\",\"id\":\"saveAllBtn\",\"tooltip\":\"Save All (Ctrl+Shift+S)\",\"click\":\"Cm.saveModule(true);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Append Property\",\"iconCls\":\"insert_icon\",\"id\":\"appendBtn\",\"disabled\":\"true\",\"tooltip\":\"Append Property (Ctrl+Q)\",\"click\":\"Cm.insertProperty();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Delete Property\",\"iconCls\":\"remove_icon\",\"id\":\"delBtn\",\"disabled\":\"true\",\"tooltip\":\"Delete Property\",\"click\":\"Cm.deleteProperty();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Copy\",\"iconCls\":\"copy_icon\",\"id\":\"copyBtn\",\"disabled\":\"true\",\"tooltip\":\"Copy (Ctrl+C)\",\"click\":\"Cm.copyProperties();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Paste\",\"iconCls\":\"paste_icon\",\"id\":\"pasteBtn\",\"disabled\":\"true\",\"tooltip\":\"Paste (Ctrl+V)\",\"click\":\"Cm.pasteProperties();\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"controlBar\",\"titleToolbar\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"id\":\"refreshModuleBtn\",\"toolType\":\"refresh\",\"tooltip\":\"@Str.refresh\",\"click\":\"Wb.refresh(controlTree,'xwlMeta');\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"tbar\":\"mainToolBar\",\"id\":\"mainPanel\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"controlStore\",\"collapsible\":\"true\",\"id\":\"controlTree\",\"title\":\"Control List\",\"tools\":\"controlBar\",\"width\":250,\"rootVisible\":\"false\",\"split\":\"true\",\"viewConfig\":\"{plugins: {pluginId:'ddPlug', ptype: 'treeviewdragdrop'},listeners:{\\nbeforedrop:function(node,data,om,dp){\\nvar ns=Wb.getNode(data.item), nd=Wb.getNode(node);\\nvar ls=ns.getDepth(), ld=nd.getDepth(), isAppend=dp=='append';\\nreturn !(ls==1&&(isAppend||ld==2) || ls==2&&ld==1&&!isAppend);\\n},\\ndrop:function(node,data){\\nCm.saveControlTree();\\n}\\n}}\",\"itemmousedown\":\"Wb.setDDText(view,record.get('text'));\",\"itemdblclick\":\"if(record.getDepth()==2)\\nCm.createTab(record.get('text'),record.get('xwlMeta'),record.get('iconCls'));\",\"selectionchange\":\"Wb.get('controlTree').selectControl=selections[0];\"},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"deferredRender\":\"false\",\"id\":\"controlTab\",\"reorderable\":\"true\",\"bodyStyle\":\"background-color:#787878\",\"tabchange\":\"var t=Wb.get('controlTab');\\nvar b=t.items.count==0;\\nWb.get('appendBtn').setDisabled(b);\\nWb.get('delBtn').setDisabled(b);\"}]}]}]}","{#Str.controlManager#}","view_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-07-07 14:33:42.0",44],["dbe","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.dbe#}\",\"jsFiles\":\"[\\\"webbuilder/controls/codemirror/mixed.js\\\"]\",\"head\":\"<style type=\\\"text/css\\\">\\n.CodeMirror{height:100%;font-size:13px;font-weight:400;line-height:1.4;font-family:Courier New;}\\n.CodeMirror-Scroll{height:100%;}\\n<\\/style>\\n\",\"cssFiles\":\"[\\\"webbuilder/controls/codemirror/mixed.css\\\"]\",\"initialize\":\"Wd.sqlIndex=0;\\n\\nWd.navSql=function(b){\\n  var s=sqlCombo.store,c=s.getCount();\\n  if(b) sqlIndex++;\\n  else sqlIndex--;\\n   if(sqlIndex>=c)\\n    sqlIndex=c-1;\\n  if(sqlIndex<0)\\n    sqlIndex=0;\\n  sqlEditor.setValue(s.getAt(sqlIndex).get(sqlCombo.valueField));\\n  focusEdt();\\n};\\n\\nWd.evalRender=function(cols){\\n  var i,j=cols.length;\\n  for(i=0;i<j;i++){\\n    if(cols[i].renderer)\\n      cols[i].renderer=Ext.decode(cols[i].renderer);\\n  }\\n  return cols;\\n};\\n\\nWd.focusEdt=function(){\\n  setTimeout(function(){sqlEditor.focus();},20);\\n};\\n  \\nWd.downloadBlob=function(name,index){\\nvar r=tableStore.getAt(index),i,f,fs=tableStore.proxy.reader.getFields(),\\np={___table:grid1.table,___field:name,___jndi:grid1.jndi};\\nfor(i in fs){\\nf=fs[i].name;\\np[f]=r.__origin[f];\\n}\\nWb.download('main?xwl=13NWY4W8N9RN',p);\\n}\\n\\nWd.destroyEditors=function(grid){\\nvar es=grid.plugins[0].editors;\\nes.each(function(c){\\nc.destroy();\\n});\\n};\\n\\nWd.sel=function(n){\\ngrid1.plugins[0].cancelEdit();\\ngrid2.plugins[0].cancelEdit();\\nvar t=n.get('text'),jndi,pt;\\nif(n.isLeaf()){\\njndi=n.parentNode.get('jndi');\\nif(n.parentNode.get('id')=='default')pt='';\\nelse pt=n.parentNode.get('text');\\nWb.setTitle(panel2,pt);\\ngrid2.jndi=jndi;\\n\\nif(tabPanel1.getActiveTab()==panel1){\\nWb.clearGrid(grid1);\\ngrid1.table=t;\\ngrid1.jndi=jndi;\\ngrid1.exportFilename=grid1.exportSheet=t;\\nWb.setTitle(panel1,t+(pt?' ('+pt+')':''));\\nWb.reset(filterCombo);\\ntableStore.params={table:t,jndi:jndi,filter:''};\\nWb.load(tableStore);\\n}\\nelse{\\nsqlEditor.setValue('select * from '+t);\\nrunBtn.fireEvent('click');\\nsqlEditor.focus();\\n}\\n\\n}\\nelse{\\nWb.setTitle(panel2,n.get('id')=='default'?'':t);\\ngrid2.jndi=n.get('jndi');\\n}\\nn.ownerTree=dbTree;\\nif(dbTree.priorSelNode)Wb.recNav(n,dbTree.priorSelNode,backBtn);\\ndbTree.priorSelNode=n;\\n};\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"components\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"#13N52MBKXNQ5 (Get DbTree)\",\"id\":\"treeStore1\",\"timeout\":\"-1\",\"fields\":\"['id','text','jndi']\",\"load\":\"Wb.selFirst(dbTree);\",\"beforeload\":\"operation.params.jndi=operation.node.get('jndi');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13N5Z30MPONS (New JNDI)\",\"id\":\"newJndiAjax\",\"output\":\"jndiWin\",\"success\":\"var n={text:dispEdit.getValue(),jndi:jndiEdit.getValue(),iconCls:'db_icon',expanded:false},\\n sel=Wb.getSelNode(dbTree),r=dbTree.getRootNode(),f=r.firstChild;\\n\\nif(jndiWin.isAppend||!sel||r.childNodes.length==1)n=r.appendChild(n);\\nelse{\\nif(sel==f) n=r.insertChild(1,n);\\nelse n=r.insertBefore(n,sel);\\n}\\nn.set('id',Ext.decode(response.responseText).id);\\nn.set('loaded',false);\\nn.commit();\\njndiWin.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13N6BPONSPWD (Remove JNDI)\",\"id\":\"removeJndiAjax\",\"success\":\"Wb.delSelNode(dbTree);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NCFE71HDVL (Delete Data)\",\"id\":\"deleteAjax\",\"output\":\"grid1\",\"success\":\"Wb.remove(grid1);\\nWb.saveOrigin(grid1);\",\"beforerequest\":\"var s=Wb.getSelRec(grid1),i,j=s.length,l=[];\\n\\nfor(i=j-1;i>=0;i--)\\n if(!s[i].__isNew)l.push(s[i].__origin);\\n\\nif(l.length>0)ajax.params={table:grid1.table,jndi:grid1.jndi,data:Ext.encode(l)};\\nelse {Wb.remove(grid1); return false;}\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NC6MK0PWJP (Save Data)\",\"id\":\"saveAjax\",\"success\":\"Wb.commit(tableStore);\\nWb.saveOrigin(grid1);\",\"beforerequest\":\"var d,r,l=[],i,j=tableStore.getCount(),k=0;\\n\\nfor(i=j-1;i>=0;i--){\\nr=tableStore.getAt(i);\\n\\nif(r.dirty){\\nd=Ext.apply({},r.data);\\nif(r.__isNew)d.__isNew=1;\\nelse d.__origin=r.__origin;\\nl.push(d);\\n}\\nelse if(r.__isNew) {\\ntableStore.remove(r);\\nk++;\\n}\\n}\\nWb.refresh(grid1,k*-1);\\najax.params={table:grid1.table,jndi:grid1.jndi,data:Ext.encode(l)};\\n\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13R6J53JI6N9 (Export SQL)\",\"id\":\"expSqlAjax\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13R6J53JI6NB (Import SQL)\",\"id\":\"impSqlAjax\",\"success\":\"sqlEditor.setValue(response.responseText);\"},{\"xwlMeta\":\"store\",\"id\":\"tableStore\",\"remoteSort\":\"true\",\"url\":\"#13N6BWZ8AI0I (Get Table Data)\",\"timeout\":\"-1\",\"load\":\"destroyEditors(grid1);\\ngrid1.reconfigure(store,evalRender(store.proxy.reader.rawData.columns));\\nWb.saveOrigin(grid1);\\nif(grid1.isDisabled()){\\ngrid1.setDisabled(false);\\ntableBar.setDisabled(false);\\n}\"},{\"xwlMeta\":\"store\",\"showResult\":\"false\",\"id\":\"sqlStore\",\"url\":\"#13N53V4UUP82 (Run Sql)\",\"timeout\":\"-1\",\"exception\":\"Wb.except(response.responseText, focusEdt);\",\"load\":\"if(sqlEditor.getValue()!==''){\\n  sqlIndex=0;\\n  priorBtn.setDisabled(false);\\n  nextBtn.setDisabled(false);\\n  Wb.save(sqlCombo,grid2.sql);\\n}\\ndestroyEditors(grid2);\\nvar r=store.proxy.reader.rawData;\\ngrid2.reconfigure(store,evalRender(r.columns));\\nif(grid2.isDisabled())grid2.setDisabled(false);\\ntimeLbl.setText(' '+Str.time+': '+r.processedTime+' ms');\"},{\"xwlMeta\":\"store\",\"id\":\"propertyStore\",\"fields\":\"['name','type','required','size']\",\"pageSize\":\"-1\",\"url\":\"#13O19NABCPY8 (Get Property)\",\"load\":\"propertyWin.show();\"},{\"xwlMeta\":\"keyMap\",\"defaultEventAction\":\"stopEvent\",\"id\":\"saveKey\",\"ctrl\":\"true\",\"key\":\"'S'\",\"handler\":\"saveBtn.fireEvent('click');\"},{\"xwlMeta\":\"keyMap\",\"defaultEventAction\":\"stopEvent\",\"id\":\"insertKey\",\"ctrl\":\"true\",\"key\":\"'N'\",\"handler\":\"insertBtn.fireEvent('click');\"},{\"xwlMeta\":\"keyMap\",\"defaultEventAction\":\"stopEvent\",\"id\":\"deleteKey\",\"ctrl\":\"true\",\"key\":\"46\",\"handler\":\"deleteBtn.fireEvent('click');\"},{\"xwlMeta\":\"array\",\"id\":\"propertyCols\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\",\"width\":\"40\"},{\"xwlMeta\":\"column\",\"sortable\":\"false\",\"dataIndex\":\"name\",\"id\":\"nameCol\",\"renderer\":\"if(record.get('required'))return '<b>'+value+'<\\/b>';\\nelse return value;\",\"text\":\"@Str.name\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"sortable\":\"false\",\"dataIndex\":\"type\",\"id\":\"typeCol\",\"text\":\"@Str.type\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"sortable\":\"false\",\"dataIndex\":\"size\",\"id\":\"sizeCol\",\"text\":\"@Str.size\",\"align\":\"right\",\"width\":\"120\"}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"treeBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editItem\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.append\",\"iconCls\":\"plus_icon\",\"id\":\"appendJndi\",\"click\":\"jndiWin.setTitle(Str.append);\\njndiWin.isAppend=true;\\njndiWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.insert\",\"iconCls\":\"insert_icon\",\"id\":\"insertJndi\",\"click\":\"jndiWin.setTitle(Str.insert);\\njndiWin.isAppend=false;\\njndiWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.remove\",\"iconCls\":\"remove_icon\",\"id\":\"delJndi\",\"click\":\"var n=Wb.getSelNode(dbTree);\\nif(n==null)Wb.warning(Str.selValid);\\nelse if(n==dbTree.getRootNode().firstChild)\\n Wb.warning(Wb.format(Str.cannotDelete,n.get('text')));\\nelse\\n Wb.confirm(Wb.format(Str.delConfirm,n.get('text')),function(){removeJndiAjax.request({id:n.get('id')})});\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"prior_icon\",\"id\":\"backBtn\",\"tooltip\":\"@Str.back\",\"arrowclick\":\"Wb.showNavMenu(backBtn,forwardBtn,true);\",\"click\":\"Wb.navBack(backBtn,forwardBtn);\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"next_icon\",\"id\":\"forwardBtn\",\"tooltip\":\"@Str.forward\",\"arrowclick\":\"Wb.showNavMenu(forwardBtn,backBtn,false);\",\"click\":\"Wb.navFwd(backBtn,forwardBtn);\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"refresh_icon\",\"id\":\"refreshDbTree\",\"tooltip\":\"@Str.refresh\",\"click\":\"Wb.refresh(dbTree,null,function(){dbTree.priorSelNode=null;Wb.clearNav(backBtn,forwardBtn);});\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"tableBar\",\"disabled\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.append\",\"iconCls\":\"plus_icon\",\"id\":\"insertBtn\",\"tooltip\":\"{#Str.append#} (Ctrl+N)\",\"click\":\"var r,e=grid1.plugins[0],size;\\nsize=tableStore.pageSize;\\nif(tableStore.getCount()==size&&tableStore.getAt(size-1).dirty)\\nWb.warning(Str.recordsBufferFull);\\nelse{\\ne.completeEdit();\\nr=Wb.insert(grid1,null,true);\\nr.__isNew=true;\\nr.commit();\\ne.startEditByPosition({row:tableStore.indexOf(r),column:1});\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"minus_icon\",\"id\":\"deleteBtn\",\"tooltip\":\"{#Str.deleteStr#} (Ctrl+Del)\",\"click\":\"grid1.plugins[0].completeEdit();\\nWb.confirm(grid1,deleteAjax.request);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.save\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"tooltip\":\"{#Str.save#} (Ctrl+S)\",\"click\":\"grid1.plugins[0].completeEdit();\\nsaveAjax.request();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.exportStr\",\"iconCls\":\"export_icon\",\"id\":\"expBtn\",\"click\":\"Wb.download('main?xwl=13O3PEBSIJ0C',{title:grid1.table,jndi:grid1.jndi,sql:'select * from '+grid1.table});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.importStr\",\"iconCls\":\"import_icon\",\"id\":\"impBtn\",\"click\":\"Wb.setTitle(impWin,grid1.table);\\nimpWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.properties\",\"iconCls\":\"property_icon\",\"id\":\"propertyBtn\",\"click\":\"tableText.setValue(grid1.table);\\nvar fs=grid1.columns,r=[],i,j=fs.length;\\nfor(i=1;i<j;i++)r.push(fs[i].dataIndex);\\nfieldText.setValue(r.join(','));\\nWb.load(propertyStore,{table:grid1.table,jndi:grid1.jndi});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem7\"},{\"xwlMeta\":\"comboBox\",\"autoSelect\":\"false\",\"tagProperties\":\"flex:1\",\"pickList\":\"[]\",\"emptyText\":\"@Str.express\",\"id\":\"filterCombo\",\"queryLike\":\"true\",\"select\":\"applyBtn.fireEvent('click');\",\"specialkey\":\"Wb.checkEnter(function(){applyBtn.fireEvent('click');},comboBox);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.filter\",\"type\":\"split\",\"iconCls\":\"accept_icon\",\"id\":\"applyBtn\",\"click\":\"Wb.save(filterCombo);\\nvar f=filterCombo.getValue();\\ntableStore.params.filter=f?' where ' +f:'';\\nWb.load(tableStore);\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.reset\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"click\":\"Wb.reset(filterCombo);\\napplyBtn.fireEvent('click');\"}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"sqlBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.runSql\",\"iconCls\":\"run_icon\",\"id\":\"runBtn\",\"tooltip\":\"{#Str.runSql#} (Ctrl+Enter)\",\"click\":\"Wb.clearGrid(grid2);\\ngrid2.sql=sqlEditor.getSelection();\\nif(Wb.isEmpty(grid2.sql))\\n  grid2.sql=sqlEditor.getValue();\\nWb.load(sqlStore,{sql:grid2.sql,jndi:Wb.optString(grid2.jndi)});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.exportStr\",\"iconCls\":\"export_icon\",\"id\":\"expBtn1\",\"click\":\"if(Wb.isEmpty(grid2.sql))Wb.warning(Str.contentEmpty);\\nelse Wb.download('main?xwl=13O3PEBSIJ0C',{title:'data',jndi:grid2.jndi,sql:grid2.sql});\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.back\",\"iconCls\":\"prior_icon\",\"id\":\"priorBtn\",\"disabled\":\"true\",\"click\":\"navSql(true);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.forward\",\"iconCls\":\"next_icon\",\"id\":\"nextBtn\",\"disabled\":\"true\",\"click\":\"navSql(false);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"{#Str.importStr#} SQL\",\"type\":\"split\",\"iconCls\":\"get_icon\",\"id\":\"impSql\",\"click\":\"impSqlAjax.request();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"{#Str.exportStr#} SQL\",\"iconCls\":\"set_icon\",\"id\":\"expSql\",\"click\":\"expSqlAjax.request({sql:sqlEditor.getValue()});\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItemsp\"},{\"xwlMeta\":\"comboBox\",\"tagProperties\":\"flex:1\",\"pickList\":\"[]\",\"id\":\"sqlCombo\",\"queryLike\":\"true\",\"beforeselect\":\"sqlEditor.setValue(record.get(comboBox.valueField));\\ncomboBox.collapse();\\nfocusEdt();\\nreturn false;\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"db_icon\",\"id\":\"jndiWin\",\"height\":151,\"layout\":\"absolute\",\"defaultFocus\":\"jndiEdit\",\"width\":379,\"clickOK\":\"var n;\\nif(!jndiWin.isAppend){\\nn=Wb.getSelNode(dbTree);\\nif(n&&n.getDepth()==2)n=n.parentNode;\\n}\\nnewJndiAjax.request({index:n?n.parentNode.indexOf(n):''});\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"JNDI:\",\"width\":104,\"align\":\"right\",\"id\":\"label1\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"jndiEdit\",\"height\":22,\"allowBlank\":\"false\",\"width\":224,\"y\":16,\"x\":112},{\"xwlMeta\":\"label\",\"text\":\"{#Str.dispName#}:\",\"width\":104,\"align\":\"right\",\"id\":\"label2\",\"height\":22,\"y\":48,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"dispEdit\",\"height\":22,\"allowBlank\":\"false\",\"width\":224,\"y\":48,\"x\":112}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"import_icon\",\"id\":\"impWin\",\"title\":\"@Str.importStr\",\"height\":\"125\",\"layout\":\"fit\",\"defaultFocus\":\"uploadFile\",\"width\":\"375\",\"clickOK\":\"form1.params={table:grid1.table,jndi:grid1.jndi};\\nWb.upload(form1);\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"height\":66,\"layout\":\"absolute\",\"width\":367,\"url\":\"#13NEOPRS0FRD (Import Table)\",\"frame\":\"true\",\"y\":0,\"x\":0,\"success\":\"Wb.load(tableStore);\\nimpWin.hide();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"{#Str.file#}:\",\"width\":104,\"align\":\"right\",\"id\":\"label3\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"uploadFile\",\"height\":22,\"inputType\":\"file\",\"allowBlank\":\"false\",\"width\":\"220\",\"y\":\"16\",\"x\":\"112\"}]}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"property_icon\",\"id\":\"propertyWin\",\"title\":\"@Str.properties\",\"height\":336,\"layout\":\"absolute\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":646,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"{#Str.table#}:\",\"width\":64,\"align\":\"right\",\"id\":\"label4\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"text\",\"bgColor\":\"#C0C0C0\",\"id\":\"tableText\",\"height\":22,\"width\":552,\"readOnly\":\"true\",\"y\":16,\"x\":72},{\"xwlMeta\":\"label\",\"text\":\"{#Str.fields#}:\",\"width\":64,\"align\":\"right\",\"id\":\"label5\",\"height\":22,\"y\":48,\"x\":0},{\"xwlMeta\":\"text\",\"bgColor\":\"#C0C0C0\",\"id\":\"fieldText\",\"height\":22,\"width\":552,\"readOnly\":\"true\",\"y\":48,\"x\":72},{\"xwlMeta\":\"grid\",\"store\":\"propertyStore\",\"columns\":\"propertyCols\",\"height\":208,\"width\":552,\"id\":\"grid3\",\"autoLoad\":\"false\",\"y\":80,\"x\":72}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"treeStore1\",\"id\":\"dbTree\",\"tbar\":\"treeBar\",\"width\":\"200\",\"rootVisible\":\"false\",\"split\":\"true\",\"itemclick\":\"sel(record);\"},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"tabPanel1\",\"children\":[{\"xwlMeta\":\"panel\",\"iconCls\":\"table_icon\",\"tbar\":\"tableBar\",\"id\":\"panel1\",\"title\":\"@Str.table\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"tableStore\",\"pluginType\":\"cellediting\",\"id\":\"grid1\",\"autoLoad\":\"false\",\"disabled\":\"true\",\"afterrender\":\"var b=Wb.getPagingBar(grid),i,j;\\nb.on('beforechange',function(o,p){\\ni=0;\\ntableStore.each(function(r){\\nif(r.__isNew)i++;\\n});\\ntableStore.totalCount-=i;\\nj=Math.ceil(tableStore.totalCount/tableStore.pageSize);\\nif(p>j){\\ntableStore.loadPage(j);\\nreturn false;\\n}\\n});\"}]},{\"xwlMeta\":\"panel\",\"iconCls\":\"sql_icon\",\"tbar\":\"sqlBar\",\"id\":\"panel2\",\"title\":\"SQL\",\"layout\":\"border\",\"activate\":\"if(Ext.isIE&&sqlEditor.saveCursor)\\n  sqlEditor.scrollTo(sqlEditor.saveCursor.left,sqlEditor.saveCursor.top);\\nfocusEdt();\",\"beforedeactivate\":\"if(Ext.isIE)\\n   sqlEditor.saveCursor=sqlEditor.getScrollInfo();\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"bgColor\":\"#FFFFFF\",\"id\":\"panel3\",\"height\":\"120\",\"layout\":\"fit\",\"split\":\"true\",\"html\":\"<textarea id='mrSqlEditor' name='mrSqlEditor'><\\/textarea>\",\"afterrender\":\"Wd.sqlEditor=CodeMirror.fromTextArea(Wb.dom('mrSqlEditor'),{\\n  lineNumbers:true,\\n  mode:'text/x-sql',\\n  matchBrackets:true,\\n  extraKeys:{\\\"Ctrl-Enter\\\":function(){runBtn.fireEvent('click');}}\\n});\",\"resize\":\"Ext.fly(sqlEditor.getScrollerElement()).setHeight(adjHeight-4);\\nsqlEditor.refresh();\"},{\"xwlMeta\":\"grid\",\"store\":\"sqlStore\",\"pluginType\":\"cellediting\",\"region\":\"center\",\"id\":\"grid2\",\"autoLoad\":\"false\",\"disabled\":\"true\",\"afterrender\":\"var b=Wb.getPagingBar(grid);\\nb.insert(14,{id:'timeLbl',xtype:'tbtext',text:''});\"}]}]}]}]}","{#Str.dbe#}","seek_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2014-07-10 07:34:15.0",46],["docs","13LRIOHKYMUT","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.wbDocs#}\",\"cssFiles\":\"[\\\"webbuilder/css/designer.css\\\"]\",\"head\":\"<style type=\\\"text/css\\\">\\n.wb_grid {font-size:12px;padding:3px !important}\\n}\\n<\/style>\",\"initialize\":\"Wd.openTopic=function(dir,text,icon){\\nvar t,x,frameId,ic;\\nif(Wb.isEmpty(icon))ic='ht_icon';\\nelse ic=icon;\\ntab.items.each(function(c){\\nif(c.dir==dir){\\ntab.setActiveTab(c);\\nt=true;\\nreturn false;\\n}\\n});\\nif(t)return;\\nframeId='ufm_'+Wb.getId();\\nt=tab.add({iconCls:ic,title:Wb.ellipsis(text,true),autoScroll:true,closable:true,dir:dir,\\nlisteners:{\\nafterrender:function(t) {\\nx=Ext.String.htmlEncode(text);\\nif(t.title!==x){\\nt.ellipsisTip=new Ext.tip.ToolTip({\\ntarget:t.tab.btnWrap,\\nhtml:x\\n});\\n}\\n},\\ndestroy:function(t){\\nif(t.ellipsisTip){\\nExt.destroy(t.ellipsisTip);\\nt.ellipsisTip=null;\\n}\\n}\\n}\\n});\\ntab.setActiveTab(t);\\n\\nWb.request({url:'main?xwl=13O1AVUENBSF',mask:t,\\nfailure:function(){\\nt.close();\\n},\\nsuccess:function(r){\\nt.update('<div style=\\\"line-height:2;padding:8px 8px 8px 8px;\\\">'+r.responseText+'<\/div>');\\n}\\n},{dir:dir});\\n}\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"#13O1A5OVT7HB (Get Topic)\",\"id\":\"treeStore1\",\"fields\":\"['text','dir','link']\",\"load\":\"Wb.selFirst(tree1);\",\"beforeload\":\"operation.params.dir=operation.node.get('dir');\"},{\"xwlMeta\":\"store\",\"id\":\"findStore\",\"fields\":\"['file','text','iconCls','title']\",\"url\":\"#13O1XR8XKAHQ (Search)\",\"showMask\":\"false\"},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"comboBox\",\"store\":\"findStore\",\"forceSelection\":\"true\",\"tagProperties\":\"flex:1\",\"queryDelay\":\"160\",\"emptyText\":\"@Str.search\",\"id\":\"findCombo\",\"displayField\":\"text\",\"hideTrigger\":\"true\",\"beforeselect\":\"var r=record;\\ncomboBox.collapse();\\nopenTopic(r.get('file'),r.get('title'),r.get('iconCls'));\\nreturn false;\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"treeStore1\",\"id\":\"tree1\",\"tbar\":\"toolbar1\",\"width\":\"280\",\"rootVisible\":\"false\",\"split\":\"true\",\"itemclick\":\"var r=record;\\nif(r.isLeaf()){\\n  if(Wb.isEmpty(r.get('link')))\\n\\topenTopic(r.get('dir'),r.get('text'),r.get('iconCls'));\\n  else window.open(r.get('link'));\\n}\"},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"id\":\"tab\",\"tabchange\":\"if(newCard&&newCard&&newCard.saveSt!==undefined){\\nnewCard.body.dom.scrollTop=0;\\nnewCard.body.dom.scrollTop=newCard.saveSt;\\n}\",\"beforetabchange\":\"if(oldCard)\\noldCard.saveSt=oldCard.body.dom.scrollTop;\"}]}]}","{#Str.wbDocs#}","hf_icon",0,0,"admin","2012-06-29 12:04:05.0","admin","2013-01-16 10:51:30.0",57],["download","13N6082JYAPD","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Download\",\"initMethod\":\"com.webbuilder.interact.Services.download\",\"loginRequired\":\"false\"}","Download","export_icon",0,0,"admin","2012-03-21 12:01:20.0","admin","2012-06-07 14:56:59.0",2],["error","13LWP4OU1NNM","{\"xwlMeta\":\"module\",\"loadLib\":\"false\",\"id\":\"module\",\"title\":\"{#Str.error#}\",\"style\":\"margin:20px 30px 20px 30px\",\"loginRequired\":\"false\",\"cssFiles\":\"webbuilder/css/style.css\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"errorScript\",\"header\":\"<table border=\\\"0\\\"><tr>\\n<td valign=\\\"middle\\\" width=\\\"40\\\"><img src=\\\"webbuilder/images/app/errormark.gif\\\"><\/td>\\n<td valign=\\\"middle\\\" class=\\\"wb_bold\\\">\\n<span style=\\\"display:none\\\">xwle__start<\/span>{#sys.shortError#}<span style=\\\"display:none\\\">xwle__end<\/span><\/td>\\n<\/tr><\/table>\\n<hr style=\\\"height:1px;border-width:0;color:gray;background-color:gray\\\">\\n<div class=\\\"wb_normal\\\" style=\\\"line-height:18px\\\">\\n{#sys.longError#}\\n<\/div>\"}]}","Error","error_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-08-01 13:12:08.0",1],["file","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.fileManager#}\",\"initMethod\":\"com.webbuilder.interact.Explorer.init\",\"jsFiles\":\"[\\\"webbuilder/controls/codemirror/mixed.js\\\"]\",\"head\":\"<style type=\\\"text/css\\\">\\n.CodeMirror{height:100%;font-size:13px;font-weight:400;line-height:1.4;font-family:Courier New;}\\n.CodeMirror-Scroll{height:100%;}\\n<\\/style>\\n\",\"cssFiles\":\"[\\\"webbuilder/controls/codemirror/mixed.css\\\"]\",\"finalize\":\"function clickBtn(btn){\\nvar t=Ext.EventObject.target,e=Ext.fly(t);\\nif(t==document.body||e&&(e.up('#tree1')||e.up('#grid1'))){\\nExt.EventObject.stopEvent();\\nbtn.fireEvent('click');\\n}\\n}\\n\\nWd.keyMap=new Ext.util.KeyMap({\\ntarget:document,\\nbinding:[{\\nkey:'X',\\nctrl:true,\\nfn:function(){clickBtn(cutBtn);}\\n},\\n\\n{\\nkey:'A',\\nctrl:true,\\nfn:function(){\\nvar t=Ext.EventObject.target,e=Ext.fly(t);\\nif(t==document.body||e&&(e.up('#tree1')||e.up('#grid1'))){\\nExt.EventObject.stopEvent();\\ngrid1.selModel.selectAll();\\n}\\n}\\n},\\n\\n{\\nkey:'C',\\nctrl:true,\\nfn:function(){clickBtn(copyBtn);}\\n},\\n\\n{\\nkey:'V',\\nctrl:true,\\nfn:function(){clickBtn(pasteBtn);}\\n},\\n\\n{\\nkey:46,\\nfn:function(){clickBtn(deleteBtn);}\\n}]\\n});\\n\\nvar rs=\\\"{#serverPath#}\\\";\\nif(rs!=\\\"\\\")addressCb.store.add({field1:rs});\",\"initialize\":\"Wd.lastCs='';\\nWd.setTotalInfo=function(){\\n  var l=fileStore.getCount(),f,t,b=Wb.space;\\n  t=Str.total+': ' + l;\\n  if(l>0){\\n    f=fileStore.proxy.reader.rawData.folders;\\n    t+=b+Str.folder+': '+f+b+Str.file+': '+(l-f);\\n  }\\n  totalLbl.setText(t,false);\\n};\\nWd.getSelFiles=function(){\\n  var r=Wb.getSelRec(grid1);\\n  Wd.treeSeled=r.length===0;\\n  if(treeSeled)r=Wb.getSelRec(tree1);\\n  return r;\\n};\\nWd.refreshFiles=function(){\\n  grid1.selModel.deselectAll();\\n  fileStore.removeAll();\\n  setTotalInfo();\\n  var n=Wb.getSelNode(tree1),exp=n.isExpanded(),sm=tree1.getSelectionModel();\\n  treeStore1.load({node:n,callback:function(a,b,c){\\n    if(c){\\n      tree1.priorSelNode=null;\\n      Wb.clearNav(backBtn,forwardBtn);\\n      if(exp)n.expand();\\n      sm.deselectAll();\\n      sm.select(n);\\n    }\\n  }});\\n};\\nWd.readFile=function(b){\\n  var r=Wb.getSelRec(grid1),fname,pos;\\n  if(r.length===0||r[0].get('isDir')){Wb.warning(Str.selValid);return;}\\n  Wb.request({url:'main?xwl=13NG48UNA836',params:{charsetCombo:b?charsetCombo.getValue():lastCs},\\n              success:function(x){\\n                if(b){\\n                  lastCs=charsetCombo.getValue();\\n                  textEditor.setValue(x.responseText);\\n                }else{\\n                  fname=r[0].get('text');\\n                  pos=fname.lastIndexOf('.');\\n                  Wd.fileType=pos==-1?'':fname.substring(pos+1);\\n                  Wd.editWin=new Ext.window.Window(_editWin);\\n                  editWin.show();\\n                  charsetCombo.setValue(lastCs);\\n                  textEditor.setValue(x.responseText);\\n                  editWin.dir=r[0].get('dir');\\n                  editWin.selRec=r[0];\\n                  Wb.setTitle(editWin,fname);\\n                }\\n              }\\n             },{file:r[0].get('dir')});\\n};\\nWd.writeFile=function(){\\n  Wb.request({url:'main?xwl=13NG4FHB6K54',params:{editor:textEditor.getValue(),charsetCombo:lastCs},success:function(x){\\n    Wb.updateRecord(editWin.selRec,Ext.decode(x.responseText));\\n    editWin.close();\\n  }},{file:editWin.dir});\\n};\\nWd.newFile=function(isDir){\\n  var f=Wb.getSelNode(tree1),d,n;\\n  Wb.prompt(isDir?Str.newFolder:Str.newFile,[{text:Str.name,allowBlank:false}],\\n            function(v){\\n              Wb.request({url:'main?xwl=13NFVDFG9ONH',success:function(r){\\n                d=Ext.decode(r.responseText);\\n                Wb.insertValue(grid1,d,false);\\n                if(isDir&&f.isLoaded()){\\n                  n={};\\n                  n.text=d.text;\\n                  n.dir=d.dir;\\n                  n.children=[];\\n                  f.appendChild(n);\\n                }\\n                setTotalInfo();\\n                Wb.closePrompt();\\n              }},{isDir:isDir,dir:f.get('dir'),newName:v[0]});\\n            },\\n            false);\\n};\\nWd.exportFile=function(zip){\\n  var f=getSelFiles(),d=[];\\n  Ext.Array.each(f,function(r){\\n    d.push(r.get('dir'));\\n  });\\n  Wb.download('main?xwl=13NH12ZHSRRP',{files:Ext.encode(d),type:zip});\\n};\\nWd.copyFile=function(isCut){\\n  Wd.isCut=isCut;\\n  Wd.lastSelDir=Wb.getSelNode(tree1);\\n  Wd.copyFileList=[];\\n  Ext.Array.each(getSelFiles(),function(r){\\n    Wd.copyFileList.push(r.get('dir'));\\n  });\\n};\\nWd.pasteFile=function(){\\n  var r=Wd.copyFileList,exp,ns=[];\\n  if(r===null||r.length===0){Wb.warning(Str.contentEmpty);return;}\\n  Wb.request({url:'main?xwl=13NH1M6NZ35G',timeout:-1,success:function(x){\\n    if(isCut){\\n      if(Wd.treeSeled)\\n        lastSelDir.remove();\\n      else{\\n        lastSelDir.eachChild(function(n){\\n          if(Wb.indexOf(r,n.get('dir'))!=-1)\\n            ns.push(n);\\n        });\\n        Ext.Array.each(ns,function(n){\\n          n.remove();\\n        });\\n      }\\n    }\\n    refreshFiles();\\n  }},{files:Ext.encode(r),isCut:isCut,dir:Wb.getSelNode(tree1).get('dir')});\\n};\\nWd.deleteFiles=function(){\\n  var d=[],fs=getSelFiles(),s;\\n  if(fs.length==1)s=Wb.format(Str.delConfirm,fs[0].get('text'));\\n  else s=Wb.format(Str.delSelConfirm,fs.length);\\n  Wb.confirm(s,function(){\\n    Ext.Array.each(fs,function(l){\\n      d.push(l.get('dir'));\\n    });\\n    Wb.request({url:'main?xwl=13NHZUK6AFI3',timeout:-1,success:function(x){\\n      var r=Wb.getSelRec(grid1),i,j=r.length,c,n=Wb.getSelNode(tree1),l=n.isLoaded();\\n      if(j>0){\\n        for(i=j-1;i>=0;i--){\\n          fileStore.remove(r[i]);\\n          if(l&&(c=n.findChild('text',r[i].get('text'))))c.remove();\\n        }\\n      }\\n      else Wb.delSelNode(tree1);\\n      setTotalInfo();\\n    }},{files:Ext.encode(d)});\\n  });\\n};\\n\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"#13NFIHSNC6WP (Get Dir)\",\"id\":\"treeStore1\",\"fields\":\"['id','text','dir']\",\"load\":\"Wb.selFirst(tree1);\",\"beforeload\":\"operation.params.dir=operation.node.get('dir');\"},{\"xwlMeta\":\"store\",\"id\":\"fileStore\",\"sorters\":\"{property:'text'}\",\"fields\":\"['text',{name:'size',type:'int'},'isDir','dir','type',{name:'date',type:'date',dateFormat:Wb.dateFormat}]\",\"pageSize\":\"-1\",\"remoteSort\":\"true\",\"url\":\"#13NFIHSNC6XB (Get File)\",\"load\":\"setTotalInfo();\\n\",\"beforeload\":\"grid1.selModel.deselectAll();\"},{\"xwlMeta\":\"toolbar\",\"id\":\"gridBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"type\":\"textItem\",\"id\":\"detailLbl\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"type\":\"textItem\",\"id\":\"totalLbl\"}]},{\"xwlMeta\":\"array\",\"id\":\"editWinBtns\",\"children\":[{\"xwlMeta\":\"comboBox\",\"width\":\"80\",\"pickList\":\"[]\",\"emptyText\":\"@Str.encoding\",\"id\":\"charsetCombo\",\"select\":\"readFile(1);\"},{\"xwlMeta\":\"button\",\"minWidth\":\"50\",\"iconCls\":\"accept_icon\",\"id\":\"applyBtn\",\"text\":\"@Str.apply\",\"click\":\"readFile(1);\"},{\"xwlMeta\":\"clientScript\",\"id\":\"clientScript1\",\"headerScript\":\",'->',\"},{\"xwlMeta\":\"button\",\"iconCls\":\"ok_icon\",\"id\":\"okBtn\",\"text\":\"@Str.ok\",\"click\":\"writeFile();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"cancel_icon\",\"id\":\"cancelBtn\",\"text\":\"@Str.cancel\",\"click\":\"editWin.close();\"}]},{\"xwlMeta\":\"array\",\"id\":\"columnsArray\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"text\",\"id\":\"textCol\",\"renderer\":\"var s;\\nif(record.get('isDir'))s=Wb.getIconCls('folder_icon');\\nelse s=Wb.getIcon('main?xwl=13MY44A9AOKN&file='+encodeURIComponent(record.get('dir')));\\nreturn s+value;\",\"text\":\"@Str.name\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"size\",\"id\":\"sizeCol\",\"renderer\":\"var l=record.get('size'),f=Ext.util.Format;\\nif(l==null)return '';\\nreturn f.number(l>0&&l<1024 ? 1:f.round(l/1024,0),'0,000 KB');\",\"text\":\"@Str.size\",\"align\":\"right\",\"width\":\"90\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"type\",\"id\":\"typeCol\",\"text\":\"@Str.type\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"date\",\"id\":\"dateCol\",\"text\":\"@Str.modifiedDate\",\"width\":\"160\"}]},{\"xwlMeta\":\"array\",\"id\":\"toolBarArray\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"mainBar\",\"tagProperties\":\"dock:'top'\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.file\",\"id\":\"fileMenu\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.newFile\",\"iconCls\":\"new_icon\",\"id\":\"newFileBtn\",\"click\":\"newFile(false);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.newFolder\",\"iconCls\":\"folder_icon\",\"id\":\"newFolderBtn\",\"click\":\"newFile(true);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"readFile();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.rename\",\"iconCls\":\"rename_icon\",\"id\":\"renameBtn\",\"click\":\"var f=getSelFiles();\\nif(f.length!=1)Wb.warning(Str.selValid);\\nelse{\\nf=f[0];\\nWb.prompt(Str.rename,[{text:Str.name,value:f.get('text'),allowBlank:false}],\\nfunction(v){\\nWb.request({url:'main?xwl=13NFUAKDGYQD',success:function(r){\\nf.set('text',v[0]);\\nf.set('dir',Ext.decode(r.responseText).dir);\\nf.commit();\\nWb.closePrompt();\\n}},{dir:f.get('dir'),newName:v[0]});\\n},\\nfalse);\\n}\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.importStr\",\"type\":\"split\",\"iconCls\":\"import_icon\",\"id\":\"importBtn\",\"click\":\"impWin.importType=0;\\nimpWin.setTitle(Str.importStr);\\nimpWin.show();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.importExtract\",\"iconCls\":\"zip_icon\",\"id\":\"importUnzipBtn\",\"click\":\"impWin.importType=1;\\nimpWin.setTitle(Str.importExtract);\\nimpWin.show();\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.exportStr\",\"type\":\"split\",\"iconCls\":\"export_icon\",\"id\":\"exportBtn\",\"click\":\"exportFile(0);\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.exportCompress\",\"iconCls\":\"zip_icon\",\"id\":\"exportZipBtn\",\"click\":\"exportFile(1);\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.cut\",\"type\":\"split\",\"iconCls\":\"cut_icon\",\"id\":\"cutBtn\",\"click\":\"copyFile(true);\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.copy\",\"iconCls\":\"copy_icon\",\"id\":\"copyBtn\",\"click\":\"copyFile(false);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.paste\",\"iconCls\":\"paste_icon\",\"id\":\"pasteBtn\",\"click\":\"pasteFile();\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"delete_icon\",\"id\":\"deleteBtn\",\"click\":\"deleteFiles();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem5\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"upward_icon\",\"id\":\"upwardBtn\",\"tooltip\":\"@Str.upward\",\"click\":\"var n=Wb.getSelNode(tree1);\\nif(n.getDepth()>1)tree1.getSelectionModel().select(n.parentNode);\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"prior_icon\",\"id\":\"backBtn\",\"tooltip\":\"@Str.back\",\"arrowclick\":\"Wb.showNavMenu(backBtn,forwardBtn,true);\",\"click\":\"Wb.navBack(backBtn,forwardBtn);\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"next_icon\",\"id\":\"forwardBtn\",\"tooltip\":\"@Str.forward\",\"arrowclick\":\"Wb.showNavMenu(forwardBtn,backBtn,false);\",\"click\":\"Wb.navFwd(backBtn,forwardBtn);\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"refresh_icon\",\"id\":\"refreshBtn\",\"tooltip\":\"@Str.refresh\",\"click\":\"refreshFiles();\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"addressBar\",\"tagProperties\":\"dock:'top'\",\"children\":[{\"xwlMeta\":\"label\",\"id\":\"label1\",\"html\":\"{#Str.address#}:&nbsp;\"},{\"xwlMeta\":\"comboBox\",\"autoSelect\":\"false\",\"tagProperties\":\"flex:1\",\"pickList\":\"[]\",\"id\":\"addressCb\",\"select\":\"goBtn.fireEvent('click');\",\"specialkey\":\"Wb.checkEnter(function(){goBtn.fireEvent('click');},comboBox);\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"go_icon\",\"id\":\"goBtn\",\"tooltip\":\"@Str.ok\",\"click\":\"var s=addressCb.getValue();\\ntree1.selectPath('/Root/'+s,'text','/',function(b){\\nif(b)Wb.save(addressCb);\\n});\"}]}]},{\"xwlMeta\":\"window\",\"autoCreate\":\"false\",\"iconCls\":\"edit_icon\",\"id\":\"editWin\",\"title\":\"@Str.edit\",\"height\":\"400\",\"layout\":\"fit\",\"tagProperties\":\"onEsc:Ext.emptyFn\",\"dialog\":\"false\",\"modal\":\"true\",\"width\":\"600\",\"buttons\":\"editWinBtns\",\"maximized\":\"true\",\"maximizable\":\"true\",\"show\":\"setTimeout(function(){textEditor.focus();},20);\",\"afterrender\":\"var f=charsetCombo.valueField,i,x,r=[]\\n d=['['+Str.defaultStr+']','UTF-8','{#Var.charset#}','{#Var.sysDbCharset#}','{#Var.fileNameCharset#}'];\\nfor(i=0;i<d.length;i++){\\nif(d[i]){\\nx={};\\nx[f]=d[i];\\nr.push(x);\\n}\\n}\\ncharsetCombo.store.add(r);\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"bgColor\":\"#FFFFFF\",\"id\":\"panel1\",\"height\":\"120\",\"layout\":\"fit\",\"split\":\"true\",\"html\":\"<textarea id='mrEditor' name='mrEditor'><\\/textarea>\",\"afterrender\":\"var obj;\\nswitch(fileType){\\n  case 'js':\\n    obj={\\n      gutters:['CodeMirror-lint-markers'],\\n      lint:true,\\n      matchBrackets:true,\\n      mode:'text/javascript'\\n    };\\n    break;\\n  case 'java':\\n    obj={mode:'text/x-java',matchBrackets:true};\\n    break;\\n  case 'c':\\n    obj={mode : 'text/x-csrc',matchBrackets:true};\\n    break;\\n  case 'cpp':\\n    obj={mode:'text/x-c++src',matchBrackets:true};\\n    break;  \\n  case 'xml':\\n    obj={mode:'text/x-xml'};\\n    break;\\n  case 'html':\\n  case 'htm':\\n    obj={mode:'text/html'};\\n    break;\\n  case 'css':\\n    obj={mode:'text/css'};\\n    break;\\n  case 'sql':\\n    obj={mode:'text/x-sql',matchBrackets:true};\\n    break;\\n  default:\\n    obj={mode:'text/plain'};\\n}\\nExt.apply(obj,{\\n  lineNumbers : true\\n} );\\nWd.textEditor=CodeMirror.fromTextArea(Wb.dom('mrEditor'),obj);\\n\",\"resize\":\"Ext.fly(textEditor.getScrollerElement()).setHeight(adjHeight-4);\\ntextEditor.refresh();\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"import_icon\",\"id\":\"impWin\",\"title\":\"@Str.importStr\",\"height\":125,\"layout\":\"fit\",\"defaultFocus\":\"uploadFile\",\"width\":\"375\",\"clickOK\":\"var f=Wb.getSelNode(tree1);\\nform1.params={dir:f.get('dir'),type:impWin.importType};\\nWb.upload(form1);\",\"children\":[{\"xwlMeta\":\"form\",\"showProgress\":\"true\",\"id\":\"form1\",\"height\":66,\"layout\":\"absolute\",\"width\":369,\"url\":\"#13NGP7MVIZ9U (Import)\",\"frame\":\"true\",\"y\":0,\"x\":0,\"success\":\"impWin.hide();\\nrefreshFiles();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"{#Str.file#}:\",\"width\":88,\"align\":\"right\",\"id\":\"label3\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"uploadFile\",\"height\":22,\"inputType\":\"file\",\"allowBlank\":\"false\",\"width\":\"220\",\"y\":\"16\",\"x\":\"96\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"mainPanel\",\"layout\":\"border\",\"dockedItems\":\"toolBarArray\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"treeStore1\",\"id\":\"tree1\",\"width\":\"300\",\"rootVisible\":\"false\",\"split\":\"true\",\"selectionchange\":\"if(selections.length==0)return;\\nvar n=selections[0];\\nfileStore.params.dir=n.get('dir');\\nWb.load(fileStore);\\nn.ownerTree=tree1;\\nif(tree1.priorSelNode)Wb.recNav(n,tree1.priorSelNode,backBtn);\\ntree1.priorSelNode=n;\\naddressCb.setValue(n.getPath('text').substring(6));\"},{\"xwlMeta\":\"grid\",\"store\":\"fileStore\",\"columns\":\"columnsArray\",\"bbar\":\"gridBar\",\"split\":\"true\",\"region\":\"center\",\"id\":\"grid1\",\"autoLoad\":\"false\",\"itemdblclick\":\"var n,f;\\nif(record.get('isDir')){\\n  n=Wb.getSelNode(tree1);\\n  n.expand(false,function(a,b,c){\\n    tree1.getSelectionModel().select(n.findChild('text',record.get('text')));\\n  });\\n}\\nelse {\\n  f=record.get('text');\\n  n=f.lastIndexOf('.');\\n  if(n!=-1&&Wb.indexOf(\\n    ['txt','bat','cfg','ini','xml','html','htm','log','c','cpp','java','asm','sql','css','js'],\\n    f.substring(n+1).toLowerCase())!=-1) readFile();\\n  else exportFile(0);\\n}\\nevent.stopEvent();\\n\",\"selectionchange\":\"var l=selected.length,s;\\nif(l==0)detailLbl.setText('');\\nelse if(l==1){\\ns=selected[0].get('size');\\ndetailLbl.setText(s==null?'':Str.size+': '+Ext.util.Format.number(s,'0,000 B'));\\n}\\nelse detailLbl.setText(Wb.format(Str.items,l));\"}]}]}]}","{#Str.fileManager#}","explorer_icon",0,0,"admin","2012-04-17 12:52:42.0","admin","2014-07-10 07:37:54.0",48],["forum","13NI9J9925AR","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Web Development Forum\",\"createBody\":\"false\",\"loginRequired\":\"false\",\"children\":[{\"xwlMeta\":\"query\",\"id\":\"query1\",\"sql\":\"select SET_TOP,BBS_ID,TITLE,CREATE_DATE from WB_BBS_TITLE order by SET_TOP desc,CREATE_DATE desc\"},{\"xwlMeta\":\"method\",\"id\":\"createRobotPage\",\"methodName\":\"com.webbuilder.interact.BBS.createRobotPage\"}]}","Robot Entry","get_icon",0,0,"admin","2012-05-16 10:35:57.0","admin","2012-05-17 10:15:20.0",15],["ghost","23WNS7OEJUTK","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"系统参数\",\"loginRequired\":\"false\",\"initScript\":\"var contextPath = request.getContextPath();\\nrequest.setAttribute('contextPath',contextPath);\\n\\nvar godMoadl = request.getSession().getAttribute(\\\"XzSessionVars\\\").get('godMode');\\nrequest.setAttribute(\\\"godMoadl\\\",godMoadl);\",\"finalize\":\"if('{#godMoadl#}' == 'Y'){\\n  godImg.setSrc('pub/uip/common/icon/god_run.jpg');\\n}else{\\n  godImg.setSrc('pub/uip/common/icon/god_stop.jpg');\\n}\",\"initialize\":\"var  totalTime = 60;\\nfunction startTest(){\\n  if(totalTime === 0){\\n  wxTest.setDisabled(false);\\n  wxTest.setText('微信测试');\\n  totalTime = 60;\\n}else{\\n  wxTest.setDisabled(true);\\n  wxTest.setText('重新测试('+totalTime+'s)');\\n  totalTime--;\\n  setTimeout(function(){\\n     startTest();\\n   },1000);\\n}\\n}\",\"children\":[{\"xwlMeta\":\"folder\",\"id\":\"windows\",\"children\":[{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"id\":\"wxWin\",\"title\":\"微信测试窗口\",\"height\":\"130\",\"layout\":\"form\",\"border\":\"false\",\"width\":\"380\",\"frame\":\"false\",\"clickOK\":\"if(Ext.isEmpty(toUsers.getValue()) || Ext.isEmpty(content.getValue())){\\n   Wb.warning('请填写所有必填项！');\\n   return fasle;\\n}\\nWb.wait('消息发送中,请稍后...');\\nExt.Ajax.request({ \\n  url:'{#contextPath#}'+'/deptTreeAction.do?method=wxConnectTest',\\n  params: { \\n       toUserName:toUsers.getValue(),\\n       content:content.getValue()    \\n         },\\t\\t\\n  method: 'POST',\\t\\t\\n  success: function(response, options) { // 回调函数有2个参数\\n    var msgBody = Ext.decode(response.responseText);\\n    Wb.message(msgBody.msg);\\n    wxWin.close();\\n    startTest();\\n  },\\n  failure: function(response, options) {\\n    var msgBody = Ext.decode(response.responseText);\\n    Wb.message(msgBody.msg);\\n  }\\n});\",\"children\":[{\"xwlMeta\":\"text\",\"emptyText\":\"请填写接收人的微信企业号通讯录账号\",\"fieldLabel\":\"<font color='red'>*<\\/font>消息接收人\",\"id\":\"toUsers\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"},{\"xwlMeta\":\"text\",\"fieldLabel\":\"<font color='red'>*<\\/font>消息内容\",\"id\":\"content\",\"labelWidth\":\"80\",\"labelAlign\":\"right\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"btnsPanel\",\"height\":798,\"layout\":\"absolute\",\"columnWidth\":\".5\",\"width\":1473,\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"godPanel\",\"height\":40,\"columnWidth\":\".5\",\"width\":336,\"y\":24,\"x\":32},{\"xwlMeta\":\"label\",\"text\":\"上帝模式：\",\"width\":64,\"id\":\"label1\",\"height\":22,\"y\":32,\"x\":96},{\"xwlMeta\":\"button\",\"id\":\"enableGod\",\"height\":22,\"text\":\"开启\",\"width\":56,\"y\":32,\"x\":216,\"click\":\"Ext.Msg.confirm('提示','确定开启上帝模式?',function(a){\\n  if(a=='yes'){\\n    Ext.Ajax.request({\\n      url : '{#contextPath#}' +'/platformAction.do?method=openGodModal',\\n      //params:{},\\n      method: 'POST',\\n      success: function(response,options){\\n        Ext.Msg.alert('提示','已经开启上帝模式!');\\n        godImg.setSrc('pub/uip/common/icon/god_run.jpg');\\n        \\n        var win = window;\\n        while(win != win.parent){\\n           win = win.parent;\\n        }\\n        \\n        win.location.href = '{#contextPath#}';\\n      },\\n      failure: function(response,options){\\n        Ext.Msg.alert('错误','服务器没有响应');\\n      }\\n    });\\n  }\\n});\"},{\"xwlMeta\":\"button\",\"id\":\"disableGod\",\"height\":22,\"text\":\"关闭\",\"width\":56,\"y\":32,\"x\":280,\"click\":\"Ext.Msg.confirm('提示','确定关闭上帝模式?',function(a){\\n  if(a=='yes'){\\n    Ext.Ajax.request({\\n      url : '{#contextPath#}' +'/platformAction.do?method=closeGodModal',\\n      //params:{},\\n      method: 'POST',\\n      success: function(response,options){\\n        Ext.Msg.alert('提示','已经关闭上帝模式!');\\n        godImg.setSrc('pub/uip/common/icon/god_stop.jpg');\\n        \\n        var win = window;\\n        while(win != win.parent){\\n           win = win.parent;\\n        }\\n        \\n        win.location.href = '{#contextPath#}';\\n      },\\n      failure: function(response,options){\\n        Ext.Msg.alert('错误','服务器没有响应');\\n      }\\n    });\\n  }\\n});\"},{\"xwlMeta\":\"panel\",\"id\":\"sysPanel\",\"height\":40,\"columnWidth\":\".5\",\"width\":336,\"y\":80,\"x\":32},{\"xwlMeta\":\"label\",\"text\":\"系统参数：\",\"width\":64,\"id\":\"label11\",\"height\":22,\"y\":88,\"x\":96},{\"xwlMeta\":\"button\",\"id\":\"refreshSys\",\"height\":22,\"text\":\"刷新\",\"width\":56,\"y\":88,\"x\":216,\"click\":\"Ext.Msg.confirm('提示','确定刷新系统参数?',function(a){\\n  if(a=='yes'){\\n    var win = window;\\n    while(win != win.parent){\\n       win = win.parent;\\n    }\\n    win.location.href = '{#contextPath#}' + '/platformAction.do?method=reloadSysParams&op=GHOST';\\n  }\\n});\"},{\"xwlMeta\":\"panel\",\"id\":\"sysConfigs\",\"height\":40,\"columnWidth\":\".5\",\"width\":336,\"y\":136,\"x\":32},{\"xwlMeta\":\"label\",\"text\":\"系统配置：\",\"width\":64,\"id\":\"label111\",\"height\":22,\"y\":144,\"x\":96},{\"xwlMeta\":\"button\",\"id\":\"refreshConfigs\",\"height\":22,\"text\":\"刷新\",\"width\":56,\"y\":144,\"x\":216,\"click\":\"Ext.Msg.confirm('提示','确定刷新系统配置?',function(a){\\n  if(a=='yes'){\\n    var win = window;\\n    while(win != win.parent){\\n       win = win.parent;\\n    }\\n    win.location.href = '{#contextPath#}' + '/platformAction.do?method=reloadXipConfig&op=GHOST';\\n  }\\n});\"},{\"xwlMeta\":\"image\",\"id\":\"godImg\",\"height\":30,\"width\":30,\"y\":29,\"x\":48},{\"xwlMeta\":\"panel\",\"id\":\"wxConnect\",\"height\":48,\"columnWidth\":\".5\",\"width\":336,\"y\":192,\"x\":32},{\"xwlMeta\":\"button\",\"id\":\"wxTest\",\"height\":22,\"text\":\"微信测试\",\"width\":\"90\",\"y\":200,\"x\":216,\"click\":\"wxWin.show();\\n\\n\"},{\"xwlMeta\":\"label\",\"text\":\"微信测试：\",\"width\":\"64\",\"id\":\"微信测试：\",\"height\":22,\"y\":200,\"x\":96},{\"xwlMeta\":\"image\",\"id\":\"image1\",\"height\":30,\"width\":30,\"src\":\"pub/uip/common/icon/wx02.png\",\"y\":200,\"x\":48}]}]}]}","控制面板",null,0,0,"admin","2015-04-09 11:11:57.0","admin","2015-09-23 17:04:12.0",1],["ide","13LRIOHKYMUT","{\"xwlMeta\":\"module\",\"id\":\"ide\",\"title\":\"{#Str.ide#}\",\"initMethod\":\"com.webbuilder.interact.Designer.initialize\",\"jsFiles\":\"[\\\"webbuilder/script/designer.js\\\",\\\"webbuilder/script/portal.js\\\",\\\"webbuilder/controls/codemirror/mixed.js\\\"]\",\"loginRequired\":\"true\",\"head\":\"<style type=\\\"text/css\\\">\\n.CodeMirror{height:100%;font-size:13px;font-weight:400;line-height:1.4;font-family:Courier New;}\\n.CodeMirror-Scroll{height:100%;}\\n<\\/style>\",\"cssFiles\":\"[\\\"webbuilder/css/designer.css\\\",\\\"webbuilder/controls/codemirror/mixed.css\\\"]\",\"finalize\":\"Ds.finalize();\",\"beforeunload\":\"var s=Ds.getModifiedTitle();\\nif(s) return Wb.format(Str.modified,s);\",\"initialize\":\"Wd.idepath={#idepath#};\\nDs.editorTheme={#editorTheme#};\\nDs.initialize();\",\"children\":[{\"xwlMeta\":\"clientScript\",\"id\":\"initScript\",\"headerScript\":\"{#dsIconScript#}\\n{#dsJndiScript#}\\nDs.restoreIcon();\"},{\"xwlMeta\":\"treeStore\",\"url\":\"main?xwl=13L88K98GZO3\",\"id\":\"moduleStore\",\"sorters\":\"{property:'ORDER_INDEX'}\",\"fields\":\"Ds.moduleTreeFields\",\"load\":\"if(!Wd.pathInited){\\nWd.pathInited=true;\\nif(idepath.length<2)Wb.selFirst(moduleTree);\\nelse moduleTree.selectPath(idepath,'MODULE_ID','\\\\n');\\n}\",\"beforeload\":\"operation.params.parentId=operation.node.get('MODULE_ID');\"},{\"xwlMeta\":\"treeStore\",\"url\":\"main?xwl=13L88K98GZO5&r\",\"id\":\"controlStore\",\"fields\":\"Ds.objectTreeFields\",\"load\":\"Ds.controlStoreLoad();\"},{\"xwlMeta\":\"store\",\"id\":\"findBkStore\",\"url\":\"#13NU7H8CPITQ (Find Backup)\",\"showMask\":\"false\"},{\"xwlMeta\":\"store\",\"id\":\"searchStore\",\"fields\":\"['value','name','module','moduleId','iconCls','objId']\",\"pageSize\":\"1000\",\"url\":\"#13NMWVOKY2JF (Search)\",\"output\":\"findWin\",\"load\":\"viewTab.setActiveTab(searchGrid);\\nviewTab.show();\\nfindWin.hide();\",\"beforeload\":\"var t=Ds.at();\\nif (t)operation.params={module:t.saveUrl?t.modId:t.id.substring(2)};\"},{\"xwlMeta\":\"toolbar\",\"id\":\"mainToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"new_icon\",\"id\":\"newBtn\",\"tooltip\":\"Append Module (Ctrl+N)\",\"click\":\"Ds.createModule(false);\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Insert Module (Ctrl+Shift+N)\",\"id\":\"insertModuleItem\",\"click\":\"Ds.createModule(true);\"}]},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"folder_icon\",\"id\":\"newFolderBtn\",\"tooltip\":\"Append Folder (Ctrl+M)\",\"click\":\"Ds.createFolder(false);\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Insert Folder (Ctrl+Shift+M)\",\"id\":\"insertFolderItem\",\"click\":\"Ds.createFolder(true);\"}]},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"property_icon\",\"id\":\"propertyBtn\",\"tooltip\":\"Properties (Ctrl+E)\",\"click\":\"Ds.getModuleProperties();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem1\"},{\"xwlMeta\":\"menuItem\",\"minWidth\":\"240\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"disabled\":\"true\",\"tooltip\":\"Save (Ctrl+S)\",\"click\":\"Ds.delaySave(false);\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"saveAll_icon\",\"id\":\"saveAllBtn\",\"disabled\":\"true\",\"tooltip\":\"Save All (Ctrl+Shift+S)\",\"click\":\"Ds.delaySave(true);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem2\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"cut_icon\",\"id\":\"cutBtn\",\"tooltip\":\"Cut (Ctrl+X)\",\"click\":\"Ds.cutControl();\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"copy_icon\",\"id\":\"copyBtn\",\"tooltip\":\"Copy (Ctrl+C)\",\"click\":\"Ds.copyControl();\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"paste_icon\",\"id\":\"pasteBtn\",\"tooltip\":\"Paste (Ctrl+V)\",\"click\":\"Ds.pasteControl();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Paste as Child (Ctrl+Shift+V)\",\"id\":\"pasteChildItem\",\"click\":\"Ds.pasteControl(true);\"}]},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"tooltip\":\"Delete (Ctrl+Del)\",\"click\":\"Ds.removeControl();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Delete Children (Ctrl+Shift+Del)\",\"id\":\"delChildren\",\"click\":\"Ds.removeChildren();\"}]},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"window_icon\",\"id\":\"editFormBtn\",\"tooltip\":\"Form Designer (Ctrl+D)\",\"click\":\"Ds.editAbsLayout();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"sepItem3\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"run_icon\",\"id\":\"runBtn\",\"tooltip\":\"Save and Run (Ctrl+Q)\",\"click\":\"Ds.delayRun();\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"get_icon\",\"id\":\"retModuleBtn\",\"tooltip\":\"Return to Module\",\"click\":\"Ds.retModule();\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"view_icon\",\"id\":\"viewBtn\",\"tooltip\":\"Toggle Show View\",\"click\":\"if(viewTab.isVisible())Ds.hideView();\\nelse Ds.showView();\\n\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Search Modules... &nbsp;&nbsp;&nbsp;(Ctrl+K)\",\"iconCls\":\"find_icon\",\"id\":\"searchBtn\",\"click\":\"findWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Console\",\"iconCls\":\"viewport_icon\",\"id\":\"consoleBtn\",\"click\":\"Ds.showView(0);\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"type\":\"split\",\"id\":\"sepItem4\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"prior_icon\",\"id\":\"backBtn\",\"tooltip\":\"Back\",\"arrowclick\":\"Wb.showNavMenu(backBtn,forwardBtn,true);\",\"click\":\"Wb.navBack(backBtn,forwardBtn);\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"next_icon\",\"id\":\"forwardBtn\",\"tooltip\":\"Forward\",\"arrowclick\":\"Wb.showNavMenu(forwardBtn,backBtn,false);\",\"click\":\"Wb.navFwd(backBtn,forwardBtn);\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"home_icon\",\"id\":\"generalBtn\",\"tooltip\":\"Show General Tab (Ctrl+J)\",\"click\":\"Ds.showGeneral();\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"close_icon\",\"id\":\"closeBtn\",\"tooltip\":\"Close All Modules\",\"click\":\"Ds.close(1);\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Close Other Modules\",\"id\":\"closeOthersItem\",\"click\":\"Ds.close(2);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"divLine1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Close All Module Items\",\"id\":\"closeChildrenItem\",\"click\":\"Ds.close(3);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Close Other Module Items\",\"id\":\"closeOtherChildrenItem\",\"click\":\"Ds.close(4);\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"export_icon\",\"id\":\"expSelPackBtn\",\"tooltip\":\"Export Selected Modules\",\"click\":\"Ds.expPack(1);\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Export All Modules\",\"id\":\"expPackBtn\",\"click\":\"Ds.expPack();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Export Current Opened Module\",\"id\":\"expBtn\",\"click\":\"Ds.expModule();\"}]},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"import_icon\",\"id\":\"impPackBtn\",\"tooltip\":\"Import and Merge Modules\",\"click\":\"Ds.impPack();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Import to Current Opened Module\",\"id\":\"impBtn\",\"click\":\"Ds.impModule();\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"spaceBtn\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Options\",\"iconCls\":\"option_icon\",\"id\":\"optionsBtn\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Script Editor Theme\",\"id\":\"seTheme\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Default\",\"id\":\"defaultTh\",\"group\":\"sem\",\"checked\":\"false\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Night\",\"id\":\"nightTh\",\"group\":\"sem\",\"checked\":\"false\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Blackboard\",\"id\":\"bbTh\",\"group\":\"sem\",\"checked\":\"false\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Eclipse\",\"id\":\"eclipseTh\",\"group\":\"sem\",\"checked\":\"false\"},{\"xwlMeta\":\"menuItem\",\"text\":\"MBO\",\"id\":\"mboTh\",\"group\":\"sem\",\"checked\":\"false\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Rubyblue\",\"id\":\"rbTh\",\"group\":\"sem\",\"checked\":\"false\"}]}]},{\"xwlMeta\":\"menuItem\",\"text\":\"Tools\",\"iconCls\":\"tool_icon\",\"id\":\"toolMenu\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Database Explorer\",\"iconCls\":\"seek_icon\",\"id\":\"dbeItem\",\"click\":\"Ds.invoke('dbe',Str.dbe,'seek_icon');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"File Manager\",\"iconCls\":\"explorer_icon\",\"id\":\"expItem\",\"click\":\"Ds.invoke('file',Str.fileManager,'explorer_icon');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Backup All Modules\",\"id\":\"backupItem\",\"click\":\"Ds.backup();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Backup Restore\",\"id\":\"restoreItem\",\"click\":\"restoreWin.show();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Export Application Package\",\"iconCls\":\"module_icon\",\"id\":\"expPackItem\",\"click\":\"Wb.download('main?xwl=13MZKX2KO16T');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Refresh System\",\"iconCls\":\"refresh_icon\",\"id\":\"reloadItem\",\"click\":\"Ds.refresh();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"WebBuilder Docs\",\"iconCls\":\"hf_icon\",\"id\":\"docsItem1\",\"click\":\"Ds.invoke('docs',Str.wbDocs,'hf_icon');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Sencha Docs\",\"iconCls\":\"help_icon\",\"id\":\"docsItem2\",\"click\":\"window.open('http://extjs-doc-cn.github.io/ext4api/');\"}]}]},{\"xwlMeta\":\"toolbar\",\"id\":\"moduleBar\",\"titleToolbar\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"id\":\"refreshModuleBtn\",\"toolType\":\"refresh\",\"tooltip\":\"@Str.refresh\",\"click\":\"Wb.refresh(moduleTree,'MODULE_ID');\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"consoleBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"Refresh\",\"iconCls\":\"refresh_icon\",\"id\":\"refreshBtn\",\"tooltip\":\"Refresh Immediately\",\"click\":\"Ds.reqConsole=false;\\nDs.queryConsole();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Clear\",\"iconCls\":\"delete_icon\",\"id\":\"clearBtn\",\"tooltip\":\"Clear Console\",\"click\":\"Ds.clearConsole();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"Pause\",\"iconCls\":\"pause_icon\",\"id\":\"toggleBtn\",\"tooltip\":\"Pause / Resume Monitor Console\",\"click\":\"if(Ds.consolePaused){\\ntoggleBtn.setIconCls('pause_icon');\\ntoggleBtn.setText('Pause');\\n}\\nelse{\\ntoggleBtn.setIconCls('resume_icon');\\ntoggleBtn.setText('Resume');\\n}\\nDs.consolePaused=!Ds.consolePaused;\"}]},{\"xwlMeta\":\"array\",\"id\":\"searchGridCols\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"value\",\"id\":\"valueCol\",\"renderer\":\"return value;\",\"text\":\"Value\",\"flex\":\"1\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"name\",\"id\":\"nameCol\",\"text\":\"Name\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"module\",\"id\":\"moduleCol\",\"text\":\"Module\",\"width\":\"150\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"new_icon\",\"id\":\"newWin\",\"title\":\"window\",\"height\":296,\"layout\":\"absolute\",\"defaultFocus\":\"titleEdit\",\"width\":453,\"clickOK\":\"Ds.commitSet();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"*Title:\",\"width\":80,\"align\":\"right\",\"id\":\"titleLabel\",\"height\":22,\"y\":16,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"titleEdit\",\"height\":22,\"allowBlank\":\"false\",\"width\":312,\"y\":16,\"x\":96},{\"xwlMeta\":\"label\",\"text\":\"Icon:\",\"width\":80,\"align\":\"right\",\"id\":\"iconLabel\",\"height\":22,\"y\":48,\"x\":8},{\"xwlMeta\":\"comboBox\",\"store\":\"@Ds.iconList\",\"height\":22,\"width\":312,\"queryMode\":\"local\",\"id\":\"iconCombo\",\"listConfig\":\"{\\ngetInnerTpl : function() {\\nreturn '<div style=\\\"background-image:url(webbuilder/images/{field3}.gif);\\\" class=\\\"wb_combo_icon\\\">{field1}<\\/div>';\\n}\\n}\",\"typeAhead\":\"true\",\"y\":48,\"x\":96},{\"xwlMeta\":\"label\",\"text\":\"Create:\",\"width\":80,\"align\":\"right\",\"id\":\"createLabel\",\"height\":22,\"y\":80,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"createDate\",\"bgColor\":\"#C0C0C0\",\"height\":22,\"width\":312,\"readOnly\":\"true\",\"y\":80,\"x\":96},{\"xwlMeta\":\"label\",\"text\":\"Last Modified:\",\"width\":80,\"align\":\"right\",\"id\":\"lastModiLabel\",\"height\":22,\"y\":112,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"lastModiDate\",\"bgColor\":\"#C0C0C0\",\"height\":22,\"width\":312,\"readOnly\":\"true\",\"y\":112,\"x\":96},{\"xwlMeta\":\"label\",\"text\":\"ID:\",\"width\":80,\"align\":\"right\",\"id\":\"idLabel\",\"height\":22,\"y\":144,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"moduleIdEdit\",\"bgColor\":\"#C0C0C0\",\"height\":22,\"width\":312,\"readOnly\":\"true\",\"y\":144,\"x\":96},{\"xwlMeta\":\"check\",\"width\":144,\"id\":\"hiddenCheck\",\"height\":22,\"boxLabel\":\"Hidden in the list\",\"y\":176,\"x\":96},{\"xwlMeta\":\"check\",\"width\":168,\"id\":\"newWinCheck\",\"height\":22,\"boxLabel\":\"Run in the new window\",\"y\":176,\"x\":240}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"find_icon\",\"id\":\"findWin\",\"title\":\"Search Modules\",\"height\":144,\"layout\":\"absolute\",\"autoReset\":\"false\",\"defaultFocus\":\"searchText\",\"width\":450,\"clickOK\":\"Wb.save(searchText);\\nWb.load(searchStore);\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Search Text:\",\"width\":80,\"id\":\"searchLbl\",\"height\":22,\"y\":16,\"x\":16},{\"xwlMeta\":\"comboBox\",\"height\":22,\"selectOnFocus\":\"true\",\"width\":320,\"pickList\":\"[]\",\"id\":\"searchText\",\"y\":16,\"x\":104},{\"xwlMeta\":\"check\",\"width\":96,\"id\":\"caseCheck\",\"height\":22,\"boxLabel\":\"Case sensitive\",\"y\":48,\"x\":16},{\"xwlMeta\":\"check\",\"width\":96,\"id\":\"allCheck\",\"height\":22,\"checked\":\"true\",\"boxLabel\":\"Search all\",\"y\":48,\"x\":120},{\"xwlMeta\":\"check\",\"width\":96,\"id\":\"keyCheck\",\"height\":22,\"boxLabel\":\"Name only\",\"y\":48,\"x\":224},{\"xwlMeta\":\"check\",\"width\":96,\"id\":\"regCheck\",\"height\":22,\"boxLabel\":\"Regular exp\",\"y\":48,\"x\":328,\"change\":\"caseCheck.setDisabled(check.getValue());\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"import_icon\",\"id\":\"restoreWin\",\"title\":\"Backup Restore\",\"height\":150,\"layout\":\"absolute\",\"defaultFocus\":\"findBk\",\"width\":397,\"clickOK\":\"Ds.restore();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Please select a backup copy to restore:\",\"width\":352,\"id\":\"label1\",\"height\":22,\"y\":16,\"x\":16},{\"xwlMeta\":\"comboBox\",\"store\":\"findBkStore\",\"height\":22,\"queryDelay\":\"160\",\"allowBlank\":\"false\",\"width\":352,\"pageSize\":\"Wb.pageSize\",\"id\":\"findBk\",\"displayField\":\"HIS_TITLE\",\"y\":48,\"x\":16}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"import_icon\",\"id\":\"impWin\",\"title\":\"@Str.importStr\",\"height\":125,\"layout\":\"fit\",\"defaultFocus\":\"uploadFile\",\"width\":\"375\",\"clickOK\":\"Ds.doImp();\",\"children\":[{\"xwlMeta\":\"form\",\"id\":\"form1\",\"height\":66,\"layout\":\"absolute\",\"width\":369,\"frame\":\"true\",\"y\":0,\"x\":0,\"success\":\"Ds.finishImp(value);\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"{#Str.file#}:\",\"width\":88,\"align\":\"right\",\"id\":\"label3\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"uploadFile\",\"height\":22,\"inputType\":\"file\",\"allowBlank\":\"false\",\"width\":\"220\",\"y\":\"16\",\"x\":\"96\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"tbar\":\"mainToolbar\",\"id\":\"mainPanel\",\"layout\":\"border\",\"border\":\"false\",\"html\":\"dfdf;\\nfor(\\n<table>\\n<\\/table>\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"moduleStore\",\"collapsible\":\"true\",\"iconCls\":\"explorer_icon\",\"id\":\"moduleTree\",\"tools\":\"moduleBar\",\"title\":\"Module Explorer\",\"width\":\"220\",\"rootVisible\":\"false\",\"split\":\"true\",\"viewConfig\":\"Ds.moduleTreeConfig()\",\"itemdblclick\":\"if(!record.get('IS_FOLDER')){\\nDs.createTab(record.get('text'),record.get('MODULE_ID'),record.get('iconCls'));\\nDs.moduleSeled=false;\\n}\",\"selectionchange\":\"Wb.get('moduleTree').selectModule=selections[0];\",\"itemmousedown\":\"Ds.moduleSeled=true;\\nview.focus();\\nWb.setDDText(view,record.get('text'));\"},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"setPanel\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"deferredRender\":\"false\",\"bgColor\":\"#787878\",\"id\":\"moduleTab\",\"afterrender\":\"tab.mon(tab.tabBar,'dblclick',Pt.monDbClick,tab);\",\"tabchange\":\"Ds.mdChg(tab,newCard,oldCard);\",\"beforetabchange\":\"Ds.mdBeforeChg(tab,newCard,oldCard);\"},{\"xwlMeta\":\"treePanel\",\"region\":\"east\",\"animate\":\"false\",\"store\":\"controlStore\",\"collapsible\":\"true\",\"iconCls\":\"tool_icon\",\"id\":\"controlTree\",\"title\":\"Control List\",\"width\":160,\"rootVisible\":\"false\",\"split\":\"true\",\"viewConfig\":\"Ds.controlTreeConfig()\",\"itemdblclick\":\"Ds.addControl(record);\",\"itemmousedown\":\"Ds.moduleSeled = false;\\nWb.setDDText(view,record.get('text'));\"},{\"xwlMeta\":\"tabPanel\",\"region\":\"south\",\"id\":\"viewTab\",\"height\":\"150\",\"hidden\":\"true\",\"split\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"autoScroll\":\"true\",\"iconCls\":\"viewport_icon\",\"tbar\":\"consoleBar\",\"id\":\"consolePanel\",\"title\":\"Console\",\"bodyStyle\":\"line-height:18px\",\"activate\":\"Ds.startConsole();\",\"deactivate\":\"Ds.stopConsole();\"},{\"xwlMeta\":\"grid\",\"store\":\"searchStore\",\"columns\":\"searchGridCols\",\"iconCls\":\"find_icon\",\"id\":\"searchGrid\",\"title\":\"@Str.search\",\"autoLoad\":\"false\",\"itemdblclick\":\"Ds.locateItem(record);\"}]}]}]}]}]}","{#Str.ide#}","module_icon",0,1,"admin","2012-02-08 12:00:00.0","23VXQRIVICQQ","2015-03-18 17:56:07.0",40],["index","13LTWFOE5ROX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Var.webbuilder.title#}\",\"initMethod\":\"com.webbuilder.interact.SysModule.initIndex\",\"jsFiles\":\"webbuilder/script/portal.js\",\"finalize\":\"Pt.finalize();\",\"initialize\":\"Pt.indexPath={#indexPath#};\\nWd.desktopData={#desktop#};\\nPt.initialize();\",\"children\":[{\"xwlMeta\":\"treeStore\",\"url\":\"main?xwl=13LTWX2EDCP6\",\"id\":\"moduleStore\",\"sorters\":\"{property:'ORDER_INDEX'}\",\"fields\":\"[{name:'text'},{name:'iconCls'},{name:'MODULE_ID'},{name:'PARENT_ID'},{name:'ORDER_INDEX'},{name:'IS_FOLDER'},{name:'NEW_WIN'}]\",\"load\":\"if(!Wd.pathInited){\\nWd.pathInited=true;\\nif(Pt.indexPath.length<2)Wb.selFirst(moduleTree);\\nelse moduleTree.selectPath(Pt.indexPath,'MODULE_ID','\\\\n');\\n}\",\"beforeload\":\"operation.params.parentId=operation.node.get('MODULE_ID');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NPCFVS59ZT (Save Desktop)\",\"id\":\"saveDesktop\",\"beforerequest\":\"ajax.params.data=Pt.getDesktop();\"},{\"xwlMeta\":\"toolbar\",\"id\":\"moduleTool\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\" \",\"id\":\"blankBtn\"},{\"xwlMeta\":\"label\",\"text\":\"{#Var.webbuilder.title#} {#Var.webbuilder.version#}\",\"id\":\"titleLabel\",\"style\":\"text-shadow:0 -1px 1px #FFFFFF;\"},{\"xwlMeta\":\"menuItem\",\"text\":\" \",\"width\":\"10\",\"id\":\"blankSt\"},{\"xwlMeta\":\"menuItem\",\"text\":\"{#sys.dispName#}\",\"iconCls\":\"user_icon\",\"id\":\"userBtn\",\"click\":\"Wb.open('main?xwl=account',Str.myAccount,'user_icon');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"spaceBtn\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"prior_icon\",\"id\":\"backBtn\",\"tooltip\":\"@Str.back\",\"arrowclick\":\"Wb.showNavMenu(backBtn,forwardBtn,true);\",\"click\":\"Wb.navBack(backBtn,forwardBtn);\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"next_icon\",\"id\":\"forwardBtn\",\"tooltip\":\"@Str.forward\",\"arrowclick\":\"Wb.showNavMenu(forwardBtn,backBtn,false);\",\"click\":\"Wb.navFwd(backBtn,forwardBtn);\"},{\"xwlMeta\":\"menuItem\",\"type\":\"split\",\"iconCls\":\"close_icon\",\"id\":\"closeBtn\",\"tooltip\":\"@Str.closeAll\",\"click\":\"Pt.close(true);\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.closeOthers\",\"id\":\"closeOthersItem\",\"click\":\"Pt.close(false);\"}]},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"align_icon\",\"id\":\"toggleBtn\",\"tooltip\":\"@Str.toggleAppList\",\"click\":\"moduleTree.setVisible(!moduleTree.isVisible());\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"save_icon\",\"id\":\"saveBtn\",\"tooltip\":\"@Str.saveDesktop\",\"click\":\"saveDesktop.request();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"divItem2\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"refresh_icon\",\"id\":\"refreshPageBtn\",\"tooltip\":\"@Str.refreshPage\",\"click\":\"Pt.refresh();\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"ajax_icon\",\"id\":\"refreshModuleBtn\",\"tooltip\":\"@Str.refreshModule\",\"click\":\"Wb.refresh(moduleTree,'MODULE_ID');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"divItem3\"},{\"xwlMeta\":\"menuItem\",\"iconCls\":\"logout_icon\",\"id\":\"logoutBtn\",\"tooltip\":\"@Str.logout\",\"click\":\"Pt.logout();\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"mainPanel\",\"tbar\":\"moduleTool\",\"layout\":\"border\",\"children\":[{\"xwlMeta\":\"treePanel\",\"region\":\"west\",\"animate\":\"false\",\"store\":\"moduleStore\",\"id\":\"moduleTree\",\"width\":\"220\",\"rootVisible\":\"false\",\"split\":\"true\",\"itemclick\":\"Pt.run(record);\"},{\"xwlMeta\":\"tabPanel\",\"region\":\"center\",\"deferredRender\":\"false\",\"id\":\"moduleTab\",\"bgColor\":\"#787878\",\"afterrender\":\"tab.mon(tab.tabBar,'dblclick',Pt.monDbClick,tab);\",\"tabchange\":\"Pt.moduleTabChange(tab,newCard,oldCard,options);\\nWb.recNav(newCard,oldCard,backBtn);\"}]}]}]}","Index","home_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2014-03-25 13:41:39.0",2],["instexp","13NEW7SAG03H","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Export Table\",\"initMethod\":\"com.webbuilder.interact.Install.exportTables\",\"finalize\":\"Wb.message('Tables has been exported.');\"}","Export Table","export_icon",0,0,"admin","2012-07-04 12:01:24.0","admin","2012-07-20 12:01:10.0",12],["log","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.sysLog#}\",\"finalize\":\"Wd.doSearch=function(){\\nif(Wb.verify(toolbar1))Wb.load(store1);\\n}\\n\\nvar d=new Date();\\nbeginDate.setValue(Ext.Date.add(d,Ext.Date.MONTH,-1));\\nendDate.setValue(Ext.Date.add(d,Ext.Date.DAY,1));\\nWb.load(store1);\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"sorters\":\"[{property:'LOG_DATE',direction:'DESC'}]\",\"remoteSort\":\"true\",\"url\":\"#13NXXPN2RSIF (Select)\",\"output\":\"toolbar1\"},{\"xwlMeta\":\"store\",\"id\":\"searchStore\",\"url\":\"#13NXXPN2RSIO (Find)\",\"output\":\"toolbar1\",\"showMask\":\"false\"},{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"enableOverflow\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"{#Str.beginDate#}:\",\"type\":\"textItem\",\"id\":\"beginLbl\"},{\"xwlMeta\":\"date\",\"id\":\"beginDate\",\"width\":\"120\",\"select\":\"doSearch();\",\"specialkey\":\"Wb.checkEnter(doSearch);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"{#Str.endDate#}:\",\"type\":\"textItem\",\"id\":\"endLbl\"},{\"xwlMeta\":\"date\",\"id\":\"endDate\",\"width\":\"120\",\"select\":\"doSearch();\",\"specialkey\":\"Wb.checkEnter(doSearch);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"{#Str.type#}:\",\"type\":\"textItem\",\"id\":\"typeLbl\"},{\"xwlMeta\":\"comboBox\",\"forceList\":\"true\",\"width\":\"100\",\"pickList\":\"[[1,Str.information],[2,Str.warning],[3,Str.error]]\",\"id\":\"typeCombo\",\"select\":\"doSearch();\",\"specialkey\":\"Wb.checkEnter(doSearch);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"comboBox\",\"store\":\"searchStore\",\"autoSelect\":\"false\",\"tagProperties\":\"flex:1\",\"queryDelay\":\"160\",\"width\":\"320\",\"pageSize\":\"Wb.pageSize\",\"id\":\"searchCombo\",\"displayField\":\"MSG\",\"select\":\"doSearch();\",\"specialkey\":\"Wb.checkEnter(doSearch,comboBox);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.search\",\"type\":\"split\",\"iconCls\":\"seek_icon\",\"id\":\"searchBtn\",\"click\":\"doSearch();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.reset\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"click\":\"Wb.reset([searchCombo,typeCombo]);\\ndoSearch();\"}]}]},{\"xwlMeta\":\"array\",\"id\":\"columns\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"autoWrap\":\"true\",\"dataIndex\":\"LOG_DATE\",\"id\":\"dateCol\",\"renderer\":\"var s=record.get('LOG_TYPE')-1;\\nreturn Wb.getIconCls(['info_icon','excl_icon','error_icon'][s],[Str.information,Str.warning,Str.error][s])+Wb.dateToStr(value);\",\"text\":\"@Str.date\",\"width\":\"160\"},{\"xwlMeta\":\"column\",\"autoWrap\":\"true\",\"dataIndex\":\"USER_NAME\",\"id\":\"userCol\",\"text\":\"@Str.username\",\"width\":\"130\"},{\"xwlMeta\":\"column\",\"autoWrap\":\"true\",\"dataIndex\":\"IP\",\"id\":\"ipCol\",\"text\":\"IP\",\"width\":\"120\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"LOG_TYPE\",\"id\":\"typeCol\",\"renderer\":\"return [Str.information,Str.warning,Str.error][value-1];\",\"text\":\"@Str.type\",\"width\":\"80\"},{\"xwlMeta\":\"column\",\"autoWrap\":\"true\",\"dataIndex\":\"MSG\",\"id\":\"msgCol\",\"text\":\"@Str.content\",\"flex\":\"1\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"columns\",\"id\":\"grid1\",\"tbar\":\"toolbar1\",\"autoLoad\":\"false\"}]}]}","{#Str.sysLog#}","table_icon",0,0,"admin","2012-06-18 17:12:05.0","admin","2012-09-05 13:39:42.0",54],["login","13LWP4OU1NNM","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.login#}\",\"loginRequired\":\"false\",\"initialize\":\"Wd.changeVC=function(){\\nif(vcImage.isVisible())vcImage.setSrc('main?xwl=13MC0NFI4FRE&'+Wb.getId());\\n}\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#13MC0NFI4FQE (Verify)\",\"id\":\"loginAjax\",\"output\":\"xwlw__login\",\"failure\":\"changeVC();\",\"failureConfirm\":\"var s=Wb.optString(response.responseText);\\nif(s.indexOf(Str.invalidVc)!=-1)verifyCode.focus(true,true);\\nelse if(s.indexOf(Str.invalidPwd)!=-1)password.focus(true,true);\\nelse username.focus(true,true);\",\"success\":\"Wb.setCookie('wb.pt.user',username.getValue());\\nwindow.location=response.responseText;\"},{\"xwlMeta\":\"array\",\"id\":\"winButtons\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"accept_icon\",\"id\":\"loginBtn\",\"text\":\"@Str.login\",\"click\":\"if(!Wb.verify(xwlw__login))return;\\nloginAjax.request();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"@Str.reset\",\"click\":\"Wb.reset(xwlw__login);\\nusername.focus(false,true);\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"key_icon\",\"id\":\"xwlw__login\",\"title\":\"@Str.login\",\"autoShow\":\"true\",\"height\":247,\"closable\":\"false\",\"layout\":\"absolute\",\"dialog\":\"false\",\"width\":405,\"buttons\":\"winButtons\",\"buttonAlign\":\"center\",\"beforeshow\":\"var f=xwlw__needLV={#Var.webbuilder.session.loginVerify#};\\nvcLabel.setVisible(f);\\nverifyCode.setVisible(f);\\nif(f)vcImage.setSrc('main?xwl=13MC0NFI4FRE');\\nvcImage.setVisible(f);\\nrefreshLbl.setVisible(f);\\nif(!f)win.setHeight(220);\",\"show\":\"var f=Wb.getCookie('wb.pt.user');\\nif(Wb.isEmpty(f))\\nusername.focus(false,true);\\nelse{\\nusername.setValue(f);\\npassword.focus(false,true);\\n}\",\"afterrender\":\"Wb.monEnter(win,function(){loginBtn.fireEvent('click');})\",\"children\":[{\"xwlMeta\":\"image\",\"id\":\"logImage\",\"height\":48,\"width\":48,\"src\":\"webbuilder/images/app/key.gif\",\"y\":18,\"x\":64},{\"xwlMeta\":\"label\",\"text\":\"@Str.enterLogin\",\"width\":200,\"id\":\"hintLabel\",\"height\":22,\"y\":32,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"@Str.username+':'\",\"width\":112,\"align\":\"right\",\"id\":\"userLabel\",\"height\":22,\"y\":80,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"username\",\"height\":22,\"allowBlank\":\"false\",\"width\":224,\"y\":80,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"@Str.password+':'\",\"width\":112,\"align\":\"right\",\"id\":\"pwdLabel\",\"height\":22,\"y\":112,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"password\",\"height\":22,\"inputType\":\"password\",\"allowBlank\":\"false\",\"width\":224,\"y\":112,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"@Str.verifyCode+':'\",\"width\":112,\"align\":\"right\",\"id\":\"vcLabel\",\"height\":22,\"y\":144,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"verifyCode\",\"height\":22,\"maxLength\":\"5\",\"minLength\":\"5\",\"allowBlank\":\"false\",\"width\":64,\"y\":144,\"x\":128},{\"xwlMeta\":\"image\",\"id\":\"vcImage\",\"height\":20,\"width\":90,\"y\":145,\"x\":196},{\"xwlMeta\":\"label\",\"width\":56,\"id\":\"refreshLbl\",\"height\":22,\"html\":\"<a href='javascript:changeVC()'>{#Str.change#}<\/a>\",\"y\":144,\"x\":296}]}]}","Login","key_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-08-02 18:15:59.0",3],["logout","13LWP4OU1NNM","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.logout#}\",\"initMethod\":\"com.webbuilder.common.Session.logout\",\"loginRequired\":\"false\",\"finalize\":\"Wb.message(Str.haveLogout);\"}","Logout","logout_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-07-18 16:42:06.0",5],["null","13N6082JYAPD","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Null Operating\",\"createBody\":\"false\"}","Null Operating","item_icon",0,0,"admin","2012-03-19 13:03:23.0","admin","2012-03-19 13:05:25.0",1],["perm","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.permConfig#}\",\"initialize\":\"var roleIds,roleNames,selModule,selRole,rootRole;\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.roleConfig\",\"iconCls\":\"userGroup_icon\",\"id\":\"roleBtn\",\"click\":\"selModule=Wb.getSelNode(moduleTree);\\nif(selModule){\\nroleWin.show();\\nrootRole=roleTree.getRootNode();\\nselRole=Wb.getSelNode(roleTree);\\nWb.setTitle(roleWin,selModule.get('text')); \\nroleIds=[];roleNames=[];\\nvar r=selModule.get('roles');\\n\\nif(r)\\nExt.Array.each(r,function(t){\\nroleIds.push(Wb.getNamePart(t));\\nroleNames.push(Wb.getValuePart(t));\\n});\\n\\nrolesArea.setValue(Wb.sort(Ext.Array.clone(roleNames)).join(', '));\\n\\nrootRole.cascadeBy(function(n){\\nif(rootRole!=n){\\nn.set('checked',Ext.Array.contains(roleIds,n.get('itemId')));\\nn.commit();\\n}\\n});\\n\\n}\\nelse Wb.warning(Str.selValid);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"divItem\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.refresh\",\"iconCls\":\"refresh_icon\",\"id\":\"refreshBtn\",\"click\":\"Wb.refresh(moduleTree,'MODULE_ID');\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"roleBar\",\"titleToolbar\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"id\":\"refreshRoleBtn\",\"toolType\":\"refresh\",\"tooltip\":\"@Str.refresh\",\"click\":\"Wb.refresh(roleTree,'itemId');\"},{\"xwlMeta\":\"menuItem\",\"id\":\"checkBtn\",\"toolType\":\"plus\",\"tooltip\":\"@Str.checkAllSubitems\",\"click\":\"Wb.check(roleTree,true,true);\"},{\"xwlMeta\":\"menuItem\",\"id\":\"uncheckBtn\",\"toolType\":\"minus\",\"tooltip\":\"@Str.uncheckAllSubitems\",\"click\":\"Wb.check(roleTree,false,true);\"}]},{\"xwlMeta\":\"treeStore\",\"url\":\"#13M809ZVL10D (Get Module Tree)\",\"id\":\"moduleStore\",\"sorters\":\"{property:'ORDER_INDEX'}\",\"fields\":\"[{name:'MODULE_ID'},{name:'text'},{name:'orgTitle'},{name:'MODULE_ID'},{name:'ORDER_INDEX'},{name:'IS_FOLDER'},{name:'roles'}]\",\"beforeload\":\"operation.params.parentId=operation.node.get('MODULE_ID');\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#13M81PNEJ0J9 (Get Role Tree)\",\"id\":\"roleStore\",\"fields\":\"[{name:'text'},{name:'itemId'}]\",\"load\":\"node.eachChild(function(n){\\nif(roleIds){\\nn.set('checked',Ext.Array.contains(roleIds,n.get('itemId')));\\nn.commit();\\n}\\n});\",\"beforeload\":\"operation.params.itemId=operation.node.get('itemId');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13M809ZVL0Z8 (Set Roles)\",\"id\":\"setRoleAjax\",\"success\":\"var r=[],i=0;\\nExt.Array.each(roleIds,function(v){\\nr.push(v+'='+roleNames[i++]);\\n});\\nselModule.set('roles',r);\\nif(r.length)\\nselModule.set('text','<b>'+selModule.get('orgTitle')+'<\/b>');\\nelse selModule.set('text',selModule.get('orgTitle'));\\nselModule.commit();\\nroleWin.hide();\",\"beforerequest\":\"ajax.params={id:selModule.get('MODULE_ID'),roleIds:Ext.encode(roleIds),roleNames:Ext.encode(roleNames)};\"},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"userGroup_icon\",\"id\":\"roleWin\",\"title\":\"@Str.roleConfig\",\"tools\":\"roleBar\",\"height\":384,\"layout\":\"absolute\",\"width\":534,\"clickOK\":\"setRoleAjax.request();\",\"children\":[{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"store\":\"roleStore\",\"root\":\"{text:Str.all,itemId:-1,expanded:true}\",\"id\":\"roleTree\",\"height\":192,\"width\":504,\"y\":8,\"x\":8,\"checkchange\":\"var i=node.get('itemId'),t=node.get('text');\\nif(node.get('checked')){\\nroleIds.push(i);\\nroleNames.push(t);\\n}else{\\nExt.Array.remove(roleIds,i);\\nExt.Array.remove(roleNames,t);\\n}\\nrolesArea.setValue(Wb.sort(Ext.Array.clone(roleNames)).join(', '));\",\"itemdblclick\":\"\\n\"},{\"xwlMeta\":\"fieldSet\",\"width\":504,\"id\":\"rolesSet\",\"title\":\"@Str.selRoles\",\"height\":104,\"layout\":\"fit\",\"y\":208,\"x\":8,\"children\":[{\"xwlMeta\":\"textArea\",\"id\":\"rolesArea\",\"bgColor\":\"#C0C0C0\",\"readOnly\":\"true\"}]}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"tbar\":\"toolbar1\",\"id\":\"panel1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"store\":\"moduleStore\",\"id\":\"moduleTree\",\"width\":\"230\",\"rootVisible\":\"false\",\"itemmousedown\":\"\\n\",\"itemdblclick\":\"roleBtn.fireEvent('click');\"}]}]}]}","{#Str.permConfig#}","accept_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2013-01-16 10:34:20.0",18],["portal","13LTWFOE5ROX","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Var.webbuilder.title#}\",\"loginRequired\":\"false\",\"head\":\"<meta name=\\\"description\\\" Content=\\\"Welcome to putdb.com, we provide excellent web application development solutions.\\\">\\n<meta name=\\\"keywords\\\" Content=\\\"web, application, development\\\">\",\"finalize\":\"var f={#Var.webbuilder.session.loginVerify#};\\nvcLabel.setVisible(f);\\nverifyCode.setVisible(f);\\nif(f)vcImage.setSrc('main?xwl=13MC0NFI4FRE');\\nvcImage.setVisible(f);\\nrefreshLbl.setVisible(f);\\nif(!f)contentPanel.setHeight(240);\\nwbImg.el.on('click',function(){window.open('http://www.putdb.com');});\\nalignComp();\\nf=Wb.getCookie('wb.pt.user');\\nif(Wb.isEmpty(f))\\nusername.focus(false,true);\\nelse{\\nusername.setValue(f);\\npassword.focus(false,true);\\n}\",\"initialize\":\"Wd.changeVC=function(){\\nif(vcImage.isVisible())vcImage.setSrc('main?xwl=13MC0NFI4FRE&'+Wb.getId());\\n}\\n\\nWd.changeRegVC=function(){\\nif(vcImage1.isVisible())vcImage1.setSrc('main?xwl=13MC0NFI4FRE&'+Wb.getId());\\n}\\n\\nWd.alignComp=function(){\\nvar p=contentPanel;\\nwbImg.el.alignTo(topPanel.el,'tr-tr',[-16,12]);\\np.el.alignTo(centerPanel.el,'c-c');\\nif(p.el.getLeft(true)<0)p.el.setLeft(0);\\nif(p.el.getTop(true)<0)p.el.setTop(0);\\n}\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#13MC0NFI4FQE (Verify)\",\"id\":\"loginAjax\",\"output\":\"contentPanel\",\"failure\":\"changeVC();\",\"failureConfirm\":\"var s=Wb.optString(response.responseText);\\nif(s.indexOf(Str.invalidVc)!=-1)verifyCode.focus(true,true);\\nelse if(s.indexOf(Str.invalidPwd)!=-1)password.focus(true,true);\\nelse username.focus(true,true);\",\"success\":\"Wb.setCookie('wb.pt.user',username.getValue());\\nwindow.location='main?xwl=index';\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NR6MXB5DIG (Register)\",\"id\":\"regAjax\",\"output\":\"regWin\",\"failure\":\"changeRegVC();\",\"failureConfirm\":\"var s=Wb.optString(response.responseText);\\nif(s.indexOf(Str.invalidVc)!=-1)regVC.focus(true,true);\\nelse regName.focus(true,true);\",\"success\":\"username.setValue(regName.getValue());\\nregWin.hide();\\npassword.focus(false,true);\\n\"},{\"xwlMeta\":\"toolbar\",\"id\":\"topBar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"spaceItem\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.devCommunity\",\"iconCls\":\"web_icon\",\"id\":\"communityBtn\",\"tooltip\":\"@Str.visitPutdb\",\"click\":\"open('http://www.putdb.com');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.contactUs\",\"iconCls\":\"mail_icon\",\"id\":\"contactBtn\",\"tooltip\":\"@Str.mailPutdb\",\"click\":\"window.location.href='mailto:contact@putdb.com';\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"bottomBar\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"Copyright (c) By putdb.com, All Rights Reserved.\",\"id\":\"copyrightLbl\"}]},{\"xwlMeta\":\"array\",\"id\":\"buttons\",\"children\":[{\"xwlMeta\":\"button\",\"iconCls\":\"accept_icon\",\"id\":\"loginBtn\",\"text\":\"@Str.login\",\"click\":\"if(!Wb.verify(contentPanel))return;\\nloginAjax.request();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"plus_icon\",\"id\":\"regBtn\",\"text\":\"@Str.register\",\"hidden\":\"!{#Var.webbuilder.allowRegister#}\",\"click\":\"regWin.show();\"},{\"xwlMeta\":\"button\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"text\":\"@Str.reset\",\"click\":\"Wb.reset(contentPanel);\\nusername.focus(false,true);\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"userGroup_icon\",\"id\":\"regWin\",\"title\":\"@Str.register\",\"height\":273,\"layout\":\"absolute\",\"defaultFocus\":\"regName\",\"width\":443,\"clickOK\":\"if(pwd.getValue()==rePwd.getValue())regAjax.request();\\nelse Wb.warning(Str.inconsistentPwd);\",\"show\":\"changeRegVC();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"*{#Str.username#}:\",\"width\":120,\"align\":\"right\",\"id\":\"userNameLbl\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"regName\",\"height\":22,\"allowBlank\":\"false\",\"width\":248,\"y\":16,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.dispName#}:\",\"width\":120,\"align\":\"right\",\"id\":\"dispNameLbl\",\"height\":22,\"y\":48,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"dispName\",\"height\":22,\"allowBlank\":\"false\",\"width\":248,\"y\":48,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.password#}:\",\"width\":120,\"align\":\"right\",\"id\":\"pwdLbl\",\"height\":22,\"y\":80,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"pwd\",\"height\":22,\"minLength\":\"6\",\"inputType\":\"password\",\"minLengthText\":\"@Str.invalidPwdLen\",\"allowBlank\":\"false\",\"width\":248,\"y\":80,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.pwdConfirm#}:\",\"width\":120,\"align\":\"right\",\"id\":\"repwdLbl\",\"height\":22,\"y\":112,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"rePwd\",\"height\":22,\"minLength\":\"6\",\"inputType\":\"password\",\"minLengthText\":\"@Str.invalidPwdLen\",\"allowBlank\":\"false\",\"width\":248,\"y\":112,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"{#Str.email#}:\",\"width\":120,\"align\":\"right\",\"id\":\"emailLbl\",\"height\":22,\"y\":144,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"email\",\"height\":22,\"width\":248,\"vtype\":\"email\",\"y\":144,\"x\":128},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.verifyCode#}:\",\"width\":120,\"align\":\"right\",\"id\":\"vcLabel1\",\"height\":22,\"y\":176,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"regVC\",\"height\":22,\"maxLength\":\"5\",\"minLength\":\"5\",\"allowBlank\":\"false\",\"width\":64,\"y\":176,\"x\":128},{\"xwlMeta\":\"image\",\"id\":\"vcImage1\",\"height\":20,\"width\":88,\"y\":177,\"x\":198},{\"xwlMeta\":\"label\",\"width\":80,\"id\":\"refreshLbl1\",\"height\":22,\"html\":\"<a href='javascript:changeRegVC()'>{#Str.change#}<\\/a>\",\"y\":176,\"x\":296}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"border\",\"resize\":\"alignComp();\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"north\",\"id\":\"topPanel\",\"height\":70,\"layout\":\"absolute\",\"width\":566,\"children\":[{\"xwlMeta\":\"image\",\"id\":\"putdbImg\",\"height\":42,\"width\":141,\"src\":\"webbuilder/images/site/putdb.gif\",\"y\":14,\"x\":16},{\"xwlMeta\":\"image\",\"id\":\"webDevImg\",\"height\":\"19\",\"width\":\"147\",\"src\":\"webbuilder/images/site/webdev.gif\",\"y\":29,\"x\":165},{\"xwlMeta\":\"image\",\"id\":\"wbImg\",\"height\":49,\"width\":144,\"src\":\"webbuilder/images/site/wb.gif\",\"y\":8,\"x\":400}]},{\"xwlMeta\":\"panel\",\"region\":\"center\",\"autoScroll\":\"true\",\"id\":\"centerPanel\",\"tbar\":\"topBar\",\"layout\":\"absolute\",\"bbar\":\"bottomBar\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"contentPanel\",\"height\":\"269\",\"layout\":\"absolute\",\"width\":452,\"buttons\":\"buttons\",\"frame\":\"true\",\"buttonAlign\":\"center\",\"afterrender\":\"Wb.monEnter(panel,function(){loginBtn.fireEvent('click');});\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"{#Var.webbuilder.title#} {#Var.webbuilder.version#}\",\"width\":416,\"id\":\"titleLbl\",\"height\":22,\"style\":\"text-shadow:0 -1px 1px #FFFFFF;font-size: 18px;\",\"y\":8,\"x\":16},{\"xwlMeta\":\"image\",\"id\":\"logImage\",\"height\":48,\"width\":48,\"src\":\"webbuilder/images/app/key.gif\",\"y\":66,\"x\":88},{\"xwlMeta\":\"label\",\"text\":\"@Str.enterLogin\",\"width\":200,\"id\":\"hintLbl\",\"height\":22,\"y\":80,\"x\":152},{\"xwlMeta\":\"label\",\"text\":\"@Str.username+':'\",\"width\":112,\"align\":\"right\",\"id\":\"userLabel\",\"height\":22,\"y\":128,\"x\":32},{\"xwlMeta\":\"text\",\"id\":\"username\",\"height\":22,\"allowBlank\":\"false\",\"width\":224,\"y\":128,\"x\":152},{\"xwlMeta\":\"label\",\"text\":\"@Str.password+':'\",\"width\":112,\"align\":\"right\",\"id\":\"pwdLabel\",\"height\":22,\"y\":160,\"x\":32},{\"xwlMeta\":\"text\",\"id\":\"password\",\"height\":22,\"inputType\":\"password\",\"allowBlank\":\"false\",\"width\":224,\"y\":160,\"x\":152},{\"xwlMeta\":\"label\",\"text\":\"@Str.verifyCode+':'\",\"width\":112,\"align\":\"right\",\"id\":\"vcLabel\",\"height\":22,\"y\":192,\"x\":32},{\"xwlMeta\":\"text\",\"id\":\"verifyCode\",\"height\":22,\"maxLength\":\"5\",\"minLength\":\"5\",\"allowBlank\":\"false\",\"width\":64,\"y\":192,\"x\":152},{\"xwlMeta\":\"image\",\"id\":\"vcImage\",\"height\":20,\"width\":90,\"y\":193,\"x\":220},{\"xwlMeta\":\"label\",\"width\":56,\"id\":\"refreshLbl\",\"height\":22,\"html\":\"<a href='javascript:changeVC()'>{#Str.change#}<\\/a>\",\"y\":192,\"x\":320}]}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"id\":\"bottomPanel\",\"height\":\"70\",\"layout\":\"absolute\"}]}]}","Portal","go_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2014-03-06 16:00:02.0",1],["preview","13N6082JYAPD","{\"xwlMeta\":\"module\",\"id\":\"module\",\"initMethod\":\"com.webbuilder.interact.Services.preview\",\"createBody\":\"false\",\"loginRequired\":\"false\"}","Preview","preview_icon",0,0,"admin","2012-06-21 16:28:24.0","admin","2012-06-21 17:15:53.0",3],["progress","13NHEWB1SJ5Q","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"Progress Checking\",\"initMethod\":\"com.webbuilder.interact.Services.getProgress\"}","Progress Checking","get_icon",0,0,"admin","2012-04-25 18:37:52.0","admin","2012-04-25 18:44:33.0",1],["register","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.productRegister#}\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#13MKLV6U3HN6 (register)\",\"id\":\"regAjax\",\"output\":\"serialNumber\",\"success\":\"Wb.message(Str.haveReg);\"},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"module_icon\",\"id\":\"window1\",\"title\":\"{#Str.productRegister#}\",\"autoShow\":\"true\",\"height\":\"270\",\"closable\":\"false\",\"layout\":\"border\",\"resizable\":\"false\",\"dialog\":\"false\",\"defaultFocus\":\"serialNumber\",\"width\":\"430\",\"children\":[{\"xwlMeta\":\"panel\",\"region\":\"center\",\"id\":\"panel1\",\"layout\":\"absolute\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"@Str.buyProduct\",\"width\":368,\"id\":\"label11\",\"height\":22,\"y\":16,\"x\":21},{\"xwlMeta\":\"button\",\"id\":\"buyBtn\",\"height\":22,\"text\":\"@Str.buy\",\"width\":104,\"y\":48,\"x\":285,\"click\":\"window.open('http://www.putdb.com/main?xwl=buy');\"},{\"xwlMeta\":\"label\",\"text\":\"@Str.enterSerial\",\"width\":368,\"id\":\"label1\",\"height\":44,\"y\":100,\"x\":21},{\"xwlMeta\":\"label\",\"text\":\"@Str.serialNo\",\"width\":88,\"align\":\"right\",\"id\":\"snLbl\",\"height\":22,\"y\":150,\"x\":21},{\"xwlMeta\":\"text\",\"id\":\"serialNumber\",\"height\":22,\"value\":\"{#Var.server.serialNumber#}\",\"width\":160,\"y\":150,\"x\":115},{\"xwlMeta\":\"button\",\"id\":\"regBtn\",\"height\":22,\"text\":\"@Str.register\",\"width\":104,\"y\":150,\"x\":285,\"click\":\"regAjax.request();\"}]},{\"xwlMeta\":\"panel\",\"region\":\"south\",\"id\":\"panel2\",\"height\":41,\"layout\":\"absolute\",\"frame\":\"true\",\"children\":[{\"xwlMeta\":\"label\",\"width\":416,\"id\":\"contactLbl\",\"height\":22,\"html\":\"@Str.askPutdb\",\"y\":5,\"x\":\"5\"}]}]}]}","{#Str.productRegister#}","key_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-07-21 11:00:51.0",56],["role","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.roleConfig#}\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.append\",\"iconCls\":\"plus_icon\",\"id\":\"appendBtn\",\"click\":\"var n=Wb.getSelNode(tree1);\\nWb.prompt(Str.append,[{text:Str.name,allowBlank:false}],function(v){\\nif(n.findChild('text',v)){\\nWb.warning(Wb.format(Str.alreadyExists,v));\\nreturn;\\n}\\nappendAjax.request();\\n},\\nfalse);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"var n=Wb.getSelNode(tree1);\\nif(n!=tree1.getRootNode()){\\nWb.prompt(n.get('text')+' - ' +Str.properties,\\n[{text:Str.name,value:n.get('text'),allowBlank:false},{text:Str.id,value:n.get('itemId'),readOnly:true}],updateAjax.request,false);\\n}\\nelse Wb.warning(Str.selValid);\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"var n=Wb.getSelNode(tree1);\\nif(n==tree1.getRootNode())Wb.warning(Str.selValid);\\nelse Wb.confirm(Wb.format(Str.delConfirm,n.get('text')),delAjax.request);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"divItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.refresh\",\"iconCls\":\"refresh_icon\",\"id\":\"refreshBtn\",\"click\":\"Wb.refresh(tree1,'itemId');\"}]},{\"xwlMeta\":\"treeStore\",\"url\":\"#13M68676BV34 (Get Tree)\",\"id\":\"treeStore1\",\"fields\":\"[{name:'text'},{name:'itemId'}]\",\"load\":\"Wb.selFirst(tree1);\",\"beforeload\":\"operation.params.itemId=operation.node.get('itemId');\"},{\"xwlMeta\":\"folder\",\"id\":\"ajaxControls\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#13M68676BV33 (Append)\",\"id\":\"appendAjax\",\"failureConfirm\":\"Wb.promptEditors[0].focus(true,true);\",\"success\":\"var n=Wb.getSelNode(tree1),r=Ext.decode(response.responseText),b=n.isLoaded();\\nn.expand(false,function(){\\nif(b)n.appendChild({text:Wb.promptValues[0],iconCls:'user_icon',itemId:r.id,children:[]});\\n});\\nWb.closePrompt();\",\"beforerequest\":\"var n=Wb.getSelNode(tree1);\\nif(n)ajax.params={parentId:n.get('itemId'),name:Wb.promptValues[0]};\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13M68676BV32 (Update)\",\"id\":\"updateAjax\",\"success\":\"var n=Wb.getSelNode(tree1);\\nn.set('text',Wb.promptValues[0]);\\nn.commit();\\nWb.closePrompt();\",\"beforerequest\":\"var n=Wb.getSelNode(tree1);\\nif(n)ajax.params={id:n.get('itemId'),name:Wb.promptValues[0]};\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13M68676BV35 (Delete)\",\"id\":\"delAjax\",\"success\":\"Wb.delSelNode(tree1);\",\"beforerequest\":\"var n=Wb.getSelNode(tree1);\\nif(n)ajax.params={id:n.get('itemId')};\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"tbar\":\"toolbar1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"store\":\"treeStore1\",\"root\":\"{text:Str.all,itemId:-1,expanded:true}\",\"id\":\"tree1\",\"viewConfig\":\"{plugins:{pluginId:'ddPlug',ptype:'treeviewdragdrop'},\\nlisteners:{\\nbeforedrop:function(node,data,om,dp){\\nvar s=Wb.getNode(node),d=Wb.getNode(data.item);\\nif(!s||!d)return false;\\nWb.saveNodePos(d);\\nreturn dp=='append'&&d.parentNode!=s||dp!='append'&&d.parentNode!=s.parentNode;\\n},\\ndrop:function(node,data,om,dp){\\nvar d=Wb.getNode(data.item),pi=d.parentNode.get('itemId');\\nWb.request({url:'main?xwl=13MQDOSBYDRH',mask:tree1,\\nparams:{itemId:d.get('itemId'),parentId:pi},\\nfailure:function(){Wb.revertNodePos(d);},\\nsuccess:function(){d.set('PARENT_ID',pi);d.commit();}});\\n}\\n}\\n}\\n\",\"itemdblclick\":\"var n=Wb.getSelNode(tree1);\\nif(n.isLoaded()&&!n.firstChild)editBtn.fireEvent('click');\"}]}]}]}","{#Str.roleConfig#}","userGroup_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-06-29 14:38:37.0",20],["sysinfo","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.sysInfo#}\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"store1\",\"fields\":\"[{name:'name'},{name:'value'}]\",\"pageSize\":\"-1\",\"url\":\"main?xwl=13M5L0M7HKAK\"},{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"name\",\"id\":\"nameCol\",\"text\":\"@Str.name\",\"width\":\"150\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"value\",\"id\":\"valueCol\",\"text\":\"@Str.value\",\"flex\":\"true\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"store1\",\"columns\":\"colArray\",\"id\":\"grid1\"}]}]}]}","{#Str.sysInfo#}","computer_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-07-18 14:15:12.0",58],["task","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.taskScheduler#}\",\"initialize\":\"function toggleTask(status){\\nif(Wb.getSelRec(grid1).length == 0){\\nWb.warning(Str.selValid);\\nreturn;\\n}\\ntoggleAjax.params.status=status;\\ntoggleAjax.request();\\n}\\n\\nfunction setInterval(){\\nvar i=Wb.getIndex(intervalType);\\ndayNames.setVisible(i==4);\\nsetTimeLbl.setVisible(i>2);\\nsetTime.setVisible(i>2);\\nexpText.setVisible(i!=3&&i!=4);\\nprefix.setVisible(i!=3);\\nspaceLbl.setVisible(i!=3);\\nsuffix.setVisible(i<3);\\nswitch(i){\\ncase 0:prefix.setText(Str.every);suffix.setText(Str.second);break;\\ncase 1:prefix.setText(Str.every);suffix.setText(Str.minute);break;\\ncase 2:prefix.setText(Str.every);suffix.setText(Str.hour);break;\\ncase 4:prefix.setText(Str.weekDay+':');break;\\ncase 5:prefix.setText(Str.date+':');break;\\n}\\n}\\n\\nfunction loadFind(){\\nWb.load(taskStore,Wb.getValue(findTask));\\n}\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"taskStore\",\"sorters\":\"{property:'taskName'}\",\"fields\":\"[{name:'taskId'},{name:'taskName'},{name:'intervalType',dateFormat:'int'},{name:'express'},{name:'clsName'},\\n{name:'beginDate',type:'date',dateFormat:Wb.dateFormat},\\n{name:'endDate',type:'date',dateFormat:Wb.dateFormat},\\n{name:'taskStatus',dateFormat:'int'},\\n{name:'previous',type:'date',dateFormat:Wb.dateFormat},\\n{name:'next',type:'date',dateFormat:Wb.dateFormat},\\n{name:'remark'}]\",\"pageSize\":\"-1\",\"url\":\"#13MQG8T006R0 (Get Task List)\"},{\"xwlMeta\":\"store\",\"id\":\"findStore\",\"pageSize\":\"100\",\"url\":\"#13MTG12R3FCE (Find Task)\",\"showMask\":\"false\"},{\"xwlMeta\":\"folder\",\"id\":\"ajaxRequests\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#13MQG8T006R5 (Insert Task)\",\"id\":\"insertAjax\",\"input\":\"true\",\"output\":\"editWin\",\"success\":\"Wb.insert(grid1,editWin);\\neditWin.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13MQG8T006R7 (Update Task)\",\"id\":\"updateAjax\",\"input\":\"true\",\"output\":\"editWin\",\"success\":\"Wb.update(grid1,editWin);\\neditWin.hide();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13MQG8T006R9 (Delete Task)\",\"id\":\"deleteAjax\",\"output\":\"grid1\",\"success\":\"Wb.remove(grid1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13MTTIF80UFC (Start Tasks)\",\"id\":\"startAjax\",\"success\":\"Wb.reload(taskStore);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13MTTIF80UFF (Shutdown Tasks)\",\"id\":\"stopAjax\",\"success\":\"taskStore.each(function(r){\\n  r.set('previous','');\\n  r.set('next',''); \\n  r.commit();\\n});\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13MTTIF80UHC (Toggle Pause Resume)\",\"id\":\"toggleAjax\",\"output\":\"grid1\",\"success\":\"var o=Ext.decode(response.responseText),i=0;\\nExt.Array.each(Wb.getSelRec(grid1),function(r){\\nvar p=toggleAjax.params.status,pre='',next='';\\nif(p){\\npre=o[i].p;\\nnext=o[i].n;\\ni++;\\n}\\nr.set('previous',pre);\\nr.set('next',next);\\nr.set('taskStatus',p);\\nr.commit();\\n});\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"mainToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.newStr\",\"iconCls\":\"new_icon\",\"id\":\"newBtn\",\"click\":\"Wb.edit(grid1,editWin);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"Wb.edit(grid1,editWin,'taskName');\\nvar i=Wb.getIndex(intervalType),v=express.xvalue.split(':'),f=function(){\\nsetTime.setValue(Ext.Date.parse(v[1]+':'+v[2],'H:i'));};\\nswitch(i){\\ncase 0:case 1:case 2:expText.setValue(v[0]);break;\\ncase 3:setTime.setValue(Ext.Date.parse(v[0]+':'+v[1],'H:i'));break;\\ncase 4:dayNames.setValue(Ext.Date.dayNames[parseInt(v[0])-1]);f();break;\\ncase 5:expText.setValue(v[0]);f();break;\\n}\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"Wb.confirm(grid1,deleteAjax.request,'taskName');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.pause\",\"iconCls\":\"pause_icon\",\"id\":\"pauseBtn\",\"click\":\"toggleTask(0);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.resume\",\"iconCls\":\"resume_icon\",\"id\":\"resumeBtn\",\"click\":\"toggleTask(1);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"comboBox\",\"store\":\"findStore\",\"listWidth\":\"280\",\"queryDelay\":\"160\",\"width\":\"200\",\"pageSize\":\"100\",\"emptyText\":\"@Str.name\",\"id\":\"findTask\",\"displayField\":\"TASK_NAME\",\"select\":\"loadFind();\",\"specialkey\":\"Wb.checkEnter(loadFind,comboBox);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.search\",\"type\":\"split\",\"iconCls\":\"seek_icon\",\"id\":\"findBtn\",\"click\":\"loadFind();\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.reset\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"click\":\"Wb.reset(mainToolbar);\\nloadFind();\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.start\",\"iconCls\":\"run_icon\",\"id\":\"startBtn\",\"click\":\"startAjax.request();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.stop\",\"iconCls\":\"stop_icon\",\"id\":\"stopBtn\",\"click\":\"stopAjax.request();\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"dataIndex\":\"taskName\",\"id\":\"nameCol\",\"renderer\":\"var s=record.get('taskStatus');\\nreturn Wb.getIconCls(['lr_icon','lg_icon'][s],[Str.stopped,Str.normal][s])+value;\",\"text\":\"@Str.name\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"intervalType\",\"id\":\"intervalCol\",\"renderer\":\"var t=[Str.second,Str.minute,Str.hour,Str.day,Str.week,Str.month][value],\\n    r=record.get('express').split(':'),l,d=new Date();\\nswitch(value){\\ncase 0:case 1:case 2:l=r[0];break;\\ncase 3:l=r[0]+':'+r[1];break;\\ncase 4:case 5:\\nif(value==4)l=Ext.Date.dayNames[parseInt(r[0])-1];else l=r[0];\\nd.setHours(parseInt(r[1]),parseInt(r[2]),0,0);l=l+', '+Wb.dateToStr(d,true);\\n}\\nreturn t+' ('+l+')';\",\"text\":\"@Str.interval\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"clsName\",\"id\":\"clsCol\",\"text\":\"@Str.className\",\"width\":\"200\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"previous\",\"type\":\"datetime\",\"id\":\"previousCol\",\"text\":\"@Str.previousRun\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"next\",\"type\":\"datetime\",\"id\":\"nextCol\",\"text\":\"@Str.nextRun\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"beginDate\",\"type\":\"datetime\",\"id\":\"beginDateCol\",\"text\":\"@Str.beginTime\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"endDate\",\"type\":\"datetime\",\"id\":\"endDateCol\",\"text\":\"@Str.endTime\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"taskStatus\",\"id\":\"statusCol\",\"renderer\":\"return value?Str.normal:Str.stopped;\",\"text\":\"@Str.status\",\"width\":\"60\"},{\"xwlMeta\":\"column\",\"autoWrap\":\"true\",\"dataIndex\":\"remark\",\"id\":\"remarkCol\",\"text\":\"@Str.remark\",\"width\":\"400\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"time_icon\",\"id\":\"editWin\",\"title\":\"@Str.taskScheduler\",\"height\":278,\"layout\":\"absolute\",\"defaultFocus\":\"taskName\",\"width\":625,\"clickOK\":\"var i=Wb.getIndex(intervalType),a,b=expText.getValue(),t=setTime.getValue(),c=t?Ext.Date.format(t,'H:i'):'';\\nswitch(i){\\ncase 0:case 1:case 2: a=b;break;\\ncase 3:a=c;break;\\ncase 4:a=(Wb.indexOf(Ext.Date.dayNames,dayNames.getValue())+1)+':'+c;break;\\ncase 5:a=b+':'+c;break;\\n}\\nexpress.xvalue=String(a);\\nif(win.isNew)insertAjax.request();\\nelse updateAjax.request();\",\"show\":\"setInterval();\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"*{#Str.name#}:\",\"width\":88,\"align\":\"right\",\"id\":\"nameLbl\",\"height\":22,\"y\":16,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"taskName\",\"height\":22,\"allowBlank\":\"false\",\"width\":488,\"y\":16,\"x\":96},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.interval#}:\",\"width\":88,\"align\":\"right\",\"id\":\"label1\",\"height\":22,\"y\":48,\"x\":0},{\"xwlMeta\":\"radioGroup\",\"width\":488,\"columns\":\"6\",\"id\":\"intervalType\",\"height\":24,\"y\":48,\"x\":96,\"change\":\"setInterval();\",\"children\":[{\"xwlMeta\":\"radio\",\"id\":\"radio1\",\"boxLabel\":\"@Str.second\"},{\"xwlMeta\":\"radio\",\"id\":\"radio2\",\"boxLabel\":\"@Str.minute\"},{\"xwlMeta\":\"radio\",\"id\":\"radio3\",\"boxLabel\":\"@Str.hour\"},{\"xwlMeta\":\"radio\",\"id\":\"radio4\",\"checked\":\"true\",\"boxLabel\":\"@Str.day\"},{\"xwlMeta\":\"radio\",\"id\":\"radio5\",\"boxLabel\":\"@Str.week\"},{\"xwlMeta\":\"radio\",\"id\":\"radio6\",\"boxLabel\":\"@Str.month\"}]},{\"xwlMeta\":\"panel\",\"id\":\"intervalPanel\",\"height\":24,\"layout\":\"column\",\"transparent\":\"true\",\"border\":\"false\",\"width\":488,\"y\":80,\"x\":96,\"children\":[{\"xwlMeta\":\"label\",\"text\":\"prefix\",\"id\":\"prefix\",\"tagProperties\":\"margin:'4 8 0 0'\"},{\"xwlMeta\":\"number\",\"id\":\"expText\",\"allowBlank\":\"false\",\"width\":\"100\"},{\"xwlMeta\":\"comboBox\",\"store\":\"@Ext.Date.dayNames\",\"allowBlank\":\"false\",\"width\":\"100\",\"id\":\"dayNames\"},{\"xwlMeta\":\"label\",\"text\":\"suffix\",\"id\":\"suffix\",\"tagProperties\":\"margin:'4 0 0 8'\"},{\"xwlMeta\":\"label\",\"id\":\"spaceLbl\",\"html\":\"&nbsp;&nbsp;\"},{\"xwlMeta\":\"label\",\"text\":\"@Str.time+':'\",\"id\":\"setTimeLbl\",\"tagProperties\":\"margin:'4 8 0 0'\"},{\"xwlMeta\":\"time\",\"id\":\"setTime\",\"allowBlank\":\"false\",\"width\":\"100\"}]},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.className#}:\",\"width\":88,\"align\":\"right\",\"id\":\"label5\",\"height\":22,\"y\":112,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"clsName\",\"height\":22,\"allowBlank\":\"false\",\"width\":488,\"y\":112,\"x\":96},{\"xwlMeta\":\"label\",\"text\":\"@Str.beginTime+':'\",\"width\":88,\"align\":\"right\",\"id\":\"label4\",\"height\":22,\"y\":144,\"x\":0},{\"xwlMeta\":\"datetime\",\"id\":\"beginDate\",\"height\":22,\"width\":200,\"y\":144,\"x\":96},{\"xwlMeta\":\"label\",\"text\":\"@Str.endTime+':'\",\"width\":80,\"align\":\"right\",\"id\":\"label41\",\"height\":22,\"y\":144,\"x\":296},{\"xwlMeta\":\"datetime\",\"id\":\"endDate\",\"height\":22,\"width\":200,\"y\":144,\"x\":384},{\"xwlMeta\":\"label\",\"text\":\"@Str.remark+':'\",\"width\":88,\"align\":\"right\",\"id\":\"label6\",\"height\":22,\"y\":176,\"x\":0},{\"xwlMeta\":\"text\",\"id\":\"remark\",\"height\":22,\"width\":488,\"y\":176,\"x\":96},{\"xwlMeta\":\"hiddenField\",\"id\":\"taskId\",\"height\":22,\"width\":48,\"y\":200,\"x\":8},{\"xwlMeta\":\"hiddenField\",\"id\":\"express\",\"height\":22,\"width\":56,\"y\":200,\"x\":64},{\"xwlMeta\":\"hiddenField\",\"id\":\"taskStatus\",\"height\":22,\"width\":72,\"y\":200,\"x\":128},{\"xwlMeta\":\"hiddenField\",\"id\":\"previous\",\"height\":22,\"width\":56,\"y\":200,\"x\":208},{\"xwlMeta\":\"hiddenField\",\"id\":\"next\",\"height\":22,\"width\":40,\"y\":200,\"x\":272}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"taskStore\",\"columns\":\"colArray\",\"id\":\"grid1\",\"tbar\":\"mainToolbar\",\"multiSelect\":\"true\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}","{#Str.taskScheduler#}","time_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-12-17 12:07:27.0",36],["tlogin","13LWP4OU1NNM","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.login#}\",\"loginRequired\":\"false\",\"touchMode\":\"true\",\"finalize\":\"var f=hideVerify=!{#Var.webbuilder.session.loginVerify#};\\nverifyCode.setHidden(f);\\nif(!f)vcImage.setSrc('main?xwl=13MC0NFI4FRE');\\nvcImage.setHidden(f);\\nf=Wb.getCookie('wb.pt.user');\\nif(Wb.isEmpty(f))\\nusername.focus();\\nelse{\\nusername.setValue(f);\\npassword.focus();\\n}\",\"initialize\":\"Wd.changeVC=function(){\\nif(!vcImage.getHidden())vcImage.setSrc('main?xwl=13MC0NFI4FRE&'+Wb.getId());\\n}\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#13MC0NFI4FQE (Verify)\",\"id\":\"loginAjax\",\"output\":\"xwlw__login\",\"failure\":\"changeVC();\",\"failureConfirm\":\"var s=Wb.optString(response.responseText);\\nif(s.indexOf(Str.invalidVc)!=-1)verifyCode.focus();\\nelse if(s.indexOf(Str.invalidPwd)!=-1)password.focus();\\nelse username.focus();\",\"success\":\"Wb.setCookie('wb.pt.user',username.getValue());\\nwindow.location=response.responseText;\"},{\"xwlMeta\":\"tviewport\",\"id\":\"tviewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"tform\",\"id\":\"tform1\",\"children\":[{\"xwlMeta\":\"ttoolbar\",\"type\":\"titlebar\",\"id\":\"titleBar\",\"title\":\"{#Var.webbuilder.title#}\"},{\"xwlMeta\":\"tfieldSet\",\"instructions\":\"@Str.enterLogin\",\"id\":\"xwlw__login\",\"defaults\":\"{labelWidth:'35%'}\",\"children\":[{\"xwlMeta\":\"thiddenField\",\"id\":\"xwlhref\",\"xvalue\":\"{#xwlhref#}\"},{\"xwlMeta\":\"ttext\",\"id\":\"username\",\"label\":\"@Str.username\"},{\"xwlMeta\":\"ttext\",\"type\":\"password\",\"id\":\"password\",\"label\":\"@Str.password\"},{\"xwlMeta\":\"ttext\",\"id\":\"verifyCode\",\"labelWidth\":\"'35%'\",\"label\":\"@Str.verifyCode\"},{\"xwlMeta\":\"timage\",\"width\":\"90\",\"id\":\"vcImage\",\"height\":\"20\",\"margin\":\"12px\",\"tap\":\"changeVC();\"}]},{\"xwlMeta\":\"tcontainer\",\"id\":\"tcontainer1\",\"defaults\":\"{style:'margin:8px',flex:1}\",\"layout\":\"hbox\",\"children\":[{\"xwlMeta\":\"tbutton\",\"text\":\"@Str.login\",\"id\":\"loginBtn\",\"tap\":\"if(username.getValue()==''){\\n  Wb.warning(Wb.format(Str.nullValue,Str.username),function(){username.focus();});\\n  return;\\n}\\nif(password.getValue()==''){\\n  Wb.warning(Wb.format(Str.nullValue,Str.password),function(){password.focus();});\\n  return;\\n}\\nif(!verifyCode.getHidden()&&verifyCode.getValue()==''){\\n  Wb.warning(Wb.format(Str.nullValue,Str.verifyCode),function(){verifyCode.focus();});\\n  return;\\n}\\nloginAjax.request();\"},{\"xwlMeta\":\"tbutton\",\"text\":\"@Str.reset\",\"id\":\"resetBtn\",\"tap\":\"Wb.reset(xwlw__login);\\nusername.focus();\"}]}]}]}]}","Touch Login","key_icon",0,0,"admin","2013-07-18 16:38:06.0","23W0CDJH1JFA","2015-01-26 15:50:06.0",6],["tlogout","13LWP4OU1NNM","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.logout#}\",\"initMethod\":\"com.webbuilder.common.Session.logout\",\"loginRequired\":\"false\",\"touchMode\":\"true\",\"finalize\":\"Wb.message(Str.haveLogout);\"}","Touch Logout","logout_icon",0,0,"admin","2013-07-18 16:38:27.0","admin","2013-07-18 16:42:13.0",7],["user","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.userAccount#}\",\"initialize\":\"var roleIds,roleNames,rootRole,roleArray;\\nfunction finishRequest(isUpdate,obj){\\nvar r,f=isUpdate?Wb.update:Wb.insert;\\nr=f(grid1,editWin);\\nr.set('roles',getRoleData());\\nif(!isUpdate)Wb.updateRecord(r,obj);\\nr.commit();\\neditWin.hide();\\n}\\n\\nfunction createRoleArray(){\\nroleArray=[];\\nExt.Array.each(roleIds,function(r){\\nroleArray.push({id:r});\\n});\\n}\\n\\nfunction getRoleData(){\\nvar r=[],i=0;\\nExt.Array.each(roleIds,function(d){\\nr.push(d+'='+roleNames[i++]);\\n});\\nreturn r;\\n}\\n\\nfunction updateStatus(status){\\nExt.Array.each(Wb.getSelRec(grid1),function(r){\\nif(r.get('userId')!=='{#sys.user#}'){\\nr.set('status',status);\\nif(status==0){\\nr.set('on',0);\\nr.set('ip',null);\\n}\\nr.commit();\\n}\\n});\\n}\\n\\nfunction loadStore(user,role){\\nuserStore.params={findName:user,findRole:role};\\nWb.load(userStore);\\n}\",\"children\":[{\"xwlMeta\":\"store\",\"id\":\"userStore\",\"sorters\":\"{property:'userName'}\",\"fields\":\"['userId','userName','dispName',{name:'createDate',type:'date',dateFormat:Wb.dateFormat},{name:'status',type:'int'},'roles',{name:'loginTimes',type:'int'},'email',{name:'lastLogin',type:'date',dateFormat:Wb.dateFormat},{name:'on',type:'int'},'ip']\",\"remoteSort\":\"true\",\"url\":\"#13MA8064FPNM (Get Users)\",\"load\":\"onlinesLbl.setText(Str.online+': '+Wb.formatNum(store.proxy.reader.rawData.onlines,'0,000')+Wb.space,false);\\ntotalLbl.setText(Str.total+': '+Wb.formatNum(store.proxy.reader.rawData.totalUser,'0,000')+Wb.space,false);\"},{\"xwlMeta\":\"store\",\"id\":\"findNameStore\",\"url\":\"#13NQJIV4S5T1 (Find User)\",\"showMask\":\"false\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#13MA7XERCMW3&check=1 (Get Role Tree)\",\"id\":\"roleStore\",\"fields\":\"[{name:'text'},{name:'itemId'}]\",\"load\":\"node.eachChild(function(n){\\nif(roleIds){\\nn.set('checked',Ext.Array.contains(roleIds,n.get('itemId')));\\nn.commit();\\n}\\n});\",\"beforeload\":\"operation.params.itemId=operation.node.get('itemId');\"},{\"xwlMeta\":\"treeStore\",\"url\":\"#13MA7XERCMW3 (Get Role Tree)\",\"id\":\"roleTreeStore\",\"fields\":\"[{name:'text'},{name:'itemId'}]\",\"beforeload\":\"operation.params.itemId=operation.node.get('itemId');\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13MAQYECL309 (Insert User)\",\"id\":\"insertAjax\",\"output\":\"editWin\",\"success\":\"finishRequest(false,Ext.decode(response.responseText));\",\"beforerequest\":\"ajax.params.roleArray=Ext.encode(roleArray);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13MAQYECL30C (Update User)\",\"id\":\"updateAjax\",\"output\":\"editWin\",\"success\":\"finishRequest(true);\",\"beforerequest\":\"ajax.params.roleArray=Ext.encode(roleArray);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13MB2DCXASYR (Delete User)\",\"id\":\"deleteAjax\",\"output\":\"grid1\",\"success\":\"Wb.remove(grid1);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NK34C781NO (Disable Users)\",\"id\":\"disableAjax\",\"output\":\"grid1\",\"success\":\"updateStatus(0);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13NK34C781NQ (Enable Users)\",\"id\":\"enableAjax\",\"output\":\"grid1\",\"success\":\"updateStatus(1);\"},{\"xwlMeta\":\"toolbar\",\"id\":\"mainToolbar\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.newStr\",\"iconCls\":\"new_icon\",\"id\":\"newBtn\",\"click\":\"Wb.edit(editWin);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"Wb.edit(grid1,editWin,'dispName');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"Wb.confirm(grid1,deleteAjax.request,'userName');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.disable\",\"iconCls\":\"minus_icon\",\"id\":\"disableBtn\",\"click\":\"Wb.confirm(grid1,disableAjax.request,'userName',Str.disable);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.enable\",\"iconCls\":\"accept_icon\",\"id\":\"enableBtn\",\"click\":\"Wb.confirm(grid1,enableAjax.request,'userName',Str.enable);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem2\"},{\"xwlMeta\":\"comboBox\",\"store\":\"findNameStore\",\"listWidth\":\"280\",\"queryDelay\":\"160\",\"width\":\"160\",\"pageSize\":\"Wb.pageSize\",\"emptyText\":\"@Str.username\",\"id\":\"findName\",\"displayField\":\"USER_NAME\",\"select\":\"findNameBtn.fireEvent('click');\",\"specialkey\":\"Wb.checkEnter(function(){findNameBtn.fireEvent('click');},comboBox);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.search\",\"type\":\"split\",\"iconCls\":\"seek_icon\",\"id\":\"findNameBtn\",\"click\":\"loadStore(findName.getValue());\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.reset\",\"iconCls\":\"refresh_icon\",\"id\":\"resetBtn\",\"click\":\"Wb.reset(findName);\\nloadStore();\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem3\"},{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"store\":\"roleTreeStore\",\"root\":\"{text:Str.all,itemId:-1,expanded:true}\",\"id\":\"tree11\",\"height\":144,\"width\":\"220\",\"itemclick\":\"findNameBtn.menu.hide();\\nloadStore(null,record.get('itemId'));\"}]},{\"xwlMeta\":\"menuItem\",\"text\":\"->\",\"id\":\"menuItem4\"},{\"xwlMeta\":\"menuItem\",\"type\":\"textItem\",\"id\":\"onlinesLbl\"},{\"xwlMeta\":\"menuItem\",\"type\":\"textItem\",\"id\":\"totalLbl\"}]},{\"xwlMeta\":\"toolbar\",\"id\":\"editWinTools\",\"titleToolbar\":\"true\",\"children\":[{\"xwlMeta\":\"menuItem\",\"id\":\"refreshRoleBtn\",\"toolType\":\"refresh\",\"tooltip\":\"@Str.refresh\",\"click\":\"Wb.refresh(roleTree,'itemId');\"},{\"xwlMeta\":\"menuItem\",\"id\":\"checkBtn\",\"toolType\":\"plus\",\"tooltip\":\"@Str.checkAllSubitems\",\"click\":\"Wb.check(roleTree,true,true);\"},{\"xwlMeta\":\"menuItem\",\"id\":\"uncheckBtn\",\"toolType\":\"minus\",\"tooltip\":\"@Str.uncheckAllSubitems\",\"click\":\"Wb.check(roleTree,false,true);\"}]},{\"xwlMeta\":\"array\",\"id\":\"colArray\",\"children\":[{\"xwlMeta\":\"column\",\"type\":\"rowNumber\",\"id\":\"numCol\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"userName\",\"id\":\"nameCol\",\"renderer\":\"var s=record.get('status');\\nif(record.get('on')==1)s=2;\\nreturn Wb.getIconCls(['minus_icon','accept_icon','user_icon'][s],[Str.stopped,Str.normal,Str.online][s])+value;\",\"text\":\"@Str.username\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"dispName\",\"id\":\"dispCol\",\"text\":\"@Str.dispName\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"sortable\":\"false\",\"dataIndex\":\"roles\",\"id\":\"rolesCol\",\"renderer\":\"metaData.style='white-space:normal;';\\nvar r=[];\\nExt.Array.each(value,function(v){\\nr.push(Wb.getValuePart(v));\\n});\\nreturn r.join(', ');\",\"text\":\"@Str.roles\",\"width\":\"175\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"status\",\"id\":\"statusCol\",\"renderer\":\"return [Str.stopped,Str.normal][value];\",\"text\":\"@Str.status\",\"width\":\"60\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"loginTimes\",\"id\":\"loginTimesCol\",\"text\":\"@Str.loginTimes\",\"align\":\"right\",\"width\":\"90\",\"format\":\"0,000\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"lastLogin\",\"id\":\"lastLoginCol\",\"text\":\"@Str.lastLogin\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"sortable\":\"false\",\"dataIndex\":\"ip\",\"id\":\"ipCol\",\"text\":\"IP\",\"width\":\"140\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"email\",\"id\":\"emailCol\",\"text\":\"@Str.email\",\"width\":\"175\"},{\"xwlMeta\":\"column\",\"dataIndex\":\"createDate\",\"id\":\"dateCol\",\"text\":\"@Str.createDate\",\"width\":\"140\"}]},{\"xwlMeta\":\"window\",\"closeAction\":\"hide\",\"iconCls\":\"user_icon\",\"id\":\"editWin\",\"tools\":\"editWinTools\",\"title\":\"-\",\"height\":423,\"layout\":\"absolute\",\"defaultFocus\":\"userName\",\"width\":535,\"clickOK\":\"if(pwd.getValue()==rePwd.getValue()){\\ncreateRoleArray();\\nif(win.isNew)insertAjax.request();\\nelse updateAjax.request();\\n}else\\nWb.warning(Str.inconsistentPwd);\",\"show\":\"roleIds=[];roleNames=[];rootRole=roleTree.getRootNode();\\nif(!win.isNew){\\nvar m=grid1.selRec,r;\\npwd.setValue('^%%rd%%^');\\nrePwd.setValue(pwd.getValue());\\n\\nr=m.get('roles');\\nif(r)\\nExt.Array.each(r,function(t){\\nroleIds.push(Wb.getNamePart(t));\\nroleNames.push(Wb.getValuePart(t));\\n});\\nrolesArea.setValue(roleNames.join(', '));\\nrootRole.cascadeBy(function(n){\\nif(rootRole!=n){\\nn.set('checked',Ext.Array.contains(roleIds,n.get('itemId')));\\nn.commit();\\n}\\n});\\n}\",\"children\":[{\"xwlMeta\":\"label\",\"text\":\"*{#Str.username#}:\",\"width\":88,\"align\":\"right\",\"id\":\"userNameLbl\",\"height\":22,\"y\":16,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"userName\",\"height\":22,\"allowBlank\":\"false\",\"width\":136,\"y\":16,\"x\":104},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.dispName#}:\",\"width\":120,\"align\":\"right\",\"id\":\"dispNameLbl\",\"height\":22,\"y\":16,\"x\":248},{\"xwlMeta\":\"text\",\"id\":\"dispName\",\"height\":22,\"allowBlank\":\"false\",\"width\":136,\"y\":16,\"x\":376},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.password#}:\",\"width\":88,\"align\":\"right\",\"id\":\"pwdLbl\",\"height\":22,\"y\":48,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"pwd\",\"height\":22,\"minLength\":\"6\",\"inputType\":\"password\",\"minLengthText\":\"@Str.invalidPwdLen\",\"allowBlank\":\"false\",\"width\":136,\"y\":48,\"x\":104},{\"xwlMeta\":\"label\",\"text\":\"*{#Str.pwdConfirm#}:\",\"width\":120,\"align\":\"right\",\"id\":\"repwdLbl\",\"height\":22,\"y\":48,\"x\":248},{\"xwlMeta\":\"text\",\"id\":\"rePwd\",\"height\":22,\"minLength\":\"6\",\"inputType\":\"password\",\"minLengthText\":\"@Str.invalidPwdLen\",\"allowBlank\":\"false\",\"width\":136,\"y\":48,\"x\":376},{\"xwlMeta\":\"label\",\"text\":\"{#Str.email#}:\",\"width\":88,\"align\":\"right\",\"id\":\"emailLbl\",\"height\":22,\"y\":80,\"x\":8},{\"xwlMeta\":\"text\",\"id\":\"email\",\"height\":22,\"width\":408,\"vtype\":\"email\",\"y\":80,\"x\":104},{\"xwlMeta\":\"fieldSet\",\"width\":504,\"id\":\"rolesSet\",\"title\":\"@Str.roleConfig\",\"height\":229,\"layout\":\"absolute\",\"y\":117,\"x\":8,\"children\":[{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"store\":\"roleStore\",\"root\":\"{text:Str.all,itemId:-1,expanded:true}\",\"id\":\"roleTree\",\"height\":144,\"width\":480,\"y\":2,\"x\":0,\"checkchange\":\"var i=node.get('itemId'),t=node.get('text');\\nif(node.get('checked')){\\nroleIds.push(i);\\nroleNames.push(t);\\n}else{\\nExt.Array.remove(roleIds,i);\\nExt.Array.remove(roleNames,t);\\n}\\nrolesArea.setValue(Wb.sort(roleNames).join(', '));\"},{\"xwlMeta\":\"textArea\",\"id\":\"rolesArea\",\"bgColor\":\"#C0C0C0\",\"height\":48,\"width\":480,\"readOnly\":\"true\",\"y\":150,\"x\":0}]},{\"xwlMeta\":\"hiddenField\",\"id\":\"userId\",\"height\":22,\"width\":160,\"y\":360,\"x\":8}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"grid\",\"store\":\"userStore\",\"columns\":\"colArray\",\"pageSizeMenu\":\"false\",\"id\":\"grid1\",\"tbar\":\"mainToolbar\",\"multiSelect\":\"true\",\"itemdblclick\":\"editBtn.fireEvent('click');\"}]}]}","{#Str.userAccount#}","user_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2014-07-05 14:21:19.0",15],["var","13LXLBTP5Q2S","{\"xwlMeta\":\"module\",\"id\":\"module\",\"title\":\"{#Str.varConfig#}\",\"initialize\":\"var isNewVar,curNode;\\nfunction newObj(isVar){\\nvar r,p,n=Wb.getSelNode(varTree),dlg,title;\\nif(n.get('isVar'))n=n.parentNode;\\ncurNode=n;\\nr=n.getPath('varName','.');\\ndlg=[{text:Str.name,allowBlank:false}];\\nif(r=='.all.server'&&!isVar){\\nWb.warning(Str.cannotAppend);\\nreturn;\\n}\\ndlg[0].validator=Wb.getVerifyFunc(['.'],true);\\nif(isVar){\\ntitle=Str.appendObject;\\ndlg.push({text:Str.value});\\n}\\nelse title=Str.appendFolder;\\nWb.prompt(title,dlg,function(v){\\nif(n==varTree.getRootNode())p=v[0];\\nelse p=r.substring(r.indexOf('.',1)+1)+'.'+v[0];\\nnewAjax.params={parentId:n.get('varId'),name:v[0],\\nvalue:isVar?v[1]:'',isVar:isVar?1:0,fullName:p};\\nisNewVar=isVar;\\nnewAjax.request();\\n},false);\\n}\",\"children\":[{\"xwlMeta\":\"toolbar\",\"id\":\"toolbar1\",\"children\":[{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.appendObject\",\"iconCls\":\"object_icon\",\"id\":\"newBtn\",\"click\":\"newObj(true);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.appendFolder\",\"iconCls\":\"folder_icon\",\"id\":\"newFolderBtn\",\"click\":\"newObj(false);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"divLine\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.edit\",\"iconCls\":\"edit_icon\",\"id\":\"editBtn\",\"click\":\"var n=Wb.getSelNode(varTree);\\nif(n&&n.get('isVar')){\\nvar v=n.get('varValue');\\nWb.prompt(n.get('varName')+' - ' +Str.properties,\\n[{text:Str.value,value:v}],function(v){\\nvar r=n.getPath('varName','.');\\nupdateAjax.params={varId:n.get('varId'),varValue:v[0],fullName:r.substring(r.indexOf('.',1)+1)};\\nupdateAjax.request()},false);\\n}\\nelse Wb.warning(Str.selValid);\\n\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.deleteStr\",\"iconCls\":\"delete_icon\",\"id\":\"delBtn\",\"click\":\"var n=Wb.getSelNode(varTree);\\nif (n&&n!=varTree.getRootNode())\\nWb.confirm(Wb.format(Str.delConfirm,n.get('varName')),function(){\\nvar r=n.getPath('varName','.');\\ndelAjax.params={varId:n.get('varId'),fullName:r.substring(r.indexOf('.',1)+1)};\\ndelAjax.request()});\\nelse Wb.warning(Str.selValid);\"},{\"xwlMeta\":\"menuItem\",\"text\":\"@Str.refresh\",\"iconCls\":\"refresh_icon\",\"id\":\"refreshBtn\",\"click\":\"Wb.refresh(varTree,'varName');\"},{\"xwlMeta\":\"menuItem\",\"text\":\"-\",\"id\":\"menuItem1\"},{\"xwlMeta\":\"text\",\"id\":\"pathTxt\",\"bgColor\":\"#C0C0C0\",\"tagProperties\":\"flex:1\",\"selectOnFocus\":\"true\",\"readOnly\":\"true\"}]},{\"xwlMeta\":\"treeStore\",\"url\":\"#13M25NK0Q06N (Get Variable Tree)\",\"id\":\"treeStore1\",\"fields\":\"[{name:'text'},{name:'varName'},{name:'varId'},{name:'varValue'},{name:'isVar'}]\",\"load\":\"Wb.selFirst(varTree);\",\"beforeload\":\"operation.params.varId=operation.node.get('varId');\"},{\"xwlMeta\":\"folder\",\"id\":\"ajaxRequests\",\"children\":[{\"xwlMeta\":\"ajax\",\"url\":\"#13M2IZCBDMHK (New Variable)\",\"id\":\"newAjax\",\"failureConfirm\":\"Wb.promptEditors[0].focus(true,true);\",\"success\":\"var v=Wb.promptValues[1],n=curNode,r=Ext.decode(response.responseText),b=n.isLoaded(),\\nd={varName:Wb.promptValues[0],iconCls:isNewVar?'object_icon':null,varId:r.id,\\nvarValue:isNewVar?v:'',leaf:isNewVar,isVar:isNewVar};\\nif(isNewVar){\\nif(Wb.isEmpty(v))v='';\\nelse v=\\\"&nbsp;&nbsp;<font color='#808080'>(\\\"+Ext.String.htmlEncode(v)+\\\")<\/font>\\\";\\nd.text=Wb.promptValues[0]+v;\\n}\\nelse{\\nd.children=[];\\nd.text=Wb.promptValues[0];\\n}\\nn.expand(false,function(){\\nif(b){\\nn=n.appendChild(d);\\nvarTree.view.select(n);\\n}\\n});\\nWb.closePrompt();\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13M5J5SJ5FMA (Delete Variable)\",\"id\":\"delAjax\",\"success\":\"Wb.delSelNode(varTree);\"},{\"xwlMeta\":\"ajax\",\"url\":\"#13M5JYLO38G4 (Set Variable)\",\"id\":\"updateAjax\",\"success\":\"var n=Wb.getSelNode(varTree),v=Wb.promptValues[0];\\nn.set('varValue',v);\\nif(!Wb.isEmpty(v))v=\\\"&nbsp;&nbsp;<font color='#808080'>(\\\"+Ext.String.htmlEncode(v)+\\\")<\/font>\\\";\\nn.set('text',n.get('varName')+v);\\nn.commit();\\nWb.closePrompt();\"}]},{\"xwlMeta\":\"viewport\",\"id\":\"viewport1\",\"layout\":\"fit\",\"children\":[{\"xwlMeta\":\"panel\",\"id\":\"panel1\",\"tbar\":\"toolbar1\",\"height\":300,\"layout\":\"fit\",\"width\":450,\"children\":[{\"xwlMeta\":\"treePanel\",\"animate\":\"false\",\"store\":\"treeStore1\",\"root\":\"{text:Str.all,varName:'all',varId:-1,isVar:false,expanded:true}\",\"id\":\"varTree\",\"folderSort\":\"true\",\"itemdblclick\":\"if(record.get('isVar'))editBtn.fireEvent('click');\",\"selectionchange\":\"var n=selections[0];\\nif(n)pathTxt.setValue(n.getPath('varName','.').substring(5));\"}]}]}]}","{#Str.varConfig#}","object_icon",0,0,"admin","2012-02-08 12:00:00.0","admin","2012-06-29 14:39:28.0",29]]