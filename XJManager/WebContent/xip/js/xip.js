var Xip={getId:function(a){var b;if(a===null||a===undefined||a===0){a="1"}Ext.Ajax.request({url:"platformAction.do?method=getUUID",params:{cnt:a},method:"POST",async:false,success:function(c,d){var e=Ext.JSON.decode(c.responseText);b=e.msg},failure:function(c,d){}});return b},getContextPath:function(){var c=document.location.pathname;var b=c.substr(1).indexOf("/");var a=c.substr(0,b+1);return a},showExtWindow:function(c){var e=c.title!=null?c.title:"";var b=c.height!=null?c.height:500;var a=c.width!=null?c.width:770;var f=c.url!=null?c.url:"";var d="extWin"+new Date().getTime();if(f.indexOf("?")!=-1){f=f+"&extWinId="+d}else{f=f+"?extWinId="+d}var g=new Ext.Window({id:d,title:e,height:b,width:a,layout:"fit",modal:true,resizable:false,maximizable:true,html:"<iframe id='extWindowIframe' width='100%' height='100%' frameborder=0 src=\""+f+'"></iframe>',listeners:{show:function(h){},close:function(){if(c.closeCallback){c.closeCallback()}}}});g.show();if(c.isMax){g.maximize()}},showAttachmentManager:function(l,g,b,a,i,k,e,f,d,j){if(l==null||l==""){Ext.Msg.alert(XipLang.xwf_lang_notice,XipLang.xwf_lang_userId_empty);return}if(g==null||g==""){Ext.Msg.alert(XipLang.xwf_lang_notice,XipLang.xwf_lang_sourceId_empty);return}if(a==null||a==""){Ext.Msg.alert(XipLang.xwf_lang_notice,XipLang.xwf_lang_attach_empty);return}if(k==null||k==""){k="Y"}if(e==null||e==""){e="N"}if(f==null||f==""){f="N"}if(j==null||j==""){j=""}var c="";var c=Xip.getContextPath()+"/m?xwl=xip/tools/att/attrManage/attrManage&userId="+l+"&srcId="+g+"&orgId="+b+"&attCat="+a+"&busNo="+encodeURI(encodeURI(i))+"&canUp="+k+"&canDown="+e+"&canDel="+f+"&fileSizeLimit="+j;var h={title:XipLang.xwf_lang_attach_manage,url:c,isMax:true,closeCallback:d};Xip.showExtWindow(h)},showAttachmentManagerTouch:function(e,l,h,b,a,i,k,f,g,d,j){if(l===null||l===""){Ext.Msg.alert(XipLang.xwf_lang_notice,XipLang.xwf_lang_userId_empty);return}if(h===null||h===""){Ext.Msg.alert(XipLang.xwf_lang_notice,XipLang.xwf_lang_sourceId_empty);return}if(a===null||a===""){Ext.Msg.alert(XipLang.xwf_lang_notice,XipLang.xwf_lang_attach_empty);return}if(k===null||k===""){k="Y"}if(f===null||f===""){f="N"}if(g===null||g===""){g="N"}if(j===null||j===""){j=""}var c="xip/touch/att/attManage.xwl";Wb.run({url:c,success:function(m){Wb.each(m,function(p,o){if(o&&(o.isViewport||o.initialConfig&&o.initialConfig.isViewport)){if(m.init){m.init(e,l,h,b,a,i,k,f,g,d,j)}var n=Ext.create("Ext.Container",{layout:"fit",title:XipLang.xwf_lang_attachment});n.add(o);e.push(n);return false}})}})},showFunHelpWin:function(g,d,f){if(g==null||g=="undefined"||g==""){Ext.Msg.alert(XipLang.xwf_lang_notice,XipLang.xwf_lang_funId_empty);return}var c=XipLang.xwf_lang_fun_help;if(f){c=f+XipLang.xwf_lang_help}var b="extWin"+new Date().getTime();var a=Xip.getContextPath()+"/xip/kindeditor4/editor.jsp?type="+d+"&funTreeId="+g+"&extWinId="+b;var e=new Ext.Window({id:b,title:c,height:500,width:770,layout:"fit",modal:true,resizable:false,maximizable:false,html:"<iframe id='extWindowIframe' width='100%' height='460px' frameborder=0 src=\""+a+'"></iframe>',listeners:{show:function(h){},close:function(){}}});e.show()},exportExcel:function(b,a,c){if(a!=null&&a!=""){a=encodeURI(encodeURI(Xip.parseJson4String(a)))}else{a=""}if(c!=null&&c!=""){c=encodeURI(encodeURI(c))}else{c="templateExportData"}window.location.href=Xip.getContextPath()+"/templateManageAction.do?method=exportExcel&templateCode="+b+"&sqlParams="+a+"&excelName="+c;return},importExcel:function(c,d){var b=Xip.getContextPath()+"/m?xwl=xip/tools/io/dataImport&templateCode="+c;var a={title:XipLang.xwf_lang_module_upload,url:b,width:600,height:500,closeCallback:d};Xip.showExtWindow(a)},parseJson4String:function(d){var a="";var b=0;for(var c in d){if(b==0){a=c+"xzsplit"+d[c]}else{a=a+","+c+"xzsplit"+d[c]}b++}return a},frPopWindow:function(a,h,d,e,j,c,g){var i=500;var f=880;if(j){i=j}if(c){f=c}var b=new Ext.Window({layout:"fit",id:"frmPopWindow",title:h,modal:true,width:f,height:i,resizable:false,maximizable:true,html:"<iframe width='100%' frameborder=0 height='100%' id=\""+g+'" src="'+a+'"></iframe>',listeners:{show:function(k){},close:function(){if(d==0){}if(d==1){window.location.reload()}if(d==2){buttonClick(XipLang.xwf_lang_query)}}}});b.show();if(e){b.maximize()}},buttonClick:function(a){var c=document.getElementsByTagName("button");for(var b=0;b<c.length;b++){if(c[b].innerHTML==a){c[b].click();break}}},getMD5:function(h){var l=0;var u="";var d=8;function k(y){return m(g(n(y),y.length*d))}function i(y){return r(g(n(y),y.length*d))}function j(y){return v(g(n(y),y.length*d))}function s(y,z){return m(o(y,z))}function f(y,z){return r(o(y,z))}function w(y,z){return v(o(y,z))}function x(){return k("abc")=="900150983cd24fb0d6963f7d28e17f72"}function g(P,R){P[R>>5]|=128<<((R)%32);P[(((R+64)>>>9)<<4)+14]=R;var Q=1732584193;var S=-271733879;var O=-1732584194;var N=271733878;for(var z=0;z<P.length;z+=16){var y=Q;var T=S;var M=O;var L=N;Q=b(Q,S,O,N,P[z+0],7,-680876936);N=b(N,Q,S,O,P[z+1],12,-389564586);O=b(O,N,Q,S,P[z+2],17,606105819);S=b(S,O,N,Q,P[z+3],22,-1044525330);Q=b(Q,S,O,N,P[z+4],7,-176418897);N=b(N,Q,S,O,P[z+5],12,1200080426);O=b(O,N,Q,S,P[z+6],17,-1473231341);S=b(S,O,N,Q,P[z+7],22,-45705983);Q=b(Q,S,O,N,P[z+8],7,1770035416);N=b(N,Q,S,O,P[z+9],12,-1958414417);O=b(O,N,Q,S,P[z+10],17,-42063);S=b(S,O,N,Q,P[z+11],22,-1990404162);Q=b(Q,S,O,N,P[z+12],7,1804603682);N=b(N,Q,S,O,P[z+13],12,-40341101);O=b(O,N,Q,S,P[z+14],17,-1502002290);S=b(S,O,N,Q,P[z+15],22,1236535329);Q=e(Q,S,O,N,P[z+1],5,-165796510);N=e(N,Q,S,O,P[z+6],9,-1069501632);O=e(O,N,Q,S,P[z+11],14,643717713);S=e(S,O,N,Q,P[z+0],20,-373897302);Q=e(Q,S,O,N,P[z+5],5,-701558691);N=e(N,Q,S,O,P[z+10],9,38016083);O=e(O,N,Q,S,P[z+15],14,-660478335);S=e(S,O,N,Q,P[z+4],20,-405537848);Q=e(Q,S,O,N,P[z+9],5,568446438);N=e(N,Q,S,O,P[z+14],9,-1019803690);O=e(O,N,Q,S,P[z+3],14,-187363961);S=e(S,O,N,Q,P[z+8],20,1163531501);Q=e(Q,S,O,N,P[z+13],5,-1444681467);N=e(N,Q,S,O,P[z+2],9,-51403784);O=e(O,N,Q,S,P[z+7],14,1735328473);S=e(S,O,N,Q,P[z+12],20,-1926607734);Q=q(Q,S,O,N,P[z+5],4,-378558);N=q(N,Q,S,O,P[z+8],11,-2022574463);O=q(O,N,Q,S,P[z+11],16,1839030562);S=q(S,O,N,Q,P[z+14],23,-35309556);Q=q(Q,S,O,N,P[z+1],4,-1530992060);N=q(N,Q,S,O,P[z+4],11,1272893353);O=q(O,N,Q,S,P[z+7],16,-155497632);S=q(S,O,N,Q,P[z+10],23,-1094730640);Q=q(Q,S,O,N,P[z+13],4,681279174);N=q(N,Q,S,O,P[z+0],11,-358537222);O=q(O,N,Q,S,P[z+3],16,-722521979);S=q(S,O,N,Q,P[z+6],23,76029189);Q=q(Q,S,O,N,P[z+9],4,-640364487);N=q(N,Q,S,O,P[z+12],11,-421815835);O=q(O,N,Q,S,P[z+15],16,530742520);S=q(S,O,N,Q,P[z+2],23,-995338651);Q=a(Q,S,O,N,P[z+0],6,-198630844);N=a(N,Q,S,O,P[z+7],10,1126891415);O=a(O,N,Q,S,P[z+14],15,-1416354905);S=a(S,O,N,Q,P[z+5],21,-57434055);Q=a(Q,S,O,N,P[z+12],6,1700485571);N=a(N,Q,S,O,P[z+3],10,-1894986606);O=a(O,N,Q,S,P[z+10],15,-1051523);S=a(S,O,N,Q,P[z+1],21,-2054922799);Q=a(Q,S,O,N,P[z+8],6,1873313359);N=a(N,Q,S,O,P[z+15],10,-30611744);O=a(O,N,Q,S,P[z+6],15,-1560198380);S=a(S,O,N,Q,P[z+13],21,1309151649);Q=a(Q,S,O,N,P[z+4],6,-145523070);N=a(N,Q,S,O,P[z+11],10,-1120210379);O=a(O,N,Q,S,P[z+2],15,718787259);S=a(S,O,N,Q,P[z+9],21,-343485551);Q=p(Q,y);S=p(S,T);O=p(O,M);N=p(N,L)}return Array(Q,S,O,N)}function c(J,z,I,H,y,G){return p(t(p(p(z,J),p(H,G)),y),I)}function b(H,K,J,y,I,L,z){return c((K&J)|((~K)&y),H,K,I,L,z)}function e(H,K,J,y,I,L,z){return c((K&y)|(J&(~y)),H,K,I,L,z)}function q(H,K,J,y,I,L,z){return c(K^J^y,H,K,I,L,z)}function a(H,K,J,y,I,L,z){return c(J^(K|(~y)),H,K,I,L,z)}function o(L,z){var H=n(L);if(H.length>16){H=g(H,L.length*d)}var y=Array(16),J=Array(16);for(var K=0;K<16;K++){y[K]=H[K]^909522486;J[K]=H[K]^1549556828}var I=g(y.concat(n(z)),512+z.length*d);return g(J.concat(I),512+128)}function p(F,E){var y=(F&65535)+(E&65535);var z=(F>>16)+(E>>16)+(y>>16);return(z<<16)|(y&65535)}function t(z,y){return(z<<y)|(z>>>(32-y))}function n(F){var E=Array();var z=(1<<d)-1;for(var y=0;y<F.length*d;y+=d){E[y>>5]|=(F.charCodeAt(y/d)&z)<<(y%32)}return E}function v(E){var F="";var z=(1<<d)-1;for(var y=0;y<E.length*32;y+=d){F+=String.fromCharCode((E[y>>5]>>>(y%32))&z)}return F}function m(E){var y=l?"0123456789ABCDEF":"0123456789abcdef";var z="";for(var F=0;F<E.length*4;F++){z+=y.charAt((E[F>>2]>>((F%4)*8+4))&15)+y.charAt((E[F>>2]>>((F%4)*8))&15)}return z}function r(J){var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var H="";for(var y=0;y<J.length*4;y+=3){var G=(((J[y>>2]>>8*(y%4))&255)<<16)|(((J[y+1>>2]>>8*((y+1)%4))&255)<<8)|((J[y+2>>2]>>8*((y+2)%4))&255);for(var z=0;z<4;z++){if(y*8+z*6>J.length*32){H+=u}else{H+=I.charAt((G>>6*(3-z))&63)}}}return H}return k(h)},base64Encode:function(e){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(o){o=o.replace(/\r\n/g,"\n");var i="";for(var q=0;q<o.length;q++){var p=o.charCodeAt(q);if(p<128){i+=String.fromCharCode(p)}else{if((p>127)&&(p<2048)){i+=String.fromCharCode((p>>6)|192);i+=String.fromCharCode((p&63)|128)}else{i+=String.fromCharCode((p>>12)|224);i+=String.fromCharCode(((p>>6)&63)|128);i+=String.fromCharCode((p&63)|128)}}}return i}var a="";var m,k,h,l,j,g,f;var c=0;e=b(e);while(c<e.length){m=e.charCodeAt(c++);k=e.charCodeAt(c++);h=e.charCodeAt(c++);l=m>>2;j=((m&3)<<4)|(k>>4);g=((k&15)<<2)|(h>>6);f=h&63;if(isNaN(k)){g=f=64}else{if(isNaN(h)){f=64}}a=a+d.charAt(l)+d.charAt(j)+d.charAt(g)+d.charAt(f)}return a},base64Decode:function(e){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function d(n){var p="";var r=0;var t=0;var s=0;var q=0;var o=0;while(r<n.length){t=n.charCodeAt(r);if(t<128){p+=String.fromCharCode(t);r++}else{if((t>191)&&(t<224)){q=n.charCodeAt(r+1);p+=String.fromCharCode(((t&31)<<6)|(q&63));r+=2}else{q=n.charCodeAt(r+1);o=n.charCodeAt(r+2);p+=String.fromCharCode(((t&15)<<12)|((q&63)<<6)|(o&63));r+=3}}}return p}var a="";var m,k,h;var l,j,g,f;var b=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<e.length){l=c.indexOf(e.charAt(b++));j=c.indexOf(e.charAt(b++));g=c.indexOf(e.charAt(b++));f=c.indexOf(e.charAt(b++));m=(l<<2)|(j>>4);k=((j&15)<<4)|(g>>2);h=((g&3)<<6)|f;a=a+String.fromCharCode(m);if(g!=64){a=a+String.fromCharCode(k)}if(f!=64){a=a+String.fromCharCode(h)}}a=d(a);return a},callWebService:function(a,b,d){var c="";Ext.Ajax.request({url:"platformAction.do?method=webService",params:{wsdl:a,methodName:b,args:d},method:"POST",async:false,success:function(e,f){var g=Ext.JSON.decode(e.responseText);c=g.msg},failure:function(e,f){var g=Ext.JSON.decode(e.responseText);c=g.msg}});return c},open:function(a){if(a.inframe==null||a.inframe==undefined){if(a.url){if(Ext.String.startsWith(a.url,"/m?xwl=")||Ext.String.startsWith(a.url,Xip.getContextPath()+"/m?xwl=")){a.inframe=true}else{if(Ext.String.startsWith(a.url,"m?xwl=")){a.inframe=true;a.url=Xip.getContextPath()+"/"+a.url}else{a.inframe=true}}Wb.open(a)}else{Ext.Msg.alert("",XipLang.xwf_lang_url)}}Wb.open(a)},getRequestParameter:function(a){var b=document.location.href;var e=b.substring(b.indexOf("?")+1).split("&");for(var c=0;c<e.length;c++){var d=e[c].indexOf(a+"=");if(d!=-1){return e[c].replace(a+"=","").replace("?","");break}}return""},comptimeDate:function comptimeDate(f,d){var c=f.split("-");var i=new Date(c[0],c[1],c[2]);var j=i.getTime();var g=d.split("-");var h=new Date(g[0],g[1],g[2]);var e=h.getTime();if(j>e){return 1}else{if(j==e){return 0}else{if(j<e){return -1}}}}};