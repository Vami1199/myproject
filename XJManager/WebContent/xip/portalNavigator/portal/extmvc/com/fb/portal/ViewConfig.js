Ext.define("com.fb.portal.ViewConfig",{extend:"Ext.form.Panel",initComponent:function(){var a=this;Ext.apply(a,{bodyPadding:10,width:350,frame:false,buttonAlign:"center",baseCls:"my-panel-no-border",layout:"form",defaultType:"textfield",items:[{fieldLabel:'<font color="red">*</font>'+XipLang.portal_homepage_name,name:"viewName",allowBlank:false,labelAlign:"right",labelWidth:90},{fieldLabel:'<font color="red">*</font>'+XipLang.portal_homepage_desc,name:"viewDesc",allowBlank:false,labelAlign:"right",labelWidth:90},{fieldLabel:XipLang.portal_homepage_default,xtype:"checkbox",name:"isDefault",labelAlign:"right",labelWidth:90},{xtype:"radiogroup",fieldLabel:'<font color="red">*</font>'+XipLang.portal_homepage_layout,labelAlign:"right",labelWidth:90,name:"layoutNum",layout:"hbox",items:[{boxLabel:XipLang.portal_column_1,name:"columnNum",inputValue:"1"},{boxLabel:XipLang.portal_column_2,name:"columnNum",inputValue:"2",checked:true},{boxLabel:XipLang.portal_column_3,name:"columnNum",inputValue:"3"},{boxLabel:XipLang.portal_column_4,name:"columnNum",inputValue:"4"}]},{fieldLabel:'<font color="red">*</font>'+XipLang.portal_homepage_colwidth,emptyText:XipLang.portal_homepage_coldesc,name:"columnWeight",labelAlign:"right",labelWidth:90,allowBlank:false,listeners:{render:function(c,b){Ext.QuickTips.init();Ext.QuickTips.register({target:c.el,text:XipLang.portal_column_note})}}}],buttons:[{text:XipLang.config_save_btn,iconCls:"ok_icon",handler:function(){var f=this.up("form").getForm();var g=f.findField("columnNum").getGroupValue();var d=f.findField("columnWeight").getValue();var c=d.split(",");var e=0;var b=true;Ext.Array.each(c,function(h){if(parseInt(parseFloat(h)*100)==0||parseInt(parseFloat(h)*100)<0){b=false}e=e+parseFloat(h)*100});if(f.isValid()==false){Wb.warn(XipLang.system_must_fill_up)}else{if(g!=c.length){Wb.warn(XipLang.portal_column_not_match)}else{if(!b){Wb.warn(XipLang.portal_column_less_width)}else{if(parseInt(e)!=100){Wb.warn(XipLang.portal_column_total_sum)}else{a.fireEvent("addNewViewSuccess",f)}}}}}},{text:XipLang.xwf_lang_btn_cancel,iconCls:"delete_icon",handler:function(){a.fireEvent("closeAddWin")}}]});this.callParent()}});